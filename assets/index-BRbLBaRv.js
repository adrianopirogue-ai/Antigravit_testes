var Tx=Object.defineProperty;var Rx=(t,e,r)=>e in t?Tx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ft=(t,e,r)=>Rx(t,typeof e!="symbol"?e+"":e,r);function Ix(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var ej=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ox(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var r5={exports:{}},kd={},n5={exports:{}},xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zu=Symbol.for("react.element"),Fx=Symbol.for("react.portal"),Dx=Symbol.for("react.fragment"),Bx=Symbol.for("react.strict_mode"),Mx=Symbol.for("react.profiler"),Ux=Symbol.for("react.provider"),zx=Symbol.for("react.context"),qx=Symbol.for("react.forward_ref"),$x=Symbol.for("react.suspense"),Wx=Symbol.for("react.memo"),Hx=Symbol.for("react.lazy"),Hg=Symbol.iterator;function Vx(t){return t===null||typeof t!="object"?null:(t=Hg&&t[Hg]||t["@@iterator"],typeof t=="function"?t:null)}var i5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},s5=Object.assign,a5={};function gl(t,e,r){this.props=t,this.context=e,this.refs=a5,this.updater=r||i5}gl.prototype.isReactComponent={};gl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};gl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function o5(){}o5.prototype=gl.prototype;function r1(t,e,r){this.props=t,this.context=e,this.refs=a5,this.updater=r||i5}var n1=r1.prototype=new o5;n1.constructor=r1;s5(n1,gl.prototype);n1.isPureReactComponent=!0;var Vg=Array.isArray,l5=Object.prototype.hasOwnProperty,i1={current:null},u5={key:!0,ref:!0,__self:!0,__source:!0};function c5(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)l5.call(e,n)&&!u5.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Zu,type:t,key:s,ref:a,props:i,_owner:i1.current}}function Gx(t,e){return{$$typeof:Zu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function s1(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zu}function Kx(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Gg=/\/+/g;function Ef(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Kx(""+t.key):e.toString(36)}function Sh(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Zu:case Fx:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+Ef(a,0):n,Vg(i)?(r="",t!=null&&(r=t.replace(Gg,"$&/")+"/"),Sh(i,e,r,"",function(u){return u})):i!=null&&(s1(i)&&(i=Gx(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Gg,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",Vg(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+Ef(s,o);a+=Sh(s,e,r,l,i)}else if(l=Vx(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+Ef(s,o++),a+=Sh(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Wc(t,e,r){if(t==null)return t;var n=[],i=0;return Sh(t,n,"","",function(s){return e.call(r,s,i++)}),n}function Jx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mn={current:null},kh={transition:null},Yx={ReactCurrentDispatcher:mn,ReactCurrentBatchConfig:kh,ReactCurrentOwner:i1};function h5(){throw Error("act(...) is not supported in production builds of React.")}xt.Children={map:Wc,forEach:function(t,e,r){Wc(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Wc(t,function(){e++}),e},toArray:function(t){return Wc(t,function(e){return e})||[]},only:function(t){if(!s1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xt.Component=gl;xt.Fragment=Dx;xt.Profiler=Mx;xt.PureComponent=r1;xt.StrictMode=Bx;xt.Suspense=$x;xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yx;xt.act=h5;xt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=s5({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=i1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)l5.call(e,l)&&!u5.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Zu,type:t.type,key:i,ref:s,props:n,_owner:a}};xt.createContext=function(t){return t={$$typeof:zx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ux,_context:t},t.Consumer=t};xt.createElement=c5;xt.createFactory=function(t){var e=c5.bind(null,t);return e.type=t,e};xt.createRef=function(){return{current:null}};xt.forwardRef=function(t){return{$$typeof:qx,render:t}};xt.isValidElement=s1;xt.lazy=function(t){return{$$typeof:Hx,_payload:{_status:-1,_result:t},_init:Jx}};xt.memo=function(t,e){return{$$typeof:Wx,type:t,compare:e===void 0?null:e}};xt.startTransition=function(t){var e=kh.transition;kh.transition={};try{t()}finally{kh.transition=e}};xt.unstable_act=h5;xt.useCallback=function(t,e){return mn.current.useCallback(t,e)};xt.useContext=function(t){return mn.current.useContext(t)};xt.useDebugValue=function(){};xt.useDeferredValue=function(t){return mn.current.useDeferredValue(t)};xt.useEffect=function(t,e){return mn.current.useEffect(t,e)};xt.useId=function(){return mn.current.useId()};xt.useImperativeHandle=function(t,e,r){return mn.current.useImperativeHandle(t,e,r)};xt.useInsertionEffect=function(t,e){return mn.current.useInsertionEffect(t,e)};xt.useLayoutEffect=function(t,e){return mn.current.useLayoutEffect(t,e)};xt.useMemo=function(t,e){return mn.current.useMemo(t,e)};xt.useReducer=function(t,e,r){return mn.current.useReducer(t,e,r)};xt.useRef=function(t){return mn.current.useRef(t)};xt.useState=function(t){return mn.current.useState(t)};xt.useSyncExternalStore=function(t,e,r){return mn.current.useSyncExternalStore(t,e,r)};xt.useTransition=function(){return mn.current.useTransition()};xt.version="18.3.1";n5.exports=xt;var fe=n5.exports;const d5=Ox(fe),Xx=Ix({__proto__:null,default:d5},[fe]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qx=fe,Zx=Symbol.for("react.element"),e_=Symbol.for("react.fragment"),t_=Object.prototype.hasOwnProperty,r_=Qx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n_={key:!0,ref:!0,__self:!0,__source:!0};function f5(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)t_.call(e,n)&&!n_.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:Zx,type:t,key:s,ref:a,props:i,_owner:r_.current}}kd.Fragment=e_;kd.jsx=f5;kd.jsxs=f5;r5.exports=kd;var m=r5.exports,Op={},p5={exports:{}},qn={},g5={exports:{}},m5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,se){var pe=$.length;$.push(se);e:for(;0<pe;){var oe=pe-1>>>1,C=$[oe];if(0<i(C,se))$[oe]=se,$[pe]=C,pe=oe;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var se=$[0],pe=$.pop();if(pe!==se){$[0]=pe;e:for(var oe=0,C=$.length,B=C>>>1;oe<B;){var W=2*(oe+1)-1,Z=$[W],ne=W+1,ue=$[ne];if(0>i(Z,pe))ne<C&&0>i(ue,Z)?($[oe]=ue,$[ne]=pe,oe=ne):($[oe]=Z,$[W]=pe,oe=W);else if(ne<C&&0>i(ue,pe))$[oe]=ue,$[ne]=pe,oe=ne;else break e}}return se}function i($,se){var pe=$.sortIndex-se.sortIndex;return pe!==0?pe:$.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],h=1,p=null,v=3,f=!1,_=!1,x=!1,A=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k($){for(var se=r(u);se!==null;){if(se.callback===null)n(u);else if(se.startTime<=$)n(u),se.sortIndex=se.expirationTime,e(l,se);else break;se=r(u)}}function E($){if(x=!1,k($),!_)if(r(l)!==null)_=!0,Y(H);else{var se=r(u);se!==null&&ee(E,se.startTime-$)}}function H($,se){_=!1,x&&(x=!1,w(q),q=-1),f=!0;var pe=v;try{for(k(se),p=r(l);p!==null&&(!(p.expirationTime>se)||$&&!T());){var oe=p.callback;if(typeof oe=="function"){p.callback=null,v=p.priorityLevel;var C=oe(p.expirationTime<=se);se=t.unstable_now(),typeof C=="function"?p.callback=C:p===r(l)&&n(l),k(se)}else n(l);p=r(l)}if(p!==null)var B=!0;else{var W=r(u);W!==null&&ee(E,W.startTime-se),B=!1}return B}finally{p=null,v=pe,f=!1}}var V=!1,G=null,q=-1,D=5,X=-1;function T(){return!(t.unstable_now()-X<D)}function F(){if(G!==null){var $=t.unstable_now();X=$;var se=!0;try{se=G(!0,$)}finally{se?J():(V=!1,G=null)}}else V=!1}var J;if(typeof S=="function")J=function(){S(F)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,de=K.port2;K.port1.onmessage=F,J=function(){de.postMessage(null)}}else J=function(){A(F,0)};function Y($){G=$,V||(V=!0,J())}function ee($,se){q=A(function(){$(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){_||f||(_=!0,Y(H))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function($){switch(v){case 1:case 2:case 3:var se=3;break;default:se=v}var pe=v;v=se;try{return $()}finally{v=pe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,se){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var pe=v;v=$;try{return se()}finally{v=pe}},t.unstable_scheduleCallback=function($,se,pe){var oe=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?oe+pe:oe):pe=oe,$){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=pe+C,$={id:h++,callback:se,priorityLevel:$,startTime:pe,expirationTime:C,sortIndex:-1},pe>oe?($.sortIndex=pe,e(u,$),r(l)===null&&$===r(u)&&(x?(w(q),q=-1):x=!0,ee(E,pe-oe))):($.sortIndex=C,e(l,$),_||f||(_=!0,Y(H))),$},t.unstable_shouldYield=T,t.unstable_wrapCallback=function($){var se=v;return function(){var pe=v;v=se;try{return $.apply(this,arguments)}finally{v=pe}}}})(m5);g5.exports=m5;var i_=g5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_=fe,zn=i_;function je(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v5=new Set,Au={};function to(t,e){ll(t,e),ll(t+"Capture",e)}function ll(t,e){for(Au[t]=e,t=0;t<e.length;t++)v5.add(e[t])}var vs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fp=Object.prototype.hasOwnProperty,a_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kg={},Jg={};function o_(t){return Fp.call(Jg,t)?!0:Fp.call(Kg,t)?!1:a_.test(t)?Jg[t]=!0:(Kg[t]=!0,!1)}function l_(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function u_(t,e,r,n){if(e===null||typeof e>"u"||l_(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vn(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Xr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Xr[t]=new vn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Xr[e]=new vn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Xr[t]=new vn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Xr[t]=new vn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Xr[t]=new vn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Xr[t]=new vn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Xr[t]=new vn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Xr[t]=new vn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Xr[t]=new vn(t,5,!1,t.toLowerCase(),null,!1,!1)});var a1=/[\-:]([a-z])/g;function o1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(a1,o1);Xr[e]=new vn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(a1,o1);Xr[e]=new vn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(a1,o1);Xr[e]=new vn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Xr[t]=new vn(t,1,!1,t.toLowerCase(),null,!1,!1)});Xr.xlinkHref=new vn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Xr[t]=new vn(t,1,!1,t.toLowerCase(),null,!0,!0)});function l1(t,e,r,n){var i=Xr.hasOwnProperty(e)?Xr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(u_(e,r,i,n)&&(r=null),n||i===null?o_(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var _s=s_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hc=Symbol.for("react.element"),Fo=Symbol.for("react.portal"),Do=Symbol.for("react.fragment"),u1=Symbol.for("react.strict_mode"),Dp=Symbol.for("react.profiler"),y5=Symbol.for("react.provider"),w5=Symbol.for("react.context"),c1=Symbol.for("react.forward_ref"),Bp=Symbol.for("react.suspense"),Mp=Symbol.for("react.suspense_list"),h1=Symbol.for("react.memo"),$s=Symbol.for("react.lazy"),b5=Symbol.for("react.offscreen"),Yg=Symbol.iterator;function Jl(t){return t===null||typeof t!="object"?null:(t=Yg&&t[Yg]||t["@@iterator"],typeof t=="function"?t:null)}var nr=Object.assign,Cf;function au(t){if(Cf===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Cf=e&&e[1]||""}return`
`+Cf+t}var Lf=!1;function Pf(t,e){if(!t||Lf)return"";Lf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Lf=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?au(t):""}function c_(t){switch(t.tag){case 5:return au(t.type);case 16:return au("Lazy");case 13:return au("Suspense");case 19:return au("SuspenseList");case 0:case 2:case 15:return t=Pf(t.type,!1),t;case 11:return t=Pf(t.type.render,!1),t;case 1:return t=Pf(t.type,!0),t;default:return""}}function Up(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Do:return"Fragment";case Fo:return"Portal";case Dp:return"Profiler";case u1:return"StrictMode";case Bp:return"Suspense";case Mp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case w5:return(t.displayName||"Context")+".Consumer";case y5:return(t._context.displayName||"Context")+".Provider";case c1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case h1:return e=t.displayName||null,e!==null?e:Up(t.type)||"Memo";case $s:e=t._payload,t=t._init;try{return Up(t(e))}catch{}}return null}function h_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Up(e);case 8:return e===u1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ua(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function x5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function d_(t){var e=x5(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Vc(t){t._valueTracker||(t._valueTracker=d_(t))}function _5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=x5(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function zh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function zp(t,e){var r=e.checked;return nr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Xg(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ua(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function S5(t,e){e=e.checked,e!=null&&l1(t,"checked",e,!1)}function qp(t,e){S5(t,e);var r=ua(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?$p(t,e.type,r):e.hasOwnProperty("defaultValue")&&$p(t,e.type,ua(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Qg(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function $p(t,e,r){(e!=="number"||zh(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ou=Array.isArray;function Yo(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ua(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Wp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(je(91));return nr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Zg(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(je(92));if(ou(r)){if(1<r.length)throw Error(je(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ua(r)}}function k5(t,e){var r=ua(e.value),n=ua(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function em(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function A5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?A5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Gc,N5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Gc=Gc||document.createElement("div"),Gc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Gc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Nu(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var hu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},f_=["Webkit","ms","Moz","O"];Object.keys(hu).forEach(function(t){f_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),hu[e]=hu[t]})});function j5(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||hu.hasOwnProperty(t)&&hu[t]?(""+e).trim():e+"px"}function E5(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=j5(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var p_=nr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vp(t,e){if(e){if(p_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(je(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(je(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(je(61))}if(e.style!=null&&typeof e.style!="object")throw Error(je(62))}}function Gp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kp=null;function d1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jp=null,Xo=null,Qo=null;function tm(t){if(t=rc(t)){if(typeof Jp!="function")throw Error(je(280));var e=t.stateNode;e&&(e=Cd(e),Jp(t.stateNode,t.type,e))}}function C5(t){Xo?Qo?Qo.push(t):Qo=[t]:Xo=t}function L5(){if(Xo){var t=Xo,e=Qo;if(Qo=Xo=null,tm(t),e)for(t=0;t<e.length;t++)tm(e[t])}}function P5(t,e){return t(e)}function T5(){}var Tf=!1;function R5(t,e,r){if(Tf)return t(e,r);Tf=!0;try{return P5(t,e,r)}finally{Tf=!1,(Xo!==null||Qo!==null)&&(T5(),L5())}}function ju(t,e){var r=t.stateNode;if(r===null)return null;var n=Cd(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(je(231,e,typeof r));return r}var Yp=!1;if(vs)try{var Yl={};Object.defineProperty(Yl,"passive",{get:function(){Yp=!0}}),window.addEventListener("test",Yl,Yl),window.removeEventListener("test",Yl,Yl)}catch{Yp=!1}function g_(t,e,r,n,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(h){this.onError(h)}}var du=!1,qh=null,$h=!1,Xp=null,m_={onError:function(t){du=!0,qh=t}};function v_(t,e,r,n,i,s,a,o,l){du=!1,qh=null,g_.apply(m_,arguments)}function y_(t,e,r,n,i,s,a,o,l){if(v_.apply(this,arguments),du){if(du){var u=qh;du=!1,qh=null}else throw Error(je(198));$h||($h=!0,Xp=u)}}function ro(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function I5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function rm(t){if(ro(t)!==t)throw Error(je(188))}function w_(t){var e=t.alternate;if(!e){if(e=ro(t),e===null)throw Error(je(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return rm(i),t;if(s===n)return rm(i),e;s=s.sibling}throw Error(je(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(je(189))}}if(r.alternate!==n)throw Error(je(190))}if(r.tag!==3)throw Error(je(188));return r.stateNode.current===r?t:e}function O5(t){return t=w_(t),t!==null?F5(t):null}function F5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=F5(t);if(e!==null)return e;t=t.sibling}return null}var D5=zn.unstable_scheduleCallback,nm=zn.unstable_cancelCallback,b_=zn.unstable_shouldYield,x_=zn.unstable_requestPaint,gr=zn.unstable_now,__=zn.unstable_getCurrentPriorityLevel,f1=zn.unstable_ImmediatePriority,B5=zn.unstable_UserBlockingPriority,Wh=zn.unstable_NormalPriority,S_=zn.unstable_LowPriority,M5=zn.unstable_IdlePriority,Ad=null,$i=null;function k_(t){if($i&&typeof $i.onCommitFiberRoot=="function")try{$i.onCommitFiberRoot(Ad,t,void 0,(t.current.flags&128)===128)}catch{}}var xi=Math.clz32?Math.clz32:j_,A_=Math.log,N_=Math.LN2;function j_(t){return t>>>=0,t===0?32:31-(A_(t)/N_|0)|0}var Kc=64,Jc=4194304;function lu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Hh(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=lu(o):(s&=a,s!==0&&(n=lu(s)))}else a=r&~i,a!==0?n=lu(a):s!==0&&(n=lu(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-xi(e),i=1<<r,n|=t[r],e&=~i;return n}function E_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function C_(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-xi(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=E_(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function Qp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function U5(){var t=Kc;return Kc<<=1,!(Kc&4194240)&&(Kc=64),t}function Rf(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ec(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xi(e),t[e]=r}function L_(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-xi(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function p1(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-xi(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Bt=0;function z5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var q5,g1,$5,W5,H5,Zp=!1,Yc=[],Zs=null,ea=null,ta=null,Eu=new Map,Cu=new Map,Vs=[],P_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function im(t,e){switch(t){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":ea=null;break;case"mouseover":case"mouseout":ta=null;break;case"pointerover":case"pointerout":Eu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cu.delete(e.pointerId)}}function Xl(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=rc(e),e!==null&&g1(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function T_(t,e,r,n,i){switch(e){case"focusin":return Zs=Xl(Zs,t,e,r,n,i),!0;case"dragenter":return ea=Xl(ea,t,e,r,n,i),!0;case"mouseover":return ta=Xl(ta,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Eu.set(s,Xl(Eu.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Cu.set(s,Xl(Cu.get(s)||null,t,e,r,n,i)),!0}return!1}function V5(t){var e=za(t.target);if(e!==null){var r=ro(e);if(r!==null){if(e=r.tag,e===13){if(e=I5(r),e!==null){t.blockedOn=e,H5(t.priority,function(){$5(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ah(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=e0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Kp=n,r.target.dispatchEvent(n),Kp=null}else return e=rc(r),e!==null&&g1(e),t.blockedOn=r,!1;e.shift()}return!0}function sm(t,e,r){Ah(t)&&r.delete(e)}function R_(){Zp=!1,Zs!==null&&Ah(Zs)&&(Zs=null),ea!==null&&Ah(ea)&&(ea=null),ta!==null&&Ah(ta)&&(ta=null),Eu.forEach(sm),Cu.forEach(sm)}function Ql(t,e){t.blockedOn===e&&(t.blockedOn=null,Zp||(Zp=!0,zn.unstable_scheduleCallback(zn.unstable_NormalPriority,R_)))}function Lu(t){function e(i){return Ql(i,t)}if(0<Yc.length){Ql(Yc[0],t);for(var r=1;r<Yc.length;r++){var n=Yc[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Zs!==null&&Ql(Zs,t),ea!==null&&Ql(ea,t),ta!==null&&Ql(ta,t),Eu.forEach(e),Cu.forEach(e),r=0;r<Vs.length;r++)n=Vs[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Vs.length&&(r=Vs[0],r.blockedOn===null);)V5(r),r.blockedOn===null&&Vs.shift()}var Zo=_s.ReactCurrentBatchConfig,Vh=!0;function I_(t,e,r,n){var i=Bt,s=Zo.transition;Zo.transition=null;try{Bt=1,m1(t,e,r,n)}finally{Bt=i,Zo.transition=s}}function O_(t,e,r,n){var i=Bt,s=Zo.transition;Zo.transition=null;try{Bt=4,m1(t,e,r,n)}finally{Bt=i,Zo.transition=s}}function m1(t,e,r,n){if(Vh){var i=e0(t,e,r,n);if(i===null)$f(t,e,n,Gh,r),im(t,n);else if(T_(i,t,e,r,n))n.stopPropagation();else if(im(t,n),e&4&&-1<P_.indexOf(t)){for(;i!==null;){var s=rc(i);if(s!==null&&q5(s),s=e0(t,e,r,n),s===null&&$f(t,e,n,Gh,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else $f(t,e,n,null,r)}}var Gh=null;function e0(t,e,r,n){if(Gh=null,t=d1(n),t=za(t),t!==null)if(e=ro(t),e===null)t=null;else if(r=e.tag,r===13){if(t=I5(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Gh=t,null}function G5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(__()){case f1:return 1;case B5:return 4;case Wh:case S_:return 16;case M5:return 536870912;default:return 16}default:return 16}}var Js=null,v1=null,Nh=null;function K5(){if(Nh)return Nh;var t,e=v1,r=e.length,n,i="value"in Js?Js.value:Js.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return Nh=i.slice(t,1<n?1-n:void 0)}function jh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xc(){return!0}function am(){return!1}function $n(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Xc:am,this.isPropagationStopped=am,this}return nr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Xc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Xc)},persist:function(){},isPersistent:Xc}),e}var ml={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},y1=$n(ml),tc=nr({},ml,{view:0,detail:0}),F_=$n(tc),If,Of,Zl,Nd=nr({},tc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:w1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zl&&(Zl&&t.type==="mousemove"?(If=t.screenX-Zl.screenX,Of=t.screenY-Zl.screenY):Of=If=0,Zl=t),If)},movementY:function(t){return"movementY"in t?t.movementY:Of}}),om=$n(Nd),D_=nr({},Nd,{dataTransfer:0}),B_=$n(D_),M_=nr({},tc,{relatedTarget:0}),Ff=$n(M_),U_=nr({},ml,{animationName:0,elapsedTime:0,pseudoElement:0}),z_=$n(U_),q_=nr({},ml,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$_=$n(q_),W_=nr({},ml,{data:0}),lm=$n(W_),H_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},V_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function K_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=G_[t])?!!e[t]:!1}function w1(){return K_}var J_=nr({},tc,{key:function(t){if(t.key){var e=H_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=jh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?V_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:w1,charCode:function(t){return t.type==="keypress"?jh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Y_=$n(J_),X_=nr({},Nd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),um=$n(X_),Q_=nr({},tc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:w1}),Z_=$n(Q_),e3=nr({},ml,{propertyName:0,elapsedTime:0,pseudoElement:0}),t3=$n(e3),r3=nr({},Nd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),n3=$n(r3),i3=[9,13,27,32],b1=vs&&"CompositionEvent"in window,fu=null;vs&&"documentMode"in document&&(fu=document.documentMode);var s3=vs&&"TextEvent"in window&&!fu,J5=vs&&(!b1||fu&&8<fu&&11>=fu),cm=" ",hm=!1;function Y5(t,e){switch(t){case"keyup":return i3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bo=!1;function a3(t,e){switch(t){case"compositionend":return X5(e);case"keypress":return e.which!==32?null:(hm=!0,cm);case"textInput":return t=e.data,t===cm&&hm?null:t;default:return null}}function o3(t,e){if(Bo)return t==="compositionend"||!b1&&Y5(t,e)?(t=K5(),Nh=v1=Js=null,Bo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return J5&&e.locale!=="ko"?null:e.data;default:return null}}var l3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!l3[t.type]:e==="textarea"}function Q5(t,e,r,n){C5(n),e=Kh(e,"onChange"),0<e.length&&(r=new y1("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var pu=null,Pu=null;function u3(t){uy(t,0)}function jd(t){var e=zo(t);if(_5(e))return t}function c3(t,e){if(t==="change")return e}var Z5=!1;if(vs){var Df;if(vs){var Bf="oninput"in document;if(!Bf){var fm=document.createElement("div");fm.setAttribute("oninput","return;"),Bf=typeof fm.oninput=="function"}Df=Bf}else Df=!1;Z5=Df&&(!document.documentMode||9<document.documentMode)}function pm(){pu&&(pu.detachEvent("onpropertychange",ey),Pu=pu=null)}function ey(t){if(t.propertyName==="value"&&jd(Pu)){var e=[];Q5(e,Pu,t,d1(t)),R5(u3,e)}}function h3(t,e,r){t==="focusin"?(pm(),pu=e,Pu=r,pu.attachEvent("onpropertychange",ey)):t==="focusout"&&pm()}function d3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jd(Pu)}function f3(t,e){if(t==="click")return jd(e)}function p3(t,e){if(t==="input"||t==="change")return jd(e)}function g3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Si=typeof Object.is=="function"?Object.is:g3;function Tu(t,e){if(Si(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Fp.call(e,i)||!Si(t[i],e[i]))return!1}return!0}function gm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mm(t,e){var r=gm(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=gm(r)}}function ty(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ty(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ry(){for(var t=window,e=zh();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=zh(t.document)}return e}function x1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function m3(t){var e=ry(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&ty(r.ownerDocument.documentElement,r)){if(n!==null&&x1(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=mm(r,s);var a=mm(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var v3=vs&&"documentMode"in document&&11>=document.documentMode,Mo=null,t0=null,gu=null,r0=!1;function vm(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;r0||Mo==null||Mo!==zh(n)||(n=Mo,"selectionStart"in n&&x1(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),gu&&Tu(gu,n)||(gu=n,n=Kh(t0,"onSelect"),0<n.length&&(e=new y1("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Mo)))}function Qc(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Uo={animationend:Qc("Animation","AnimationEnd"),animationiteration:Qc("Animation","AnimationIteration"),animationstart:Qc("Animation","AnimationStart"),transitionend:Qc("Transition","TransitionEnd")},Mf={},ny={};vs&&(ny=document.createElement("div").style,"AnimationEvent"in window||(delete Uo.animationend.animation,delete Uo.animationiteration.animation,delete Uo.animationstart.animation),"TransitionEvent"in window||delete Uo.transitionend.transition);function Ed(t){if(Mf[t])return Mf[t];if(!Uo[t])return t;var e=Uo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in ny)return Mf[t]=e[r];return t}var iy=Ed("animationend"),sy=Ed("animationiteration"),ay=Ed("animationstart"),oy=Ed("transitionend"),ly=new Map,ym="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function da(t,e){ly.set(t,e),to(e,[t])}for(var Uf=0;Uf<ym.length;Uf++){var zf=ym[Uf],y3=zf.toLowerCase(),w3=zf[0].toUpperCase()+zf.slice(1);da(y3,"on"+w3)}da(iy,"onAnimationEnd");da(sy,"onAnimationIteration");da(ay,"onAnimationStart");da("dblclick","onDoubleClick");da("focusin","onFocus");da("focusout","onBlur");da(oy,"onTransitionEnd");ll("onMouseEnter",["mouseout","mouseover"]);ll("onMouseLeave",["mouseout","mouseover"]);ll("onPointerEnter",["pointerout","pointerover"]);ll("onPointerLeave",["pointerout","pointerover"]);to("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));to("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));to("onBeforeInput",["compositionend","keypress","textInput","paste"]);to("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));to("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));to("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b3=new Set("cancel close invalid load scroll toggle".split(" ").concat(uu));function wm(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,y_(n,e,void 0,t),t.currentTarget=null}function uy(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;wm(i,o,u),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;wm(i,o,u),s=l}}}if($h)throw t=Xp,$h=!1,Xp=null,t}function Kt(t,e){var r=e[o0];r===void 0&&(r=e[o0]=new Set);var n=t+"__bubble";r.has(n)||(cy(e,t,2,!1),r.add(n))}function qf(t,e,r){var n=0;e&&(n|=4),cy(r,t,n,e)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function Ru(t){if(!t[Zc]){t[Zc]=!0,v5.forEach(function(r){r!=="selectionchange"&&(b3.has(r)||qf(r,!1,t),qf(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zc]||(e[Zc]=!0,qf("selectionchange",!1,e))}}function cy(t,e,r,n){switch(G5(e)){case 1:var i=I_;break;case 4:i=O_;break;default:i=m1}r=i.bind(null,e,r,t),i=void 0,!Yp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function $f(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=za(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}R5(function(){var u=s,h=d1(r),p=[];e:{var v=ly.get(t);if(v!==void 0){var f=y1,_=t;switch(t){case"keypress":if(jh(r)===0)break e;case"keydown":case"keyup":f=Y_;break;case"focusin":_="focus",f=Ff;break;case"focusout":_="blur",f=Ff;break;case"beforeblur":case"afterblur":f=Ff;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=om;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=B_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Z_;break;case iy:case sy:case ay:f=z_;break;case oy:f=t3;break;case"scroll":f=F_;break;case"wheel":f=n3;break;case"copy":case"cut":case"paste":f=$_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=um}var x=(e&4)!==0,A=!x&&t==="scroll",w=x?v!==null?v+"Capture":null:v;x=[];for(var S=u,k;S!==null;){k=S;var E=k.stateNode;if(k.tag===5&&E!==null&&(k=E,w!==null&&(E=ju(S,w),E!=null&&x.push(Iu(S,E,k)))),A)break;S=S.return}0<x.length&&(v=new f(v,_,null,r,h),p.push({event:v,listeners:x}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",v&&r!==Kp&&(_=r.relatedTarget||r.fromElement)&&(za(_)||_[ys]))break e;if((f||v)&&(v=h.window===h?h:(v=h.ownerDocument)?v.defaultView||v.parentWindow:window,f?(_=r.relatedTarget||r.toElement,f=u,_=_?za(_):null,_!==null&&(A=ro(_),_!==A||_.tag!==5&&_.tag!==6)&&(_=null)):(f=null,_=u),f!==_)){if(x=om,E="onMouseLeave",w="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(x=um,E="onPointerLeave",w="onPointerEnter",S="pointer"),A=f==null?v:zo(f),k=_==null?v:zo(_),v=new x(E,S+"leave",f,r,h),v.target=A,v.relatedTarget=k,E=null,za(h)===u&&(x=new x(w,S+"enter",_,r,h),x.target=k,x.relatedTarget=A,E=x),A=E,f&&_)t:{for(x=f,w=_,S=0,k=x;k;k=xo(k))S++;for(k=0,E=w;E;E=xo(E))k++;for(;0<S-k;)x=xo(x),S--;for(;0<k-S;)w=xo(w),k--;for(;S--;){if(x===w||w!==null&&x===w.alternate)break t;x=xo(x),w=xo(w)}x=null}else x=null;f!==null&&bm(p,v,f,x,!1),_!==null&&A!==null&&bm(p,A,_,x,!0)}}e:{if(v=u?zo(u):window,f=v.nodeName&&v.nodeName.toLowerCase(),f==="select"||f==="input"&&v.type==="file")var H=c3;else if(dm(v))if(Z5)H=p3;else{H=d3;var V=h3}else(f=v.nodeName)&&f.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(H=f3);if(H&&(H=H(t,u))){Q5(p,H,r,h);break e}V&&V(t,v,u),t==="focusout"&&(V=v._wrapperState)&&V.controlled&&v.type==="number"&&$p(v,"number",v.value)}switch(V=u?zo(u):window,t){case"focusin":(dm(V)||V.contentEditable==="true")&&(Mo=V,t0=u,gu=null);break;case"focusout":gu=t0=Mo=null;break;case"mousedown":r0=!0;break;case"contextmenu":case"mouseup":case"dragend":r0=!1,vm(p,r,h);break;case"selectionchange":if(v3)break;case"keydown":case"keyup":vm(p,r,h)}var G;if(b1)e:{switch(t){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else Bo?Y5(t,r)&&(q="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(q="onCompositionStart");q&&(J5&&r.locale!=="ko"&&(Bo||q!=="onCompositionStart"?q==="onCompositionEnd"&&Bo&&(G=K5()):(Js=h,v1="value"in Js?Js.value:Js.textContent,Bo=!0)),V=Kh(u,q),0<V.length&&(q=new lm(q,t,null,r,h),p.push({event:q,listeners:V}),G?q.data=G:(G=X5(r),G!==null&&(q.data=G)))),(G=s3?a3(t,r):o3(t,r))&&(u=Kh(u,"onBeforeInput"),0<u.length&&(h=new lm("onBeforeInput","beforeinput",null,r,h),p.push({event:h,listeners:u}),h.data=G))}uy(p,e)})}function Iu(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Kh(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ju(t,r),s!=null&&n.unshift(Iu(t,s,i)),s=ju(t,e),s!=null&&n.push(Iu(t,s,i))),t=t.return}return n}function xo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function bm(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=ju(r,s),l!=null&&a.unshift(Iu(r,l,o))):i||(l=ju(r,s),l!=null&&a.push(Iu(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var x3=/\r\n?/g,_3=/\u0000|\uFFFD/g;function xm(t){return(typeof t=="string"?t:""+t).replace(x3,`
`).replace(_3,"")}function eh(t,e,r){if(e=xm(e),xm(t)!==e&&r)throw Error(je(425))}function Jh(){}var n0=null,i0=null;function s0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var a0=typeof setTimeout=="function"?setTimeout:void 0,S3=typeof clearTimeout=="function"?clearTimeout:void 0,_m=typeof Promise=="function"?Promise:void 0,k3=typeof queueMicrotask=="function"?queueMicrotask:typeof _m<"u"?function(t){return _m.resolve(null).then(t).catch(A3)}:a0;function A3(t){setTimeout(function(){throw t})}function Wf(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Lu(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Lu(e)}function ra(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Sm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var vl=Math.random().toString(36).slice(2),zi="__reactFiber$"+vl,Ou="__reactProps$"+vl,ys="__reactContainer$"+vl,o0="__reactEvents$"+vl,N3="__reactListeners$"+vl,j3="__reactHandles$"+vl;function za(t){var e=t[zi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ys]||r[zi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Sm(t);t!==null;){if(r=t[zi])return r;t=Sm(t)}return e}t=r,r=t.parentNode}return null}function rc(t){return t=t[zi]||t[ys],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function zo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(je(33))}function Cd(t){return t[Ou]||null}var l0=[],qo=-1;function fa(t){return{current:t}}function Yt(t){0>qo||(t.current=l0[qo],l0[qo]=null,qo--)}function Vt(t,e){qo++,l0[qo]=t.current,t.current=e}var ca={},on=fa(ca),_n=fa(!1),Ka=ca;function ul(t,e){var r=t.type.contextTypes;if(!r)return ca;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Sn(t){return t=t.childContextTypes,t!=null}function Yh(){Yt(_n),Yt(on)}function km(t,e,r){if(on.current!==ca)throw Error(je(168));Vt(on,e),Vt(_n,r)}function hy(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(je(108,h_(t)||"Unknown",i));return nr({},r,n)}function Xh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ca,Ka=on.current,Vt(on,t),Vt(_n,_n.current),!0}function Am(t,e,r){var n=t.stateNode;if(!n)throw Error(je(169));r?(t=hy(t,e,Ka),n.__reactInternalMemoizedMergedChildContext=t,Yt(_n),Yt(on),Vt(on,t)):Yt(_n),Vt(_n,r)}var hs=null,Ld=!1,Hf=!1;function dy(t){hs===null?hs=[t]:hs.push(t)}function E3(t){Ld=!0,dy(t)}function pa(){if(!Hf&&hs!==null){Hf=!0;var t=0,e=Bt;try{var r=hs;for(Bt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}hs=null,Ld=!1}catch(i){throw hs!==null&&(hs=hs.slice(t+1)),D5(f1,pa),i}finally{Bt=e,Hf=!1}}return null}var $o=[],Wo=0,Qh=null,Zh=0,Qn=[],Zn=0,Ja=null,fs=1,ps="";function Ia(t,e){$o[Wo++]=Zh,$o[Wo++]=Qh,Qh=t,Zh=e}function fy(t,e,r){Qn[Zn++]=fs,Qn[Zn++]=ps,Qn[Zn++]=Ja,Ja=t;var n=fs;t=ps;var i=32-xi(n)-1;n&=~(1<<i),r+=1;var s=32-xi(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,fs=1<<32-xi(e)+i|r<<i|n,ps=s+t}else fs=1<<s|r<<i|n,ps=t}function _1(t){t.return!==null&&(Ia(t,1),fy(t,1,0))}function S1(t){for(;t===Qh;)Qh=$o[--Wo],$o[Wo]=null,Zh=$o[--Wo],$o[Wo]=null;for(;t===Ja;)Ja=Qn[--Zn],Qn[Zn]=null,ps=Qn[--Zn],Qn[Zn]=null,fs=Qn[--Zn],Qn[Zn]=null}var Un=null,Bn=null,Qt=!1,bi=null;function py(t,e){var r=ei(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Nm(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Un=t,Bn=ra(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Un=t,Bn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ja!==null?{id:fs,overflow:ps}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ei(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Un=t,Bn=null,!0):!1;default:return!1}}function u0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function c0(t){if(Qt){var e=Bn;if(e){var r=e;if(!Nm(t,e)){if(u0(t))throw Error(je(418));e=ra(r.nextSibling);var n=Un;e&&Nm(t,e)?py(n,r):(t.flags=t.flags&-4097|2,Qt=!1,Un=t)}}else{if(u0(t))throw Error(je(418));t.flags=t.flags&-4097|2,Qt=!1,Un=t}}}function jm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Un=t}function th(t){if(t!==Un)return!1;if(!Qt)return jm(t),Qt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!s0(t.type,t.memoizedProps)),e&&(e=Bn)){if(u0(t))throw gy(),Error(je(418));for(;e;)py(t,e),e=ra(e.nextSibling)}if(jm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(je(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Bn=ra(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Bn=null}}else Bn=Un?ra(t.stateNode.nextSibling):null;return!0}function gy(){for(var t=Bn;t;)t=ra(t.nextSibling)}function cl(){Bn=Un=null,Qt=!1}function k1(t){bi===null?bi=[t]:bi.push(t)}var C3=_s.ReactCurrentBatchConfig;function eu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(je(309));var n=r.stateNode}if(!n)throw Error(je(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(je(284));if(!r._owner)throw Error(je(290,t))}return t}function rh(t,e){throw t=Object.prototype.toString.call(e),Error(je(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Em(t){var e=t._init;return e(t._payload)}function my(t){function e(w,S){if(t){var k=w.deletions;k===null?(w.deletions=[S],w.flags|=16):k.push(S)}}function r(w,S){if(!t)return null;for(;S!==null;)e(w,S),S=S.sibling;return null}function n(w,S){for(w=new Map;S!==null;)S.key!==null?w.set(S.key,S):w.set(S.index,S),S=S.sibling;return w}function i(w,S){return w=aa(w,S),w.index=0,w.sibling=null,w}function s(w,S,k){return w.index=k,t?(k=w.alternate,k!==null?(k=k.index,k<S?(w.flags|=2,S):k):(w.flags|=2,S)):(w.flags|=1048576,S)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function o(w,S,k,E){return S===null||S.tag!==6?(S=Qf(k,w.mode,E),S.return=w,S):(S=i(S,k),S.return=w,S)}function l(w,S,k,E){var H=k.type;return H===Do?h(w,S,k.props.children,E,k.key):S!==null&&(S.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===$s&&Em(H)===S.type)?(E=i(S,k.props),E.ref=eu(w,S,k),E.return=w,E):(E=Ih(k.type,k.key,k.props,null,w.mode,E),E.ref=eu(w,S,k),E.return=w,E)}function u(w,S,k,E){return S===null||S.tag!==4||S.stateNode.containerInfo!==k.containerInfo||S.stateNode.implementation!==k.implementation?(S=Zf(k,w.mode,E),S.return=w,S):(S=i(S,k.children||[]),S.return=w,S)}function h(w,S,k,E,H){return S===null||S.tag!==7?(S=Va(k,w.mode,E,H),S.return=w,S):(S=i(S,k),S.return=w,S)}function p(w,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Qf(""+S,w.mode,k),S.return=w,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Hc:return k=Ih(S.type,S.key,S.props,null,w.mode,k),k.ref=eu(w,null,S),k.return=w,k;case Fo:return S=Zf(S,w.mode,k),S.return=w,S;case $s:var E=S._init;return p(w,E(S._payload),k)}if(ou(S)||Jl(S))return S=Va(S,w.mode,k,null),S.return=w,S;rh(w,S)}return null}function v(w,S,k,E){var H=S!==null?S.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return H!==null?null:o(w,S,""+k,E);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Hc:return k.key===H?l(w,S,k,E):null;case Fo:return k.key===H?u(w,S,k,E):null;case $s:return H=k._init,v(w,S,H(k._payload),E)}if(ou(k)||Jl(k))return H!==null?null:h(w,S,k,E,null);rh(w,k)}return null}function f(w,S,k,E,H){if(typeof E=="string"&&E!==""||typeof E=="number")return w=w.get(k)||null,o(S,w,""+E,H);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Hc:return w=w.get(E.key===null?k:E.key)||null,l(S,w,E,H);case Fo:return w=w.get(E.key===null?k:E.key)||null,u(S,w,E,H);case $s:var V=E._init;return f(w,S,k,V(E._payload),H)}if(ou(E)||Jl(E))return w=w.get(k)||null,h(S,w,E,H,null);rh(S,E)}return null}function _(w,S,k,E){for(var H=null,V=null,G=S,q=S=0,D=null;G!==null&&q<k.length;q++){G.index>q?(D=G,G=null):D=G.sibling;var X=v(w,G,k[q],E);if(X===null){G===null&&(G=D);break}t&&G&&X.alternate===null&&e(w,G),S=s(X,S,q),V===null?H=X:V.sibling=X,V=X,G=D}if(q===k.length)return r(w,G),Qt&&Ia(w,q),H;if(G===null){for(;q<k.length;q++)G=p(w,k[q],E),G!==null&&(S=s(G,S,q),V===null?H=G:V.sibling=G,V=G);return Qt&&Ia(w,q),H}for(G=n(w,G);q<k.length;q++)D=f(G,w,q,k[q],E),D!==null&&(t&&D.alternate!==null&&G.delete(D.key===null?q:D.key),S=s(D,S,q),V===null?H=D:V.sibling=D,V=D);return t&&G.forEach(function(T){return e(w,T)}),Qt&&Ia(w,q),H}function x(w,S,k,E){var H=Jl(k);if(typeof H!="function")throw Error(je(150));if(k=H.call(k),k==null)throw Error(je(151));for(var V=H=null,G=S,q=S=0,D=null,X=k.next();G!==null&&!X.done;q++,X=k.next()){G.index>q?(D=G,G=null):D=G.sibling;var T=v(w,G,X.value,E);if(T===null){G===null&&(G=D);break}t&&G&&T.alternate===null&&e(w,G),S=s(T,S,q),V===null?H=T:V.sibling=T,V=T,G=D}if(X.done)return r(w,G),Qt&&Ia(w,q),H;if(G===null){for(;!X.done;q++,X=k.next())X=p(w,X.value,E),X!==null&&(S=s(X,S,q),V===null?H=X:V.sibling=X,V=X);return Qt&&Ia(w,q),H}for(G=n(w,G);!X.done;q++,X=k.next())X=f(G,w,q,X.value,E),X!==null&&(t&&X.alternate!==null&&G.delete(X.key===null?q:X.key),S=s(X,S,q),V===null?H=X:V.sibling=X,V=X);return t&&G.forEach(function(F){return e(w,F)}),Qt&&Ia(w,q),H}function A(w,S,k,E){if(typeof k=="object"&&k!==null&&k.type===Do&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Hc:e:{for(var H=k.key,V=S;V!==null;){if(V.key===H){if(H=k.type,H===Do){if(V.tag===7){r(w,V.sibling),S=i(V,k.props.children),S.return=w,w=S;break e}}else if(V.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===$s&&Em(H)===V.type){r(w,V.sibling),S=i(V,k.props),S.ref=eu(w,V,k),S.return=w,w=S;break e}r(w,V);break}else e(w,V);V=V.sibling}k.type===Do?(S=Va(k.props.children,w.mode,E,k.key),S.return=w,w=S):(E=Ih(k.type,k.key,k.props,null,w.mode,E),E.ref=eu(w,S,k),E.return=w,w=E)}return a(w);case Fo:e:{for(V=k.key;S!==null;){if(S.key===V)if(S.tag===4&&S.stateNode.containerInfo===k.containerInfo&&S.stateNode.implementation===k.implementation){r(w,S.sibling),S=i(S,k.children||[]),S.return=w,w=S;break e}else{r(w,S);break}else e(w,S);S=S.sibling}S=Zf(k,w.mode,E),S.return=w,w=S}return a(w);case $s:return V=k._init,A(w,S,V(k._payload),E)}if(ou(k))return _(w,S,k,E);if(Jl(k))return x(w,S,k,E);rh(w,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,S!==null&&S.tag===6?(r(w,S.sibling),S=i(S,k),S.return=w,w=S):(r(w,S),S=Qf(k,w.mode,E),S.return=w,w=S),a(w)):r(w,S)}return A}var hl=my(!0),vy=my(!1),ed=fa(null),td=null,Ho=null,A1=null;function N1(){A1=Ho=td=null}function j1(t){var e=ed.current;Yt(ed),t._currentValue=e}function h0(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function el(t,e){td=t,A1=Ho=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xn=!0),t.firstContext=null)}function ri(t){var e=t._currentValue;if(A1!==t)if(t={context:t,memoizedValue:e,next:null},Ho===null){if(td===null)throw Error(je(308));Ho=t,td.dependencies={lanes:0,firstContext:t}}else Ho=Ho.next=t;return e}var qa=null;function E1(t){qa===null?qa=[t]:qa.push(t)}function yy(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,E1(e)):(r.next=i.next,i.next=r),e.interleaved=r,ws(t,n)}function ws(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ws=!1;function C1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ms(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function na(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Et&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,ws(t,r)}return i=n.interleaved,i===null?(e.next=e,E1(n)):(e.next=i.next,i.next=e),n.interleaved=e,ws(t,r)}function Eh(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,p1(t,r)}}function Cm(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function rd(t,e,r,n){var i=t.updateQueue;Ws=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=l))}if(s!==null){var p=i.baseState;a=0,h=u=l=null,o=s;do{var v=o.lane,f=o.eventTime;if((n&v)===v){h!==null&&(h=h.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var _=t,x=o;switch(v=e,f=r,x.tag){case 1:if(_=x.payload,typeof _=="function"){p=_.call(f,p,v);break e}p=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=x.payload,v=typeof _=="function"?_.call(f,p,v):_,v==null)break e;p=nr({},p,v);break e;case 2:Ws=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,v=i.effects,v===null?i.effects=[o]:v.push(o))}else f={eventTime:f,lane:v,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=f,l=p):h=h.next=f,a|=v;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;v=o,o=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(!0);if(h===null&&(l=p),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Xa|=a,t.lanes=a,t.memoizedState=p}}function Lm(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(je(191,i));i.call(n)}}}var nc={},Wi=fa(nc),Fu=fa(nc),Du=fa(nc);function $a(t){if(t===nc)throw Error(je(174));return t}function L1(t,e){switch(Vt(Du,e),Vt(Fu,t),Vt(Wi,nc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Hp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Hp(e,t)}Yt(Wi),Vt(Wi,e)}function dl(){Yt(Wi),Yt(Fu),Yt(Du)}function by(t){$a(Du.current);var e=$a(Wi.current),r=Hp(e,t.type);e!==r&&(Vt(Fu,t),Vt(Wi,r))}function P1(t){Fu.current===t&&(Yt(Wi),Yt(Fu))}var tr=fa(0);function nd(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vf=[];function T1(){for(var t=0;t<Vf.length;t++)Vf[t]._workInProgressVersionPrimary=null;Vf.length=0}var Ch=_s.ReactCurrentDispatcher,Gf=_s.ReactCurrentBatchConfig,Ya=0,rr=null,Rr=null,Dr=null,id=!1,mu=!1,Bu=0,L3=0;function Zr(){throw Error(je(321))}function R1(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Si(t[r],e[r]))return!1;return!0}function I1(t,e,r,n,i,s){if(Ya=s,rr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ch.current=t===null||t.memoizedState===null?I3:O3,t=r(n,i),mu){s=0;do{if(mu=!1,Bu=0,25<=s)throw Error(je(301));s+=1,Dr=Rr=null,e.updateQueue=null,Ch.current=F3,t=r(n,i)}while(mu)}if(Ch.current=sd,e=Rr!==null&&Rr.next!==null,Ya=0,Dr=Rr=rr=null,id=!1,e)throw Error(je(300));return t}function O1(){var t=Bu!==0;return Bu=0,t}function Ui(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dr===null?rr.memoizedState=Dr=t:Dr=Dr.next=t,Dr}function ni(){if(Rr===null){var t=rr.alternate;t=t!==null?t.memoizedState:null}else t=Rr.next;var e=Dr===null?rr.memoizedState:Dr.next;if(e!==null)Dr=e,Rr=t;else{if(t===null)throw Error(je(310));Rr=t,t={memoizedState:Rr.memoizedState,baseState:Rr.baseState,baseQueue:Rr.baseQueue,queue:Rr.queue,next:null},Dr===null?rr.memoizedState=Dr=t:Dr=Dr.next=t}return Dr}function Mu(t,e){return typeof e=="function"?e(t):e}function Kf(t){var e=ni(),r=e.queue;if(r===null)throw Error(je(311));r.lastRenderedReducer=t;var n=Rr,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,u=s;do{var h=u.lane;if((Ya&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var p={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=p,a=n):l=l.next=p,rr.lanes|=h,Xa|=h}u=u.next}while(u!==null&&u!==s);l===null?a=n:l.next=o,Si(n,e.memoizedState)||(xn=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,rr.lanes|=s,Xa|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Jf(t){var e=ni(),r=e.queue;if(r===null)throw Error(je(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Si(s,e.memoizedState)||(xn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function xy(){}function _y(t,e){var r=rr,n=ni(),i=e(),s=!Si(n.memoizedState,i);if(s&&(n.memoizedState=i,xn=!0),n=n.queue,F1(Ay.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Dr!==null&&Dr.memoizedState.tag&1){if(r.flags|=2048,Uu(9,ky.bind(null,r,n,i,e),void 0,null),Mr===null)throw Error(je(349));Ya&30||Sy(r,e,i)}return i}function Sy(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=rr.updateQueue,e===null?(e={lastEffect:null,stores:null},rr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function ky(t,e,r,n){e.value=r,e.getSnapshot=n,Ny(e)&&jy(t)}function Ay(t,e,r){return r(function(){Ny(e)&&jy(t)})}function Ny(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Si(t,r)}catch{return!0}}function jy(t){var e=ws(t,1);e!==null&&_i(e,t,1,-1)}function Pm(t){var e=Ui();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mu,lastRenderedState:t},e.queue=t,t=t.dispatch=R3.bind(null,rr,t),[e.memoizedState,t]}function Uu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=rr.updateQueue,e===null?(e={lastEffect:null,stores:null},rr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Ey(){return ni().memoizedState}function Lh(t,e,r,n){var i=Ui();rr.flags|=t,i.memoizedState=Uu(1|e,r,void 0,n===void 0?null:n)}function Pd(t,e,r,n){var i=ni();n=n===void 0?null:n;var s=void 0;if(Rr!==null){var a=Rr.memoizedState;if(s=a.destroy,n!==null&&R1(n,a.deps)){i.memoizedState=Uu(e,r,s,n);return}}rr.flags|=t,i.memoizedState=Uu(1|e,r,s,n)}function Tm(t,e){return Lh(8390656,8,t,e)}function F1(t,e){return Pd(2048,8,t,e)}function Cy(t,e){return Pd(4,2,t,e)}function Ly(t,e){return Pd(4,4,t,e)}function Py(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ty(t,e,r){return r=r!=null?r.concat([t]):null,Pd(4,4,Py.bind(null,e,t),r)}function D1(){}function Ry(t,e){var r=ni();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&R1(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Iy(t,e){var r=ni();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&R1(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Oy(t,e,r){return Ya&21?(Si(r,e)||(r=U5(),rr.lanes|=r,Xa|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xn=!0),t.memoizedState=r)}function P3(t,e){var r=Bt;Bt=r!==0&&4>r?r:4,t(!0);var n=Gf.transition;Gf.transition={};try{t(!1),e()}finally{Bt=r,Gf.transition=n}}function Fy(){return ni().memoizedState}function T3(t,e,r){var n=sa(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Dy(t))By(e,r);else if(r=yy(t,e,r,n),r!==null){var i=gn();_i(r,t,n,i),My(r,e,n)}}function R3(t,e,r){var n=sa(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Dy(t))By(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,Si(o,a)){var l=e.interleaved;l===null?(i.next=i,E1(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=yy(t,e,i,n),r!==null&&(i=gn(),_i(r,t,n,i),My(r,e,n))}}function Dy(t){var e=t.alternate;return t===rr||e!==null&&e===rr}function By(t,e){mu=id=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function My(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,p1(t,r)}}var sd={readContext:ri,useCallback:Zr,useContext:Zr,useEffect:Zr,useImperativeHandle:Zr,useInsertionEffect:Zr,useLayoutEffect:Zr,useMemo:Zr,useReducer:Zr,useRef:Zr,useState:Zr,useDebugValue:Zr,useDeferredValue:Zr,useTransition:Zr,useMutableSource:Zr,useSyncExternalStore:Zr,useId:Zr,unstable_isNewReconciler:!1},I3={readContext:ri,useCallback:function(t,e){return Ui().memoizedState=[t,e===void 0?null:e],t},useContext:ri,useEffect:Tm,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Lh(4194308,4,Py.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Lh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Lh(4,2,t,e)},useMemo:function(t,e){var r=Ui();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Ui();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=T3.bind(null,rr,t),[n.memoizedState,t]},useRef:function(t){var e=Ui();return t={current:t},e.memoizedState=t},useState:Pm,useDebugValue:D1,useDeferredValue:function(t){return Ui().memoizedState=t},useTransition:function(){var t=Pm(!1),e=t[0];return t=P3.bind(null,t[1]),Ui().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=rr,i=Ui();if(Qt){if(r===void 0)throw Error(je(407));r=r()}else{if(r=e(),Mr===null)throw Error(je(349));Ya&30||Sy(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,Tm(Ay.bind(null,n,s,t),[t]),n.flags|=2048,Uu(9,ky.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Ui(),e=Mr.identifierPrefix;if(Qt){var r=ps,n=fs;r=(n&~(1<<32-xi(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Bu++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=L3++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},O3={readContext:ri,useCallback:Ry,useContext:ri,useEffect:F1,useImperativeHandle:Ty,useInsertionEffect:Cy,useLayoutEffect:Ly,useMemo:Iy,useReducer:Kf,useRef:Ey,useState:function(){return Kf(Mu)},useDebugValue:D1,useDeferredValue:function(t){var e=ni();return Oy(e,Rr.memoizedState,t)},useTransition:function(){var t=Kf(Mu)[0],e=ni().memoizedState;return[t,e]},useMutableSource:xy,useSyncExternalStore:_y,useId:Fy,unstable_isNewReconciler:!1},F3={readContext:ri,useCallback:Ry,useContext:ri,useEffect:F1,useImperativeHandle:Ty,useInsertionEffect:Cy,useLayoutEffect:Ly,useMemo:Iy,useReducer:Jf,useRef:Ey,useState:function(){return Jf(Mu)},useDebugValue:D1,useDeferredValue:function(t){var e=ni();return Rr===null?e.memoizedState=t:Oy(e,Rr.memoizedState,t)},useTransition:function(){var t=Jf(Mu)[0],e=ni().memoizedState;return[t,e]},useMutableSource:xy,useSyncExternalStore:_y,useId:Fy,unstable_isNewReconciler:!1};function mi(t,e){if(t&&t.defaultProps){e=nr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function d0(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:nr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Td={isMounted:function(t){return(t=t._reactInternals)?ro(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=gn(),i=sa(t),s=ms(n,i);s.payload=e,r!=null&&(s.callback=r),e=na(t,s,i),e!==null&&(_i(e,t,i,n),Eh(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=gn(),i=sa(t),s=ms(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=na(t,s,i),e!==null&&(_i(e,t,i,n),Eh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=gn(),n=sa(t),i=ms(r,n);i.tag=2,e!=null&&(i.callback=e),e=na(t,i,n),e!==null&&(_i(e,t,n,r),Eh(e,t,n))}};function Rm(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Tu(r,n)||!Tu(i,s):!0}function Uy(t,e,r){var n=!1,i=ca,s=e.contextType;return typeof s=="object"&&s!==null?s=ri(s):(i=Sn(e)?Ka:on.current,n=e.contextTypes,s=(n=n!=null)?ul(t,i):ca),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Td,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Im(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Td.enqueueReplaceState(e,e.state,null)}function f0(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},C1(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ri(s):(s=Sn(e)?Ka:on.current,i.context=ul(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(d0(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Td.enqueueReplaceState(i,i.state,null),rd(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function fl(t,e){try{var r="",n=e;do r+=c_(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Yf(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function p0(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var D3=typeof WeakMap=="function"?WeakMap:Map;function zy(t,e,r){r=ms(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){od||(od=!0,k0=n),p0(t,e)},r}function qy(t,e,r){r=ms(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){p0(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){p0(t,e),typeof n!="function"&&(ia===null?ia=new Set([this]):ia.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function Om(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new D3;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=X3.bind(null,t,e,r),e.then(t,t))}function Fm(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Dm(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ms(-1,1),e.tag=2,na(r,e,1))),r.lanes|=1),t)}var B3=_s.ReactCurrentOwner,xn=!1;function pn(t,e,r,n){e.child=t===null?vy(e,null,r,n):hl(e,t.child,r,n)}function Bm(t,e,r,n,i){r=r.render;var s=e.ref;return el(e,i),n=I1(t,e,r,n,s,i),r=O1(),t!==null&&!xn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,bs(t,e,i)):(Qt&&r&&_1(e),e.flags|=1,pn(t,e,n,i),e.child)}function Mm(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!H1(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,$y(t,e,s,n,i)):(t=Ih(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Tu,r(a,n)&&t.ref===e.ref)return bs(t,e,i)}return e.flags|=1,t=aa(s,n),t.ref=e.ref,t.return=e,e.child=t}function $y(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Tu(s,n)&&t.ref===e.ref)if(xn=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(xn=!0);else return e.lanes=t.lanes,bs(t,e,i)}return g0(t,e,r,n,i)}function Wy(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vt(Go,Fn),Fn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Vt(Go,Fn),Fn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Vt(Go,Fn),Fn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Vt(Go,Fn),Fn|=n;return pn(t,e,i,r),e.child}function Hy(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function g0(t,e,r,n,i){var s=Sn(r)?Ka:on.current;return s=ul(e,s),el(e,i),r=I1(t,e,r,n,s,i),n=O1(),t!==null&&!xn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,bs(t,e,i)):(Qt&&n&&_1(e),e.flags|=1,pn(t,e,r,i),e.child)}function Um(t,e,r,n,i){if(Sn(r)){var s=!0;Xh(e)}else s=!1;if(el(e,i),e.stateNode===null)Ph(t,e),Uy(e,r,n),f0(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=ri(u):(u=Sn(r)?Ka:on.current,u=ul(e,u));var h=r.getDerivedStateFromProps,p=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&Im(e,a,n,u),Ws=!1;var v=e.memoizedState;a.state=v,rd(e,n,a,i),l=e.memoizedState,o!==n||v!==l||_n.current||Ws?(typeof h=="function"&&(d0(e,r,h,n),l=e.memoizedState),(o=Ws||Rm(e,r,o,n,v,l,u))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,wy(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:mi(e.type,o),a.props=u,p=e.pendingProps,v=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=ri(l):(l=Sn(r)?Ka:on.current,l=ul(e,l));var f=r.getDerivedStateFromProps;(h=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==p||v!==l)&&Im(e,a,n,l),Ws=!1,v=e.memoizedState,a.state=v,rd(e,n,a,i);var _=e.memoizedState;o!==p||v!==_||_n.current||Ws?(typeof f=="function"&&(d0(e,r,f,n),_=e.memoizedState),(u=Ws||Rm(e,r,u,n,v,_,l)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,_,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,_,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=_),a.props=n,a.state=_,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),n=!1)}return m0(t,e,r,n,s,i)}function m0(t,e,r,n,i,s){Hy(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&Am(e,r,!1),bs(t,e,s);n=e.stateNode,B3.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=hl(e,t.child,null,s),e.child=hl(e,null,o,s)):pn(t,e,o,s),e.memoizedState=n.state,i&&Am(e,r,!0),e.child}function Vy(t){var e=t.stateNode;e.pendingContext?km(t,e.pendingContext,e.pendingContext!==e.context):e.context&&km(t,e.context,!1),L1(t,e.containerInfo)}function zm(t,e,r,n,i){return cl(),k1(i),e.flags|=256,pn(t,e,r,n),e.child}var v0={dehydrated:null,treeContext:null,retryLane:0};function y0(t){return{baseLanes:t,cachePool:null,transitions:null}}function Gy(t,e,r){var n=e.pendingProps,i=tr.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Vt(tr,i&1),t===null)return c0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Od(a,n,0,null),t=Va(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=y0(r),e.memoizedState=v0,t):B1(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return M3(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=aa(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=aa(o,s):(s=Va(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?y0(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=v0,n}return s=t.child,t=s.sibling,n=aa(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function B1(t,e){return e=Od({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function nh(t,e,r,n){return n!==null&&k1(n),hl(e,t.child,null,r),t=B1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function M3(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=Yf(Error(je(422))),nh(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Od({mode:"visible",children:n.children},i,0,null),s=Va(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&hl(e,t.child,null,a),e.child.memoizedState=y0(a),e.memoizedState=v0,s);if(!(e.mode&1))return nh(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(je(419)),n=Yf(s,n,void 0),nh(t,e,a,n)}if(o=(a&t.childLanes)!==0,xn||o){if(n=Mr,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ws(t,i),_i(n,t,i,-1))}return W1(),n=Yf(Error(je(421))),nh(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Q3.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Bn=ra(i.nextSibling),Un=e,Qt=!0,bi=null,t!==null&&(Qn[Zn++]=fs,Qn[Zn++]=ps,Qn[Zn++]=Ja,fs=t.id,ps=t.overflow,Ja=e),e=B1(e,n.children),e.flags|=4096,e)}function qm(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),h0(t.return,e,r)}function Xf(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function Ky(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(pn(t,e,n.children,r),n=tr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qm(t,r,e);else if(t.tag===19)qm(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Vt(tr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&nd(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Xf(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&nd(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Xf(e,!0,r,null,s);break;case"together":Xf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ph(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function bs(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Xa|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(je(153));if(e.child!==null){for(t=e.child,r=aa(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=aa(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function U3(t,e,r){switch(e.tag){case 3:Vy(e),cl();break;case 5:by(e);break;case 1:Sn(e.type)&&Xh(e);break;case 4:L1(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Vt(ed,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Vt(tr,tr.current&1),e.flags|=128,null):r&e.child.childLanes?Gy(t,e,r):(Vt(tr,tr.current&1),t=bs(t,e,r),t!==null?t.sibling:null);Vt(tr,tr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Ky(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Vt(tr,tr.current),n)break;return null;case 22:case 23:return e.lanes=0,Wy(t,e,r)}return bs(t,e,r)}var Jy,w0,Yy,Xy;Jy=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};w0=function(){};Yy=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,$a(Wi.current);var s=null;switch(r){case"input":i=zp(t,i),n=zp(t,n),s=[];break;case"select":i=nr({},i,{value:void 0}),n=nr({},n,{value:void 0}),s=[];break;case"textarea":i=Wp(t,i),n=Wp(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Jh)}Vp(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Au.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Au.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Kt("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Xy=function(t,e,r,n){r!==n&&(e.flags|=4)};function tu(t,e){if(!Qt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function en(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function z3(t,e,r){var n=e.pendingProps;switch(S1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(e),null;case 1:return Sn(e.type)&&Yh(),en(e),null;case 3:return n=e.stateNode,dl(),Yt(_n),Yt(on),T1(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(th(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bi!==null&&(j0(bi),bi=null))),w0(t,e),en(e),null;case 5:P1(e);var i=$a(Du.current);if(r=e.type,t!==null&&e.stateNode!=null)Yy(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(je(166));return en(e),null}if(t=$a(Wi.current),th(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[zi]=e,n[Ou]=s,t=(e.mode&1)!==0,r){case"dialog":Kt("cancel",n),Kt("close",n);break;case"iframe":case"object":case"embed":Kt("load",n);break;case"video":case"audio":for(i=0;i<uu.length;i++)Kt(uu[i],n);break;case"source":Kt("error",n);break;case"img":case"image":case"link":Kt("error",n),Kt("load",n);break;case"details":Kt("toggle",n);break;case"input":Xg(n,s),Kt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Kt("invalid",n);break;case"textarea":Zg(n,s),Kt("invalid",n)}Vp(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&eh(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&eh(n.textContent,o,t),i=["children",""+o]):Au.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Kt("scroll",n)}switch(r){case"input":Vc(n),Qg(n,s,!0);break;case"textarea":Vc(n),em(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Jh)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=A5(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[zi]=e,t[Ou]=n,Jy(t,e,!1,!1),e.stateNode=t;e:{switch(a=Gp(r,n),r){case"dialog":Kt("cancel",t),Kt("close",t),i=n;break;case"iframe":case"object":case"embed":Kt("load",t),i=n;break;case"video":case"audio":for(i=0;i<uu.length;i++)Kt(uu[i],t);i=n;break;case"source":Kt("error",t),i=n;break;case"img":case"image":case"link":Kt("error",t),Kt("load",t),i=n;break;case"details":Kt("toggle",t),i=n;break;case"input":Xg(t,n),i=zp(t,n),Kt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=nr({},n,{value:void 0}),Kt("invalid",t);break;case"textarea":Zg(t,n),i=Wp(t,n),Kt("invalid",t);break;default:i=n}Vp(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?E5(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&N5(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Nu(t,l):typeof l=="number"&&Nu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Au.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Kt("scroll",t):l!=null&&l1(t,s,l,a))}switch(r){case"input":Vc(t),Qg(t,n,!1);break;case"textarea":Vc(t),em(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ua(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Yo(t,!!n.multiple,s,!1):n.defaultValue!=null&&Yo(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Jh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return en(e),null;case 6:if(t&&e.stateNode!=null)Xy(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(je(166));if(r=$a(Du.current),$a(Wi.current),th(e)){if(n=e.stateNode,r=e.memoizedProps,n[zi]=e,(s=n.nodeValue!==r)&&(t=Un,t!==null))switch(t.tag){case 3:eh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&eh(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[zi]=e,e.stateNode=n}return en(e),null;case 13:if(Yt(tr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qt&&Bn!==null&&e.mode&1&&!(e.flags&128))gy(),cl(),e.flags|=98560,s=!1;else if(s=th(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(je(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(je(317));s[zi]=e}else cl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;en(e),s=!1}else bi!==null&&(j0(bi),bi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||tr.current&1?Ir===0&&(Ir=3):W1())),e.updateQueue!==null&&(e.flags|=4),en(e),null);case 4:return dl(),w0(t,e),t===null&&Ru(e.stateNode.containerInfo),en(e),null;case 10:return j1(e.type._context),en(e),null;case 17:return Sn(e.type)&&Yh(),en(e),null;case 19:if(Yt(tr),s=e.memoizedState,s===null)return en(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)tu(s,!1);else{if(Ir!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=nd(t),a!==null){for(e.flags|=128,tu(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Vt(tr,tr.current&1|2),e.child}t=t.sibling}s.tail!==null&&gr()>pl&&(e.flags|=128,n=!0,tu(s,!1),e.lanes=4194304)}else{if(!n)if(t=nd(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),tu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Qt)return en(e),null}else 2*gr()-s.renderingStartTime>pl&&r!==1073741824&&(e.flags|=128,n=!0,tu(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=gr(),e.sibling=null,r=tr.current,Vt(tr,n?r&1|2:r&1),e):(en(e),null);case 22:case 23:return $1(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Fn&1073741824&&(en(e),e.subtreeFlags&6&&(e.flags|=8192)):en(e),null;case 24:return null;case 25:return null}throw Error(je(156,e.tag))}function q3(t,e){switch(S1(e),e.tag){case 1:return Sn(e.type)&&Yh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return dl(),Yt(_n),Yt(on),T1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return P1(e),null;case 13:if(Yt(tr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(je(340));cl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Yt(tr),null;case 4:return dl(),null;case 10:return j1(e.type._context),null;case 22:case 23:return $1(),null;case 24:return null;default:return null}}var ih=!1,an=!1,$3=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function Vo(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ur(t,e,n)}else r.current=null}function b0(t,e,r){try{r()}catch(n){ur(t,e,n)}}var $m=!1;function W3(t,e){if(n0=Vh,t=ry(),x1(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,u=0,h=0,p=t,v=null;t:for(;;){for(var f;p!==r||i!==0&&p.nodeType!==3||(o=a+i),p!==s||n!==0&&p.nodeType!==3||(l=a+n),p.nodeType===3&&(a+=p.nodeValue.length),(f=p.firstChild)!==null;)v=p,p=f;for(;;){if(p===t)break t;if(v===r&&++u===i&&(o=a),v===s&&++h===n&&(l=a),(f=p.nextSibling)!==null)break;p=v,v=p.parentNode}p=f}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(i0={focusedElem:t,selectionRange:r},Vh=!1,Oe=e;Oe!==null;)if(e=Oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Oe=t;else for(;Oe!==null;){e=Oe;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var x=_.memoizedProps,A=_.memoizedState,w=e.stateNode,S=w.getSnapshotBeforeUpdate(e.elementType===e.type?x:mi(e.type,x),A);w.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(je(163))}}catch(E){ur(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,Oe=t;break}Oe=e.return}return _=$m,$m=!1,_}function vu(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&b0(e,r,s)}i=i.next}while(i!==n)}}function Rd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function x0(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Qy(t){var e=t.alternate;e!==null&&(t.alternate=null,Qy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zi],delete e[Ou],delete e[o0],delete e[N3],delete e[j3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Zy(t){return t.tag===5||t.tag===3||t.tag===4}function Wm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Zy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _0(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Jh));else if(n!==4&&(t=t.child,t!==null))for(_0(t,e,r),t=t.sibling;t!==null;)_0(t,e,r),t=t.sibling}function S0(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(S0(t,e,r),t=t.sibling;t!==null;)S0(t,e,r),t=t.sibling}var Jr=null,yi=!1;function Us(t,e,r){for(r=r.child;r!==null;)ew(t,e,r),r=r.sibling}function ew(t,e,r){if($i&&typeof $i.onCommitFiberUnmount=="function")try{$i.onCommitFiberUnmount(Ad,r)}catch{}switch(r.tag){case 5:an||Vo(r,e);case 6:var n=Jr,i=yi;Jr=null,Us(t,e,r),Jr=n,yi=i,Jr!==null&&(yi?(t=Jr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Jr.removeChild(r.stateNode));break;case 18:Jr!==null&&(yi?(t=Jr,r=r.stateNode,t.nodeType===8?Wf(t.parentNode,r):t.nodeType===1&&Wf(t,r),Lu(t)):Wf(Jr,r.stateNode));break;case 4:n=Jr,i=yi,Jr=r.stateNode.containerInfo,yi=!0,Us(t,e,r),Jr=n,yi=i;break;case 0:case 11:case 14:case 15:if(!an&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&b0(r,e,a),i=i.next}while(i!==n)}Us(t,e,r);break;case 1:if(!an&&(Vo(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){ur(r,e,o)}Us(t,e,r);break;case 21:Us(t,e,r);break;case 22:r.mode&1?(an=(n=an)||r.memoizedState!==null,Us(t,e,r),an=n):Us(t,e,r);break;default:Us(t,e,r)}}function Hm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new $3),e.forEach(function(n){var i=Z3.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function fi(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Jr=o.stateNode,yi=!1;break e;case 3:Jr=o.stateNode.containerInfo,yi=!0;break e;case 4:Jr=o.stateNode.containerInfo,yi=!0;break e}o=o.return}if(Jr===null)throw Error(je(160));ew(s,a,i),Jr=null,yi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ur(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)tw(e,t),e=e.sibling}function tw(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fi(e,t),Fi(t),n&4){try{vu(3,t,t.return),Rd(3,t)}catch(x){ur(t,t.return,x)}try{vu(5,t,t.return)}catch(x){ur(t,t.return,x)}}break;case 1:fi(e,t),Fi(t),n&512&&r!==null&&Vo(r,r.return);break;case 5:if(fi(e,t),Fi(t),n&512&&r!==null&&Vo(r,r.return),t.flags&32){var i=t.stateNode;try{Nu(i,"")}catch(x){ur(t,t.return,x)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&S5(i,s),Gp(o,a);var u=Gp(o,s);for(a=0;a<l.length;a+=2){var h=l[a],p=l[a+1];h==="style"?E5(i,p):h==="dangerouslySetInnerHTML"?N5(i,p):h==="children"?Nu(i,p):l1(i,h,p,u)}switch(o){case"input":qp(i,s);break;case"textarea":k5(i,s);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Yo(i,!!s.multiple,f,!1):v!==!!s.multiple&&(s.defaultValue!=null?Yo(i,!!s.multiple,s.defaultValue,!0):Yo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ou]=s}catch(x){ur(t,t.return,x)}}break;case 6:if(fi(e,t),Fi(t),n&4){if(t.stateNode===null)throw Error(je(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){ur(t,t.return,x)}}break;case 3:if(fi(e,t),Fi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Lu(e.containerInfo)}catch(x){ur(t,t.return,x)}break;case 4:fi(e,t),Fi(t);break;case 13:fi(e,t),Fi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(z1=gr())),n&4&&Hm(t);break;case 22:if(h=r!==null&&r.memoizedState!==null,t.mode&1?(an=(u=an)||h,fi(e,t),an=u):fi(e,t),Fi(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(Oe=t,h=t.child;h!==null;){for(p=Oe=h;Oe!==null;){switch(v=Oe,f=v.child,v.tag){case 0:case 11:case 14:case 15:vu(4,v,v.return);break;case 1:Vo(v,v.return);var _=v.stateNode;if(typeof _.componentWillUnmount=="function"){n=v,r=v.return;try{e=n,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(x){ur(n,r,x)}}break;case 5:Vo(v,v.return);break;case 22:if(v.memoizedState!==null){Gm(p);continue}}f!==null?(f.return=v,Oe=f):Gm(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{i=p.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=p.stateNode,l=p.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=j5("display",a))}catch(x){ur(t,t.return,x)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(x){ur(t,t.return,x)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:fi(e,t),Fi(t),n&4&&Hm(t);break;case 21:break;default:fi(e,t),Fi(t)}}function Fi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Zy(r)){var n=r;break e}r=r.return}throw Error(je(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Nu(i,""),n.flags&=-33);var s=Wm(t);S0(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=Wm(t);_0(t,o,a);break;default:throw Error(je(161))}}catch(l){ur(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function H3(t,e,r){Oe=t,rw(t)}function rw(t,e,r){for(var n=(t.mode&1)!==0;Oe!==null;){var i=Oe,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||ih;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||an;o=ih;var u=an;if(ih=a,(an=l)&&!u)for(Oe=i;Oe!==null;)a=Oe,l=a.child,a.tag===22&&a.memoizedState!==null?Km(i):l!==null?(l.return=a,Oe=l):Km(i);for(;s!==null;)Oe=s,rw(s),s=s.sibling;Oe=i,ih=o,an=u}Vm(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Oe=s):Vm(t)}}function Vm(t){for(;Oe!==null;){var e=Oe;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:an||Rd(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!an)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:mi(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Lm(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Lm(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&Lu(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(je(163))}an||e.flags&512&&x0(e)}catch(v){ur(e,e.return,v)}}if(e===t){Oe=null;break}if(r=e.sibling,r!==null){r.return=e.return,Oe=r;break}Oe=e.return}}function Gm(t){for(;Oe!==null;){var e=Oe;if(e===t){Oe=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Oe=r;break}Oe=e.return}}function Km(t){for(;Oe!==null;){var e=Oe;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Rd(4,e)}catch(l){ur(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){ur(e,i,l)}}var s=e.return;try{x0(e)}catch(l){ur(e,s,l)}break;case 5:var a=e.return;try{x0(e)}catch(l){ur(e,a,l)}}}catch(l){ur(e,e.return,l)}if(e===t){Oe=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Oe=o;break}Oe=e.return}}var V3=Math.ceil,ad=_s.ReactCurrentDispatcher,M1=_s.ReactCurrentOwner,ti=_s.ReactCurrentBatchConfig,Et=0,Mr=null,Sr=null,Yr=0,Fn=0,Go=fa(0),Ir=0,zu=null,Xa=0,Id=0,U1=0,yu=null,bn=null,z1=0,pl=1/0,us=null,od=!1,k0=null,ia=null,sh=!1,Ys=null,ld=0,wu=0,A0=null,Th=-1,Rh=0;function gn(){return Et&6?gr():Th!==-1?Th:Th=gr()}function sa(t){return t.mode&1?Et&2&&Yr!==0?Yr&-Yr:C3.transition!==null?(Rh===0&&(Rh=U5()),Rh):(t=Bt,t!==0||(t=window.event,t=t===void 0?16:G5(t.type)),t):1}function _i(t,e,r,n){if(50<wu)throw wu=0,A0=null,Error(je(185));ec(t,r,n),(!(Et&2)||t!==Mr)&&(t===Mr&&(!(Et&2)&&(Id|=r),Ir===4&&Gs(t,Yr)),kn(t,n),r===1&&Et===0&&!(e.mode&1)&&(pl=gr()+500,Ld&&pa()))}function kn(t,e){var r=t.callbackNode;C_(t,e);var n=Hh(t,t===Mr?Yr:0);if(n===0)r!==null&&nm(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&nm(r),e===1)t.tag===0?E3(Jm.bind(null,t)):dy(Jm.bind(null,t)),k3(function(){!(Et&6)&&pa()}),r=null;else{switch(z5(n)){case 1:r=f1;break;case 4:r=B5;break;case 16:r=Wh;break;case 536870912:r=M5;break;default:r=Wh}r=cw(r,nw.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function nw(t,e){if(Th=-1,Rh=0,Et&6)throw Error(je(327));var r=t.callbackNode;if(tl()&&t.callbackNode!==r)return null;var n=Hh(t,t===Mr?Yr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ud(t,n);else{e=n;var i=Et;Et|=2;var s=sw();(Mr!==t||Yr!==e)&&(us=null,pl=gr()+500,Ha(t,e));do try{J3();break}catch(o){iw(t,o)}while(!0);N1(),ad.current=s,Et=i,Sr!==null?e=0:(Mr=null,Yr=0,e=Ir)}if(e!==0){if(e===2&&(i=Qp(t),i!==0&&(n=i,e=N0(t,i))),e===1)throw r=zu,Ha(t,0),Gs(t,n),kn(t,gr()),r;if(e===6)Gs(t,n);else{if(i=t.current.alternate,!(n&30)&&!G3(i)&&(e=ud(t,n),e===2&&(s=Qp(t),s!==0&&(n=s,e=N0(t,s))),e===1))throw r=zu,Ha(t,0),Gs(t,n),kn(t,gr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(je(345));case 2:Oa(t,bn,us);break;case 3:if(Gs(t,n),(n&130023424)===n&&(e=z1+500-gr(),10<e)){if(Hh(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){gn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=a0(Oa.bind(null,t,bn,us),e);break}Oa(t,bn,us);break;case 4:if(Gs(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-xi(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=gr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*V3(n/1960))-n,10<n){t.timeoutHandle=a0(Oa.bind(null,t,bn,us),n);break}Oa(t,bn,us);break;case 5:Oa(t,bn,us);break;default:throw Error(je(329))}}}return kn(t,gr()),t.callbackNode===r?nw.bind(null,t):null}function N0(t,e){var r=yu;return t.current.memoizedState.isDehydrated&&(Ha(t,e).flags|=256),t=ud(t,e),t!==2&&(e=bn,bn=r,e!==null&&j0(e)),t}function j0(t){bn===null?bn=t:bn.push.apply(bn,t)}function G3(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Si(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gs(t,e){for(e&=~U1,e&=~Id,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-xi(e),n=1<<r;t[r]=-1,e&=~n}}function Jm(t){if(Et&6)throw Error(je(327));tl();var e=Hh(t,0);if(!(e&1))return kn(t,gr()),null;var r=ud(t,e);if(t.tag!==0&&r===2){var n=Qp(t);n!==0&&(e=n,r=N0(t,n))}if(r===1)throw r=zu,Ha(t,0),Gs(t,e),kn(t,gr()),r;if(r===6)throw Error(je(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Oa(t,bn,us),kn(t,gr()),null}function q1(t,e){var r=Et;Et|=1;try{return t(e)}finally{Et=r,Et===0&&(pl=gr()+500,Ld&&pa())}}function Qa(t){Ys!==null&&Ys.tag===0&&!(Et&6)&&tl();var e=Et;Et|=1;var r=ti.transition,n=Bt;try{if(ti.transition=null,Bt=1,t)return t()}finally{Bt=n,ti.transition=r,Et=e,!(Et&6)&&pa()}}function $1(){Fn=Go.current,Yt(Go)}function Ha(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,S3(r)),Sr!==null)for(r=Sr.return;r!==null;){var n=r;switch(S1(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Yh();break;case 3:dl(),Yt(_n),Yt(on),T1();break;case 5:P1(n);break;case 4:dl();break;case 13:Yt(tr);break;case 19:Yt(tr);break;case 10:j1(n.type._context);break;case 22:case 23:$1()}r=r.return}if(Mr=t,Sr=t=aa(t.current,null),Yr=Fn=e,Ir=0,zu=null,U1=Id=Xa=0,bn=yu=null,qa!==null){for(e=0;e<qa.length;e++)if(r=qa[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}qa=null}return t}function iw(t,e){do{var r=Sr;try{if(N1(),Ch.current=sd,id){for(var n=rr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}id=!1}if(Ya=0,Dr=Rr=rr=null,mu=!1,Bu=0,M1.current=null,r===null||r.return===null){Ir=1,zu=e,Sr=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=Yr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=o,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var v=h.alternate;v?(h.updateQueue=v.updateQueue,h.memoizedState=v.memoizedState,h.lanes=v.lanes):(h.updateQueue=null,h.memoizedState=null)}var f=Fm(a);if(f!==null){f.flags&=-257,Dm(f,a,o,s,e),f.mode&1&&Om(s,u,e),e=f,l=u;var _=e.updateQueue;if(_===null){var x=new Set;x.add(l),e.updateQueue=x}else _.add(l);break e}else{if(!(e&1)){Om(s,u,e),W1();break e}l=Error(je(426))}}else if(Qt&&o.mode&1){var A=Fm(a);if(A!==null){!(A.flags&65536)&&(A.flags|=256),Dm(A,a,o,s,e),k1(fl(l,o));break e}}s=l=fl(l,o),Ir!==4&&(Ir=2),yu===null?yu=[s]:yu.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=zy(s,l,e);Cm(s,w);break e;case 1:o=l;var S=s.type,k=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(ia===null||!ia.has(k)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=qy(s,o,e);Cm(s,E);break e}}s=s.return}while(s!==null)}ow(r)}catch(H){e=H,Sr===r&&r!==null&&(Sr=r=r.return);continue}break}while(!0)}function sw(){var t=ad.current;return ad.current=sd,t===null?sd:t}function W1(){(Ir===0||Ir===3||Ir===2)&&(Ir=4),Mr===null||!(Xa&268435455)&&!(Id&268435455)||Gs(Mr,Yr)}function ud(t,e){var r=Et;Et|=2;var n=sw();(Mr!==t||Yr!==e)&&(us=null,Ha(t,e));do try{K3();break}catch(i){iw(t,i)}while(!0);if(N1(),Et=r,ad.current=n,Sr!==null)throw Error(je(261));return Mr=null,Yr=0,Ir}function K3(){for(;Sr!==null;)aw(Sr)}function J3(){for(;Sr!==null&&!b_();)aw(Sr)}function aw(t){var e=uw(t.alternate,t,Fn);t.memoizedProps=t.pendingProps,e===null?ow(t):Sr=e,M1.current=null}function ow(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=q3(r,e),r!==null){r.flags&=32767,Sr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ir=6,Sr=null;return}}else if(r=z3(r,e,Fn),r!==null){Sr=r;return}if(e=e.sibling,e!==null){Sr=e;return}Sr=e=t}while(e!==null);Ir===0&&(Ir=5)}function Oa(t,e,r){var n=Bt,i=ti.transition;try{ti.transition=null,Bt=1,Y3(t,e,r,n)}finally{ti.transition=i,Bt=n}return null}function Y3(t,e,r,n){do tl();while(Ys!==null);if(Et&6)throw Error(je(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(je(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(L_(t,s),t===Mr&&(Sr=Mr=null,Yr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||sh||(sh=!0,cw(Wh,function(){return tl(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=ti.transition,ti.transition=null;var a=Bt;Bt=1;var o=Et;Et|=4,M1.current=null,W3(t,r),tw(r,t),m3(i0),Vh=!!n0,i0=n0=null,t.current=r,H3(r),x_(),Et=o,Bt=a,ti.transition=s}else t.current=r;if(sh&&(sh=!1,Ys=t,ld=i),s=t.pendingLanes,s===0&&(ia=null),k_(r.stateNode),kn(t,gr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(od)throw od=!1,t=k0,k0=null,t;return ld&1&&t.tag!==0&&tl(),s=t.pendingLanes,s&1?t===A0?wu++:(wu=0,A0=t):wu=0,pa(),null}function tl(){if(Ys!==null){var t=z5(ld),e=ti.transition,r=Bt;try{if(ti.transition=null,Bt=16>t?16:t,Ys===null)var n=!1;else{if(t=Ys,Ys=null,ld=0,Et&6)throw Error(je(331));var i=Et;for(Et|=4,Oe=t.current;Oe!==null;){var s=Oe,a=s.child;if(Oe.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Oe=u;Oe!==null;){var h=Oe;switch(h.tag){case 0:case 11:case 15:vu(8,h,s)}var p=h.child;if(p!==null)p.return=h,Oe=p;else for(;Oe!==null;){h=Oe;var v=h.sibling,f=h.return;if(Qy(h),h===u){Oe=null;break}if(v!==null){v.return=f,Oe=v;break}Oe=f}}}var _=s.alternate;if(_!==null){var x=_.child;if(x!==null){_.child=null;do{var A=x.sibling;x.sibling=null,x=A}while(x!==null)}}Oe=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Oe=a;else e:for(;Oe!==null;){if(s=Oe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:vu(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,Oe=w;break e}Oe=s.return}}var S=t.current;for(Oe=S;Oe!==null;){a=Oe;var k=a.child;if(a.subtreeFlags&2064&&k!==null)k.return=a,Oe=k;else e:for(a=S;Oe!==null;){if(o=Oe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Rd(9,o)}}catch(H){ur(o,o.return,H)}if(o===a){Oe=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,Oe=E;break e}Oe=o.return}}if(Et=i,pa(),$i&&typeof $i.onPostCommitFiberRoot=="function")try{$i.onPostCommitFiberRoot(Ad,t)}catch{}n=!0}return n}finally{Bt=r,ti.transition=e}}return!1}function Ym(t,e,r){e=fl(r,e),e=zy(t,e,1),t=na(t,e,1),e=gn(),t!==null&&(ec(t,1,e),kn(t,e))}function ur(t,e,r){if(t.tag===3)Ym(t,t,r);else for(;e!==null;){if(e.tag===3){Ym(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ia===null||!ia.has(n))){t=fl(r,t),t=qy(e,t,1),e=na(e,t,1),t=gn(),e!==null&&(ec(e,1,t),kn(e,t));break}}e=e.return}}function X3(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=gn(),t.pingedLanes|=t.suspendedLanes&r,Mr===t&&(Yr&r)===r&&(Ir===4||Ir===3&&(Yr&130023424)===Yr&&500>gr()-z1?Ha(t,0):U1|=r),kn(t,e)}function lw(t,e){e===0&&(t.mode&1?(e=Jc,Jc<<=1,!(Jc&130023424)&&(Jc=4194304)):e=1);var r=gn();t=ws(t,e),t!==null&&(ec(t,e,r),kn(t,r))}function Q3(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),lw(t,r)}function Z3(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(je(314))}n!==null&&n.delete(e),lw(t,r)}var uw;uw=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||_n.current)xn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return xn=!1,U3(t,e,r);xn=!!(t.flags&131072)}else xn=!1,Qt&&e.flags&1048576&&fy(e,Zh,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ph(t,e),t=e.pendingProps;var i=ul(e,on.current);el(e,r),i=I1(null,e,n,t,i,r);var s=O1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Sn(n)?(s=!0,Xh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,C1(e),i.updater=Td,e.stateNode=i,i._reactInternals=e,f0(e,n,t,r),e=m0(null,e,n,!0,s,r)):(e.tag=0,Qt&&s&&_1(e),pn(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Ph(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=t4(n),t=mi(n,t),i){case 0:e=g0(null,e,n,t,r);break e;case 1:e=Um(null,e,n,t,r);break e;case 11:e=Bm(null,e,n,t,r);break e;case 14:e=Mm(null,e,n,mi(n.type,t),r);break e}throw Error(je(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:mi(n,i),g0(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:mi(n,i),Um(t,e,n,i,r);case 3:e:{if(Vy(e),t===null)throw Error(je(387));n=e.pendingProps,s=e.memoizedState,i=s.element,wy(t,e),rd(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=fl(Error(je(423)),e),e=zm(t,e,n,r,i);break e}else if(n!==i){i=fl(Error(je(424)),e),e=zm(t,e,n,r,i);break e}else for(Bn=ra(e.stateNode.containerInfo.firstChild),Un=e,Qt=!0,bi=null,r=vy(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(cl(),n===i){e=bs(t,e,r);break e}pn(t,e,n,r)}e=e.child}return e;case 5:return by(e),t===null&&c0(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,s0(n,i)?a=null:s!==null&&s0(n,s)&&(e.flags|=32),Hy(t,e),pn(t,e,a,r),e.child;case 6:return t===null&&c0(e),null;case 13:return Gy(t,e,r);case 4:return L1(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=hl(e,null,n,r):pn(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:mi(n,i),Bm(t,e,n,i,r);case 7:return pn(t,e,e.pendingProps,r),e.child;case 8:return pn(t,e,e.pendingProps.children,r),e.child;case 12:return pn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Vt(ed,n._currentValue),n._currentValue=a,s!==null)if(Si(s.value,a)){if(s.children===i.children&&!_n.current){e=bs(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=ms(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),h0(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(je(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),h0(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}pn(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,el(e,r),i=ri(i),n=n(i),e.flags|=1,pn(t,e,n,r),e.child;case 14:return n=e.type,i=mi(n,e.pendingProps),i=mi(n.type,i),Mm(t,e,n,i,r);case 15:return $y(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:mi(n,i),Ph(t,e),e.tag=1,Sn(n)?(t=!0,Xh(e)):t=!1,el(e,r),Uy(e,n,i),f0(e,n,i,r),m0(null,e,n,!0,t,r);case 19:return Ky(t,e,r);case 22:return Wy(t,e,r)}throw Error(je(156,e.tag))};function cw(t,e){return D5(t,e)}function e4(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ei(t,e,r,n){return new e4(t,e,r,n)}function H1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function t4(t){if(typeof t=="function")return H1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===c1)return 11;if(t===h1)return 14}return 2}function aa(t,e){var r=t.alternate;return r===null?(r=ei(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ih(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")H1(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Do:return Va(r.children,i,s,e);case u1:a=8,i|=8;break;case Dp:return t=ei(12,r,e,i|2),t.elementType=Dp,t.lanes=s,t;case Bp:return t=ei(13,r,e,i),t.elementType=Bp,t.lanes=s,t;case Mp:return t=ei(19,r,e,i),t.elementType=Mp,t.lanes=s,t;case b5:return Od(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case y5:a=10;break e;case w5:a=9;break e;case c1:a=11;break e;case h1:a=14;break e;case $s:a=16,n=null;break e}throw Error(je(130,t==null?t:typeof t,""))}return e=ei(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Va(t,e,r,n){return t=ei(7,t,n,e),t.lanes=r,t}function Od(t,e,r,n){return t=ei(22,t,n,e),t.elementType=b5,t.lanes=r,t.stateNode={isHidden:!1},t}function Qf(t,e,r){return t=ei(6,t,null,e),t.lanes=r,t}function Zf(t,e,r){return e=ei(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function r4(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rf(0),this.expirationTimes=Rf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rf(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function V1(t,e,r,n,i,s,a,o,l){return t=new r4(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ei(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},C1(s),t}function n4(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fo,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function hw(t){if(!t)return ca;t=t._reactInternals;e:{if(ro(t)!==t||t.tag!==1)throw Error(je(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(je(171))}if(t.tag===1){var r=t.type;if(Sn(r))return hy(t,r,e)}return e}function dw(t,e,r,n,i,s,a,o,l){return t=V1(r,n,!0,t,i,s,a,o,l),t.context=hw(null),r=t.current,n=gn(),i=sa(r),s=ms(n,i),s.callback=e??null,na(r,s,i),t.current.lanes=i,ec(t,i,n),kn(t,n),t}function Fd(t,e,r,n){var i=e.current,s=gn(),a=sa(i);return r=hw(r),e.context===null?e.context=r:e.pendingContext=r,e=ms(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=na(i,e,a),t!==null&&(_i(t,i,a,s),Eh(t,i,a)),a}function cd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Xm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function G1(t,e){Xm(t,e),(t=t.alternate)&&Xm(t,e)}function i4(){return null}var fw=typeof reportError=="function"?reportError:function(t){console.error(t)};function K1(t){this._internalRoot=t}Dd.prototype.render=K1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(je(409));Fd(t,e,null,null)};Dd.prototype.unmount=K1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qa(function(){Fd(null,t,null,null)}),e[ys]=null}};function Dd(t){this._internalRoot=t}Dd.prototype.unstable_scheduleHydration=function(t){if(t){var e=W5();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Vs.length&&e!==0&&e<Vs[r].priority;r++);Vs.splice(r,0,t),r===0&&V5(t)}};function J1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Qm(){}function s4(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=cd(a);s.call(u)}}var a=dw(e,n,t,0,null,!1,!1,"",Qm);return t._reactRootContainer=a,t[ys]=a.current,Ru(t.nodeType===8?t.parentNode:t),Qa(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=cd(l);o.call(u)}}var l=V1(t,0,!1,null,null,!1,!1,"",Qm);return t._reactRootContainer=l,t[ys]=l.current,Ru(t.nodeType===8?t.parentNode:t),Qa(function(){Fd(e,l,r,n)}),l}function Md(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=cd(a);o.call(l)}}Fd(e,a,t,i)}else a=s4(r,e,t,i,n);return cd(a)}q5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=lu(e.pendingLanes);r!==0&&(p1(e,r|1),kn(e,gr()),!(Et&6)&&(pl=gr()+500,pa()))}break;case 13:Qa(function(){var n=ws(t,1);if(n!==null){var i=gn();_i(n,t,1,i)}}),G1(t,1)}};g1=function(t){if(t.tag===13){var e=ws(t,134217728);if(e!==null){var r=gn();_i(e,t,134217728,r)}G1(t,134217728)}};$5=function(t){if(t.tag===13){var e=sa(t),r=ws(t,e);if(r!==null){var n=gn();_i(r,t,e,n)}G1(t,e)}};W5=function(){return Bt};H5=function(t,e){var r=Bt;try{return Bt=t,e()}finally{Bt=r}};Jp=function(t,e,r){switch(e){case"input":if(qp(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Cd(n);if(!i)throw Error(je(90));_5(n),qp(n,i)}}}break;case"textarea":k5(t,r);break;case"select":e=r.value,e!=null&&Yo(t,!!r.multiple,e,!1)}};P5=q1;T5=Qa;var a4={usingClientEntryPoint:!1,Events:[rc,zo,Cd,C5,L5,q1]},ru={findFiberByHostInstance:za,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},o4={bundleType:ru.bundleType,version:ru.version,rendererPackageName:ru.rendererPackageName,rendererConfig:ru.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_s.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=O5(t),t===null?null:t.stateNode},findFiberByHostInstance:ru.findFiberByHostInstance||i4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ah.isDisabled&&ah.supportsFiber)try{Ad=ah.inject(o4),$i=ah}catch{}}qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a4;qn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!J1(e))throw Error(je(200));return n4(t,e,null,r)};qn.createRoot=function(t,e){if(!J1(t))throw Error(je(299));var r=!1,n="",i=fw;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=V1(t,1,!1,null,null,r,!1,n,i),t[ys]=e.current,Ru(t.nodeType===8?t.parentNode:t),new K1(e)};qn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(je(188)):(t=Object.keys(t).join(","),Error(je(268,t)));return t=O5(e),t=t===null?null:t.stateNode,t};qn.flushSync=function(t){return Qa(t)};qn.hydrate=function(t,e,r){if(!Bd(e))throw Error(je(200));return Md(null,t,e,!0,r)};qn.hydrateRoot=function(t,e,r){if(!J1(t))throw Error(je(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=fw;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=dw(e,null,t,1,r??null,i,!1,s,a),t[ys]=e.current,Ru(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Dd(e)};qn.render=function(t,e,r){if(!Bd(e))throw Error(je(200));return Md(null,t,e,!1,r)};qn.unmountComponentAtNode=function(t){if(!Bd(t))throw Error(je(40));return t._reactRootContainer?(Qa(function(){Md(null,null,t,!1,function(){t._reactRootContainer=null,t[ys]=null})}),!0):!1};qn.unstable_batchedUpdates=q1;qn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Bd(r))throw Error(je(200));if(t==null||t._reactInternals===void 0)throw Error(je(38));return Md(t,e,r,!1,n)};qn.version="18.3.1-next-f1338f8080-20240426";function pw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pw)}catch(t){console.error(t)}}pw(),p5.exports=qn;var l4=p5.exports,Zm=l4;Op.createRoot=Zm.createRoot,Op.hydrateRoot=Zm.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qu(){return qu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qu.apply(this,arguments)}var Xs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Xs||(Xs={}));const e2="popstate";function u4(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return E0("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:hd(i)}return h4(e,r,null,t)}function kr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Y1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function c4(){return Math.random().toString(36).substr(2,8)}function t2(t,e){return{usr:t.state,key:t.key,idx:e}}function E0(t,e,r,n){return r===void 0&&(r=null),qu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?yl(e):e,{state:r,key:e&&e.key||n||c4()})}function hd(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function yl(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function h4(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=Xs.Pop,l=null,u=h();u==null&&(u=0,a.replaceState(qu({},a.state,{idx:u}),""));function h(){return(a.state||{idx:null}).idx}function p(){o=Xs.Pop;let A=h(),w=A==null?null:A-u;u=A,l&&l({action:o,location:x.location,delta:w})}function v(A,w){o=Xs.Push;let S=E0(x.location,A,w);u=h()+1;let k=t2(S,u),E=x.createHref(S);try{a.pushState(k,"",E)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;i.location.assign(E)}s&&l&&l({action:o,location:x.location,delta:1})}function f(A,w){o=Xs.Replace;let S=E0(x.location,A,w);u=h();let k=t2(S,u),E=x.createHref(S);a.replaceState(k,"",E),s&&l&&l({action:o,location:x.location,delta:0})}function _(A){let w=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof A=="string"?A:hd(A);return S=S.replace(/ $/,"%20"),kr(w,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,w)}let x={get action(){return o},get location(){return t(i,a)},listen(A){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(e2,p),l=A,()=>{i.removeEventListener(e2,p),l=null}},createHref(A){return e(i,A)},createURL:_,encodeLocation(A){let w=_(A);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:v,replace:f,go(A){return a.go(A)}};return x}var r2;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(r2||(r2={}));function d4(t,e,r){return r===void 0&&(r="/"),f4(t,e,r)}function f4(t,e,r,n){let i=typeof e=="string"?yl(e):e,s=X1(i.pathname||"/",r);if(s==null)return null;let a=gw(t);p4(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=N4(s);o=S4(a[l],u)}return o}function gw(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(kr(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=oa([n,l.relativePath]),h=r.concat(l);s.children&&s.children.length>0&&(kr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),gw(s.children,e,h,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:x4(u,s.index),routesMeta:h})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of mw(s.path))i(s,a,l)}),e}function mw(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=mw(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function p4(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:_4(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const g4=/^:[\w-]+$/,m4=3,v4=2,y4=1,w4=10,b4=-2,n2=t=>t==="*";function x4(t,e){let r=t.split("/"),n=r.length;return r.some(n2)&&(n+=b4),e&&(n+=v4),r.filter(i=>!n2(i)).reduce((i,s)=>i+(g4.test(s)?m4:s===""?y4:w4),n)}function _4(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function S4(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,h=s==="/"?e:e.slice(s.length)||"/",p=k4({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),v=l.route;if(!p)return null;Object.assign(i,p.params),a.push({params:i,pathname:oa([s,p.pathname]),pathnameBase:P4(oa([s,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(s=oa([s,p.pathnameBase]))}return a}function k4(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=A4(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,h,p)=>{let{paramName:v,isOptional:f}=h;if(v==="*"){let x=o[p]||"";a=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const _=o[p];return f&&!_?u[v]=void 0:u[v]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function A4(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Y1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function N4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Y1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function X1(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const j4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,E4=t=>j4.test(t);function C4(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?yl(t):t,s;if(r)if(E4(r))s=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),Y1(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?s=i2(r.substring(1),"/"):s=i2(r,e)}else s=e;return{pathname:s,search:T4(n),hash:R4(i)}}function i2(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function ep(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function L4(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function vw(t,e){let r=L4(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function yw(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=yl(t):(i=qu({},t),kr(!i.pathname||!i.pathname.includes("?"),ep("?","pathname","search",i)),kr(!i.pathname||!i.pathname.includes("#"),ep("#","pathname","hash",i)),kr(!i.search||!i.search.includes("#"),ep("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let p=e.length-1;if(!n&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),p-=1;i.pathname=v.join("/")}o=p>=0?e[p]:"/"}let l=C4(i,o),u=a&&a!=="/"&&a.endsWith("/"),h=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const oa=t=>t.join("/").replace(/\/\/+/g,"/"),P4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),T4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,R4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function I4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ww=["post","put","patch","delete"];new Set(ww);const O4=["get",...ww];new Set(O4);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $u(){return $u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$u.apply(this,arguments)}const Q1=fe.createContext(null),F4=fe.createContext(null),no=fe.createContext(null),Ud=fe.createContext(null),io=fe.createContext({outlet:null,matches:[],isDataRoute:!1}),bw=fe.createContext(null);function D4(t,e){let{relative:r}=e===void 0?{}:e;ic()||kr(!1);let{basename:n,navigator:i}=fe.useContext(no),{hash:s,pathname:a,search:o}=_w(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:oa([n,a])),i.createHref({pathname:l,search:o,hash:s})}function ic(){return fe.useContext(Ud)!=null}function zd(){return ic()||kr(!1),fe.useContext(Ud).location}function xw(t){fe.useContext(no).static||fe.useLayoutEffect(t)}function Z1(){let{isDataRoute:t}=fe.useContext(io);return t?Y4():B4()}function B4(){ic()||kr(!1);let t=fe.useContext(Q1),{basename:e,future:r,navigator:n}=fe.useContext(no),{matches:i}=fe.useContext(io),{pathname:s}=zd(),a=JSON.stringify(vw(i,r.v7_relativeSplatPath)),o=fe.useRef(!1);return xw(()=>{o.current=!0}),fe.useCallback(function(u,h){if(h===void 0&&(h={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let p=yw(u,JSON.parse(a),s,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:oa([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,a,s,t])}function _w(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=fe.useContext(no),{matches:i}=fe.useContext(io),{pathname:s}=zd(),a=JSON.stringify(vw(i,n.v7_relativeSplatPath));return fe.useMemo(()=>yw(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function M4(t,e){return U4(t,e)}function U4(t,e,r,n){ic()||kr(!1);let{navigator:i}=fe.useContext(no),{matches:s}=fe.useContext(io),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=zd(),h;if(e){var p;let A=typeof e=="string"?yl(e):e;l==="/"||(p=A.pathname)!=null&&p.startsWith(l)||kr(!1),h=A}else h=u;let v=h.pathname||"/",f=v;if(l!=="/"){let A=l.replace(/^\//,"").split("/");f="/"+v.replace(/^\//,"").split("/").slice(A.length).join("/")}let _=d4(t,{pathname:f}),x=H4(_&&_.map(A=>Object.assign({},A,{params:Object.assign({},o,A.params),pathname:oa([l,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?l:oa([l,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),s,r,n);return e&&x?fe.createElement(Ud.Provider,{value:{location:$u({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Xs.Pop}},x):x}function z4(){let t=J4(),e=I4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return fe.createElement(fe.Fragment,null,fe.createElement("h2",null,"Unexpected Application Error!"),fe.createElement("h3",{style:{fontStyle:"italic"}},e),r?fe.createElement("pre",{style:i},r):null,null)}const q4=fe.createElement(z4,null);class $4 extends fe.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?fe.createElement(io.Provider,{value:this.props.routeContext},fe.createElement(bw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function W4(t){let{routeContext:e,match:r,children:n}=t,i=fe.useContext(Q1);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),fe.createElement(io.Provider,{value:e},n)}function H4(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let h=a.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);h>=0||kr(!1),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:v,errors:f}=r,_=p.route.loader&&v[p.route.id]===void 0&&(!f||f[p.route.id]===void 0);if(p.route.lazy||_){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,p,v)=>{let f,_=!1,x=null,A=null;r&&(f=o&&p.route.id?o[p.route.id]:void 0,x=p.route.errorElement||q4,l&&(u<0&&v===0?(X4("route-fallback"),_=!0,A=null):u===v&&(_=!0,A=p.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,v+1)),S=()=>{let k;return f?k=x:_?k=A:p.route.Component?k=fe.createElement(p.route.Component,null):p.route.element?k=p.route.element:k=h,fe.createElement(W4,{match:p,routeContext:{outlet:h,matches:w,isDataRoute:r!=null},children:k})};return r&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?fe.createElement($4,{location:r.location,revalidation:r.revalidation,component:x,error:f,children:S(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):S()},null)}var Sw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Sw||{}),kw=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(kw||{});function V4(t){let e=fe.useContext(Q1);return e||kr(!1),e}function G4(t){let e=fe.useContext(F4);return e||kr(!1),e}function K4(t){let e=fe.useContext(io);return e||kr(!1),e}function Aw(t){let e=K4(),r=e.matches[e.matches.length-1];return r.route.id||kr(!1),r.route.id}function J4(){var t;let e=fe.useContext(bw),r=G4(),n=Aw();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Y4(){let{router:t}=V4(Sw.UseNavigateStable),e=Aw(kw.UseNavigateStable),r=fe.useRef(!1);return xw(()=>{r.current=!0}),fe.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,$u({fromRouteId:e},s)))},[t,e])}const s2={};function X4(t,e,r){s2[t]||(s2[t]=!0)}function Q4(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Bi(t){kr(!1)}function Z4(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Xs.Pop,navigator:s,static:a=!1,future:o}=t;ic()&&kr(!1);let l=e.replace(/^\/*/,"/"),u=fe.useMemo(()=>({basename:l,navigator:s,static:a,future:$u({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=yl(n));let{pathname:h="/",search:p="",hash:v="",state:f=null,key:_="default"}=n,x=fe.useMemo(()=>{let A=X1(h,l);return A==null?null:{location:{pathname:A,search:p,hash:v,state:f,key:_},navigationType:i}},[l,h,p,v,f,_,i]);return x==null?null:fe.createElement(no.Provider,{value:u},fe.createElement(Ud.Provider,{children:r,value:x}))}function eS(t){let{children:e,location:r}=t;return M4(C0(e),r)}new Promise(()=>{});function C0(t,e){e===void 0&&(e=[]);let r=[];return fe.Children.forEach(t,(n,i)=>{if(!fe.isValidElement(n))return;let s=[...e,i];if(n.type===fe.Fragment){r.push.apply(r,C0(n.props.children,s));return}n.type!==Bi&&kr(!1),!n.props.index||!n.props.children||kr(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=C0(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function L0(){return L0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},L0.apply(this,arguments)}function tS(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function rS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function nS(t,e){return t.button===0&&(!e||e==="_self")&&!rS(t)}const iS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],sS="6";try{window.__reactRouterVersion=sS}catch{}const aS="startTransition",a2=Xx[aS];function oS(t){let{basename:e,children:r,future:n,window:i}=t,s=fe.useRef();s.current==null&&(s.current=u4({window:i,v5Compat:!0}));let a=s.current,[o,l]=fe.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},h=fe.useCallback(p=>{u&&a2?a2(()=>l(p)):l(p)},[l,u]);return fe.useLayoutEffect(()=>a.listen(h),[a,h]),fe.useEffect(()=>Q4(n),[n]),fe.createElement(Z4,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const lS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pr=fe.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:h,viewTransition:p}=e,v=tS(e,iS),{basename:f}=fe.useContext(no),_,x=!1;if(typeof u=="string"&&uS.test(u)&&(_=u,lS))try{let k=new URL(window.location.href),E=u.startsWith("//")?new URL(k.protocol+u):new URL(u),H=X1(E.pathname,f);E.origin===k.origin&&H!=null?u=H+E.search+E.hash:x=!0}catch{}let A=D4(u,{relative:i}),w=cS(u,{replace:a,state:o,target:l,preventScrollReset:h,relative:i,viewTransition:p});function S(k){n&&n(k),k.defaultPrevented||w(k)}return fe.createElement("a",L0({},v,{href:_||A,onClick:x||s?n:S,ref:r,target:l}))});var o2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(o2||(o2={}));var l2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(l2||(l2={}));function cS(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=Z1(),u=zd(),h=_w(t,{relative:a});return fe.useCallback(p=>{if(nS(p,r)){p.preventDefault();let v=n!==void 0?n:hd(u)===hd(h);l(t,{replace:v,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[u,l,h,n,i,r,t,s,a,o])}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Mt=(t,e)=>{const r=fe.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...u},h)=>fe.createElement("svg",{ref:h,...hS,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${dS(t)}`,o].join(" "),...u},[...e.map(([p,v])=>fe.createElement(p,v)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=Mt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=Mt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=Mt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=Mt("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=Mt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=Mt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=Mt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=Mt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=Mt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=Mt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=Mt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=Mt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=Mt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=Mt("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=Mt("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=Mt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=Mt("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=Mt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=Mt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=Mt("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=Mt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=Mt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=Mt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=Mt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=Mt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=Mt("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=Mt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=Mt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=Mt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function qd(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function CS(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(h){try{u(n.next(h))}catch(p){a(p)}}function l(h){try{u(n.throw(h))}catch(p){a(p)}}function u(h){h.done?s(h.value):i(h.value).then(o,l)}u((n=n.apply(t,e||[])).next())})}const LS=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class eg extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class PS extends eg{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class d2 extends eg{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class f2 extends eg{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var T0;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(T0||(T0={}));class TS{constructor(e,{headers:r={},customFetch:n,region:i=T0.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=LS(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return CS(this,arguments,void 0,function*(r,n={}){var i;let s,a;try{const{headers:o,method:l,body:u,signal:h,timeout:p}=n;let v={},{region:f}=n;f||(f=this.region);const _=new URL(`${this.url}/${r}`);f&&f!=="any"&&(v["x-region"]=f,_.searchParams.set("forceFunctionRegion",f));let x;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",x=u):typeof u=="string"?(v["Content-Type"]="text/plain",x=u):typeof FormData<"u"&&u instanceof FormData?x=u:(v["Content-Type"]="application/json",x=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?x=JSON.stringify(u):x=u;let A=h;p&&(a=new AbortController,s=setTimeout(()=>a.abort(),p),h?(A=a.signal,h.addEventListener("abort",()=>a.abort())):A=a.signal);const w=yield this.fetch(_.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),o),body:x,signal:A}).catch(H=>{throw new PS(H)}),S=w.headers.get("x-relay-error");if(S&&S==="true")throw new d2(w);if(!w.ok)throw new f2(w);let k=((i=w.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),E;return k==="application/json"?E=yield w.json():k==="application/octet-stream"||k==="application/pdf"?E=yield w.blob():k==="text/event-stream"?E=w:k==="multipart/form-data"?E=yield w.formData():E=yield w.text(),{data:E,error:null,response:w}}catch(o){return{data:null,error:o,response:o instanceof f2||o instanceof d2?o.context:void 0}}finally{s&&clearTimeout(s)}})}}var RS=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},IS=class{constructor(t){var e,r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=t.urlLengthLimit)!==null&&n!==void 0?n:8e3,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let a=null,o=null,l=null,u=s.status,h=s.statusText;if(s.ok){var p,v;if(r.method!=="HEAD"){var f;const w=await s.text();w===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((f=r.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?o=w:o=JSON.parse(w))}const x=(p=r.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),A=(v=s.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");x&&A&&A.length>1&&(l=parseInt(A[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,u=406,h="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var _;const x=await s.text();try{a=JSON.parse(x),Array.isArray(a)&&s.status===404&&(o=[],a=null,u=200,h="OK")}catch{s.status===404&&x===""?(u=204,h="No Content"):a={message:x}}if(a&&r.isMaybeSingle&&(!(a==null||(_=a.details)===null||_===void 0)&&_.includes("0 rows"))&&(a=null,u=200,h="OK"),a&&r.shouldThrowOnError)throw new RS(a)}return{error:a,data:o,count:l,status:u,statusText:h}});return this.shouldThrowOnError||(i=i.catch(s=>{var a;let o="",l="",u="";const h=s==null?void 0:s.cause;if(h){var p,v,f,_;const w=(p=h==null?void 0:h.message)!==null&&p!==void 0?p:"",S=(v=h==null?void 0:h.code)!==null&&v!==void 0?v:"";o=`${(f=s==null?void 0:s.name)!==null&&f!==void 0?f:"FetchError"}: ${s==null?void 0:s.message}`,o+=`

Caused by: ${(_=h==null?void 0:h.name)!==null&&_!==void 0?_:"Error"}: ${w}`,S&&(o+=` (${S})`),h!=null&&h.stack&&(o+=`
${h.stack}`)}else{var x;o=(x=s==null?void 0:s.stack)!==null&&x!==void 0?x:""}const A=this.url.toString().length;return(s==null?void 0:s.name)==="AbortError"||(s==null?void 0:s.code)==="ABORT_ERR"?(u="",l="Request was aborted (timeout or manual cancellation)",A>this.urlLengthLimit&&(l+=`. Note: Your request URL is ${A} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((h==null?void 0:h.name)==="HeadersOverflowError"||(h==null?void 0:h.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",l="HTTP headers exceeded server limits (typically 16KB)",A>this.urlLengthLimit&&(l+=`. Your request URL is ${A} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:o,hint:l,code:u},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},OS=class extends IS{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:s="text"}={}){var a;const o=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${o};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const p2=new RegExp("[,()]");var Po=class extends OS{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&p2.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&p2.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},FS=class{constructor(t,{headers:e={},schema:r,fetch:n,urlLengthLimit:i=8e3}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},i=r?"HEAD":"GET";let s=!1;const a=(t??"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",a),n&&l.append("Prefer",`count=${n}`),new Po({method:i,url:o,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const i="POST",{url:s,headers:a}=this.cloneRequestState();if(e&&a.append("Prefer",`count=${e}`),r||a.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(o.length>0){const l=[...new Set(o)].map(u=>`"${u}"`);s.searchParams.set("columns",l.join(","))}}return new Po({method:i,url:s,headers:a,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var s;const a="POST",{url:o,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&o.searchParams.set("on_conflict",e),n&&l.append("Prefer",`count=${n}`),i||l.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(u.length>0){const h=[...new Set(u)].map(p=>`"${p}"`);o.searchParams.set("columns",h.join(","))}}return new Po({method:a,url:o,headers:l,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}update(t,{count:e}={}){var r;const n="PATCH",{url:i,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Po({method:n,url:i,headers:s,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Po({method:r,url:n,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function Wu(t){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wu(t)}function DS(t,e){if(Wu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BS(t){var e=DS(t,"string");return Wu(e)=="symbol"?e:e+""}function MS(t,e,r){return(e=BS(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g2(Object(r),!0).forEach(function(n){MS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var US=class Lw{constructor(e,{headers:r={},schema:n,fetch:i,timeout:s,urlLengthLimit:a=8e3}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=a;const o=i??globalThis.fetch;s!==void 0&&s>0?this.fetch=(l,u)=>{const h=new AbortController,p=setTimeout(()=>h.abort(),s),v=u==null?void 0:u.signal;if(v){if(v.aborted)return clearTimeout(p),o(l,u);const f=()=>{clearTimeout(p),h.abort()};return v.addEventListener("abort",f,{once:!0}),o(l,oh(oh({},u),{},{signal:h.signal})).finally(()=>{clearTimeout(p),v.removeEventListener("abort",f)})}return o(l,oh(oh({},u),{},{signal:h.signal})).finally(()=>clearTimeout(p))}:this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new FS(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new Lw(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,r={},{head:n=!1,get:i=!1,count:s}={}){var a;let o;const l=new URL(`${this.url}/rpc/${e}`);let u;const h=f=>f!==null&&typeof f=="object"&&(!Array.isArray(f)||f.some(h)),p=n&&Object.values(r).some(h);p?(o="POST",u=r):n||i?(o=n?"HEAD":"GET",Object.entries(r).filter(([f,_])=>_!==void 0).map(([f,_])=>[f,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([f,_])=>{l.searchParams.append(f,_)})):(o="POST",u=r);const v=new Headers(this.headers);return p?v.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&v.set("Prefer",`count=${s}`),new Po({method:o,url:l,headers:v,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};class zS{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const i=n.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const qS="2.95.3",$S=`realtime-js/${qS}`,WS="1.0.0",Pw="2.0.0",m2=Pw,R0=1e4,HS=1e3,VS=100;var Hs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Hs||(Hs={}));var Tr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Tr||(Tr={}));var wi;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(wi||(wi={}));var I0;(function(t){t.websocket="websocket"})(I0||(I0={}));var Ba;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ba||(Ba={}));class GS{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,r,n){var i,s;const a=e.topic,o=(i=e.ref)!==null&&i!==void 0?i:"",l=(s=e.join_ref)!==null&&s!==void 0?s:"",u=e.payload.event,h=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},p=Object.keys(h).length===0?"":JSON.stringify(h);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+u.length+p.length,f=new ArrayBuffer(this.HEADER_LENGTH+v);let _=new DataView(f),x=0;_.setUint8(x++,this.KINDS.userBroadcastPush),_.setUint8(x++,l.length),_.setUint8(x++,o.length),_.setUint8(x++,a.length),_.setUint8(x++,u.length),_.setUint8(x++,p.length),_.setUint8(x++,r),Array.from(l,w=>_.setUint8(x++,w.charCodeAt(0))),Array.from(o,w=>_.setUint8(x++,w.charCodeAt(0))),Array.from(a,w=>_.setUint8(x++,w.charCodeAt(0))),Array.from(u,w=>_.setUint8(x++,w.charCodeAt(0))),Array.from(p,w=>_.setUint8(x++,w.charCodeAt(0)));var A=new Uint8Array(f.byteLength+n.byteLength);return A.set(new Uint8Array(f),0),A.set(new Uint8Array(n),f.byteLength),A.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,s,a,o,l]=n;return r({join_ref:i,ref:s,topic:a,event:o,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2),a=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(e.slice(l,l+i));l=l+i;const h=n.decode(e.slice(l,l+s));l=l+s;const p=n.decode(e.slice(l,l+a));l=l+a;const v=e.slice(l,e.byteLength),f=o===this.JSON_ENCODING?JSON.parse(n.decode(v)):v,_={type:this.BROADCAST_EVENT,event:h,payload:f};return a>0&&(_.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:_}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class Tw{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ht;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ht||(Ht={}));const v2=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((s,a)=>(s[a]=KS(a,t,e,i),s),{}):{}},KS=(t,e,r,n)=>{const i=e.find(o=>o.name===t),s=i==null?void 0:i.type,a=r[t];return s&&!n.includes(s)?Rw(s,a):O0(a)},Rw=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return QS(e,r)}switch(t){case Ht.bool:return JS(e);case Ht.float4:case Ht.float8:case Ht.int2:case Ht.int4:case Ht.int8:case Ht.numeric:case Ht.oid:return YS(e);case Ht.json:case Ht.jsonb:return XS(e);case Ht.timestamp:return ZS(e);case Ht.abstime:case Ht.date:case Ht.daterange:case Ht.int4range:case Ht.int8range:case Ht.money:case Ht.reltime:case Ht.text:case Ht.time:case Ht.timestamptz:case Ht.timetz:case Ht.tsrange:case Ht.tstzrange:return O0(e);default:return O0(e)}},O0=t=>t,JS=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},YS=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},XS=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},QS=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const a=t.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>Rw(e,o))}return t},ZS=t=>typeof t=="string"?t.replace(" ","T"):t,Iw=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class rp{constructor(e,r,n={},i=R0){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var y2;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(y2||(y2={}));class bu{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=bu.syncState(this.state,i,s,a),this.pendingDiffs.forEach(l=>{this.state=bu.syncDiff(this.state,l,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=bu.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),a=this.transformState(r),o={},l={};return this.map(s,(u,h)=>{a[u]||(l[u]=h)}),this.map(a,(u,h)=>{const p=s[u];if(p){const v=h.map(A=>A.presence_ref),f=p.map(A=>A.presence_ref),_=h.filter(A=>f.indexOf(A.presence_ref)<0),x=p.filter(A=>v.indexOf(A.presence_ref)<0);_.length>0&&(o[u]=_),x.length>0&&(l[u]=x)}else o[u]=h}),this.syncDiff(s,{joins:o,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(o,l)=>{var u;const h=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(l),h.length>0){const p=e[o].map(f=>f.presence_ref),v=h.filter(f=>p.indexOf(f.presence_ref)<0);e[o].unshift(...v)}n(o,h,l)}),this.map(a,(o,l)=>{let u=e[o];if(!u)return;const h=l.map(p=>p.presence_ref);u=u.filter(p=>h.indexOf(p.presence_ref)<0),e[o]=u,i(o,u,l),u.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var w2;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(w2||(w2={}));var xu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(xu||(xu={}));var cs;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(cs||(cs={}));class Ko{constructor(e,r={config:{}},n){var i,s;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Tr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new rp(this,wi.join,this.params,this.timeout),this.rejoinTimer=new Tw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Tr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Tr.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Tr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Tr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Tr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(wi.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new bu(this),this.broadcastEndpointURL=Iw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Tr.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[xu.PRESENCE]&&this.bindings[xu.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,p={},v={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:h}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(cs.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(cs.CLOSED)),this.updateJoinPayload(Object.assign({config:v},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var _;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){e==null||e(cs.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,A=(_=x==null?void 0:x.length)!==null&&_!==void 0?_:0,w=[];for(let S=0;S<A;S++){const k=x[S],{filter:{event:E,schema:H,table:V,filter:G}}=k,q=f&&f[S];if(q&&q.event===E&&Ko.isFilterValueEqual(q.schema,H)&&Ko.isFilterValueEqual(q.table,V)&&Ko.isFilterValueEqual(q.filter,G))w.push(Object.assign(Object.assign({},k),{id:q.id}));else{this.unsubscribe(),this.state=Tr.errored,e==null||e(cs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(cs.SUBSCRIBED);return}}).receive("error",f=>{this.state=Tr.errored,e==null||e(cs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(cs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Tr.joined&&e===xu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const u=await o.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=e,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Tr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(wi.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new rp(this,wi.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Tr.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new rp(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>VS){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:u,join:h}=wi;if(n&&[o,l,u,h].indexOf(a)>=0&&n!==this._joinRef())return;let v=this._onMessage(a,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var _,x,A;return((_=f.filter)===null||_===void 0?void 0:_.event)==="*"||((A=(x=f.filter)===null||x===void 0?void 0:x.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===a}).map(f=>f.callback(v,n)):(s=this.bindings[a])===null||s===void 0||s.filter(f=>{var _,x,A,w,S,k;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in f){const E=f.id,H=(_=f.filter)===null||_===void 0?void 0:_.event;return E&&((x=r.ids)===null||x===void 0?void 0:x.includes(E))&&(H==="*"||(H==null?void 0:H.toLocaleLowerCase())===((A=r.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const E=(S=(w=f==null?void 0:f.filter)===null||w===void 0?void 0:w.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return E==="*"||E===((k=r==null?void 0:r.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===a}).map(f=>{if(typeof v=="object"&&"ids"in v){const _=v.data,{schema:x,table:A,commit_timestamp:w,type:S,errors:k}=_;v=Object.assign(Object.assign({},{schema:x,table:A,commit_timestamp:w,eventType:S,new:{},old:{},errors:k}),this._getPayloadRecords(_))}f.callback(v,n)})}_isClosed(){return this.state===Tr.closed}_isJoined(){return this.state===Tr.joined}_isJoining(){return this.state===Tr.joining}_isLeaving(){return this.state===Tr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Ko.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(wi.close,{},e)}_onError(e){this._on(wi.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Tr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=v2(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=v2(e.columns,e.old_record)),r}}const np=()=>{},lh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},e6=[1e3,2e3,5e3,1e4],t6=1e4,r6=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class n6{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=R0,this.transport=null,this.heartbeatIntervalMs=lh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=np,this.ref=0,this.reconnectTimer=null,this.vsn=m2,this.logger=np,this.conn=null,this.sendBuffer=[],this.serializer=new GS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${I0.websocket}`,this.httpEndpoint=Iw(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=zS.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return r==="ok"&&this._remove(e),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Hs.connecting:return Ba.Connecting;case Hs.open:return Ba.Open;case Hs.closing:return Ba.Closing;default:return Ba.Closed}}isConnected(){return this.connectionState()===Ba.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new Ko(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(HS,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},lh.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(h){this.log("error","error in heartbeat callback",h)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:s,ref:a}=r,o=a?`(${a})`:"",l=s.status||"";this.log("receive",`${l} ${n} ${i} ${o}`.trim(),s),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,s,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Hs.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Hs.open||this.conn.readyState===Hs.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(wi.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([r6],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const s={access_token:r,version:$S};r&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(wi.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Tw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},lh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,s,a,o,l,u,h,p,v,f;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:R0,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:lh.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:np,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:m2,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:_=>e6[_-1]||t6,this.vsn){case WS:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:(_,x)=>x(JSON.stringify(_)),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:(_,x)=>x(JSON.parse(_));break;case Pw:this.encode=(v=e==null?void 0:e.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Hu=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function i6(t,e,r){const n=new URL(e,t);if(r)for(const[i,s]of Object.entries(r))s!==void 0&&n.searchParams.set(i,s);return n.toString()}async function s6(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function a6(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:s,headers:a}){const o=i6(t.baseUrl,n,i),l=await s6(t.auth),u=await e(o,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...l,...a},body:s?JSON.stringify(s):void 0}),h=await u.text(),p=(u.headers.get("content-type")||"").includes("application/json"),v=p&&h?JSON.parse(h):h;if(!u.ok){const f=p?v:void 0,_=f==null?void 0:f.error;throw new Hu((_==null?void 0:_.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:_==null?void 0:_.type,icebergCode:_==null?void 0:_.code,details:f})}return{status:u.status,headers:u.headers,data:v}}}}function uh(t){return t.join("")}var o6=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:uh(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${uh(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${uh(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${uh(t.namespace)}`}),!0}catch(e){if(e instanceof Hu&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof Hu&&r.status===409)return;throw r}}};function _o(t){return t.join("")}var l6=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_o(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${_o(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${_o(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${_o(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_o(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${_o(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Hu&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof Hu&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},u6=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=a6({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new o6(this.client,e),this.tableOps=new l6(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},$d=class extends Error{constructor(t,e="storage",r,n){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function Wd(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var ch=class extends $d{constructor(t,e,r,n="storage"){super(t,n,e,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ow=class extends $d{constructor(t,e,r="storage"){super(t,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const c6=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),h6=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},F0=t=>{if(Array.isArray(t))return t.map(r=>F0(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=F0(n)}),e},d6=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Vu(t){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(t)}function f6(t,e){if(Vu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function p6(t){var e=f6(t,"string");return Vu(e)=="symbol"?e:e+""}function g6(t,e,r){return(e=p6(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b2(Object(r),!0).forEach(function(n){g6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const x2=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},m6=async(t,e,r,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const i=t,s=i.status||500;if(typeof i.json=="function")i.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||s+"";e(new ch(x2(a),s,o,n))}).catch(()=>{if(n==="vectors"){const a=s+"";e(new ch(i.statusText||`HTTP ${s} error`,s,a,n))}else{const a=s+"";e(new ch(i.statusText||`HTTP ${s} error`,s,a,n))}});else{const a=s+"";e(new ch(i.statusText||`HTTP ${s} error`,s,a,n))}}else e(new Ow(x2(t),t,n))},v6=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||t==="HEAD"||!n?nt(nt({},i),r):(h6(n)?(i.headers=nt({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),nt(nt({},i),r))};async function nu(t,e,r,n,i,s,a){return new Promise((o,l)=>{t(r,v6(e,n,i,s)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(a==="vectors"){const h=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!h||!h.includes("application/json"))return{}}return u.json()}).then(u=>o(u)).catch(u=>m6(u,l,n,a))})}function Fw(t="storage"){return{get:async(e,r,n,i)=>nu(e,"GET",r,n,i,void 0,t),post:async(e,r,n,i,s)=>nu(e,"POST",r,i,s,n,t),put:async(e,r,n,i,s)=>nu(e,"PUT",r,i,s,n,t),head:async(e,r,n,i)=>nu(e,"HEAD",r,nt(nt({},n),{},{noResolveJson:!0}),i,void 0,t),remove:async(e,r,n,i,s)=>nu(e,"DELETE",r,i,s,n,t)}}const y6=Fw("storage"),{get:Gu,post:vi,put:D0,head:w6,remove:tg}=y6,Dn=Fw("vectors");var wl=class{constructor(t,e={},r,n="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=c6(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Wd(r))return{data:null,error:r};throw r}}},b6=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Wd(e))return{data:null,error:e};throw e}}};let Dw;Dw=Symbol.toStringTag;var x6=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Dw]="BlobDownloadBuilder",this.promise=null}asStream(){return new b6(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Wd(e))return{data:null,error:e};throw e}}};const _6={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var S6=class extends wl{constructor(t,e={},r,n){super(t,e,n,"storage"),this.bucketId=r}async uploadOrUpdate(t,e,r,n){var i=this;return i.handleOperation(async()=>{let s;const a=nt(nt({},_2),n);let o=nt(nt({},i.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",i.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),l&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(l))):(s=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!a.duplex&&(a.duplex="half")),n!=null&&n.headers&&(o=nt(nt({},o),n.headers));const u=i._removeEmptyFolders(e),h=i._getFinalPath(u),p=await(t=="PUT"?D0:vi)(i.fetch,`${i.url}/object/${h}`,s,nt({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{path:u,id:p.Id,fullPath:p.Key}})}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var i=this;const s=i._removeEmptyFolders(t),a=i._getFinalPath(s),o=new URL(i.url+`/object/upload/sign/${a}`);return o.searchParams.set("token",e),i.handleOperation(async()=>{let l;const u=nt({upsert:_2.upsert},n),h=nt(nt({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType),{path:s,fullPath:(await D0(i.fetch,o.toString(),l,{headers:h})).Key}})}async createSignedUploadUrl(t,e){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(t);const i=nt({},r.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const s=await vi(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(r.url+s.url),o=a.searchParams.get("token");if(!o)throw new $d("No token returned by API");return{signedUrl:a.toString(),path:t,token:o}})}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;return n.handleOperation(async()=>await vi(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(t,e,r){var n=this;return n.handleOperation(async()=>({path:(await vi(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(t,e,r){var n=this;return n.handleOperation(async()=>{let i=n._getFinalPath(t),s=await vi(n.fetch,`${n.url}/object/sign/${i}`,nt({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${s.signedURL}${a}`)}})}async createSignedUrls(t,e,r){var n=this;return n.handleOperation(async()=>{const i=await vi(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i.map(a=>nt(nt({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${s}`):null}))})}download(t,e,r){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=i?`?${i}`:"",a=this._getFinalPath(t),o=()=>Gu(this.fetch,`${this.url}/${n}/${a}${s}`,{headers:this.headers,noResolveJson:!0},r);return new x6(o,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);return e.handleOperation(async()=>F0(await Gu(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})))}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await w6(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Wd(n)&&n instanceof Ow){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&n.push(i);const s=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&n.push(a);let o=n.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${o}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await tg(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,r){var n=this;return n.handleOperation(async()=>{const i=nt(nt(nt({},_6),e),{},{prefix:t||""});return await vi(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r)})}async listV2(t,e){var r=this;return r.handleOperation(async()=>{const n=nt({},t);return await vi(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const k6="2.95.3",ac={"X-Client-Info":`storage-js/${k6}`};var A6=class extends wl{constructor(t,e={},r,n){const i=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const s=i.href.replace(/\/$/,""),a=nt(nt({},ac),e);super(s,a,r,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=e.listBucketOptionsToQueryString(t);return await Gu(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Gu(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var r=this;return r.handleOperation(async()=>await vi(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async updateBucket(t,e){var r=this;return r.handleOperation(async()=>await D0(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await vi(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await tg(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},N6=class extends wl{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=nt(nt({},ac),e);super(n,i,r,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await vi(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),i=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return await Gu(e.fetch,i,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await tg(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!d6(t))throw new $d("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new u6({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,s){const a=i[s];return typeof a!="function"?a:async(...o)=>{try{return{data:await a.apply(i,o),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}},j6=class extends wl{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=nt(nt({},ac),{},{"Content-Type":"application/json"},e);super(n,i,r,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await Dn.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var r=this;return r.handleOperation(async()=>await Dn.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await Dn.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var r=this;return r.handleOperation(async()=>await Dn.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{})}},E6=class extends wl{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=nt(nt({},ac),{},{"Content-Type":"application/json"},e);super(n,i,r,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Dn.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await Dn.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await Dn.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await Dn.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Dn.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},C6=class extends wl{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=nt(nt({},ac),{},{"Content-Type":"application/json"},e);super(n,i,r,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Dn.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Dn.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await Dn.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Dn.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},L6=class extends C6{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new P6(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},P6=class extends j6{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,nt(nt({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,nt(nt({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new T6(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},T6=class extends E6{constructor(t,e,r,n,i){super(t,e,i),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,nt(nt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,nt(nt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,nt(nt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,nt(nt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,nt(nt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},R6=class extends A6{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new S6(this.url,this.headers,t,this.fetch)}get vectors(){return new L6(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new N6(this.url+"/iceberg",this.headers,this.fetch)}};const Bw="2.95.3",To=30*1e3,B0=3,ip=B0*To,I6="http://localhost:9999",O6="supabase.auth.token",F6={"X-Client-Info":`gotrue-js/${Bw}`},M0="X-Supabase-Api-Version",Mw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},D6=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,B6=10*60*1e3;class Ku extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ve(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class M6 extends Ku{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function U6(t){return Ve(t)&&t.name==="AuthApiError"}class Ma extends Ku{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Ss extends Ku{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class On extends Ss{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function sp(t){return Ve(t)&&t.name==="AuthSessionMissingError"}class So extends Ss{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class hh extends Ss{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class dh extends Ss{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function z6(t){return Ve(t)&&t.name==="AuthImplicitGrantRedirectError"}class S2 extends Ss{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class q6 extends Ss{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class U0 extends Ss{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function ap(t){return Ve(t)&&t.name==="AuthRetryableFetchError"}class k2 extends Ss{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class z0 extends Ss{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const pd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),A2=` 	
\r=`.split(""),$6=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<A2.length;e+=1)t[A2[e].charCodeAt(0)]=-2;for(let e=0;e<pd.length;e+=1)t[pd[e].charCodeAt(0)]=e;return t})();function N2(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(pd[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(pd[n]),e.queuedBits-=6}}function Uw(t,e,r){const n=$6[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function j2(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{V6(a,n,r)};for(let a=0;a<t.length;a+=1)Uw(t.charCodeAt(a),i,s);return e.join("")}function W6(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function H6(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}W6(n,e)}}function V6(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function rl(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Uw(t.charCodeAt(i),r,n);return new Uint8Array(e)}function G6(t){const e=[];return H6(t,r=>e.push(r)),new Uint8Array(e)}function Wa(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>N2(i,r,n)),N2(null,r,n),e.join("")}function K6(t){return Math.round(Date.now()/1e3)+t}function J6(){return Symbol("auth-callback")}const Kr=()=>typeof window<"u"&&typeof document<"u",Ta={tested:!1,writable:!1},zw=()=>{if(!Kr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ta.tested)return Ta.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ta.tested=!0,Ta.writable=!0}catch{Ta.tested=!0,Ta.writable=!1}return Ta.writable};function Y6(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const qw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),X6=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ro=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Ra=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Gr=async(t,e)=>{await t.removeItem(e)};class Hd{constructor(){this.promise=new Hd.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Hd.promiseConstructor=Promise;function fh(t){const e=t.split(".");if(e.length!==3)throw new z0("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!D6.test(e[n]))throw new z0("JWT not in base64url format");return{header:JSON.parse(j2(e[0])),payload:JSON.parse(j2(e[1])),signature:rl(e[2]),raw:{header:e[0],payload:e[1]}}}async function Q6(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Z6(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){n(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function ek(t){return("0"+t.toString(16)).substr(-2)}function tk(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,ek).join("")}async function rk(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function nk(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await rk(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ko(t,e,r=!1){const n=tk();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Ro(t,`${e}-code-verifier`,i);const s=await nk(n);return[s,n===s?"plain":"s256"]}const ik=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function sk(t){const e=t.headers.get(M0);if(!e||!e.match(ik))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ak(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function ok(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const lk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ao(t){if(!lk.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function op(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function uk(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function E2(t){return JSON.parse(JSON.stringify(t))}const Fa=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ck=[502,503,504];async function C2(t){var e;if(!X6(t))throw new U0(Fa(t),0);if(ck.includes(t.status))throw new U0(Fa(t),t.status);let r;try{r=await t.json()}catch(s){throw new Ma(Fa(s),s)}let n;const i=sk(t);if(i&&i.getTime()>=Mw["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new k2(Fa(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new On}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new k2(Fa(r),t.status,r.weak_password.reasons);throw new M6(Fa(r),t.status||500,n)}const hk=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function rt(t,e,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[M0]||(s[M0]=Mw["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await dk(t,e,r+o,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function dk(t,e,r,n,i,s){const a=hk(e,n,i,s);let o;try{o=await t(r,Object.assign({},a))}catch(l){throw console.error(l),new U0(Fa(l),0)}if(o.ok||await C2(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await C2(l)}}function gi(t){var e;let r=null;gk(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=K6(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function L2(t){const e=gi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ks(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function fk(t){return{data:t,error:null}}function pk(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,a=qd(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function P2(t){return t}function gk(t){return t.access_token&&t.refresh_token&&t.expires_in}const lp=["global","local","others"];class mk{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=qw(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=lp[0]){if(lp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${lp.join(", ")}`);try{return await rt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await rt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ks})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=qd(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await rt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:pk,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ve(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await rt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ks})}catch(r){if(Ve(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},h=await rt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:P2});if(h.error)throw h.error;const p=await h.json(),v=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(l=(o=h.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(_=>{const x=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(_.split(";")[1].split("=")[1]);u[`${A}Page`]=x}),u.total=parseInt(v)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(Ve(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Ao(e);try{return await rt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ks})}catch(r){if(Ve(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Ao(e);try{return await rt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Ks})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Ao(e);try{return await rt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ks})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Ao(e.userId);try{const{data:r,error:n}=await rt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Ao(e.userId),Ao(e.id);try{return{data:await rt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,s,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},h=await rt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:P2});if(h.error)throw h.error;const p=await h.json(),v=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(l=(o=h.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(_=>{const x=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(_.split(";")[1].split("=")[1]);u[`${A}Page`]=x}),u.total=parseInt(v)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(Ve(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await rt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await rt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await rt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await rt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await rt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ve(r))return{data:null,error:r};throw r}}}function T2(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const No={debug:!!(globalThis&&zw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $w extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class vk extends $w{}async function yk(t,e,r){No.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),No.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){No.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{No.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw No.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new vk(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(No.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function wk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ww(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function bk(t){return parseInt(t,16)}function xk(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function _k(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:o,requestId:l,resources:u,scheme:h,uri:p,version:v}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=Ww(t.address),_=h?`${h}://${n}`:n,x=t.statement?`${t.statement}
`:"",A=`${_} wants you to sign in with your Ethereum account:
${f}

${x}`;let w=`URI: ${p}
Version: ${v}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(w+=`
Expiration Time: ${i.toISOString()}`),o&&(w+=`
Not Before: ${o.toISOString()}`),l&&(w+=`
Request ID: ${l}`),u){let S=`
Resources:`;for(const k of u){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);S+=`
- ${k}`}w+=S}return`${A}
${w}`}class _r extends Error{constructor({message:e,code:r,cause:n,name:i}){var s;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class gd extends _r{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function Sk({error:t,options:e}){var r,n,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new _r({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new _r({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new _r({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new _r({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new _r({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new _r({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new _r({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new _r({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(Hw(a)){if(s.rp.id!==a)return new _r({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new _r({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new _r({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new _r({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new _r({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function kk({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new _r({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new _r({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Hw(n)){if(r.rpId!==n)return new _r({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new _r({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new _r({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new _r({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Ak{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Nk=new Ak;function jk(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=qd(t,["challenge","user","excludeCredentials"]),s=rl(e).buffer,a=Object.assign(Object.assign({},r),{id:rl(r.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:s,user:a});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:rl(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function Ek(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=qd(t,["challenge","allowCredentials"]),i=rl(e).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const o=r[a];s.allowCredentials[a]=Object.assign(Object.assign({},o),{id:rl(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return s}function Ck(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Wa(new Uint8Array(t.response.attestationObject)),clientDataJSON:Wa(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Lk(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Wa(new Uint8Array(i.authenticatorData)),clientDataJSON:Wa(new Uint8Array(i.clientDataJSON)),signature:Wa(new Uint8Array(i.signature)),userHandle:i.userHandle?Wa(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Hw(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function R2(){var t,e;return!!(Kr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Pk(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new gd("Browser returned unexpected credential type",e)}:{data:null,error:new gd("Empty credential response",e)}}catch(e){return{data:null,error:Sk({error:e,options:t})}}}async function Tk(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new gd("Browser returned unexpected credential type",e)}:{data:null,error:new gd("Empty credential response",e)}}catch(e){return{data:null,error:kk({error:e,options:t})}}}const Rk={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Ik={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function md(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))n[s]=a;else if(r(a))n[s]=a;else if(e(a)){const o=n[s];e(o)?n[s]=md(o,a):n[s]=md(a)}else n[s]=a}return n}function Ok(t,e){return md(Rk,t,e||{})}function Fk(t,e){return md(Ik,t,e||{})}class Dk{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},s){var a;try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:l};const u=i??Nk.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:h}=o.webauthn.credential_options.publicKey;if(!h.name){const p=n;if(p)h.name=`${h.id}:${p}`;else{const f=(await this.client.getUser()).data.user,_=((a=f==null?void 0:f.user_metadata)===null||a===void 0?void 0:a.name)||(f==null?void 0:f.email)||(f==null?void 0:f.id)||"User";h.name=`${h.id}:${_}`}}h.displayName||(h.displayName=h.name)}switch(o.webauthn.type){case"create":{const h=Ok(o.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:p,error:v}=await Pk({publicKey:h,signal:u});return p?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:p}},error:null}:{data:null,error:v}}case"request":{const h=Fk(o.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:p,error:v}=await Tk(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:h,signal:u}));return p?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:p}},error:null}:{data:null,error:v}}}}catch(o){return Ve(o)?{data:null,error:o}:{data:null,error:new Ma("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new Ku("rpId is required for WebAuthn authentication")};try{if(!R2())return{data:null,error:new Ma("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(a){return Ve(a)?{data:null,error:a}:{data:null,error:new Ma("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new Ku("rpId is required for WebAuthn registration")};try{if(!R2())return{data:null,error:new Ma("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(h=>{var p;return(p=h.data)===null||p===void 0?void 0:p.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:o};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return Ve(a)?{data:null,error:a}:{data:null,error:new Ma("Unexpected error in register",a)}}}}wk();const Bk={url:I6,storageKey:O6,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:F6,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function I2(t,e,r){return await r()}const jo={};class Ju{get jwks(){var e,r;return(r=(e=jo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){jo[this.storageKey]=Object.assign(Object.assign({},jo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=jo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){jo[this.storageKey]=Object.assign(Object.assign({},jo[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},Bk),e);if(this.storageKey=s.storageKey,this.instanceID=(r=Ju.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Ju.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Kr()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new mk({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=qw(s.fetch),this.lock=s.lock||I2,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&Kr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=yk:this.lock=I2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Dk(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:zw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=T2(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=T2(this.memoryStorage)),Kr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(o){this._debug("#broadcastChannel","error",o)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Bw}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Kr()&&(r=Y6(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Kr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),z6(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ve(r)?this._returnResult({error:r}):this._returnResult({error:new Ma("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:gi}),{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(Ve(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:h,password:p,options:v}=e;let f=null,_=null;this.flowType==="pkce"&&([f,_]=await ko(this.storage,this.storageKey)),s=await rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:h,password:p,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:f,code_challenge_method:_},xform:gi})}else if("phone"in e){const{phone:h,password:p,options:v}=e;s=await rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:gi})}else throw new hh("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return await Gr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(await Gr(this.storage,`${this.storageKey}-code-verifier`),Ve(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:a,options:o}=e;r=await rt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:L2})}else if("phone"in e){const{phone:s,password:a,options:o}=e;r=await rt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:L2})}else throw new hh("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new So;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Ve(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,s,a,o,l,u,h,p,v;let f,_;if("message"in e)f=e.message,_=e.signature;else{const{chain:x,wallet:A,statement:w,options:S}=e;let k;if(Kr())if(typeof A=="object")k=A;else{const D=window;if("ethereum"in D&&typeof D.ethereum=="object"&&"request"in D.ethereum&&typeof D.ethereum.request=="function")k=D.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=A}const E=new URL((r=S==null?void 0:S.url)!==null&&r!==void 0?r:window.location.href),H=await k.request({method:"eth_requestAccounts"}).then(D=>D).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!H||H.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const V=Ww(H[0]);let G=(n=S==null?void 0:S.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!G){const D=await k.request({method:"eth_chainId"});G=bk(D)}const q={domain:E.host,address:V,statement:w,uri:E.href,version:"1",chainId:G,nonce:(i=S==null?void 0:S.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=S==null?void 0:S.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=S==null?void 0:S.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=S==null?void 0:S.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=S==null?void 0:S.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(h=S==null?void 0:S.signInWithEthereum)===null||h===void 0?void 0:h.resources};f=_k(q),_=await k.request({method:"personal_sign",params:[xk(f),V]})}try{const{data:x,error:A}=await rt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:_},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:gi});if(A)throw A;if(!x||!x.session||!x.user){const w=new So;return this._returnResult({data:{user:null,session:null},error:w})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:A})}catch(x){if(Ve(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(e){var r,n,i,s,a,o,l,u,h,p,v,f;let _,x;if("message"in e)_=e.message,x=e.signature;else{const{chain:A,wallet:w,statement:S,options:k}=e;let E;if(Kr())if(typeof w=="object")E=w;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))E=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=w}const H=new URL((r=k==null?void 0:k.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in E&&E.signIn){const V=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k==null?void 0:k.signInWithSolana),{version:"1",domain:H.host,uri:H.href}),S?{statement:S}:null));let G;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")G=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)G=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in G&&"signature"in G&&(typeof G.signedMessage=="string"||G.signedMessage instanceof Uint8Array)&&G.signature instanceof Uint8Array)_=typeof G.signedMessage=="string"?G.signedMessage:new TextDecoder().decode(G.signedMessage),x=G.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${H.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${H.href}`,`Issued At: ${(i=(n=k==null?void 0:k.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=k==null?void 0:k.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((a=k==null?void 0:k.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((o=k==null?void 0:k.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((l=k==null?void 0:k.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((u=k==null?void 0:k.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((p=(h=k==null?void 0:k.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...k.signInWithSolana.resources.map(G=>`- ${G}`)]:[]].join(`
`);const V=await E.signMessage(new TextEncoder().encode(_),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=V}}try{const{data:A,error:w}=await rt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:Wa(x)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:gi});if(w)throw w;if(!A||!A.session||!A.user){const S=new So;return this._returnResult({data:{user:null,session:null},error:S})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:w})}catch(A){if(Ve(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async _exchangeCodeForSession(e){const r=await Ra(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new q6;const{data:s,error:a}=await rt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:gi});if(await Gr(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){const o=new So;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(await Gr(this.storage,`${this.storageKey}-code-verifier`),Ve(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=e,o=await rt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:gi}),{data:l,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const h=new So;return this._returnResult({data:{user:null,session:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(Ve(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,s,a;try{if("email"in e){const{email:o,options:l}=e;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await ko(this.storage,this.storageKey));const{error:p}=await rt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in e){const{phone:o,options:l}=e,{data:u,error:h}=await rt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h})}throw new hh("You must provide either an email or phone number.")}catch(o){if(await Gr(this.storage,`${this.storageKey}-code-verifier`),Ve(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await rt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:gi});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(Ve(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,s,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await ko(this.storage,this.storageKey));const u=await rt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:fk});return!((s=u.data)===null||s===void 0)&&s.url&&Kr()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(await Gr(this.storage,`${this.storageKey}-code-verifier`),Ve(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new On;const{error:i}=await rt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(Ve(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:a}=await rt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:a,error:o}=await rt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new hh("You must provide either an email or phone number and a type")}catch(r){if(Ve(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Ra(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<ip:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await Ra(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=op()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=uk(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await rt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ks}):await this._useSession(async r=>{var n,i,s;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new On}:await rt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ks})})}catch(r){if(Ve(r))return sp(r)&&(await this._removeSession(),await Gr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new On;const a=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await ko(this.storage,this.storageKey));const{data:u,error:h}=await rt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:Ks});if(h)throw h;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await Gr(this.storage,`${this.storageKey}-code-verifier`),Ve(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new On;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=fh(e.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Ve(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:o}=r;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new On;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ve(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Kr())throw new dh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new dh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new S2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new dh("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new S2("No code detected.");const{data:S,error:k}=await this._exchangeCodeForSession(e.code);if(k)throw k;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=e;if(!s||!o||!a||!u)throw new dh("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(o);let v=h+p;l&&(v=parseInt(l));const f=v-h;f*1e3<=To&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${p}s`);const _=v-p;h-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,v,h):h-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,v,h);const{data:x,error:A}=await this._getUser(s);if(A)throw A;const w={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:v,refresh_token:a,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:e.type},error:null})}catch(n){if(Ve(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Ra(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s&&!sp(s))return this._returnResult({error:s});const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(U6(o)&&(o.status===404||o.status===401||o.status===403)||sp(o)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await Gr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=J6(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await ko(this.storage,this.storageKey,!0));try{return await rt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await Gr(this.storage,`${this.storageKey}-code-verifier`),Ve(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Ve(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,o,l,u,h;const{data:p,error:v}=s;if(v)throw v;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await rt(this.fetch,"GET",f,{headers:this.headers,jwt:(h=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return Kr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Ve(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:a,provider:o,token:l,access_token:u,nonce:h}=e,p=await rt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:u,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:gi}),{data:v,error:f}=p;return f?this._returnResult({data:{user:null,session:null},error:f}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new So}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:f}))}catch(i){if(await Gr(this.storage,`${this.storageKey}-code-verifier`),Ve(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await rt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Ve(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Z6(async i=>(i>0&&await Q6(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await rt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:gi})),(i,s)=>{const a=200*Math.pow(2,i);return s&&ap(s)&&Date.now()+a-n<To})}catch(n){if(this._debug(r,"error",n),Ve(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Kr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Ra(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Ra(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Ro(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:op()}else if(i&&!i.user&&!i.user){const a=await Ra(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await Gr(this.storage,this.storageKey+"-user"),await Ro(this.storage,this.storageKey,i)):i.user=op()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ip;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${ip}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),ap(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new On;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Hd;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new On;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={data:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),Ve(s)){const a={data:null,error:s};return ap(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Gr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ro(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=E2(i);await Ro(this.storage,this.storageKey,s)}else{const i=E2(r);await Ro(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Gr(this.storage,this.storageKey),await Gr(this.storage,this.storageKey+"-code-verifier"),await Gr(this.storage,this.storageKey+"-user"),this.userStorage&&await Gr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Kr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),To);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/To);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${To}ms, refresh threshold is ${B0} ticks`),i<=B0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof $w)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Kr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await ko(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await rt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ve(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await rt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(Ve(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Ck(e.webauthn.credential_response):Lk(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:l}=await rt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(Ve(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=await rt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:jk(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Ek(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ve(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(e){var r,n,i,s;if(e)try{const{payload:f}=fh(e);let _=null;f.aal&&(_=f.aal);let x=_;const{data:{user:A},error:w}=await this.getUser(e);if(w)return this._returnResult({data:null,error:w});((n=(r=A==null?void 0:A.factors)===null||r===void 0?void 0:r.filter(E=>E.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(x="aal2");const k=f.amr||[];return{data:{currentLevel:_,nextLevel:x,currentAuthenticationMethods:k},error:null}}catch(f){if(Ve(f))return this._returnResult({data:null,error:f});throw f}const{data:{session:a},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=fh(a.access_token);let u=null;l.aal&&(u=l.aal);let h=u;((s=(i=a.user.factors)===null||i===void 0?void 0:i.filter(f=>f.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(h="aal2");const v=l.amr||[];return{data:{currentLevel:u,nextLevel:h,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await rt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new On})})}catch(r){if(Ve(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new On});const a=await rt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Kr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Ve(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new On});const a=await rt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Kr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Ve(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await rt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new On})})}catch(e){if(Ve(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await rt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new On})})}catch(r){if(Ve(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+B6>i)return n;const{data:s,error:a}=await rt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:f,error:_}=await this.getSession();if(_||!f.session)return this._returnResult({data:null,error:_});n=f.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:l}}=fh(n);r!=null&&r.allowExpired||ak(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:s,header:i,signature:a},error:null}}const h=ok(i.alg),p=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,a,G6(`${o}.${l}`)))throw new z0("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(Ve(n))return this._returnResult({data:null,error:n});throw n}}}Ju.nextInstanceID={};const Mk=Ju,Uk="2.95.3";let cu="";typeof Deno<"u"?cu="deno":typeof document<"u"?cu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?cu="react-native":cu="node";const zk={"X-Client-Info":`supabase-js-${cu}/${Uk}`},qk={headers:zk},$k={schema:"public"},Wk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Hk={};function Yu(t){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yu(t)}function Vk(t,e){if(Yu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gk(t){var e=Vk(t,"string");return Yu(e)=="symbol"?e:e+""}function Kk(t,e,r){return(e=Gk(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?O2(Object(r),!0).forEach(function(n){Kk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const Jk=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Yk=()=>Headers,Xk=(t,e,r)=>{const n=Jk(r),i=Yk();return async(s,a)=>{var o;const l=(o=await e())!==null&&o!==void 0?o:t;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(s,lr(lr({},a),{},{headers:u}))}};function Qk(t){return t.endsWith("/")?t:t+"/"}function Zk(t,e){var r,n;const{db:i,auth:s,realtime:a,global:o}=t,{db:l,auth:u,realtime:h,global:p}=e,v={db:lr(lr({},l),i),auth:lr(lr({},u),s),realtime:lr(lr({},h),a),storage:{},global:lr(lr(lr({},p),o),{},{headers:lr(lr({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}function e8(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Qk(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var t8=class extends Mk{constructor(t){super(t)}},r8=class{constructor(t,e,r){var n,i;this.supabaseUrl=t,this.supabaseKey=e;const s=e8(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const a=`sb-${s.hostname.split(".")[0]}-auth-token`,o={db:$k,realtime:Hk,auth:lr(lr({},Wk),{},{storageKey:a}),global:qk},l=Zk(r??{},o);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=Xk(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(lr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new US(new URL("rest/v1",s).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch,timeout:l.db.timeout,urlLengthLimit:l.db.urlLengthLimit}),this.storage=new R6(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new TS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:s,flowType:a,lock:o,debug:l,throwOnError:u},h,p){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new t8({url:this.authUrl.href,headers:lr(lr({},v),h),storageKey:s,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,flowType:a,lock:o,debug:l,throwOnError:u,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new n6(this.realtimeUrl.href,lr(lr({},t),{},{params:lr(lr({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const n8=(t,e,r)=>new r8(t,e,r);function i8(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}i8()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const s8="https://cwuchkahhofcdylqgolb.supabase.co",a8="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN3dWNoa2FoaG9mY2R5bHFnb2xiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzEwMzAxNDMsImV4cCI6MjA4NjYwNjE0M30.PLw0-uHNp9wwAeWFKQSYeRKIgUJkcCrGZR2xEzuvOeU",pt=n8(s8,a8),o8=({cartCount:t})=>{const[e,r]=fe.useState(!1),[n,i]=fe.useState(null),[s,a]=fe.useState("");return fe.useEffect(()=>{pt.auth.getSession().then(({data:{session:l}})=>{i(l)});const{data:{subscription:o}}=pt.auth.onAuthStateChange((l,u)=>{i(u)});return()=>o.unsubscribe()},[]),fe.useEffect(()=>{var u;if(!(n!=null&&n.user)){a("");return}const o=((u=n.user.user_metadata)==null?void 0:u.name)||n.user.email||"";let l=!0;return pt.from("customers").select("name").eq("user_id",n.user.id).single().then(({data:h,error:p})=>{l&&(!p&&(h!=null&&h.name)?a(h.name):a(o))}).catch(()=>{l&&a(o)}),()=>{l=!1}},[n]),m.jsx("nav",{className:"glass-card",style:{position:"sticky",top:"1rem",zIndex:50,marginBottom:"2rem"},children:m.jsxs("div",{className:"container",children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",height:"4rem"},children:[m.jsxs(pr,{to:"/",style:{display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"bold",fontSize:"1.5rem",color:"var(--color-primary)"},children:[m.jsx(vS,{size:32}),m.jsx("span",{children:"Brasil Mais"})]}),m.jsxs("div",{style:{display:"none",gap:"2rem",alignItems:"center"},className:"desktop-menu",children:[m.jsx(pr,{to:"/",className:"nav-link",children:"Incio"}),m.jsx(pr,{to:"/catalog",className:"nav-link",children:"Catlogo"}),m.jsx(pr,{to:"/cliente",className:"nav-link",children:"rea Cliente"}),m.jsx(pr,{to:"/admin",className:"nav-link",children:"rea Admin"})]}),m.jsx("style",{children:`
            @media (min-width: 768px) {
              .desktop-menu { display: flex !important; }
              .mobile-btn { display: none !important; }
            }
          `}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(n==null?void 0:n.user)&&s&&m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.4rem",padding:"0.45rem 0.75rem",borderRadius:"999px",background:"rgba(0, 156, 59, 0.12)",color:"var(--color-primary)",fontSize:"0.85rem",fontWeight:"600"},children:[m.jsx(P0,{size:16}),m.jsx("span",{style:{maxWidth:"180px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:s})]}),m.jsx("button",{className:"btn btn-outline",style:{padding:"0.5rem"},children:m.jsx(Cw,{size:20})}),m.jsxs(pr,{to:"/cart",className:"btn btn-primary",style:{padding:"0.5rem 1rem",position:"relative"},children:[m.jsx(xS,{size:20}),m.jsx("span",{style:{marginLeft:"0.5rem"},children:"Carrinho"}),t>0&&m.jsx("span",{style:{position:"absolute",top:"-5px",right:"-5px",background:"var(--color-secondary)",color:"var(--color-text)",fontSize:"0.75rem",fontWeight:"bold",width:"20px",height:"20px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:t})]}),m.jsx("button",{className:"mobile-btn btn btn-outline",onClick:()=>r(!e),style:{padding:"0.5rem"},children:e?m.jsx(ES,{size:24}):m.jsx(mS,{size:24})})]})]}),e&&m.jsxs("div",{style:{padding:"1rem 0",borderTop:"1px solid var(--color-border)"},children:[(n==null?void 0:n.user)&&s&&m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 0 1rem",color:"var(--color-primary)",fontWeight:"600"},children:[m.jsx(P0,{size:18}),m.jsx("span",{children:s})]}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[m.jsx(pr,{to:"/",onClick:()=>r(!1),children:"Incio"}),m.jsx(pr,{to:"/catalog",onClick:()=>r(!1),children:"Catlogo"}),m.jsx(pr,{to:"/cliente",onClick:()=>r(!1),children:"rea Cliente"}),m.jsx(pr,{to:"/admin",onClick:()=>r(!1),children:"rea Admin"})]})]})]})})},l8=()=>{const[t,e]=fe.useState([]),[r,n]=fe.useState(null),[i,s]=fe.useState("");fe.useEffect(()=>{a()},[]),fe.useEffect(()=>{pt.auth.getSession().then(({data:{session:l}})=>{n(l)});const{data:{subscription:o}}=pt.auth.onAuthStateChange((l,u)=>{n(u)});return()=>o.unsubscribe()},[]),fe.useEffect(()=>{var l;if(!(r!=null&&r.user)){s("");return}const o=((l=r.user.user_metadata)==null?void 0:l.name)||r.user.email||"";pt.from("customers").select("name").eq("user_id",r.user.id).single().then(({data:u,error:h})=>{!h&&(u!=null&&u.name)?s(u.name):s(o)}).catch(()=>{s(o)})},[r]);const a=async()=>{try{const{data:o,error:l}=await pt.from("medicines").select("*").limit(3);!l&&o&&e(o.map(u=>({...u,image:u.image_url,wholesalePrice:u.wholesale_price})))}catch(o){console.error("Erro ao buscar destaques:",o)}};return m.jsxs("div",{className:"container",children:[(r==null?void 0:r.user)&&i&&m.jsxs("div",{className:"glass-card fade-in",style:{marginTop:"1.5rem",marginBottom:"2rem",padding:"0.85rem 1.25rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[m.jsx("span",{style:{color:"var(--color-text-muted)",fontSize:"0.95rem"},children:"Cliente logado:"}),m.jsx("strong",{style:{color:"var(--color-primary)",fontSize:"1rem"},children:i})]}),m.jsxs("section",{style:{textAlign:"center",padding:"5rem 1rem",marginBottom:"4rem",position:"relative"},className:"fade-in",children:[m.jsx("div",{style:{position:"absolute",top:"20%",left:"50%",transform:"translate(-50%, -50%)",width:"600px",height:"600px",background:"radial-gradient(circle, rgba(0, 156, 59, 0.1) 0%, transparent 70%)",borderRadius:"50%",pointerEvents:"none",zIndex:-1}}),m.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",marginBottom:"1.5rem"},children:[m.jsx(_S,{size:24,color:"#009c3b"}),m.jsx("span",{className:"badge badge-success",children:"Distribuidora Oficial ANVISA"})]}),m.jsx("h1",{style:{fontSize:"clamp(2.5rem, 6vw, 4rem)",background:"linear-gradient(135deg, var(--color-primary), var(--color-accent))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",marginBottom:"1.5rem",fontWeight:"900",letterSpacing:"-0.02em"},children:"Distribuidora Brasil Mais"}),m.jsxs("p",{style:{fontSize:"1.35rem",color:"var(--color-text-muted)",maxWidth:"700px",margin:"0 auto 3rem",lineHeight:"1.7"},children:["A soluo completa em medicamentos para ",m.jsx("strong",{style:{color:"var(--color-primary)"},children:"farmcias, hospitais e consumidores"}),". Qualidade garantida, logstica eficiente e os melhores preos do mercado."]}),m.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",flexWrap:"wrap"},children:[m.jsxs(pr,{to:"/catalog",className:"btn btn-primary",style:{fontSize:"1.1rem",padding:"1rem 2rem"},children:["Ver Catlogo ",m.jsx(jw,{size:20})]}),m.jsx(pr,{to:"/admin",className:"btn btn-outline",style:{fontSize:"1.1rem",padding:"1rem 2rem"},children:"rea Administrativa"})]}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"2rem",marginTop:"4rem",maxWidth:"600px",margin:"4rem auto 0"},children:[m.jsxs("div",{children:[m.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"800",color:"var(--color-primary)"},children:"500+"}),m.jsx("div",{style:{color:"var(--color-text-muted)",fontSize:"0.9rem"},children:"Medicamentos"})]}),m.jsxs("div",{children:[m.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"800",color:"var(--color-primary)"},children:"24h"}),m.jsx("div",{style:{color:"var(--color-text-muted)",fontSize:"0.9rem"},children:"Atendimento"})]}),m.jsxs("div",{children:[m.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"800",color:"var(--color-primary)"},children:"99%"}),m.jsx("div",{style:{color:"var(--color-text-muted)",fontSize:"0.9rem"},children:"Satisfao"})]})]})]}),t.length>0&&m.jsxs("section",{style:{marginBottom:"4rem"},className:"slide-in",children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"2rem"},children:[m.jsx(AS,{size:28,color:"var(--color-primary)"}),m.jsx("h2",{style:{fontSize:"2rem",fontWeight:"700"},children:"Produtos em Destaque"})]}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"2rem"},children:t.map(o=>{var l;return m.jsx(pr,{to:"/catalog",style:{textDecoration:"none"},children:m.jsxs("div",{className:"glass-card",style:{overflow:"hidden",position:"relative"},children:[m.jsx("span",{className:"badge badge-warning",style:{position:"absolute",top:"1rem",right:"1rem",zIndex:1},children:" Destaque"}),m.jsx("img",{src:o.image,alt:o.name,style:{width:"100%",height:"200px",objectFit:"cover"}}),m.jsxs("div",{style:{padding:"1.5rem"},children:[m.jsx("h3",{style:{fontSize:"1.25rem",marginBottom:"0.5rem",color:"var(--color-text)"},children:o.name}),m.jsx("p",{style:{color:"var(--color-text-muted)",fontSize:"0.9rem",marginBottom:"1rem"},children:o.description}),m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[m.jsxs("span",{style:{fontSize:"1.5rem",fontWeight:"700",color:"var(--color-primary)"},children:["R$ ",(l=o.price)==null?void 0:l.toFixed(2)]}),m.jsx("span",{className:"badge badge-info",children:"Em estoque"})]})]})]})},o.id)})})]}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"2rem",marginBottom:"4rem"},children:[m.jsxs("div",{className:"glass-card",style:{padding:"2.5rem",textAlign:"center"},children:[m.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #009c3b, #007a2d)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(0, 156, 59, 0.3)"},children:m.jsx(NS,{size:40,color:"white"})}),m.jsx("h3",{style:{fontSize:"1.5rem",marginBottom:"0.75rem",fontWeight:"700"},children:"Logstica Rpida"}),m.jsx("p",{style:{color:"var(--color-text-muted)",lineHeight:"1.6"},children:"Entrega expressa para todo o Brasil com rastreamento em tempo real e garantia de qualidade."})]}),m.jsxs("div",{className:"glass-card",style:{padding:"2.5rem",textAlign:"center"},children:[m.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #002776, #001a5c)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(0, 39, 118, 0.3)"},children:m.jsx(bS,{size:40,color:"white"})}),m.jsx("h3",{style:{fontSize:"1.5rem",marginBottom:"0.75rem",fontWeight:"700"},children:"Qualidade Garantida"}),m.jsx("p",{style:{color:"var(--color-text-muted)",lineHeight:"1.6"},children:"Todos os medicamentos certificados pela ANVISA com controle rigoroso de procedncia."})]}),m.jsxs("div",{className:"glass-card",style:{padding:"2.5rem",textAlign:"center"},children:[m.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #f59e0b, #d97706)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(245, 158, 11, 0.3)"},children:m.jsx(fS,{size:40,color:"white"})}),m.jsx("h3",{style:{fontSize:"1.5rem",marginBottom:"0.75rem",fontWeight:"700"},children:"Atendimento 24h"}),m.jsx("p",{style:{color:"var(--color-text-muted)",lineHeight:"1.6"},children:"Suporte especializado para farmacuticos e parceiros comerciais a qualquer hora."})]})]})]})},u8={Analgesic:"Analgsico",Antibiotic:"Antibitico",Antiallergic:"Antialrgico",Gastric:"Gstrico","Anti-inflammatory":"Anti-inflamatrio",Controlled:"Controlado",Cardiovascular:"Cardiovascular",Supplement:"Suplemento"},rg=t=>t?u8[t]||t:"",c8=({addToCart:t})=>{const[e,r]=fe.useState(""),[n,i]=fe.useState("All"),[s,a]=fe.useState([]),[o,l]=fe.useState(!0),[u,h]=fe.useState(null);fe.useEffect(()=>{p()},[]);const p=async()=>{try{l(!0);const{data:x,error:A}=await pt.from("medicines").select("*").order("name");if(A)throw A;a(x.map(w=>({...w,image:w.image_url,wholesalePrice:w.wholesale_price,requiresPrescription:w.requires_prescription,promoPercent:w.promo_percent??0,promo_percent:w.promo_percent??0})))}catch(x){console.error("Erro ao buscar medicamentos:",x),h(x.message)}finally{l(!1)}},v=(x,A)=>{const w=document.getElementById(`qty-${x.id}`),S=parseInt(w==null?void 0:w.value,10);let k=Number.isFinite(S)&&S>0?S:1;A==="wholesale"&&k<10&&(k=10,w&&(w.value="10"),alert("Compra no atacado requer minimo de 10 unidades. Quantidade ajustada para 10.")),t(x,k,A)},f=s.filter(x=>{const A=x.name.toLowerCase().includes(e.toLowerCase())||x.description.toLowerCase().includes(e.toLowerCase()),w=n==="All"||x.type===n;return A&&w}),_=["All",...new Set(s.map(x=>x.type))];return m.jsxs("div",{className:"container",style:{marginTop:"2rem"},children:[m.jsx("h1",{style:{marginBottom:"2rem",fontSize:"2rem",color:"var(--color-primary-dark)"},children:"Catlogo de Medicamentos"}),u&&m.jsxs("div",{style:{padding:"1rem",background:"#fee",color:"#c00",borderRadius:"0.5rem",marginBottom:"1rem"},children:["Erro ao carregar medicamentos: ",u]}),o?m.jsx("div",{style:{textAlign:"center",padding:"4rem",color:"var(--color-text-muted)"},children:m.jsx("p",{children:"Carregando medicamentos do banco de dados..."})}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"glass-card",style:{padding:"1.5rem",marginBottom:"2rem",display:"flex",gap:"1rem",flexWrap:"wrap",alignItems:"center"},children:[m.jsxs("div",{style:{position:"relative",flex:1,minWidth:"200px"},children:[m.jsx(Cw,{size:20,style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"var(--color-text-muted)"}}),m.jsx("input",{type:"text",placeholder:"Buscar medicamentos...",value:e,onChange:x=>r(x.target.value),style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 3rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",background:"rgba(255,255,255,0.8)"}})]}),m.jsx("div",{style:{display:"flex",gap:"0.5rem",overflowX:"auto",paddingBottom:"0.5rem"},children:_.map(x=>m.jsx("button",{onClick:()=>i(x),className:`btn ${n===x?"btn-primary":"btn-outline"}`,style:{whiteSpace:"nowrap",padding:"0.5rem 1rem"},children:x==="All"?"Todos":rg(x)},x))})]}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"2rem"},children:f.map(x=>{const A=Number(x.promoPercent||0),w=A>0?1-A/100:1,S=x.price,k=x.wholesalePrice,E=S*w,H=k*w;return m.jsxs("div",{className:"glass-card fade-in",style:{overflow:"hidden",display:"flex",flexDirection:"column",position:"relative"},children:[x.stock<100&&m.jsx("span",{className:"badge badge-warning",style:{position:"absolute",top:"1rem",left:"1rem",zIndex:1},children:"Estoque Baixo"}),x.stock>=100&&x.stock<500&&m.jsx("span",{className:"badge badge-info",style:{position:"absolute",top:"1rem",left:"1rem",zIndex:1},children:"Disponvel"}),x.stock>=500&&m.jsx("span",{className:"badge badge-success",style:{position:"absolute",top:"1rem",left:"1rem",zIndex:1},children:" Alto Estoque"}),A>0&&m.jsxs("span",{className:"badge badge-warning",style:{position:"absolute",top:"1rem",right:"1rem",zIndex:1},children:["Promo -",A,"%"]}),m.jsxs("div",{style:{position:"relative",height:"200px"},children:[m.jsx("img",{src:x.image,alt:x.name,style:{width:"100%",height:"100%",objectFit:"cover"}}),x.requiresPrescription&&m.jsx("div",{style:{position:"absolute",top:"1rem",right:"1rem",background:"#dc2626",color:"white",padding:"0.25rem 0.75rem",borderRadius:"1rem",fontSize:"0.75rem",fontWeight:"bold",boxShadow:"0 2px 8px rgba(220, 38, 38, 0.4)"},children:" Receita"})]}),m.jsxs("div",{style:{padding:"1.5rem",flex:1,display:"flex",flexDirection:"column"},children:[m.jsxs("div",{style:{marginBottom:"1rem",flex:1},children:[m.jsx("h3",{style:{fontSize:"1.25rem",marginBottom:"0.25rem"},children:x.name}),m.jsx("span",{style:{fontSize:"0.875rem",color:"var(--color-text-muted)",background:"#f1f5f9",padding:"0.1rem 0.5rem",borderRadius:"0.25rem"},children:x.dosage}),m.jsx("p",{style:{marginTop:"0.75rem",color:"var(--color-text-muted)",fontSize:"0.9rem"},children:x.description})]}),m.jsxs("div",{style:{marginTop:"auto"},children:[m.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:m.jsx("div",{children:A>0?m.jsxs(m.Fragment,{children:[m.jsxs("span",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"var(--color-primary)"},children:["R$ ",E.toFixed(2)]}),m.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)"},children:[m.jsxs("span",{style:{textDecoration:"line-through",marginRight:"0.5rem"},children:["R$ ",S.toFixed(2)]}),"Promoo aplicada"]}),m.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)"},children:["Atacado: R$ ",H.toFixed(2)," (10+ un.)"]})]}):m.jsxs(m.Fragment,{children:[m.jsxs("span",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"var(--color-primary)"},children:["R$ ",S.toFixed(2)]}),m.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)"},children:["Atacado: R$ ",k.toFixed(2)," (10+ un.)"]})]})})}),m.jsxs("div",{style:{display:"grid",gap:"0.75rem"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"0.75rem"},children:[m.jsx("span",{style:{fontSize:"0.8rem",color:"var(--color-text-muted)",fontWeight:600},children:"Quantidade"}),m.jsx("input",{type:"number",min:"1",defaultValue:"1",id:`qty-${x.id}`,"aria-label":`Quantidade para ${x.name}`,style:{width:"90px",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, minmax(0, 1fr))",gap:"0.5rem"},children:[m.jsxs("button",{onClick:()=>v(x,"retail"),className:"btn btn-primary",style:{width:"100%"},children:[m.jsx(h2,{size:18})," Varejo"]}),m.jsxs("button",{onClick:()=>v(x,"wholesale"),className:"btn btn-outline",style:{width:"100%",borderColor:"var(--color-primary)",color:"var(--color-primary)"},children:[m.jsx(h2,{size:18})," Atacado 10+"]})]}),m.jsx("div",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)"},children:"Varejo: preco unitario. Atacado: minimo de 10 unidades."})]})]})]})]},x.id)})}),f.length===0&&m.jsx("div",{style:{textAlign:"center",padding:"4rem",color:"var(--color-text-muted)"},children:m.jsx("p",{children:"Nenhum medicamento encontrado para os filtros selecionados."})})]})]})},h8="modulepreload",d8=function(t){return"/Antigravit_testes/"+t},F2={},up=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=d8(l),l in F2)return;F2[l]=!0;const u=l.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":h8,u||(p.as="script"),p.crossOrigin="",p.href=l,o&&p.setAttribute("nonce",o),document.head.appendChild(p),u)return new Promise((v,f)=>{p.addEventListener("load",v),p.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function Dt(t){"@babel/helpers - typeof";return Dt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dt(t)}var ki=Uint8Array,Mn=Uint16Array,ng=Int32Array,ig=new ki([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),sg=new ki([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),D2=new ki([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Vw=function(t,e){for(var r=new Mn(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new ng(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},Gw=Vw(ig,2),f8=Gw.b,q0=Gw.r;f8[28]=258,q0[258]=28;var p8=Vw(sg,0),B2=p8.r,$0=new Mn(32768);for(var Jt=0;Jt<32768;++Jt){var zs=(Jt&43690)>>1|(Jt&21845)<<1;zs=(zs&52428)>>2|(zs&13107)<<2,zs=(zs&61680)>>4|(zs&3855)<<4,$0[Jt]=((zs&65280)>>8|(zs&255)<<8)>>1}var _u=function(t,e,r){for(var n=t.length,i=0,s=new Mn(e);i<n;++i)t[i]&&++s[t[i]-1];var a=new Mn(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(r){o=new Mn(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var u=i<<4|t[i],h=e-t[i],p=a[t[i]-1]++<<h,v=p|(1<<h)-1;p<=v;++p)o[$0[p]>>l]=u}else for(o=new Mn(n),i=0;i<n;++i)t[i]&&(o[i]=$0[a[t[i]-1]++]>>15-t[i]);return o},Za=new ki(288);for(var Jt=0;Jt<144;++Jt)Za[Jt]=8;for(var Jt=144;Jt<256;++Jt)Za[Jt]=9;for(var Jt=256;Jt<280;++Jt)Za[Jt]=7;for(var Jt=280;Jt<288;++Jt)Za[Jt]=8;var vd=new ki(32);for(var Jt=0;Jt<32;++Jt)vd[Jt]=5;var g8=_u(Za,9,0),m8=_u(vd,5,0),Kw=function(t){return(t+7)/8|0},v8=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new ki(t.subarray(e,r))},os=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},iu=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},cp=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,s=r.slice();if(!i)return{t:Yw,l:0};if(i==1){var a=new ki(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(H,V){return H.f-V.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],u=0,h=1,p=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};h!=i-1;)o=r[r[u].f<r[p].f?u++:p++],l=r[u!=h&&r[u].f<r[p].f?u++:p++],r[h++]={s:-1,f:o.f+l.f,l:o,r:l};for(var v=s[0].s,n=1;n<i;++n)s[n].s>v&&(v=s[n].s);var f=new Mn(v+1),_=W0(r[h-1],f,0);if(_>e){var n=0,x=0,A=_-e,w=1<<A;for(s.sort(function(V,G){return f[G.s]-f[V.s]||V.f-G.f});n<i;++n){var S=s[n].s;if(f[S]>e)x+=w-(1<<_-f[S]),f[S]=e;else break}for(x>>=A;x>0;){var k=s[n].s;f[k]<e?x-=1<<e-f[k]++-1:++n}for(;n>=0&&x;--n){var E=s[n].s;f[E]==e&&(--f[E],++x)}_=e}return{t:new ki(f),l:_}},W0=function(t,e,r){return t.s==-1?Math.max(W0(t.l,e,r+1),W0(t.r,e,r+1)):e[t.s]=r},M2=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Mn(++e),n=0,i=t[0],s=1,a=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:r.subarray(0,n),n:e}},su=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},Jw=function(t,e,r){var n=r.length,i=Kw(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<n;++s)t[i+s+4]=r[s];return(i+4+n)*8},U2=function(t,e,r,n,i,s,a,o,l,u,h){os(e,h++,r),++i[256];for(var p=cp(i,15),v=p.t,f=p.l,_=cp(s,15),x=_.t,A=_.l,w=M2(v),S=w.c,k=w.n,E=M2(x),H=E.c,V=E.n,G=new Mn(19),q=0;q<S.length;++q)++G[S[q]&31];for(var q=0;q<H.length;++q)++G[H[q]&31];for(var D=cp(G,7),X=D.t,T=D.l,F=19;F>4&&!X[D2[F-1]];--F);var J=u+5<<3,K=su(i,Za)+su(s,vd)+a,de=su(i,v)+su(s,x)+a+14+3*F+su(G,X)+2*G[16]+3*G[17]+7*G[18];if(l>=0&&J<=K&&J<=de)return Jw(e,h,t.subarray(l,l+u));var Y,ee,$,se;if(os(e,h,1+(de<K)),h+=2,de<K){Y=_u(v,f,0),ee=v,$=_u(x,A,0),se=x;var pe=_u(X,T,0);os(e,h,k-257),os(e,h+5,V-1),os(e,h+10,F-4),h+=14;for(var q=0;q<F;++q)os(e,h+3*q,X[D2[q]]);h+=3*F;for(var oe=[S,H],C=0;C<2;++C)for(var B=oe[C],q=0;q<B.length;++q){var W=B[q]&31;os(e,h,pe[W]),h+=X[W],W>15&&(os(e,h,B[q]>>5&127),h+=B[q]>>12)}}else Y=g8,ee=Za,$=m8,se=vd;for(var q=0;q<o;++q){var Z=n[q];if(Z>255){var W=Z>>18&31;iu(e,h,Y[W+257]),h+=ee[W+257],W>7&&(os(e,h,Z>>23&31),h+=ig[W]);var ne=Z&31;iu(e,h,$[ne]),h+=se[ne],ne>3&&(iu(e,h,Z>>5&8191),h+=sg[ne])}else iu(e,h,Y[Z]),h+=ee[Z]}return iu(e,h,Y[256]),h+ee[256]},y8=new ng([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Yw=new ki(0),w8=function(t,e,r,n,i,s){var a=s.z||t.length,o=new ki(n+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(n,o.length-i),u=s.l,h=(s.r||0)&7;if(e){h&&(l[0]=s.r>>3);for(var p=y8[e-1],v=p>>13,f=p&8191,_=(1<<r)-1,x=s.p||new Mn(32768),A=s.h||new Mn(_+1),w=Math.ceil(r/3),S=2*w,k=function(Ke){return(t[Ke]^t[Ke+1]<<w^t[Ke+2]<<S)&_},E=new ng(25e3),H=new Mn(288),V=new Mn(32),G=0,q=0,D=s.i||0,X=0,T=s.w||0,F=0;D+2<a;++D){var J=k(D),K=D&32767,de=A[J];if(x[K]=de,A[J]=K,T<=D){var Y=a-D;if((G>7e3||X>24576)&&(Y>423||!u)){h=U2(t,l,0,E,H,V,q,X,F,D-F,h),X=G=q=0,F=D;for(var ee=0;ee<286;++ee)H[ee]=0;for(var ee=0;ee<30;++ee)V[ee]=0}var $=2,se=0,pe=f,oe=K-de&32767;if(Y>2&&J==k(D-oe))for(var C=Math.min(v,Y)-1,B=Math.min(32767,D),W=Math.min(258,Y);oe<=B&&--pe&&K!=de;){if(t[D+$]==t[D+$-oe]){for(var Z=0;Z<W&&t[D+Z]==t[D+Z-oe];++Z);if(Z>$){if($=Z,se=oe,Z>C)break;for(var ne=Math.min(oe,Z-2),ue=0,ee=0;ee<ne;++ee){var ge=D-oe+ee&32767,me=x[ge],ve=ge-me&32767;ve>ue&&(ue=ve,de=ge)}}}K=de,de=x[K],oe+=K-de&32767}if(se){E[X++]=268435456|q0[$]<<18|B2[se];var ke=q0[$]&31,Ce=B2[se]&31;q+=ig[ke]+sg[Ce],++H[257+ke],++V[Ce],T=D+$,++G}else E[X++]=t[D],++H[t[D]]}}for(D=Math.max(D,T);D<a;++D)E[X++]=t[D],++H[t[D]];h=U2(t,l,u,E,H,V,q,X,F,D-F,h),u||(s.r=h&7|l[h/8|0]<<3,h-=7,s.h=A,s.p=x,s.i=D,s.w=T)}else{for(var D=s.w||0;D<a+u;D+=65535){var Re=D+65535;Re>=a&&(l[h/8|0]=u,Re=a),h=Jw(l,h+1,t.subarray(D,Re))}s.i=a}return v8(o,0,n+Kw(h)+i)},Xw=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,s=r.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=n+=r[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},b8=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new ki(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return w8(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},Qw=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},x8=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=Xw();i.p(e.dictionary),Qw(t,2,i.d())}};function H0(t,e){e||(e={});var r=Xw();r.p(t);var n=b8(t,e,e.dictionary?6:2,4);return x8(n,e),Qw(n,n.length-4,r.d()),n}var _8=typeof TextDecoder<"u"&&new TextDecoder,S8=0;try{_8.decode(Yw,{stream:!0}),S8=1}catch{}function k8(t){if(Array.isArray(t))return t}function A8(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function z2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function N8(t,e){if(t){if(typeof t=="string")return z2(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?z2(t,e):void 0}}function j8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q2(t,e){return k8(t)||A8(t,e)||N8(t,e)||j8()}function $2(t,e="utf8"){return new TextDecoder(e).decode(t)}const E8=new TextEncoder;function C8(t){return E8.encode(t)}const L8=1024*8,P8=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),hp={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class ag{constructor(e=L8,r={}){Ft(this,"buffer");Ft(this,"byteLength");Ft(this,"byteOffset");Ft(this,"length");Ft(this,"offset");Ft(this,"lastWrittenByte");Ft(this,"littleEndian");Ft(this,"_data");Ft(this,"_mark");Ft(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,s=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof ag)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=hp[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+n);if(this.littleEndian===P8&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const l=new hp[r](o.buffer);return this.offset+=n,l.reverse(),l}const a=new hp[r](s);return this.offset+=n,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return $2(this.readBytes(e))}decodeText(e=1,r="utf8"){return $2(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(C8(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function bl(t){let e=t.length;for(;--e>=0;)t[e]=0}const T8=3,R8=258,Zw=29,I8=256,O8=I8+1+Zw,eb=30,F8=512,D8=new Array((O8+2)*2);bl(D8);const B8=new Array(eb*2);bl(B8);const M8=new Array(F8);bl(M8);const U8=new Array(R8-T8+1);bl(U8);const z8=new Array(Zw);bl(z8);const q8=new Array(eb);bl(q8);const $8=(t,e,r,n)=>{let i=t&65535|0,s=t>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do i=i+e[n++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var V0=$8;const W8=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},H8=new Uint32Array(W8()),V8=(t,e,r,n)=>{const i=H8,s=n+r;t^=-1;for(let a=n;a<s;a++)t=t>>>8^i[(t^e[a])&255];return t^-1};var Di=V8,G0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},tb={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const G8=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var K8=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)G8(r,n)&&(t[n]=r[n])}}return t},J8=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,s=t.length;n<s;n++){let a=t[n];r.set(a,i),i+=a.length}return r},rb={assign:K8,flattenChunks:J8};let nb=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{nb=!1}const Xu=new Uint8Array(256);for(let t=0;t<256;t++)Xu[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Xu[254]=Xu[254]=1;var Y8=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,s,a=t.length,o=0;for(i=0;i<a;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(o),s=0,i=0;s<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|r&63):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|r&63):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|r&63);return e};const X8=(t,e)=>{if(e<65534&&t.subarray&&nb)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var Q8=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const s=new Array(r*2);for(i=0,n=0;n<r;){let a=t[n++];if(a<128){s[i++]=a;continue}let o=Xu[a];if(o>4){s[i++]=65533,n+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&n<r;)a=a<<6|t[n++]&63,o--;if(o>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return X8(s,i)},Z8=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+Xu[t[r]]>e?r:e},K0={string2buf:Y8,buf2string:Q8,utf8border:Z8};function eA(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var tA=eA;const ph=16209,rA=16191;var nA=function(e,r){let n,i,s,a,o,l,u,h,p,v,f,_,x,A,w,S,k,E,H,V,G,q,D,X;const T=e.state;n=e.next_in,D=e.input,i=n+(e.avail_in-5),s=e.next_out,X=e.output,a=s-(r-e.avail_out),o=s+(e.avail_out-257),l=T.dmax,u=T.wsize,h=T.whave,p=T.wnext,v=T.window,f=T.hold,_=T.bits,x=T.lencode,A=T.distcode,w=(1<<T.lenbits)-1,S=(1<<T.distbits)-1;e:do{_<15&&(f+=D[n++]<<_,_+=8,f+=D[n++]<<_,_+=8),k=x[f&w];t:for(;;){if(E=k>>>24,f>>>=E,_-=E,E=k>>>16&255,E===0)X[s++]=k&65535;else if(E&16){H=k&65535,E&=15,E&&(_<E&&(f+=D[n++]<<_,_+=8),H+=f&(1<<E)-1,f>>>=E,_-=E),_<15&&(f+=D[n++]<<_,_+=8,f+=D[n++]<<_,_+=8),k=A[f&S];r:for(;;){if(E=k>>>24,f>>>=E,_-=E,E=k>>>16&255,E&16){if(V=k&65535,E&=15,_<E&&(f+=D[n++]<<_,_+=8,_<E&&(f+=D[n++]<<_,_+=8)),V+=f&(1<<E)-1,V>l){e.msg="invalid distance too far back",T.mode=ph;break e}if(f>>>=E,_-=E,E=s-a,V>E){if(E=V-E,E>h&&T.sane){e.msg="invalid distance too far back",T.mode=ph;break e}if(G=0,q=v,p===0){if(G+=u-E,E<H){H-=E;do X[s++]=v[G++];while(--E);G=s-V,q=X}}else if(p<E){if(G+=u+p-E,E-=p,E<H){H-=E;do X[s++]=v[G++];while(--E);if(G=0,p<H){E=p,H-=E;do X[s++]=v[G++];while(--E);G=s-V,q=X}}}else if(G+=p-E,E<H){H-=E;do X[s++]=v[G++];while(--E);G=s-V,q=X}for(;H>2;)X[s++]=q[G++],X[s++]=q[G++],X[s++]=q[G++],H-=3;H&&(X[s++]=q[G++],H>1&&(X[s++]=q[G++]))}else{G=s-V;do X[s++]=X[G++],X[s++]=X[G++],X[s++]=X[G++],H-=3;while(H>2);H&&(X[s++]=X[G++],H>1&&(X[s++]=X[G++]))}}else if(E&64){e.msg="invalid distance code",T.mode=ph;break e}else{k=A[(k&65535)+(f&(1<<E)-1)];continue r}break}}else if(E&64)if(E&32){T.mode=rA;break e}else{e.msg="invalid literal/length code",T.mode=ph;break e}else{k=x[(k&65535)+(f&(1<<E)-1)];continue t}break}}while(n<i&&s<o);H=_>>3,n-=H,_-=H<<3,f&=(1<<_)-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=s<o?257+(o-s):257-(s-o),T.hold=f,T.bits=_};const Eo=15,W2=852,H2=592,V2=0,dp=1,G2=2,iA=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),sA=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),aA=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),oA=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),lA=(t,e,r,n,i,s,a,o)=>{const l=o.bits;let u=0,h=0,p=0,v=0,f=0,_=0,x=0,A=0,w=0,S=0,k,E,H,V,G,q=null,D;const X=new Uint16Array(Eo+1),T=new Uint16Array(Eo+1);let F=null,J,K,de;for(u=0;u<=Eo;u++)X[u]=0;for(h=0;h<n;h++)X[e[r+h]]++;for(f=l,v=Eo;v>=1&&X[v]===0;v--);if(f>v&&(f=v),v===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(p=1;p<v&&X[p]===0;p++);for(f<p&&(f=p),A=1,u=1;u<=Eo;u++)if(A<<=1,A-=X[u],A<0)return-1;if(A>0&&(t===V2||v!==1))return-1;for(T[1]=0,u=1;u<Eo;u++)T[u+1]=T[u]+X[u];for(h=0;h<n;h++)e[r+h]!==0&&(a[T[e[r+h]]++]=h);if(t===V2?(q=F=a,D=20):t===dp?(q=iA,F=sA,D=257):(q=aA,F=oA,D=0),S=0,h=0,u=p,G=s,_=f,x=0,H=-1,w=1<<f,V=w-1,t===dp&&w>W2||t===G2&&w>H2)return 1;for(;;){J=u-x,a[h]+1<D?(K=0,de=a[h]):a[h]>=D?(K=F[a[h]-D],de=q[a[h]-D]):(K=96,de=0),k=1<<u-x,E=1<<_,p=E;do E-=k,i[G+(S>>x)+E]=J<<24|K<<16|de|0;while(E!==0);for(k=1<<u-1;S&k;)k>>=1;if(k!==0?(S&=k-1,S+=k):S=0,h++,--X[u]===0){if(u===v)break;u=e[r+a[h]]}if(u>f&&(S&V)!==H){for(x===0&&(x=f),G+=p,_=u-x,A=1<<_;_+x<v&&(A-=X[_+x],!(A<=0));)_++,A<<=1;if(w+=1<<_,t===dp&&w>W2||t===G2&&w>H2)return 1;H=S&V,i[H]=f<<24|_<<16|G-s|0}}return S!==0&&(i[G+S]=u-x<<24|64<<16|0),o.bits=f,0};var Su=lA;const uA=0,ib=1,sb=2,{Z_FINISH:K2,Z_BLOCK:cA,Z_TREES:gh,Z_OK:eo,Z_STREAM_END:hA,Z_NEED_DICT:dA,Z_STREAM_ERROR:ii,Z_DATA_ERROR:ab,Z_MEM_ERROR:ob,Z_BUF_ERROR:fA,Z_DEFLATED:J2}=tb,Vd=16180,Y2=16181,X2=16182,Q2=16183,Z2=16184,ev=16185,tv=16186,rv=16187,nv=16188,iv=16189,yd=16190,ls=16191,fp=16192,sv=16193,pp=16194,av=16195,ov=16196,lv=16197,uv=16198,mh=16199,vh=16200,cv=16201,hv=16202,dv=16203,fv=16204,pv=16205,gp=16206,gv=16207,mv=16208,Xt=16209,lb=16210,ub=16211,pA=852,gA=592,mA=15,vA=mA,vv=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function yA(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const so=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Vd||e.mode>ub?1:0},cb=t=>{if(so(t))return ii;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Vd,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(pA),e.distcode=e.distdyn=new Int32Array(gA),e.sane=1,e.back=-1,eo},hb=t=>{if(so(t))return ii;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,cb(t)},db=(t,e)=>{let r;if(so(t))return ii;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ii:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,hb(t))},fb=(t,e)=>{if(!t)return ii;const r=new yA;t.state=r,r.strm=t,r.window=null,r.mode=Vd;const n=db(t,e);return n!==eo&&(t.state=null),n},wA=t=>fb(t,vA);let yv=!0,mp,vp;const bA=t=>{if(yv){mp=new Int32Array(512),vp=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Su(ib,t.lens,0,288,mp,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Su(sb,t.lens,0,32,vp,0,t.work,{bits:5}),yv=!1}t.lencode=mp,t.lenbits=9,t.distcode=vp,t.distbits=5},pb=(t,e,r,n)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(e.subarray(r-n,r-n+i),s.wnext),n-=i,n?(s.window.set(e.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},xA=(t,e)=>{let r,n,i,s,a,o,l,u,h,p,v,f,_,x,A=0,w,S,k,E,H,V,G,q;const D=new Uint8Array(4);let X,T;const F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(so(t)||!t.output||!t.input&&t.avail_in!==0)return ii;r=t.state,r.mode===ls&&(r.mode=fp),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,n=t.input,o=t.avail_in,u=r.hold,h=r.bits,p=o,v=l,q=eo;e:for(;;)switch(r.mode){case Vd:if(r.wrap===0){r.mode=fp;break}for(;h<16;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,D[0]=u&255,D[1]=u>>>8&255,r.check=Di(r.check,D,2,0),u=0,h=0,r.mode=Y2;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=Xt;break}if((u&15)!==J2){t.msg="unknown compression method",r.mode=Xt;break}if(u>>>=4,h-=4,G=(u&15)+8,r.wbits===0&&(r.wbits=G),G>15||G>r.wbits){t.msg="invalid window size",r.mode=Xt;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=u&512?iv:ls,u=0,h=0;break;case Y2:for(;h<16;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}if(r.flags=u,(r.flags&255)!==J2){t.msg="unknown compression method",r.mode=Xt;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Xt;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(D[0]=u&255,D[1]=u>>>8&255,r.check=Di(r.check,D,2,0)),u=0,h=0,r.mode=X2;case X2:for(;h<32;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(D[0]=u&255,D[1]=u>>>8&255,D[2]=u>>>16&255,D[3]=u>>>24&255,r.check=Di(r.check,D,4,0)),u=0,h=0,r.mode=Q2;case Q2:for(;h<16;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(D[0]=u&255,D[1]=u>>>8&255,r.check=Di(r.check,D,2,0)),u=0,h=0,r.mode=Z2;case Z2:if(r.flags&1024){for(;h<16;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(D[0]=u&255,D[1]=u>>>8&255,r.check=Di(r.check,D,2,0)),u=0,h=0}else r.head&&(r.head.extra=null);r.mode=ev;case ev:if(r.flags&1024&&(f=r.length,f>o&&(f=o),f&&(r.head&&(G=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+f),G)),r.flags&512&&r.wrap&4&&(r.check=Di(r.check,n,f,s)),o-=f,s+=f,r.length-=f),r.length))break e;r.length=0,r.mode=tv;case tv:if(r.flags&2048){if(o===0)break e;f=0;do G=n[s+f++],r.head&&G&&r.length<65536&&(r.head.name+=String.fromCharCode(G));while(G&&f<o);if(r.flags&512&&r.wrap&4&&(r.check=Di(r.check,n,f,s)),o-=f,s+=f,G)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=rv;case rv:if(r.flags&4096){if(o===0)break e;f=0;do G=n[s+f++],r.head&&G&&r.length<65536&&(r.head.comment+=String.fromCharCode(G));while(G&&f<o);if(r.flags&512&&r.wrap&4&&(r.check=Di(r.check,n,f,s)),o-=f,s+=f,G)break e}else r.head&&(r.head.comment=null);r.mode=nv;case nv:if(r.flags&512){for(;h<16;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}if(r.wrap&4&&u!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Xt;break}u=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=ls;break;case iv:for(;h<32;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}t.adler=r.check=vv(u),u=0,h=0,r.mode=yd;case yd:if(r.havedict===0)return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=h,dA;t.adler=r.check=1,r.mode=ls;case ls:if(e===cA||e===gh)break e;case fp:if(r.last){u>>>=h&7,h-=h&7,r.mode=gp;break}for(;h<3;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}switch(r.last=u&1,u>>>=1,h-=1,u&3){case 0:r.mode=sv;break;case 1:if(bA(r),r.mode=mh,e===gh){u>>>=2,h-=2;break e}break;case 2:r.mode=ov;break;case 3:t.msg="invalid block type",r.mode=Xt}u>>>=2,h-=2;break;case sv:for(u>>>=h&7,h-=h&7;h<32;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Xt;break}if(r.length=u&65535,u=0,h=0,r.mode=pp,e===gh)break e;case pp:r.mode=av;case av:if(f=r.length,f){if(f>o&&(f=o),f>l&&(f=l),f===0)break e;i.set(n.subarray(s,s+f),a),o-=f,s+=f,l-=f,a+=f,r.length-=f;break}r.mode=ls;break;case ov:for(;h<14;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}if(r.nlen=(u&31)+257,u>>>=5,h-=5,r.ndist=(u&31)+1,u>>>=5,h-=5,r.ncode=(u&15)+4,u>>>=4,h-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Xt;break}r.have=0,r.mode=lv;case lv:for(;r.have<r.ncode;){for(;h<3;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}r.lens[F[r.have++]]=u&7,u>>>=3,h-=3}for(;r.have<19;)r.lens[F[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,X={bits:r.lenbits},q=Su(uA,r.lens,0,19,r.lencode,0,r.work,X),r.lenbits=X.bits,q){t.msg="invalid code lengths set",r.mode=Xt;break}r.have=0,r.mode=uv;case uv:for(;r.have<r.nlen+r.ndist;){for(;A=r.lencode[u&(1<<r.lenbits)-1],w=A>>>24,S=A>>>16&255,k=A&65535,!(w<=h);){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}if(k<16)u>>>=w,h-=w,r.lens[r.have++]=k;else{if(k===16){for(T=w+2;h<T;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}if(u>>>=w,h-=w,r.have===0){t.msg="invalid bit length repeat",r.mode=Xt;break}G=r.lens[r.have-1],f=3+(u&3),u>>>=2,h-=2}else if(k===17){for(T=w+3;h<T;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}u>>>=w,h-=w,G=0,f=3+(u&7),u>>>=3,h-=3}else{for(T=w+7;h<T;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}u>>>=w,h-=w,G=0,f=11+(u&127),u>>>=7,h-=7}if(r.have+f>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Xt;break}for(;f--;)r.lens[r.have++]=G}}if(r.mode===Xt)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Xt;break}if(r.lenbits=9,X={bits:r.lenbits},q=Su(ib,r.lens,0,r.nlen,r.lencode,0,r.work,X),r.lenbits=X.bits,q){t.msg="invalid literal/lengths set",r.mode=Xt;break}if(r.distbits=6,r.distcode=r.distdyn,X={bits:r.distbits},q=Su(sb,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,X),r.distbits=X.bits,q){t.msg="invalid distances set",r.mode=Xt;break}if(r.mode=mh,e===gh)break e;case mh:r.mode=vh;case vh:if(o>=6&&l>=258){t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=h,nA(t,v),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,n=t.input,o=t.avail_in,u=r.hold,h=r.bits,r.mode===ls&&(r.back=-1);break}for(r.back=0;A=r.lencode[u&(1<<r.lenbits)-1],w=A>>>24,S=A>>>16&255,k=A&65535,!(w<=h);){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}if(S&&!(S&240)){for(E=w,H=S,V=k;A=r.lencode[V+((u&(1<<E+H)-1)>>E)],w=A>>>24,S=A>>>16&255,k=A&65535,!(E+w<=h);){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}u>>>=E,h-=E,r.back+=E}if(u>>>=w,h-=w,r.back+=w,r.length=k,S===0){r.mode=pv;break}if(S&32){r.back=-1,r.mode=ls;break}if(S&64){t.msg="invalid literal/length code",r.mode=Xt;break}r.extra=S&15,r.mode=cv;case cv:if(r.extra){for(T=r.extra;h<T;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=hv;case hv:for(;A=r.distcode[u&(1<<r.distbits)-1],w=A>>>24,S=A>>>16&255,k=A&65535,!(w<=h);){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}if(!(S&240)){for(E=w,H=S,V=k;A=r.distcode[V+((u&(1<<E+H)-1)>>E)],w=A>>>24,S=A>>>16&255,k=A&65535,!(E+w<=h);){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}u>>>=E,h-=E,r.back+=E}if(u>>>=w,h-=w,r.back+=w,S&64){t.msg="invalid distance code",r.mode=Xt;break}r.offset=k,r.extra=S&15,r.mode=dv;case dv:if(r.extra){for(T=r.extra;h<T;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Xt;break}r.mode=fv;case fv:if(l===0)break e;if(f=v-l,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Xt;break}f>r.wnext?(f-=r.wnext,_=r.wsize-f):_=r.wnext-f,f>r.length&&(f=r.length),x=r.window}else x=i,_=a-r.offset,f=r.length;f>l&&(f=l),l-=f,r.length-=f;do i[a++]=x[_++];while(--f);r.length===0&&(r.mode=vh);break;case pv:if(l===0)break e;i[a++]=r.length,l--,r.mode=vh;break;case gp:if(r.wrap){for(;h<32;){if(o===0)break e;o--,u|=n[s++]<<h,h+=8}if(v-=l,t.total_out+=v,r.total+=v,r.wrap&4&&v&&(t.adler=r.check=r.flags?Di(r.check,i,v,a-v):V0(r.check,i,v,a-v)),v=l,r.wrap&4&&(r.flags?u:vv(u))!==r.check){t.msg="incorrect data check",r.mode=Xt;break}u=0,h=0}r.mode=gv;case gv:if(r.wrap&&r.flags){for(;h<32;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}if(r.wrap&4&&u!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Xt;break}u=0,h=0}r.mode=mv;case mv:q=hA;break e;case Xt:q=ab;break e;case lb:return ob;case ub:default:return ii}return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=h,(r.wsize||v!==t.avail_out&&r.mode<Xt&&(r.mode<gp||e!==K2))&&pb(t,t.output,t.next_out,v-t.avail_out),p-=t.avail_in,v-=t.avail_out,t.total_in+=p,t.total_out+=v,r.total+=v,r.wrap&4&&v&&(t.adler=r.check=r.flags?Di(r.check,i,v,t.next_out-v):V0(r.check,i,v,t.next_out-v)),t.data_type=r.bits+(r.last?64:0)+(r.mode===ls?128:0)+(r.mode===mh||r.mode===pp?256:0),(p===0&&v===0||e===K2)&&q===eo&&(q=fA),q},_A=t=>{if(so(t))return ii;let e=t.state;return e.window&&(e.window=null),t.state=null,eo},SA=(t,e)=>{if(so(t))return ii;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,eo):ii},kA=(t,e)=>{const r=e.length;let n,i,s;return so(t)||(n=t.state,n.wrap!==0&&n.mode!==yd)?ii:n.mode===yd&&(i=1,i=V0(i,e,r,0),i!==n.check)?ab:(s=pb(t,e,r,r),s?(n.mode=lb,ob):(n.havedict=1,eo))};var AA=hb,NA=db,jA=cb,EA=wA,CA=fb,LA=xA,PA=_A,TA=SA,RA=kA,IA="pako inflate (from Nodeca project)",ds={inflateReset:AA,inflateReset2:NA,inflateResetKeep:jA,inflateInit:EA,inflateInit2:CA,inflate:LA,inflateEnd:PA,inflateGetHeader:TA,inflateSetDictionary:RA,inflateInfo:IA};function OA(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var FA=OA;const gb=Object.prototype.toString,{Z_NO_FLUSH:DA,Z_FINISH:BA,Z_OK:Qu,Z_STREAM_END:yp,Z_NEED_DICT:wp,Z_STREAM_ERROR:MA,Z_DATA_ERROR:wv,Z_MEM_ERROR:UA}=tb;function oc(t){this.options=rb.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new tA,this.strm.avail_out=0;let r=ds.inflateInit2(this.strm,e.windowBits);if(r!==Qu)throw new Error(G0[r]);if(this.header=new FA,ds.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=K0.string2buf(e.dictionary):gb.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=ds.inflateSetDictionary(this.strm,e.dictionary),r!==Qu)))throw new Error(G0[r])}oc.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?BA:DA,gb.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=ds.inflate(r,a),s===wp&&i&&(s=ds.inflateSetDictionary(r,i),s===Qu?s=ds.inflate(r,a):s===wv&&(s=wp));r.avail_in>0&&s===yp&&r.state.wrap>0&&t[r.next_in]!==0;)ds.inflateReset(r),s=ds.inflate(r,a);switch(s){case MA:case wv:case wp:case UA:return this.onEnd(s),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||s===yp))if(this.options.to==="string"){let l=K0.utf8border(r.output,r.next_out),u=r.next_out-l,h=K0.buf2string(r.output,l);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(l,l+u),0),this.onData(h)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===Qu&&o===0)){if(s===yp)return s=ds.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};oc.prototype.onData=function(t){this.chunks.push(t)};oc.prototype.onEnd=function(t){t===Qu&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=rb.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function zA(t,e){const r=new oc(e);if(r.push(t),r.err)throw r.msg||G0[r.err];return r.result}var qA=oc,$A=zA,WA={Inflate:qA,inflate:$A};const{Inflate:HA,inflate:VA}=WA;var bv=HA,GA=VA;const mb=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;mb[t]=e}const xv=4294967295;function KA(t,e,r){let n=t;for(let i=0;i<r;i++)n=mb[(n^e[i])&255]^n>>>8;return n}function JA(t,e){return(KA(xv,t,e)^xv)>>>0}function _v(t,e,r){const n=t.readUint32(),i=JA(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function vb(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function yb(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function wb(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function bb(t,e,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(r[s]>>1)&255;for(;s<n;s++)e[s]=t[s]+(e[s-i]+r[s]>>1)&255}}function xb(t,e,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+r[s]&255;for(;s<n;s++)e[s]=t[s]+YA(e[s-i],r[s],r[s-i])&255}}function YA(t,e,r){const n=t+e-r,i=Math.abs(n-t),s=Math.abs(n-e),a=Math.abs(n-r);return i<=s&&i<=a?t:s<=a?e:r}function XA(t,e,r,n,i,s){switch(t){case 0:vb(e,r,i);break;case 1:yb(e,r,i,s);break;case 2:wb(e,r,n,i);break;case 3:bb(e,r,n,i,s);break;case 4:xb(e,r,n,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const QA=new Uint16Array([255]),ZA=new Uint8Array(QA.buffer),eN=ZA[0]===255;function tN(t){const{data:e,width:r,height:n,channels:i,depth:s}=t,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,l=new Uint8Array(n*r*o);let u=0;for(let h=0;h<7;h++){const p=a[h],v=Math.ceil((r-p.x)/p.xStep),f=Math.ceil((n-p.y)/p.yStep);if(v<=0||f<=0)continue;const _=v*o,x=new Uint8Array(_);for(let A=0;A<f;A++){const w=e[u++],S=e.subarray(u,u+_);u+=_;const k=new Uint8Array(_);XA(w,S,k,x,_,o),x.set(k);for(let E=0;E<v;E++){const H=p.x+E*p.xStep,V=p.y+A*p.yStep;if(!(H>=r||V>=n))for(let G=0;G<o;G++)l[(V*r+H)*o+G]=k[E*o+G]}}}if(s===16){const h=new Uint16Array(l.buffer);if(eN)for(let p=0;p<h.length;p++)h[p]=rN(h[p]);return h}else return l}function rN(t){return(t&255)<<8|t>>8&255}const nN=new Uint16Array([255]),iN=new Uint8Array(nN.buffer),sN=iN[0]===255,aN=new Uint8Array(0);function Sv(t){const{data:e,width:r,height:n,channels:i,depth:s}=t,a=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*r),l=new Uint8Array(n*o);let u=aN,h=0,p,v;for(let f=0;f<n;f++){switch(p=e.subarray(h+1,h+1+o),v=l.subarray(f*o,(f+1)*o),e[h]){case 0:vb(p,v,o);break;case 1:yb(p,v,o,a);break;case 2:wb(p,v,u,o);break;case 3:bb(p,v,u,o,a);break;case 4:xb(p,v,u,o,a);break;default:throw new Error(`Unsupported filter: ${e[h]}`)}u=v,h+=o+1}if(s===16){const f=new Uint16Array(l.buffer);if(sN)for(let _=0;_<f.length;_++)f[_]=oN(f[_]);return f}else return l}function oN(t){return(t&255)<<8|t>>8&255}const Oh=Uint8Array.of(137,80,78,71,13,10,26,10);function kv(t){if(!lN(t.readBytes(Oh.length)))throw new Error("wrong PNG signature")}function lN(t){if(t.length<Oh.length)return!1;for(let e=0;e<Oh.length;e++)if(t[e]!==Oh[e])return!1;return!0}const uN="tEXt",cN=0,_b=new TextDecoder("latin1");function hN(t){if(fN(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const dN=/^[\u0000-\u00FF]*$/;function fN(t){if(!dN.test(t))throw new Error("invalid latin1 text")}function pN(t,e,r){const n=Sb(e);t[n]=gN(e,r-n.length-1)}function Sb(t){for(t.mark();t.readByte()!==cN;);const e=t.offset;t.reset();const r=_b.decode(t.readBytes(e-t.offset-1));return t.skip(1),hN(r),r}function gN(t,e){return _b.decode(t.readBytes(e))}const In={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},bp={UNKNOWN:-1,DEFLATE:0},Av={UNKNOWN:-1,ADAPTIVE:0},xp={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},yh={NONE:0,BACKGROUND:1,PREVIOUS:2},_p={SOURCE:0,OVER:1};class mN extends ag{constructor(r,n={}){super(r);Ft(this,"_checkCrc");Ft(this,"_inflator");Ft(this,"_png");Ft(this,"_apng");Ft(this,"_end");Ft(this,"_hasPalette");Ft(this,"_palette");Ft(this,"_hasTransparency");Ft(this,"_transparency");Ft(this,"_compressionMethod");Ft(this,"_filterMethod");Ft(this,"_interlaceMethod");Ft(this,"_colorType");Ft(this,"_isAnimated");Ft(this,"_numberOfFrames");Ft(this,"_numberOfPlays");Ft(this,"_frames");Ft(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new bv,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=bp.UNKNOWN,this._filterMethod=Av.UNKNOWN,this._interlaceMethod=xp.UNKNOWN,this._colorType=In.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(kv(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(kv(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case uN:pN(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?_v(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?_v(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=vN(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case In.GREYSCALE:i=1;break;case In.TRUECOLOUR:i=3;break;case In.INDEXED_COLOUR:i=1;break;case In.GREYSCALE_ALPHA:i=2;break;case In.TRUECOLOUR_ALPHA:i=4;break;case In.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==bp.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<n;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case In.GREYSCALE:case In.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case In.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case In.UNKNOWN:case In.GREYSCALE_ALPHA:case In.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=Sb(this),i=this.readUint8();if(i!==bp.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:GA(s)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=Sv({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const s=this._apng.frames.at(r-1);this.disposeFrame(i,s,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case yh.NONE:break;case yh.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let a=0;a<this._png.width;a++){const o=(s*r.width+a)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case yh.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,s=(a,o)=>{const l=((a+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,u=(a*n.width+o)*this._png.channels;return{index:l,frameIndex:u}};switch(n.blendOp){case _p.SOURCE:for(let a=0;a<n.height;a++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:u}=s(a,o);for(let h=0;h<this._png.channels;h++)r.data[l+h]=n.data[u+h]}break;case _p.OVER:for(let a=0;a<n.height;a++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:u}=s(a,o);for(let h=0;h<this._png.channels;h++){const p=n.data[u+this._png.channels-1]/i,v=h%(this._png.channels-1)===0?1:n.data[u+h],f=Math.floor(p*v+(1-p)*r.data[l+h]);r.data[l+h]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==Av.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===xp.NO_INTERLACE)this._png.data=Sv({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===xp.ADAM7)this._png.data=tN({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:yh.NONE,blendOp:_p.SOURCE,data:r}),this._inflator=new bv,this._writingDataChunks=!1}}function vN(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var Nv;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(Nv||(Nv={}));function yN(t,e){return new mN(t,e).decode()}var it=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Sp(){it.console&&typeof it.console.log=="function"&&it.console.log.apply(it.console,arguments)}var qt={log:Sp,warn:function(t){it.console&&(typeof it.console.warn=="function"?it.console.warn.apply(it.console,arguments):Sp.call(null,arguments))},error:function(t){it.console&&(typeof it.console.error=="function"?it.console.error.apply(it.console,arguments):Sp(t))}};function kp(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Da(n.response,e,r)},n.onerror=function(){qt.error("could not download file")},n.send()}function jv(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function wh(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Da=it.saveAs||((typeof window>"u"?"undefined":Dt(window))!=="object"||window!==it?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=it.URL||it.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?jv(i.href)?kp(t,e,r):wh(i,i.target="_blank"):wh(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){wh(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(jv(t))kp(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){wh(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Dt(s)!=="object"&&(qt.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return kp(t,e,r);var i=t.type==="application/octet-stream",s=/constructor/i.test(it.HTMLElement)||it.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":Dt(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var h=o.result;h=a?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=h:location=h,n=null},o.readAsDataURL(t)}else{var l=it.URL||it.webkitURL,u=l.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function kb(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}var Fh=it.atob.bind(it),Ev=it.btoa.bind(it);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Ap(t,e){var r=t[0],n=t[1],i=t[2],s=t[3];r=tn(r,n,i,s,e[0],7,-680876936),s=tn(s,r,n,i,e[1],12,-389564586),i=tn(i,s,r,n,e[2],17,606105819),n=tn(n,i,s,r,e[3],22,-1044525330),r=tn(r,n,i,s,e[4],7,-176418897),s=tn(s,r,n,i,e[5],12,1200080426),i=tn(i,s,r,n,e[6],17,-1473231341),n=tn(n,i,s,r,e[7],22,-45705983),r=tn(r,n,i,s,e[8],7,1770035416),s=tn(s,r,n,i,e[9],12,-1958414417),i=tn(i,s,r,n,e[10],17,-42063),n=tn(n,i,s,r,e[11],22,-1990404162),r=tn(r,n,i,s,e[12],7,1804603682),s=tn(s,r,n,i,e[13],12,-40341101),i=tn(i,s,r,n,e[14],17,-1502002290),r=rn(r,n=tn(n,i,s,r,e[15],22,1236535329),i,s,e[1],5,-165796510),s=rn(s,r,n,i,e[6],9,-1069501632),i=rn(i,s,r,n,e[11],14,643717713),n=rn(n,i,s,r,e[0],20,-373897302),r=rn(r,n,i,s,e[5],5,-701558691),s=rn(s,r,n,i,e[10],9,38016083),i=rn(i,s,r,n,e[15],14,-660478335),n=rn(n,i,s,r,e[4],20,-405537848),r=rn(r,n,i,s,e[9],5,568446438),s=rn(s,r,n,i,e[14],9,-1019803690),i=rn(i,s,r,n,e[3],14,-187363961),n=rn(n,i,s,r,e[8],20,1163531501),r=rn(r,n,i,s,e[13],5,-1444681467),s=rn(s,r,n,i,e[2],9,-51403784),i=rn(i,s,r,n,e[7],14,1735328473),r=nn(r,n=rn(n,i,s,r,e[12],20,-1926607734),i,s,e[5],4,-378558),s=nn(s,r,n,i,e[8],11,-2022574463),i=nn(i,s,r,n,e[11],16,1839030562),n=nn(n,i,s,r,e[14],23,-35309556),r=nn(r,n,i,s,e[1],4,-1530992060),s=nn(s,r,n,i,e[4],11,1272893353),i=nn(i,s,r,n,e[7],16,-155497632),n=nn(n,i,s,r,e[10],23,-1094730640),r=nn(r,n,i,s,e[13],4,681279174),s=nn(s,r,n,i,e[0],11,-358537222),i=nn(i,s,r,n,e[3],16,-722521979),n=nn(n,i,s,r,e[6],23,76029189),r=nn(r,n,i,s,e[9],4,-640364487),s=nn(s,r,n,i,e[12],11,-421815835),i=nn(i,s,r,n,e[15],16,530742520),r=sn(r,n=nn(n,i,s,r,e[2],23,-995338651),i,s,e[0],6,-198630844),s=sn(s,r,n,i,e[7],10,1126891415),i=sn(i,s,r,n,e[14],15,-1416354905),n=sn(n,i,s,r,e[5],21,-57434055),r=sn(r,n,i,s,e[12],6,1700485571),s=sn(s,r,n,i,e[3],10,-1894986606),i=sn(i,s,r,n,e[10],15,-1051523),n=sn(n,i,s,r,e[1],21,-2054922799),r=sn(r,n,i,s,e[8],6,1873313359),s=sn(s,r,n,i,e[15],10,-30611744),i=sn(i,s,r,n,e[6],15,-1560198380),n=sn(n,i,s,r,e[13],21,1309151649),r=sn(r,n,i,s,e[4],6,-145523070),s=sn(s,r,n,i,e[11],10,-1120210379),i=sn(i,s,r,n,e[2],15,718787259),n=sn(n,i,s,r,e[9],21,-343485551),t[0]=Qs(r,t[0]),t[1]=Qs(n,t[1]),t[2]=Qs(i,t[2]),t[3]=Qs(s,t[3])}function Gd(t,e,r,n,i,s){return e=Qs(Qs(e,t),Qs(n,s)),Qs(e<<i|e>>>32-i,r)}function tn(t,e,r,n,i,s,a){return Gd(e&r|~e&n,t,e,i,s,a)}function rn(t,e,r,n,i,s,a){return Gd(e&n|r&~n,t,e,i,s,a)}function nn(t,e,r,n,i,s,a){return Gd(e^r^n,t,e,i,s,a)}function sn(t,e,r,n,i,s,a){return Gd(r^(e|~n),t,e,i,s,a)}function Ab(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Ap(n,wN(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Ap(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,Ap(n,i),n}function wN(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var Cv="0123456789abcdef".split("");function bN(t){for(var e="",r=0;r<4;r++)e+=Cv[t>>8*r+4&15]+Cv[t>>8*r&15];return e}function xN(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function J0(t){return Ab(t).map(xN).join("")}var _N=function(t){for(var e=0;e<t.length;e++)t[e]=bN(t[e]);return t.join("")}(Ab("hello"))!="5d41402abc4b2a76b9719d911017c592";function Qs(t,e){if(_N){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Y0(t,e){var r,n,i,s;if(t!==r){for(var a=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var h=o[l];u=(u+h+a.charCodeAt(l))%256,o[l]=o[u],o[u]=h}r=t,n=o}else o=n;var p=e.length,v=0,f=0,_="";for(l=0;l<p;l++)f=(f+(h=o[v=(v+1)%256]))%256,o[v]=o[f],o[f]=h,a=o[(o[v]+o[f])%256],_+=String.fromCharCode(e.charCodeAt(l)^a);return _}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Lv={print:4,modify:8,copy:16,"annot-forms":32};function Io(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(Lv.perm!==void 0)throw new Error("Invalid permission: "+o);i+=Lv[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=J0(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Y0(this.encryptionKey,this.padding)}function Oo(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function Pv(t){if(Dt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[r]){var a=e[r][s];try{a[0].apply(t,n)}catch(o){it.console&&qt.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function wd(t){if(!(this instanceof wd))return new wd(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function Nb(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Ua(t,e,r,n,i){if(!(this instanceof Ua))return new Ua(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,Nb.call(this,n,i)}function Jo(t,e,r,n,i){if(!(this instanceof Jo))return new Jo(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,Nb.call(this,n,i)}function Ge(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,u="S",h=null;Dt(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,s=t.compress||t.compressPdf||s,(h=t.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var p=t.putOnlyUsedFonts||!1,v={},f={internal:{},__private__:{}};f.__private__.PubSub=Pv;var _="1.3",x=f.__private__.getPdfVersion=function(){return _};f.__private__.setPdfVersion=function(g){_=g};var A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return A};var w=f.__private__.getPageFormat=function(g){return A[g]};i=i||"a4";var S="compat",k="advanced",E=S;function H(){this.saveGraphicsState(),O(new tt(st,0,0,-st,0,_a()*st).toString()+" cm"),this.setFontSize(this.getFontSize()/st),u="n",E=k}function V(){this.restoreGraphicsState(),u="S",E=S}var G=f.__private__.combineFontStyleAndFontWeight=function(g,N){if(g=="bold"&&N=="normal"||g=="bold"&&N==400||g=="normal"&&N=="italic"||g=="bold"&&N=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return N&&(g=N==400||N==="normal"?g==="italic"?"italic":"normal":N!=700&&N!=="bold"||g!=="normal"?(N==700?"bold":N)+""+g:"bold"),g};f.advancedAPI=function(g){var N=E===S;return N&&H.call(this),typeof g!="function"||(g(this),N&&V.call(this)),this},f.compatAPI=function(g){var N=E===k;return N&&V.call(this),typeof g!="function"||(g(this),N&&H.call(this)),this},f.isAdvancedAPI=function(){return E===k};var q,D=function(g){if(E!==k)throw new Error(g+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},X=f.roundToPrecision=f.__private__.roundToPrecision=function(g,N){var z=e||N;if(isNaN(g)||isNaN(z))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return g.toFixed(z).replace(/0+$/,"")};q=f.hpf=f.__private__.hpf=typeof l=="number"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return X(g,l)}:l==="smart"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return X(g,g>-1&&g<1?16:5)}:function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return X(g,16)};var T=f.f2=f.__private__.f2=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f2");return X(g,2)},F=f.__private__.f3=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f3");return X(g,3)},J=f.scale=f.__private__.scale=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.scale");return E===S?g*st:E===k?g:void 0},K=function(g){return J(function(N){return E===S?_a()-N:E===k?N:void 0}(g))};f.__private__.setPrecision=f.setPrecision=function(g){typeof parseInt(g,10)=="number"&&(e=parseInt(g,10))};var de,Y="00000000000000000000000000000000",ee=f.__private__.getFileId=function(){return Y},$=f.__private__.setFileId=function(g){return Y=g!==void 0&&/^[a-fA-F0-9]{32}$/.test(g)?g.toUpperCase():Y.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(Nr=new Io(h.userPermissions,h.userPassword,h.ownerPassword,Y)),Y};f.setFileId=function(g){return $(g),this},f.getFileId=function(){return ee()};var se=f.__private__.convertDateToPDFDate=function(g){var N=g.getTimezoneOffset(),z=N<0?"+":"-",Q=Math.floor(Math.abs(N/60)),ae=Math.abs(N%60),be=[z,W(Q),"'",W(ae),"'"].join("");return["D:",g.getFullYear(),W(g.getMonth()+1),W(g.getDate()),W(g.getHours()),W(g.getMinutes()),W(g.getSeconds()),be].join("")},pe=f.__private__.convertPDFDateToDate=function(g){var N=parseInt(g.substr(2,4),10),z=parseInt(g.substr(6,2),10)-1,Q=parseInt(g.substr(8,2),10),ae=parseInt(g.substr(10,2),10),be=parseInt(g.substr(12,2),10),_e=parseInt(g.substr(14,2),10);return new Date(N,z,Q,ae,be,_e,0)},oe=f.__private__.setCreationDate=function(g){var N;if(g===void 0&&(g=new Date),g instanceof Date)N=se(g);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(g))throw new Error("Invalid argument passed to jsPDF.setCreationDate");N=g}return de=N},C=f.__private__.getCreationDate=function(g){var N=de;return g==="jsDate"&&(N=pe(de)),N};f.setCreationDate=function(g){return oe(g),this},f.getCreationDate=function(g){return C(g)};var B,W=f.__private__.padd2=function(g){return("0"+parseInt(g)).slice(-2)},Z=f.__private__.padd2Hex=function(g){return("00"+(g=g.toString())).substr(g.length)},ne=0,ue=[],ge=[],me=0,ve=[],ke=[],Ce=!1,Re=ge;f.__private__.setCustomOutputDestination=function(g){Ce=!0,Re=g};var Ke=function(g){Ce||(Re=g)};f.__private__.resetCustomOutputDestination=function(){Ce=!1,Re=ge};var O=f.__private__.out=function(g){return g=g.toString(),me+=g.length+1,Re.push(g),Re},Le=f.__private__.write=function(g){return O(arguments.length===1?g.toString():Array.prototype.join.call(arguments," "))},ht=f.__private__.getArrayBuffer=function(g){for(var N=g.length,z=new ArrayBuffer(N),Q=new Uint8Array(z);N--;)Q[N]=g.charCodeAt(N);return z},Ze=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Ze};var Ae=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(g){return Ae=E===k?g/st:g,this};var Ue,Ie=f.__private__.getFontSize=f.getFontSize=function(){return E===S?Ae:Ae*st},Ye=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(g){return Ye=g,this},f.__private__.getR2L=f.getR2L=function(){return Ye};var Xe,Ct=f.__private__.setZoomMode=function(g){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(g))Ue=g;else if(isNaN(g)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(g)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+g+'" is not recognized.');Ue=g}else Ue=parseInt(g,10)};f.__private__.getZoomMode=function(){return Ue};var yt,ot=f.__private__.setPageMode=function(g){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(g)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+g+'" is not recognized.');Xe=g};f.__private__.getPageMode=function(){return Xe};var bt=f.__private__.setLayoutMode=function(g){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(g)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+g+'" is not recognized.');yt=g};f.__private__.getLayoutMode=function(){return yt},f.__private__.setDisplayMode=f.setDisplayMode=function(g,N,z){return Ct(g),bt(N),ot(z),this};var wt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(g){if(Object.keys(wt).indexOf(g)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return wt[g]},f.__private__.getDocumentProperties=function(){return wt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(g){for(var N in wt)wt.hasOwnProperty(N)&&g[N]&&(wt[N]=g[N]);return this},f.__private__.setDocumentProperty=function(g,N){if(Object.keys(wt).indexOf(g)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return wt[g]=N};var ze,st,qe,Zt,_t,dt={},vt={},Pt=[],Qe={},Rt={},et={},te={},Ee=null,Te=0,De=[],St=new Pv(f),Or=t.hotfixes||[],Lt={},Ar={},ln=[],tt=function g(N,z,Q,ae,be,_e){if(!(this instanceof g))return new g(N,z,Q,ae,be,_e);isNaN(N)&&(N=1),isNaN(z)&&(z=0),isNaN(Q)&&(Q=0),isNaN(ae)&&(ae=1),isNaN(be)&&(be=0),isNaN(_e)&&(_e=0),this._matrix=[N,z,Q,ae,be,_e]};Object.defineProperty(tt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(tt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(tt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(tt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(tt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(tt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(tt.prototype,"a",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(tt.prototype,"b",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(tt.prototype,"c",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(tt.prototype,"d",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(tt.prototype,"e",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(tt.prototype,"f",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(tt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(tt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(tt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(tt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),tt.prototype.join=function(g){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(q).join(g)},tt.prototype.multiply=function(g){var N=g.sx*this.sx+g.shy*this.shx,z=g.sx*this.shy+g.shy*this.sy,Q=g.shx*this.sx+g.sy*this.shx,ae=g.shx*this.shy+g.sy*this.sy,be=g.tx*this.sx+g.ty*this.shx+this.tx,_e=g.tx*this.shy+g.ty*this.sy+this.ty;return new tt(N,z,Q,ae,be,_e)},tt.prototype.decompose=function(){var g=this.sx,N=this.shy,z=this.shx,Q=this.sy,ae=this.tx,be=this.ty,_e=Math.sqrt(g*g+N*N),Me=(g/=_e)*z+(N/=_e)*Q;z-=g*Me,Q-=N*Me;var He=Math.sqrt(z*z+Q*Q);return Me/=He,g*(Q/=He)<N*(z/=He)&&(g=-g,N=-N,Me=-Me,_e=-_e),{scale:new tt(_e,0,0,He,0,0),translate:new tt(1,0,0,1,ae,be),rotate:new tt(g,N,-N,g,0,0),skew:new tt(1,0,Me,1,0,0)}},tt.prototype.toString=function(g){return this.join(" ")},tt.prototype.inversed=function(){var g=this.sx,N=this.shy,z=this.shx,Q=this.sy,ae=this.tx,be=this.ty,_e=1/(g*Q-N*z),Me=Q*_e,He=-N*_e,at=-z*_e,ft=g*_e;return new tt(Me,He,at,ft,-Me*ae-at*be,-He*ae-ft*be)},tt.prototype.applyToPoint=function(g){var N=g.x*this.sx+g.y*this.shx+this.tx,z=g.x*this.shy+g.y*this.sy+this.ty;return new Yi(N,z)},tt.prototype.applyToRectangle=function(g){var N=this.applyToPoint(g),z=this.applyToPoint(new Yi(g.x+g.w,g.y+g.h));return new Cl(N.x,N.y,z.x-N.x,z.y-N.y)},tt.prototype.clone=function(){var g=this.sx,N=this.shy,z=this.shx,Q=this.sy,ae=this.tx,be=this.ty;return new tt(g,N,z,Q,ae,be)},f.Matrix=tt;var ji=f.matrixMult=function(g,N){return N.multiply(g)},Wn=new tt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Wn;var un=function(g,N){if(!Rt[g]){var z=(N instanceof Ua?"Sh":"P")+(Object.keys(Qe).length+1).toString(10);N.id=z,Rt[g]=z,Qe[z]=N,St.publish("addPattern",N)}};f.ShadingPattern=Ua,f.TilingPattern=Jo,f.addShadingPattern=function(g,N){return D("addShadingPattern()"),un(g,N),this},f.beginTilingPattern=function(g){D("beginTilingPattern()"),Ll(g.boundingBox[0],g.boundingBox[1],g.boundingBox[2]-g.boundingBox[0],g.boundingBox[3]-g.boundingBox[1],g.matrix)},f.endTilingPattern=function(g,N){D("endTilingPattern()"),N.stream=ke[B].join(`
`),un(g,N),St.publish("endTilingPattern",N),ln.pop().restore()};var Ur,ir=f.__private__.newObject=function(){var g=Fr();return zr(g,!0),g},Fr=f.__private__.newObjectDeferred=function(){return ne++,ue[ne]=function(){return me},ne},zr=function(g,N){return N=typeof N=="boolean"&&N,ue[g]=me,N&&O(g+" 0 obj"),g},ga=f.__private__.newAdditionalObject=function(){var g={objId:Fr(),content:""};return ve.push(g),g},ks=Fr(),si=Fr(),Ei=f.__private__.decodeColorString=function(g){var N=g.split(" ");if(N.length!==2||N[1]!=="g"&&N[1]!=="G")N.length!==5||N[4]!=="k"&&N[4]!=="K"||(N=[(1-N[0])*(1-N[3]),(1-N[1])*(1-N[3]),(1-N[2])*(1-N[3]),"r"]);else{var z=parseFloat(N[0]);N=[z,z,z,"r"]}for(var Q="#",ae=0;ae<3;ae++)Q+=("0"+Math.floor(255*parseFloat(N[ae])).toString(16)).slice(-2);return Q},ai=f.__private__.encodeColorString=function(g){var N;typeof g=="string"&&(g={ch1:g});var z=g.ch1,Q=g.ch2,ae=g.ch3,be=g.ch4,_e=g.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof z=="string"&&z.charAt(0)!=="#"){var Me=new kb(z);if(Me.ok)z=Me.toHex();else if(!/^\d*\.?\d*$/.test(z))throw new Error('Invalid color "'+z+'" passed to jsPDF.encodeColorString.')}if(typeof z=="string"&&/^#[0-9A-Fa-f]{3}$/.test(z)&&(z="#"+z[1]+z[1]+z[2]+z[2]+z[3]+z[3]),typeof z=="string"&&/^#[0-9A-Fa-f]{6}$/.test(z)){var He=parseInt(z.substr(1),16);z=He>>16&255,Q=He>>8&255,ae=255&He}if(Q===void 0||be===void 0&&z===Q&&Q===ae)N=typeof z=="string"?z+" "+_e[0]:g.precision===2?T(z/255)+" "+_e[0]:F(z/255)+" "+_e[0];else if(be===void 0||Dt(be)==="object"){if(be&&!isNaN(be.a)&&be.a===0)return["1.","1.","1.",_e[1]].join(" ");N=typeof z=="string"?[z,Q,ae,_e[1]].join(" "):g.precision===2?[T(z/255),T(Q/255),T(ae/255),_e[1]].join(" "):[F(z/255),F(Q/255),F(ae/255),_e[1]].join(" ")}else N=typeof z=="string"?[z,Q,ae,be,_e[2]].join(" "):g.precision===2?[T(z),T(Q),T(ae),T(be),_e[2]].join(" "):[F(z),F(Q),F(ae),F(be),_e[2]].join(" ");return N},oi=f.__private__.getFilters=function(){return a},Hn=f.__private__.putStream=function(g){var N=(g=g||{}).data||"",z=g.filters||oi(),Q=g.alreadyAppliedFilters||[],ae=g.addLength1||!1,be=N.length,_e=g.objectId,Me=function(jr){return jr};if(h!==null&&_e===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Me=Nr.encryptor(_e,0));var He={};z===!0&&(z=["FlateEncode"]);var at=g.additionalKeyValues||[],ft=(He=Ge.API.processDataByFilters!==void 0?Ge.API.processDataByFilters(N,z):{data:N,reverseChain:[]}).reverseChain+(Array.isArray(Q)?Q.join(" "):Q.toString());if(He.data.length!==0&&(at.push({key:"Length",value:He.data.length}),ae===!0&&at.push({key:"Length1",value:be})),ft.length!=0)if(ft.split("/").length-1==1)at.push({key:"Filter",value:ft});else{at.push({key:"Filter",value:"["+ft+"]"});for(var Nt=0;Nt<at.length;Nt+=1)if(at[Nt].key==="DecodeParms"){for(var er=[],br=0;br<He.reverseChain.split("/").length-1;br+=1)er.push("null");er.push(at[Nt].value),at[Nt].value="["+er.join(" ")+"]"}}O("<<");for(var $t=0;$t<at.length;$t++)O("/"+at[$t].key+" "+at[$t].value);O(">>"),He.data.length!==0&&(O("stream"),O(Me(He.data)),O("endstream"))},ma=f.__private__.putPage=function(g){var N=g.number,z=g.data,Q=g.objId,ae=g.contentsObjId;zr(Q,!0),O("<</Type /Page"),O("/Parent "+g.rootDictionaryObjId+" 0 R"),O("/Resources "+g.resourceDictionaryObjId+" 0 R"),O("/MediaBox ["+parseFloat(q(g.mediaBox.bottomLeftX))+" "+parseFloat(q(g.mediaBox.bottomLeftY))+" "+q(g.mediaBox.topRightX)+" "+q(g.mediaBox.topRightY)+"]"),g.cropBox!==null&&O("/CropBox ["+q(g.cropBox.bottomLeftX)+" "+q(g.cropBox.bottomLeftY)+" "+q(g.cropBox.topRightX)+" "+q(g.cropBox.topRightY)+"]"),g.bleedBox!==null&&O("/BleedBox ["+q(g.bleedBox.bottomLeftX)+" "+q(g.bleedBox.bottomLeftY)+" "+q(g.bleedBox.topRightX)+" "+q(g.bleedBox.topRightY)+"]"),g.trimBox!==null&&O("/TrimBox ["+q(g.trimBox.bottomLeftX)+" "+q(g.trimBox.bottomLeftY)+" "+q(g.trimBox.topRightX)+" "+q(g.trimBox.topRightY)+"]"),g.artBox!==null&&O("/ArtBox ["+q(g.artBox.bottomLeftX)+" "+q(g.artBox.bottomLeftY)+" "+q(g.artBox.topRightX)+" "+q(g.artBox.topRightY)+"]"),typeof g.userUnit=="number"&&g.userUnit!==1&&O("/UserUnit "+g.userUnit),St.publish("putPage",{objId:Q,pageContext:De[N],pageNumber:N,page:z}),O("/Contents "+ae+" 0 R"),O(">>"),O("endobj");var be=z.join(`
`);return E===k&&(be+=`
Q`),zr(ae,!0),Hn({data:be,filters:oi(),objectId:ae}),O("endobj"),Q},Ci=f.__private__.putPages=function(){var g,N,z=[];for(g=1;g<=Te;g++)De[g].objId=Fr(),De[g].contentsObjId=Fr();for(g=1;g<=Te;g++)z.push(ma({number:g,data:ke[g],objId:De[g].objId,contentsObjId:De[g].contentsObjId,mediaBox:De[g].mediaBox,cropBox:De[g].cropBox,bleedBox:De[g].bleedBox,trimBox:De[g].trimBox,artBox:De[g].artBox,userUnit:De[g].userUnit,rootDictionaryObjId:ks,resourceDictionaryObjId:si}));zr(ks,!0),O("<</Type /Pages");var Q="/Kids [";for(N=0;N<Te;N++)Q+=z[N]+" 0 R ";O(Q+"]"),O("/Count "+Te),O(">>"),O("endobj"),St.publish("postPutPages")},va=function(g){St.publish("putFont",{font:g,out:O,newObject:ir,putStream:Hn}),g.isAlreadyPutted!==!0&&(g.objectNumber=ir(),O("<<"),O("/Type /Font"),O("/BaseFont /"+Oo(g.postScriptName)),O("/Subtype /Type1"),typeof g.encoding=="string"&&O("/Encoding /"+g.encoding),O("/FirstChar 32"),O("/LastChar 255"),O(">>"),O("endobj"))},oo=function(g){g.objectNumber=ir();var N=[];N.push({key:"Type",value:"/XObject"}),N.push({key:"Subtype",value:"/Form"}),N.push({key:"BBox",value:"["+[q(g.x),q(g.y),q(g.x+g.width),q(g.y+g.height)].join(" ")+"]"}),N.push({key:"Matrix",value:"["+g.matrix.toString()+"]"});var z=g.pages[1].join(`
`);Hn({data:z,additionalKeyValues:N,objectId:g.objectNumber}),O("endobj")},lo=function(g,N){N||(N=21);var z=ir(),Q=function(_e,Me){var He,at=[],ft=1/(Me-1);for(He=0;He<1;He+=ft)at.push(He);if(at.push(1),_e[0].offset!=0){var Nt={offset:0,color:_e[0].color};_e.unshift(Nt)}if(_e[_e.length-1].offset!=1){var er={offset:1,color:_e[_e.length-1].color};_e.push(er)}for(var br="",$t=0,jr=0;jr<at.length;jr++){for(He=at[jr];He>_e[$t+1].offset;)$t++;var xr=_e[$t].offset,qr=(He-xr)/(_e[$t+1].offset-xr),Zi=_e[$t].color,ui=_e[$t+1].color;br+=Z(Math.round((1-qr)*Zi[0]+qr*ui[0]).toString(16))+Z(Math.round((1-qr)*Zi[1]+qr*ui[1]).toString(16))+Z(Math.round((1-qr)*Zi[2]+qr*ui[2]).toString(16))}return br.trim()}(g.colors,N),ae=[];ae.push({key:"FunctionType",value:"0"}),ae.push({key:"Domain",value:"[0.0 1.0]"}),ae.push({key:"Size",value:"["+N+"]"}),ae.push({key:"BitsPerSample",value:"8"}),ae.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ae.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Hn({data:Q,additionalKeyValues:ae,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:z}),O("endobj"),g.objectNumber=ir(),O("<< /ShadingType "+g.type),O("/ColorSpace /DeviceRGB");var be="/Coords ["+q(parseFloat(g.coords[0]))+" "+q(parseFloat(g.coords[1]))+" ";g.type===2?be+=q(parseFloat(g.coords[2]))+" "+q(parseFloat(g.coords[3])):be+=q(parseFloat(g.coords[2]))+" "+q(parseFloat(g.coords[3]))+" "+q(parseFloat(g.coords[4]))+" "+q(parseFloat(g.coords[5])),O(be+="]"),g.matrix&&O("/Matrix ["+g.matrix.toString()+"]"),O("/Function "+z+" 0 R"),O("/Extend [true true]"),O(">>"),O("endobj")},uo=function(g,N){var z=Fr(),Q=ir();N.push({resourcesOid:z,objectOid:Q}),g.objectNumber=Q;var ae=[];ae.push({key:"Type",value:"/Pattern"}),ae.push({key:"PatternType",value:"1"}),ae.push({key:"PaintType",value:"1"}),ae.push({key:"TilingType",value:"1"}),ae.push({key:"BBox",value:"["+g.boundingBox.map(q).join(" ")+"]"}),ae.push({key:"XStep",value:q(g.xStep)}),ae.push({key:"YStep",value:q(g.yStep)}),ae.push({key:"Resources",value:z+" 0 R"}),g.matrix&&ae.push({key:"Matrix",value:"["+g.matrix.toString()+"]"}),Hn({data:g.stream,additionalKeyValues:ae,objectId:g.objectNumber}),O("endobj")},Jd=function(g){for(var N in g.objectNumber=ir(),O("<<"),g)switch(N){case"opacity":O("/ca "+T(g[N]));break;case"stroke-opacity":O("/CA "+T(g[N]))}O(">>"),O("endobj")},xl=function(g){zr(g.resourcesOid,!0),O("<<"),O("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var N in O("/Font <<"),dt)dt.hasOwnProperty(N)&&(p===!1||p===!0&&v.hasOwnProperty(N))&&O("/"+N+" "+dt[N].objectNumber+" 0 R");O(">>")}(),function(){if(Object.keys(Qe).length>0){for(var N in O("/Shading <<"),Qe)Qe.hasOwnProperty(N)&&Qe[N]instanceof Ua&&Qe[N].objectNumber>=0&&O("/"+N+" "+Qe[N].objectNumber+" 0 R");St.publish("putShadingPatternDict"),O(">>")}}(),function(N){if(Object.keys(Qe).length>0){for(var z in O("/Pattern <<"),Qe)Qe.hasOwnProperty(z)&&Qe[z]instanceof f.TilingPattern&&Qe[z].objectNumber>=0&&Qe[z].objectNumber<N&&O("/"+z+" "+Qe[z].objectNumber+" 0 R");St.publish("putTilingPatternDict"),O(">>")}}(g.objectOid),function(){if(Object.keys(et).length>0){var N;for(N in O("/ExtGState <<"),et)et.hasOwnProperty(N)&&et[N].objectNumber>=0&&O("/"+N+" "+et[N].objectNumber+" 0 R");St.publish("putGStateDict"),O(">>")}}(),function(){for(var N in O("/XObject <<"),Lt)Lt.hasOwnProperty(N)&&Lt[N].objectNumber>=0&&O("/"+N+" "+Lt[N].objectNumber+" 0 R");St.publish("putXobjectDict"),O(">>")}(),O(">>"),O("endobj")},lc=function(g){vt[g.fontName]=vt[g.fontName]||{},vt[g.fontName][g.fontStyle]=g.id},uc=function(g,N,z,Q,ae){var be={id:"F"+(Object.keys(dt).length+1).toString(10),postScriptName:g,fontName:N,fontStyle:z,encoding:Q,isStandardFont:ae||!1,metadata:{}};return St.publish("addFont",{font:be,instance:this}),dt[be.id]=be,lc(be),be.id},Vn=f.__private__.pdfEscape=f.pdfEscape=function(g,N){return function(z,Q){var ae,be,_e,Me,He,at,ft,Nt,er;if(_e=(Q=Q||{}).sourceEncoding||"Unicode",He=Q.outputEncoding,(Q.autoencode||He)&&dt[ze].metadata&&dt[ze].metadata[_e]&&dt[ze].metadata[_e].encoding&&(Me=dt[ze].metadata[_e].encoding,!He&&dt[ze].encoding&&(He=dt[ze].encoding),!He&&Me.codePages&&(He=Me.codePages[0]),typeof He=="string"&&(He=Me[He]),He)){for(ft=!1,at=[],ae=0,be=z.length;ae<be;ae++)(Nt=He[z.charCodeAt(ae)])?at.push(String.fromCharCode(Nt)):at.push(z[ae]),at[ae].charCodeAt(0)>>8&&(ft=!0);z=at.join("")}for(ae=z.length;ft===void 0&&ae!==0;)z.charCodeAt(ae-1)>>8&&(ft=!0),ae--;if(!ft)return z;for(at=Q.noBOM?[]:[254,255],ae=0,be=z.length;ae<be;ae++){if((er=(Nt=z.charCodeAt(ae))>>8)>>8)throw new Error("Character at position "+ae+" of string '"+z+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");at.push(er),at.push(Nt-(er<<8))}return String.fromCharCode.apply(void 0,at)}(g,N).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},_l=f.__private__.beginPage=function(g){ke[++Te]=[],De[Te]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(g[0]),topRightY:Number(g[1])}},hc(Te),Ke(ke[B])},cc=function(g,N){var z,Q,ae;switch(r=N||r,typeof g=="string"&&(z=w(g.toLowerCase()),Array.isArray(z)&&(Q=z[0],ae=z[1])),Array.isArray(g)&&(Q=g[0]*st,ae=g[1]*st),isNaN(Q)&&(Q=i[0],ae=i[1]),(Q>14400||ae>14400)&&(qt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Q=Math.min(14400,Q),ae=Math.min(14400,ae)),i=[Q,ae],r.substr(0,1)){case"l":ae>Q&&(i=[ae,Q]);break;case"p":Q>ae&&(i=[ae,Q])}_l(i),lt(Al),O(po),jl!==0&&O(jl+" J"),El!==0&&O(El+" j"),St.publish("addPage",{pageNumber:Te})},Sl=function(g){g>0&&g<=Te&&(ke.splice(g,1),De.splice(g,1),Te--,B>Te&&(B=Te),this.setPage(B))},hc=function(g){g>0&&g<=Te&&(B=g)},dc=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return ke.length-1},fc=function(g,N,z){var Q,ae=void 0;return z=z||{},g=g!==void 0?g:dt[ze].fontName,N=N!==void 0?N:dt[ze].fontStyle,Q=g.toLowerCase(),vt[Q]!==void 0&&vt[Q][N]!==void 0?ae=vt[Q][N]:vt[g]!==void 0&&vt[g][N]!==void 0?ae=vt[g][N]:z.disableWarning===!1&&qt.warn("Unable to look up font label for font '"+g+"', '"+N+"'. Refer to getFontList() for available fonts."),ae||z.noFallback||(ae=vt.times[N])==null&&(ae=vt.times.normal),ae},Li=f.__private__.putInfo=function(){var g=ir(),N=function(Q){return Q};for(var z in h!==null&&(N=Nr.encryptor(g,0)),O("<<"),O("/Producer ("+Vn(N("jsPDF "+Ge.version))+")"),wt)wt.hasOwnProperty(z)&&wt[z]&&O("/"+z.substr(0,1).toUpperCase()+z.substr(1)+" ("+Vn(N(wt[z]))+")");O("/CreationDate ("+Vn(N(de))+")"),O(">>"),O("endobj")},co=f.__private__.putCatalog=function(g){var N=(g=g||{}).rootDictionaryObjId||ks;switch(ir(),O("<<"),O("/Type /Catalog"),O("/Pages "+N+" 0 R"),Ue||(Ue="fullwidth"),Ue){case"fullwidth":O("/OpenAction [3 0 R /FitH null]");break;case"fullheight":O("/OpenAction [3 0 R /FitV null]");break;case"fullpage":O("/OpenAction [3 0 R /Fit]");break;case"original":O("/OpenAction [3 0 R /XYZ null null 1]");break;default:var z=""+Ue;z.substr(z.length-1)==="%"&&(Ue=parseInt(Ue)/100),typeof Ue=="number"&&O("/OpenAction [3 0 R /XYZ null null "+T(Ue)+"]")}switch(yt||(yt="continuous"),yt){case"continuous":O("/PageLayout /OneColumn");break;case"single":O("/PageLayout /SinglePage");break;case"two":case"twoleft":O("/PageLayout /TwoColumnLeft");break;case"tworight":O("/PageLayout /TwoColumnRight")}Xe&&O("/PageMode /"+Xe),St.publish("putCatalog"),O(">>"),O("endobj")},Yd=f.__private__.putTrailer=function(){O("trailer"),O("<<"),O("/Size "+(ne+1)),O("/Root "+ne+" 0 R"),O("/Info "+(ne-1)+" 0 R"),h!==null&&O("/Encrypt "+Nr.oid+" 0 R"),O("/ID [ <"+Y+"> <"+Y+"> ]"),O(">>")},wr=f.__private__.putHeader=function(){O("%PDF-"+_),O("%")},pc=f.__private__.putXRef=function(){var g="0000000000";O("xref"),O("0 "+(ne+1)),O("0000000000 65535 f ");for(var N=1;N<=ne;N++)typeof ue[N]=="function"?O((g+ue[N]()).slice(-10)+" 00000 n "):ue[N]!==void 0?O((g+ue[N]).slice(-10)+" 00000 n "):O("0000000000 00000 n ")},Pi=f.__private__.buildDocument=function(){var g;ne=0,me=0,ge=[],ue=[],ve=[],ks=Fr(),si=Fr(),Ke(ge),St.publish("buildDocument"),wr(),Ci(),function(){St.publish("putAdditionalObjects");for(var z=0;z<ve.length;z++){var Q=ve[z];zr(Q.objId,!0),O(Q.content),O("endobj")}St.publish("postPutAdditionalObjects")}(),g=[],function(){for(var z in dt)dt.hasOwnProperty(z)&&(p===!1||p===!0&&v.hasOwnProperty(z))&&va(dt[z])}(),function(){var z;for(z in et)et.hasOwnProperty(z)&&Jd(et[z])}(),function(){for(var z in Lt)Lt.hasOwnProperty(z)&&oo(Lt[z])}(),function(z){var Q;for(Q in Qe)Qe.hasOwnProperty(Q)&&(Qe[Q]instanceof Ua?lo(Qe[Q]):Qe[Q]instanceof Jo&&uo(Qe[Q],z))}(g),St.publish("putResources"),g.forEach(xl),xl({resourcesOid:si,objectOid:Number.MAX_SAFE_INTEGER}),St.publish("postPutResources"),h!==null&&(Nr.oid=ir(),O("<<"),O("/Filter /Standard"),O("/V "+Nr.v),O("/R "+Nr.r),O("/U <"+Nr.toHexString(Nr.U)+">"),O("/O <"+Nr.toHexString(Nr.O)+">"),O("/P "+Nr.P),O(">>"),O("endobj")),Li(),co();var N=me;return pc(),Yd(),O("startxref"),O(""+N),O("%%EOF"),Ke(ke[B]),ge.join(`
`)},ho=f.__private__.getBlob=function(g){return new Blob([ht(g)],{type:"application/pdf"})},gc=f.output=f.__private__.output=(Ur=function(g,N){switch(typeof(N=N||{})=="string"?N={filename:N}:N.filename=N.filename||"generated.pdf",g){case void 0:return Pi();case"save":f.save(N.filename);break;case"arraybuffer":return ht(Pi());case"blob":return ho(Pi());case"bloburi":case"bloburl":if(it.URL!==void 0&&typeof it.URL.createObjectURL=="function")return it.URL&&it.URL.createObjectURL(ho(Pi()))||void 0;qt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var z="",Q=Pi();try{z=Ev(Q)}catch{z=Ev(unescape(encodeURIComponent(Q)))}return"data:application/pdf;filename="+N.filename+";base64,"+z;case"pdfobjectnewwindow":if(Object.prototype.toString.call(it)==="[object Window]"){var ae="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';N.pdfObjectUrl&&(ae=N.pdfObjectUrl,be="");var _e='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ae+'"'+be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(N)+");<\/script></body></html>",Me=it.open();return Me!==null&&Me.document.write(_e),Me}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(it)==="[object Window]"){var He='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(N.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+N.filename+'" width="500px" height="400px" /></body></html>',at=it.open();if(at!==null){at.document.write(He);var ft=this;at.document.documentElement.querySelector("#pdfViewer").onload=function(){at.document.title=N.filename,at.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ft.output("bloburl"))}}return at}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(it)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",N)+'"></iframe></body></html>',er=it.open();if(er!==null&&(er.document.write(Nt),er.document.title=N.filename),er||typeof safari>"u")return er;break;case"datauri":case"dataurl":return it.document.location.href=this.output("datauristring",N);default:return null}},Ur.foo=function(){try{return Ur.apply(this,arguments)}catch(z){var g=z.stack||"";~g.indexOf(" at ")&&(g=g.split(" at ")[1]);var N="Error in function "+g.split(`
`)[0].split("<")[0]+": "+z.message;if(!it.console)throw new Error(N);it.console.error(N,z),it.alert&&alert(N)}},Ur.foo.bar=Ur,Ur.foo),Gn=function(g){return Array.isArray(Or)===!0&&Or.indexOf(g)>-1};switch(n){case"pt":st=1;break;case"mm":st=72/25.4;break;case"cm":st=72/2.54;break;case"in":st=72;break;case"px":st=Gn("px_scaling")==1?.75:96/72;break;case"pc":case"em":st=12;break;case"ex":st=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);st=n}var Nr=null;oe(),$();var Vi=f.__private__.getPageInfo=f.getPageInfo=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:De[g].objId,pageNumber:g,pageContext:De[g]}},mc=f.__private__.getPageInfoByObjId=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var N in De)if(De[N].objId===g)break;return Vi(N)},Xd=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:De[B].objId,pageNumber:B,pageContext:De[B]}};f.addPage=function(){return cc.apply(this,arguments),this},f.setPage=function(){return hc.apply(this,arguments),Ke.call(this,ke[B]),this},f.insertPage=function(g){return this.addPage(),this.movePage(B,g),this},f.movePage=function(g,N){var z,Q;if(g>N){z=ke[g],Q=De[g];for(var ae=g;ae>N;ae--)ke[ae]=ke[ae-1],De[ae]=De[ae-1];ke[N]=z,De[N]=Q,this.setPage(N)}else if(g<N){z=ke[g],Q=De[g];for(var be=g;be<N;be++)ke[be]=ke[be+1],De[be]=De[be+1];ke[N]=z,De[N]=Q,this.setPage(N)}return this},f.deletePage=function(){return Sl.apply(this,arguments),this},f.__private__.text=f.text=function(g,N,z,Q,ae){var be,_e,Me,He,at,ft,Nt,er,br,$t=(Q=Q||{}).scope||this;if(typeof g=="number"&&typeof N=="number"&&(typeof z=="string"||Array.isArray(z))){var jr=z;z=N,N=g,g=jr}if(arguments[3]instanceof tt==0?(Me=arguments[4],He=arguments[5],Dt(Nt=arguments[3])==="object"&&Nt!==null||(typeof Me=="string"&&(He=Me,Me=null),typeof Nt=="string"&&(He=Nt,Nt=null),typeof Nt=="number"&&(Me=Nt,Nt=null),Q={flags:Nt,angle:Me,align:He})):(D("The transform parameter of text() with a Matrix value"),br=ae),isNaN(N)||isNaN(z)||g==null)throw new Error("Invalid arguments passed to jsPDF.text");if(g.length===0)return $t;var xr,qr="",Zi=typeof Q.lineHeightFactor=="number"?Q.lineHeightFactor:wa,ui=$t.internal.scaleFactor;function es(Tt){return Tt=Tt.split("	").join(Array(Q.TabLen||9).join(" ")),Vn(Tt,Nt)}function Tl(Tt){for(var Ut,hr=Tt.concat(),Er=[],ns=hr.length;ns--;)typeof(Ut=hr.shift())=="string"?Er.push(Ut):Array.isArray(Tt)&&(Ut.length===1||Ut[1]===void 0&&Ut[2]===void 0)?Er.push(Ut[0]):Er.push([Ut[0],Ut[1],Ut[2]]);return Er}function mo(Tt,Ut){var hr;if(typeof Tt=="string")hr=Ut(Tt)[0];else if(Array.isArray(Tt)){for(var Er,ns,ql=Tt.concat(),wo=[],jc=ql.length;jc--;)typeof(Er=ql.shift())=="string"?wo.push(Ut(Er)[0]):Array.isArray(Er)&&typeof Er[0]=="string"&&(ns=Ut(Er[0],Er[1],Er[2]),wo.push([ns[0],ns[1],ns[2]]));hr=wo}return hr}var As=!1,Sa=!0;if(typeof g=="string")As=!0;else if(Array.isArray(g)){var ka=g.concat();_e=[];for(var Ns,$r=ka.length;$r--;)(typeof(Ns=ka.shift())!="string"||Array.isArray(Ns)&&typeof Ns[0]!="string")&&(Sa=!1);As=Sa}if(As===!1)throw new Error('Type of text must be string or Array. "'+g+'" is not recognized.');typeof g=="string"&&(g=g.match(/[\r?\n]/)?g.split(/\r\n|\r|\n/g):[g]);var Aa=Ae/$t.internal.scaleFactor,Na=Aa*(Zi-1);switch(Q.baseline){case"bottom":z-=Na;break;case"top":z+=Aa-Na;break;case"hanging":z+=Aa-2*Na;break;case"middle":z+=Aa/2-Na}if((ft=Q.maxWidth||0)>0&&(typeof g=="string"?g=$t.splitTextToSize(g,ft):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(Tt,Ut){return Tt.concat($t.splitTextToSize(Ut,ft))},[]))),be={text:g,x:N,y:z,options:Q,mutex:{pdfEscape:Vn,activeFontKey:ze,fonts:dt,activeFontSize:Ae}},St.publish("preProcessText",be),g=be.text,Me=(Q=be.options).angle,br instanceof tt==0&&Me&&typeof Me=="number"){Me*=Math.PI/180,Q.rotationDirection===0&&(Me=-Me),E===k&&(Me=-Me);var Rl=Math.cos(Me),Il=Math.sin(Me);br=new tt(Rl,Il,-Il,Rl,0,0)}else Me&&Me instanceof tt&&(br=Me);E!==k||br||(br=Wn),(at=Q.charSpace||Ji)!==void 0&&(qr+=q(J(at))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(er=Q.horizontalScale)!==void 0&&(qr+=q(100*er)+` Tz
`),Q.lang;var cn=-1,ts=Q.renderingMode!==void 0?Q.renderingMode:Q.stroke,vo=$t.internal.getCurrentPageInfo().pageContext;switch(ts){case 0:case!1:case"fill":cn=0;break;case 1:case!0:case"stroke":cn=1;break;case 2:case"fillThenStroke":cn=2;break;case 3:case"invisible":cn=3;break;case 4:case"fillAndAddForClipping":cn=4;break;case 5:case"strokeAndAddPathForClipping":cn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":cn=6;break;case 7:case"addToPathForClipping":cn=7}var Ac=vo.usedRenderingMode!==void 0?vo.usedRenderingMode:-1;cn!==-1?qr+=cn+` Tr
`:Ac!==-1&&(qr+=`0 Tr
`),cn!==-1&&(vo.usedRenderingMode=cn),He=Q.align||"left";var Kn,ja=Ae*Zi,Ol=$t.internal.pageSize.getWidth(),Fl=dt[ze];at=Q.charSpace||Ji,ft=Q.maxWidth||0,Nt=Object.assign({autoencode:!0,noBOM:!0},Q.flags);var js=[],Ea=function(Tt){return $t.getStringUnitWidth(Tt,{font:Fl,charSpace:at,fontSize:Ae,doKerning:!1})*Ae/ui};if(Object.prototype.toString.call(g)==="[object Array]"){var Nn;_e=Tl(g),He!=="left"&&(Kn=_e.map(Ea));var jn,Es=0;if(He==="right"){N-=Kn[0],g=[],$r=_e.length;for(var rs=0;rs<$r;rs++)rs===0?(jn=Gi(N),Nn=Ki(z)):(jn=J(Es-Kn[rs]),Nn=-ja),g.push([_e[rs],jn,Nn]),Es=Kn[rs]}else if(He==="center"){N-=Kn[0]/2,g=[],$r=_e.length;for(var Cs=0;Cs<$r;Cs++)Cs===0?(jn=Gi(N),Nn=Ki(z)):(jn=J((Es-Kn[Cs])/2),Nn=-ja),g.push([_e[Cs],jn,Nn]),Es=Kn[Cs]}else if(He==="left"){g=[],$r=_e.length;for(var Dl=0;Dl<$r;Dl++)g.push(_e[Dl])}else if(He==="justify"&&Fl.encoding==="Identity-H"){g=[],$r=_e.length,ft=ft!==0?ft:Ol;for(var yo=0,cr=0;cr<$r;cr++)if(Nn=cr===0?Ki(z):-ja,jn=cr===0?Gi(N):yo,cr<$r-1){var Nc=J((ft-Kn[cr])/(_e[cr].split(" ").length-1)),Ri=_e[cr].split(" ");g.push([Ri[0]+" ",jn,Nn]),yo=0;for(var Ii=1;Ii<Ri.length;Ii++){var Bl=(Ea(Ri[Ii-1]+" "+Ri[Ii])-Ea(Ri[Ii]))*ui+Nc;Ii==Ri.length-1?g.push([Ri[Ii],Bl,0]):g.push([Ri[Ii]+" ",Bl,0]),yo-=Bl}}else g.push([_e[cr],jn,Nn]);g.push(["",yo,0])}else{if(He!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(g=[],$r=_e.length,ft=ft!==0?ft:Ol,cr=0;cr<$r;cr++){Nn=cr===0?Ki(z):-ja,jn=cr===0?Gi(N):0;var Ml=_e[cr].split(" ").length-1,Ul=Ml>0?(ft-Kn[cr])/Ml:0;cr<$r-1?js.push(q(J(Ul))):js.push(0),g.push([_e[cr],jn,Nn])}}}(typeof Q.R2L=="boolean"?Q.R2L:Ye)===!0&&(g=mo(g,function(Tt,Ut,hr){return[Tt.split("").reverse().join(""),Ut,hr]})),be={text:g,x:N,y:z,options:Q,mutex:{pdfEscape:Vn,activeFontKey:ze,fonts:dt,activeFontSize:Ae}},St.publish("postProcessText",be),g=be.text,xr=be.mutex.isHex||!1;var zl=dt[ze].encoding;zl!=="WinAnsiEncoding"&&zl!=="StandardEncoding"||(g=mo(g,function(Tt,Ut,hr){return[es(Tt),Ut,hr]})),_e=Tl(g),g=[];for(var Ls,Ps,Ts,Ca=Array.isArray(_e[0])?1:0,Rs="",La=function(Tt,Ut,hr){var Er="";return hr instanceof tt?(hr=typeof Q.angle=="number"?ji(hr,new tt(1,0,0,1,Tt,Ut)):ji(new tt(1,0,0,1,Tt,Ut),hr),E===k&&(hr=ji(new tt(1,0,0,-1,0,0),hr)),Er=hr.join(" ")+` Tm
`):Er=q(Tt)+" "+q(Ut)+` Td
`,Er},Jn=0;Jn<_e.length;Jn++){switch(Rs="",Ca){case 1:Ts=(xr?"<":"(")+_e[Jn][0]+(xr?">":")"),Ls=parseFloat(_e[Jn][1]),Ps=parseFloat(_e[Jn][2]);break;case 0:Ts=(xr?"<":"(")+_e[Jn]+(xr?">":")"),Ls=Gi(N),Ps=Ki(z)}js!==void 0&&js[Jn]!==void 0&&(Rs=js[Jn]+` Tw
`),Jn===0?g.push(Rs+La(Ls,Ps,br)+Ts):Ca===0?g.push(Rs+Ts):Ca===1&&g.push(Rs+La(Ls,Ps,br)+Ts)}g=Ca===0?g.join(` Tj
T* `):g.join(` Tj
`),g+=` Tj
`;var Oi=`BT
/`;return Oi+=ze+" "+Ae+` Tf
`,Oi+=q(Ae*Zi)+` TL
`,Oi+=ba+`
`,Oi+=qr,Oi+=g,O(Oi+="ET"),v[ze]=!0,$t};var Qd=f.__private__.clip=f.clip=function(g){return O(g==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Qd("evenodd")},f.__private__.discardPath=f.discardPath=function(){return O("n"),this};var Ti=f.__private__.isValidStyle=function(g){var N=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(g)!==-1&&(N=!0),N};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(g){return Ti(g)&&(u=g),this};var vc=f.__private__.getStyle=f.getStyle=function(g){var N=u;switch(g){case"D":case"S":N="S";break;case"F":N="f";break;case"FD":case"DF":N="B";break;case"f":case"f*":case"B":case"B*":N=g}return N},yc=f.close=function(){return O("h"),this};f.stroke=function(){return O("S"),this},f.fill=function(g){return fo("f",g),this},f.fillEvenOdd=function(g){return fo("f*",g),this},f.fillStroke=function(g){return fo("B",g),this},f.fillStrokeEvenOdd=function(g){return fo("B*",g),this};var fo=function(g,N){Dt(N)==="object"?ef(N,g):O(g)},ya=function(g){g===null||E===k&&g===void 0||(g=vc(g),O(g))};function Zd(g,N,z,Q,ae){var be=new Jo(N||this.boundingBox,z||this.xStep,Q||this.yStep,this.gState,ae||this.matrix);be.stream=this.stream;var _e=g+"$$"+this.cloneIndex+++"$$";return un(_e,be),be}var ef=function(g,N){var z=Rt[g.key],Q=Qe[z];if(Q instanceof Ua)O("q"),O(tf(N)),Q.gState&&f.setGState(Q.gState),O(g.matrix.toString()+" cm"),O("/"+z+" sh"),O("Q");else if(Q instanceof Jo){var ae=new tt(1,0,0,-1,0,_a());g.matrix&&(ae=ae.multiply(g.matrix||Wn),z=Zd.call(Q,g.key,g.boundingBox,g.xStep,g.yStep,ae).id),O("q"),O("/Pattern cs"),O("/"+z+" scn"),Q.gState&&f.setGState(Q.gState),O(N),O("Q")}},tf=function(g){switch(g){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},kl=f.moveTo=function(g,N){return O(q(J(g))+" "+q(K(N))+" m"),this},wc=f.lineTo=function(g,N){return O(q(J(g))+" "+q(K(N))+" l"),this},li=f.curveTo=function(g,N,z,Q,ae,be){return O([q(J(g)),q(K(N)),q(J(z)),q(K(Q)),q(J(ae)),q(K(be)),"c"].join(" ")),this};f.__private__.line=f.line=function(g,N,z,Q,ae){if(isNaN(g)||isNaN(N)||isNaN(z)||isNaN(Q)||!Ti(ae))throw new Error("Invalid arguments passed to jsPDF.line");return E===S?this.lines([[z-g,Q-N]],g,N,[1,1],ae||"S"):this.lines([[z-g,Q-N]],g,N,[1,1]).stroke()},f.__private__.lines=f.lines=function(g,N,z,Q,ae,be){var _e,Me,He,at,ft,Nt,er,br,$t,jr,xr,qr;if(typeof g=="number"&&(qr=z,z=N,N=g,g=qr),Q=Q||[1,1],be=be||!1,isNaN(N)||isNaN(z)||!Array.isArray(g)||!Array.isArray(Q)||!Ti(ae)||typeof be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(kl(N,z),_e=Q[0],Me=Q[1],at=g.length,jr=N,xr=z,He=0;He<at;He++)(ft=g[He]).length===2?(jr=ft[0]*_e+jr,xr=ft[1]*Me+xr,wc(jr,xr)):(Nt=ft[0]*_e+jr,er=ft[1]*Me+xr,br=ft[2]*_e+jr,$t=ft[3]*Me+xr,jr=ft[4]*_e+jr,xr=ft[5]*Me+xr,li(Nt,er,br,$t,jr,xr));return be&&yc(),ya(ae),this},f.path=function(g){for(var N=0;N<g.length;N++){var z=g[N],Q=z.c;switch(z.op){case"m":kl(Q[0],Q[1]);break;case"l":wc(Q[0],Q[1]);break;case"c":li.apply(this,Q);break;case"h":yc()}}return this},f.__private__.rect=f.rect=function(g,N,z,Q,ae){if(isNaN(g)||isNaN(N)||isNaN(z)||isNaN(Q)||!Ti(ae))throw new Error("Invalid arguments passed to jsPDF.rect");return E===S&&(Q=-Q),O([q(J(g)),q(K(N)),q(J(z)),q(J(Q)),"re"].join(" ")),ya(ae),this},f.__private__.triangle=f.triangle=function(g,N,z,Q,ae,be,_e){if(isNaN(g)||isNaN(N)||isNaN(z)||isNaN(Q)||isNaN(ae)||isNaN(be)||!Ti(_e))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[z-g,Q-N],[ae-z,be-Q],[g-ae,N-be]],g,N,[1,1],_e,!0),this},f.__private__.roundedRect=f.roundedRect=function(g,N,z,Q,ae,be,_e){if(isNaN(g)||isNaN(N)||isNaN(z)||isNaN(Q)||isNaN(ae)||isNaN(be)||!Ti(_e))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Me=4/3*(Math.SQRT2-1);return ae=Math.min(ae,.5*z),be=Math.min(be,.5*Q),this.lines([[z-2*ae,0],[ae*Me,0,ae,be-be*Me,ae,be],[0,Q-2*be],[0,be*Me,-ae*Me,be,-ae,be],[2*ae-z,0],[-ae*Me,0,-ae,-be*Me,-ae,-be],[0,2*be-Q],[0,-be*Me,ae*Me,-be,ae,-be]],g+ae,N,[1,1],_e,!0),this},f.__private__.ellipse=f.ellipse=function(g,N,z,Q,ae){if(isNaN(g)||isNaN(N)||isNaN(z)||isNaN(Q)||!Ti(ae))throw new Error("Invalid arguments passed to jsPDF.ellipse");var be=4/3*(Math.SQRT2-1)*z,_e=4/3*(Math.SQRT2-1)*Q;return kl(g+z,N),li(g+z,N-_e,g+be,N-Q,g,N-Q),li(g-be,N-Q,g-z,N-_e,g-z,N),li(g-z,N+_e,g-be,N+Q,g,N+Q),li(g+be,N+Q,g+z,N+_e,g+z,N),ya(ae),this},f.__private__.circle=f.circle=function(g,N,z,Q){if(isNaN(g)||isNaN(N)||isNaN(z)||!Ti(Q))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(g,N,z,z,Q)},f.setFont=function(g,N,z){return z&&(N=G(N,z)),ze=fc(g,N,{disableWarning:!1}),this};var rf=f.__private__.getFont=f.getFont=function(){return dt[fc.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var g,N,z={};for(g in vt)if(vt.hasOwnProperty(g))for(N in z[g]=[],vt[g])vt[g].hasOwnProperty(N)&&z[g].push(N);return z},f.addFont=function(g,N,z,Q,ae){var be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&be.indexOf(arguments[3])!==-1?ae=arguments[3]:arguments[3]&&be.indexOf(arguments[3])==-1&&(z=G(z,Q)),uc.call(this,g,N,z,ae=ae||"Identity-H")};var wa,Al=t.lineWidth||.200025,nf=f.__private__.getLineWidth=f.getLineWidth=function(){return Al},lt=f.__private__.setLineWidth=f.setLineWidth=function(g){return Al=g,O(q(J(g))+" w"),this};f.__private__.setLineDash=Ge.API.setLineDash=Ge.API.setLineDashPattern=function(g,N){if(g=g||[],N=N||0,isNaN(N)||!Array.isArray(g))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return g=g.map(function(z){return q(J(z))}).join(" "),N=q(J(N)),O("["+g+"] "+N+" d"),this};var sf=f.__private__.getLineHeight=f.getLineHeight=function(){return Ae*wa};f.__private__.getLineHeight=f.getLineHeight=function(){return Ae*wa};var af=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(g){return typeof(g=g||1.15)=="number"&&(wa=g),this},of=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return wa};af(t.lineHeight);var Gi=f.__private__.getHorizontalCoordinate=function(g){return J(g)},Ki=f.__private__.getVerticalCoordinate=function(g){return E===k?g:De[B].mediaBox.topRightY-De[B].mediaBox.bottomLeftY-J(g)},lf=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(g){return q(Gi(g))},uf=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(g){return q(Ki(g))},po=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Ei(po)},f.__private__.setStrokeColor=f.setDrawColor=function(g,N,z,Q){return po=ai({ch1:g,ch2:N,ch3:z,ch4:Q,pdfColorType:"draw",precision:2}),O(po),this};var Nl=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Ei(Nl)},f.__private__.setFillColor=f.setFillColor=function(g,N,z,Q){return Nl=ai({ch1:g,ch2:N,ch3:z,ch4:Q,pdfColorType:"fill",precision:2}),O(Nl),this};var ba=t.textColor||"0 g",cf=f.__private__.getTextColor=f.getTextColor=function(){return Ei(ba)};f.__private__.setTextColor=f.setTextColor=function(g,N,z,Q){return ba=ai({ch1:g,ch2:N,ch3:z,ch4:Q,pdfColorType:"text",precision:3}),this};var Ji=t.charSpace,hf=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Ji||0)};f.__private__.setCharSpace=f.setCharSpace=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ji=g,this};var jl=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(g){var N=f.CapJoinStyles[g];if(N===void 0)throw new Error("Line cap style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return jl=N,O(N+" J"),this};var El=0;f.__private__.setLineJoin=f.setLineJoin=function(g){var N=f.CapJoinStyles[g];if(N===void 0)throw new Error("Line join style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return El=N,O(N+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(g){if(g=g||0,isNaN(g))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return O(q(J(g))+" M"),this},f.GState=wd,f.setGState=function(g){(g=typeof g=="string"?et[te[g]]:bc(null,g)).equals(Ee)||(O("/"+g.id+" gs"),Ee=g)};var bc=function(g,N){if(!g||!te[g]){var z=!1;for(var Q in et)if(et.hasOwnProperty(Q)&&et[Q].equals(N)){z=!0;break}if(z)N=et[Q];else{var ae="GS"+(Object.keys(et).length+1).toString(10);et[ae]=N,N.id=ae}return g&&(te[g]=N.id),St.publish("addGState",N),N}};f.addGState=function(g,N){return bc(g,N),this},f.saveGraphicsState=function(){return O("q"),Pt.push({key:ze,size:Ae,color:ba}),this},f.restoreGraphicsState=function(){O("Q");var g=Pt.pop();return ze=g.key,Ae=g.size,ba=g.color,Ee=null,this},f.setCurrentTransformationMatrix=function(g){return O(g.toString()+" cm"),this},f.comment=function(g){return O("#"+g),this};var Yi=function(g,N){var z=g||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return z},set:function(be){isNaN(be)||(z=parseFloat(be))}});var Q=N||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Q},set:function(be){isNaN(be)||(Q=parseFloat(be))}});var ae="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ae},set:function(be){ae=be.toString()}}),this},Cl=function(g,N,z,Q){Yi.call(this,g,N),this.type="rect";var ae=z||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ae},set:function(_e){isNaN(_e)||(ae=parseFloat(_e))}});var be=Q||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return be},set:function(_e){isNaN(_e)||(be=parseFloat(_e))}}),this},go=function(){this.page=Te,this.currentPage=B,this.pages=ke.slice(0),this.pagesContext=De.slice(0),this.x=qe,this.y=Zt,this.matrix=_t,this.width=Pl(B),this.height=_c(B),this.outputDestination=Re,this.id="",this.objectNumber=-1};go.prototype.restore=function(){Te=this.page,B=this.currentPage,De=this.pagesContext,ke=this.pages,qe=this.x,Zt=this.y,_t=this.matrix,xc(B,this.width),Xi(B,this.height),Re=this.outputDestination};var Ll=function(g,N,z,Q,ae){ln.push(new go),Te=B=0,ke=[],qe=g,Zt=N,_t=ae,_l([z,Q])};for(var xa in f.beginFormObject=function(g,N,z,Q,ae){return Ll(g,N,z,Q,ae),this},f.endFormObject=function(g){return function(N){if(Ar[N])ln.pop().restore();else{var z=new go,Q="Xo"+(Object.keys(Lt).length+1).toString(10);z.id=Q,Ar[N]=Q,Lt[Q]=z,St.publish("addFormObject",z),ln.pop().restore()}}(g),this},f.doFormObject=function(g,N){var z=Lt[Ar[g]];return O("q"),O(N.toString()+" cm"),O("/"+z.id+" Do"),O("Q"),this},f.getFormObject=function(g){var N=Lt[Ar[g]];return{x:N.x,y:N.y,width:N.width,height:N.height,matrix:N.matrix}},f.save=function(g,N){return g=g||"generated.pdf",(N=N||{}).returnPromise=N.returnPromise||!1,N.returnPromise===!1?(Da(ho(Pi()),g),typeof Da.unload=="function"&&it.setTimeout&&setTimeout(Da.unload,911),this):new Promise(function(z,Q){try{var ae=Da(ho(Pi()),g);typeof Da.unload=="function"&&it.setTimeout&&setTimeout(Da.unload,911),z(ae)}catch(be){Q(be.message)}})},Ge.API)Ge.API.hasOwnProperty(xa)&&(xa==="events"&&Ge.API.events.length?function(g,N){var z,Q,ae;for(ae=N.length-1;ae!==-1;ae--)z=N[ae][0],Q=N[ae][1],g.subscribe.apply(g,[z].concat(typeof Q=="function"?[Q]:Q))}(St,Ge.API.events):f[xa]=Ge.API[xa]);function Pl(g){return De[g].mediaBox.topRightX-De[g].mediaBox.bottomLeftX}function xc(g,N){De[g].mediaBox.topRightX=N+De[g].mediaBox.bottomLeftX}function _c(g){return De[g].mediaBox.topRightY-De[g].mediaBox.bottomLeftY}function Xi(g,N){De[g].mediaBox.topRightY=N+De[g].mediaBox.bottomLeftY}var Qi=f.getPageWidth=function(g){return Pl(g=g||B)/st},Sc=f.setPageWidth=function(g,N){xc(g,N*st)},_a=f.getPageHeight=function(g){return _c(g=g||B)/st},kc=f.setPageHeight=function(g,N){Xi(g,N*st)};return f.internal={pdfEscape:Vn,getStyle:vc,getFont:rf,getFontSize:Ie,getCharSpace:hf,getTextColor:cf,getLineHeight:sf,getLineHeightFactor:of,getLineWidth:nf,write:Le,getHorizontalCoordinate:Gi,getVerticalCoordinate:Ki,getCoordinateString:lf,getVerticalCoordinateString:uf,collections:{},newObject:ir,newAdditionalObject:ga,newObjectDeferred:Fr,newObjectDeferredBegin:zr,getFilters:oi,putStream:Hn,events:St,scaleFactor:st,pageSize:{getWidth:function(){return Qi(B)},setWidth:function(g){Sc(B,g)},getHeight:function(){return _a(B)},setHeight:function(g){kc(B,g)}},encryptionOptions:h,encryption:Nr,getEncryptor:function(g){return h!==null?Nr.encryptor(g,0):function(N){return N}},output:gc,getNumberOfPages:dc,get pages(){return ke},out:O,f2:T,f3:F,getPageInfo:Vi,getPageInfoByObjId:mc,getCurrentPageInfo:Xd,getPDFVersion:x,Point:Yi,Rectangle:Cl,Matrix:tt,hasHotfix:Gn},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Qi(B)},set:function(g){Sc(B,g)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return _a(B)},set:function(g){kc(B,g)},enumerable:!0,configurable:!0}),(function(g){for(var N=0,z=Ze.length;N<z;N++){var Q=uc.call(this,g[N][0],g[N][1],g[N][2],Ze[N][3],!0);p===!1&&(v[Q]=!0);var ae=g[N][0].split("-");lc({id:Q,fontName:ae[0],fontStyle:ae[1]||""})}St.publish("addFonts",{fonts:dt,dictionary:vt})}).call(f,Ze),ze="F1",cc(i,r),St.publish("initialized"),f}Io.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Io.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Io.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Io.prototype.processOwnerPassword=function(t,e){return Y0(J0(e).substr(0,5),t)},Io.prototype.encryptor=function(t,e){var r=J0(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Y0(r,n)}},wd.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Dt(t)!==Dt(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Ge.API={events:[]},Ge.version="4.1.0";var or=Ge.API,og=1,ao=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Co=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},bd=function(t){return t.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var r=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(r.length===1?"0"+r:r)})},ut=function(t){return t.toFixed(2)},qs=function(t){return t.toFixed(5)};or.__acroform__={};var An=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Tv=function(t){return t*og},Mi=function(t){var e=new Eb,r=Be.internal.getHeight(t)||0,n=Be.internal.getWidth(t)||0;return e.BBox=[0,0,Number(ut(n)),Number(ut(r))],e},SN=or.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},kN=or.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},AN=or.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},mr=or.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return AN(t,e-1)},vr=or.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return SN(t,e-1)},yr=or.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return kN(t,e-1)},NN=or.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(s+o)||0,l.upperRight_X=r(i+a)||0,l.upperRight_Y=n(s)||0,[Number(ut(l.lowerLeft_X)),Number(ut(l.lowerLeft_Y)),Number(ut(l.upperRight_X)),Number(ut(l.upperRight_Y))]},jN=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=X0(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+ut(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Mi(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},X0=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(T){return T.split(`
`)}):i.map(function(T){return[T]});var s=r,a=Be.internal.getHeight(t)||0;a=a<0?-a:a;var o=Be.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(T,F,J){if(T+1<i.length){var K=F+" "+i[T+1][0];return bh(K,t,J).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var u,h,p=bh("3",t,s).height,v=t.multiline?a-s:(a-p)/2,f=v+=2,_=0,x=0,A=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+bh(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var w="",S=0,k=0;k<i.length;k++)if(i.hasOwnProperty(k)){var E=!1;if(i[k].length!==1&&A!==i[k].length-1){if((p+2)*(S+2)+2>a)continue e;w+=i[k][A],E=!0,x=k,k--}else{w=(w+=i[k][A]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var H=parseInt(k),V=l(H,w,s),G=k>=i.length-1;if(V&&!G){w+=" ",A=0;continue}if(V||G){if(G)x=H;else if(t.multiline&&(p+2)*(S+2)+2>a)continue e}else{if(!t.multiline||(p+2)*(S+2)+2>a)continue e;x=H}}for(var q="",D=_;D<=x;D++){var X=i[D];if(t.multiline){if(D===x){q+=X[A]+" ",A=(A+1)%X.length;continue}if(D===_){q+=X[X.length-1]+" ";continue}}q+=X[0]+" "}switch(q=q.substr(q.length-1)==" "?q.substr(0,q.length-1):q,h=bh(q,t,s).width,t.textAlign){case"right":u=o-h-2;break;case"center":u=(o-h)/2;break;default:u=2}e+=ut(u)+" "+ut(f)+` Td
`,e+="("+ao(q)+`) Tj
`,e+=-ut(u)+` 0 Td
`,f=-(s+2),h=0,_=E?x:x+1,S++,w=""}break}return n.text=e,n.fontSize=s,n},bh=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},EN={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},CN=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},LN=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ai.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(EN)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");og=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Cb,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&CN(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],l=[],u=o.Rect;if(o.Rect&&(o.Rect=NN(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Be.createDefaultAppearanceStream(o),Dt(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var h=jN(o);l.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(o.appearanceStreamContent){var p="";for(var v in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(v)){var f=o.appearanceStreamContent[v];if(p+="/"+v+" ",p+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var a in f)if(f.hasOwnProperty(a)){var _=f[a];typeof _=="function"&&(_=_.call(i,o)),p+="/"+a+" "+_+" ",i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_)}}else typeof(_=f)=="function"&&(_=_.call(i,o)),p+="/"+a+" "+_,i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_);p+=">>"}l.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&function(x,A){for(var w in x)if(x.hasOwnProperty(w)){var S=w,k=x[w];A.internal.newObjectDeferredBegin(k.objId,!0),Dt(k)==="object"&&typeof k.putStream=="function"&&k.putStream(),delete x[S]}}(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},jb=or.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),Dt(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)==="/"?i+="/"+bd(t[s].substr(1)):(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+ao(n(t[s].toString()))+")")}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Np=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+ao(n(t))+")"},qi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};qi.prototype.toString=function(){return this.objId+" 0 R"},qi.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},qi.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:jb(i,this.objId,this.scope)}):i instanceof qi?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var Eb=function(){qi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};An(Eb,qi);var Cb=function(){qi.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+ao(r(t))+")"}},set:function(r){t=r}})};An(Cb,qi);var Ai=function t(){qi.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!mr(e,3)},set:function(w){w?this.F=vr(e,3):this.F=yr(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');r=w}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(w){n=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(w){n[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(w){n[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(w){n[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(w){n[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof xd)return;s="FieldObject"+t.FieldNum++}var w=function(S){return S};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+ao(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/og:u},set:function(w){u=w}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(w){h=w}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof xd||this instanceof Ga))return Np(p,this.objId,this.scope)},set:function(w){w=w.toString(),p=w}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Br==0?Np(v,this.objId,this.scope):v},set:function(w){w=w.toString(),v=this instanceof Br==0?w.substr(0,1)==="("?Co(w.substr(1,w.length-2)):Co(w):w}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Br==1?Co(v.substr(1,v.length-1)):v},set:function(w){w=w.toString(),v=this instanceof Br==1?"/"+bd(w):w}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Br==0?Np(f,this.objId,this.scope):f},set:function(w){w=w.toString(),f=this instanceof Br==0?w.substr(0,1)==="("?Co(w.substr(1,w.length-2)):Co(w):w}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Br==1?Co(f.substr(1,f.length-1)):f},set:function(w){w=w.toString(),f=this instanceof Br==1?"/"+bd(w):w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var _,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(w){w=!!w,x=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(_)return _},set:function(w){_=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,1)},set:function(w){w?this.Ff=vr(this.Ff,1):this.Ff=yr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,2)},set:function(w){w?this.Ff=vr(this.Ff,2):this.Ff=yr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,3)},set:function(w){w?this.Ff=vr(this.Ff,3):this.Ff=yr(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(A!==null)return A},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');A=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(A){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:A=2;break;case"center":case 1:A=1;break;default:A=0}}})};An(Ai,qi);var nl=function(){Ai.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return jb(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,u=[];l=a.exec(s);)u.push(l[o]);return u}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,18)},set:function(r){r?this.Ff=vr(this.Ff,18):this.Ff=yr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=vr(this.Ff,19):this.Ff=yr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,20)},set:function(r){r?(this.Ff=vr(this.Ff,20),e.sort()):this.Ff=yr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,22)},set:function(r){r?this.Ff=vr(this.Ff,22):this.Ff=yr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,23)},set:function(r){r?this.Ff=vr(this.Ff,23):this.Ff=yr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,27)},set:function(r){r?this.Ff=vr(this.Ff,27):this.Ff=yr(this.Ff,27)}}),this.hasAppearanceStream=!1};An(nl,Ai);var il=function(){nl.call(this),this.fontName="helvetica",this.combo=!1};An(il,nl);var sl=function(){il.call(this),this.combo=!0};An(sl,il);var Dh=function(){sl.call(this),this.edit=!0};An(Dh,sl);var Br=function(){Ai.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,15)},set:function(r){r?this.Ff=vr(this.Ff,15):this.Ff=yr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,16)},set:function(r){r?this.Ff=vr(this.Ff,16):this.Ff=yr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,17)},set:function(r){r?this.Ff=vr(this.Ff,17):this.Ff=yr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,26)},set:function(r){r?this.Ff=vr(this.Ff,26):this.Ff=yr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+ao(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Dt(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+bd(r)}})};An(Br,Ai);var Bh=function(){Br.call(this),this.pushButton=!0};An(Bh,Br);var al=function(){Br.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};An(al,Br);var xd=function(){var t,e;Ai.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+ao(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){Dt(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Be.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};An(xd,Ai),al.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},al.prototype.createOption=function(t){var e=new xd;return e.Parent=this,e.optionName=t,this.Kids.push(e),PN.call(this.scope,e),e};var Mh=function(){Br.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Be.CheckBox.createAppearanceStream()};An(Mh,Br);var Ga=function(){Ai.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,13)},set:function(e){e?this.Ff=vr(this.Ff,13):this.Ff=yr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,21)},set:function(e){e?this.Ff=vr(this.Ff,21):this.Ff=yr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,23)},set:function(e){e?this.Ff=vr(this.Ff,23):this.Ff=yr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,24)},set:function(e){e?this.Ff=vr(this.Ff,24):this.Ff=yr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,25)},set:function(e){e?this.Ff=vr(this.Ff,25):this.Ff=yr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,26)},set:function(e){e?this.Ff=vr(this.Ff,26):this.Ff=yr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};An(Ga,Ai);var Uh=function(){Ga.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,14)},set:function(t){t?this.Ff=vr(this.Ff,14):this.Ff=yr(this.Ff,14)}}),this.password=!0};An(Uh,Ga);var Be={CheckBox:{createAppearanceStream:function(){return{N:{On:Be.CheckBox.YesNormal},D:{On:Be.CheckBox.YesPushDown,Off:Be.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Mi(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=X0(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+ut(Be.internal.getWidth(t))+" "+ut(Be.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+ut(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Mi(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],s=Be.internal.getHeight(t),a=Be.internal.getWidth(t),o=X0(t,t.caption);return i.push("1 g"),i.push("0 0 "+ut(a)+" "+ut(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+ut(a-1)+" "+ut(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+ut(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Mi(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ut(Be.internal.getWidth(t))+" "+ut(Be.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Be.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Be.RadioButton.Circle.YesNormal,e.D[t]=Be.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Mi(t);e.scope=t.scope;var r=[],n=Be.internal.getWidth(t)<=Be.internal.getHeight(t)?Be.internal.getWidth(t)/4:Be.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Be.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+qs(Be.internal.getWidth(t)/2)+" "+qs(Be.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Mi(t);e.scope=t.scope;var r=[],n=Be.internal.getWidth(t)<=Be.internal.getHeight(t)?Be.internal.getWidth(t)/4:Be.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Be.internal.Bezier_C).toFixed(5)),a=Number((n*Be.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+qs(Be.internal.getWidth(t)/2)+" "+qs(Be.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+qs(Be.internal.getWidth(t)/2)+" "+qs(Be.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Mi(t);e.scope=t.scope;var r=[],n=Be.internal.getWidth(t)<=Be.internal.getHeight(t)?Be.internal.getWidth(t)/4:Be.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Be.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+qs(Be.internal.getWidth(t)/2)+" "+qs(Be.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Be.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Be.RadioButton.Cross.YesNormal,e.D[t]=Be.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Mi(t);e.scope=t.scope;var r=[],n=Be.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+ut(Be.internal.getWidth(t)-2)+" "+ut(Be.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(ut(n.x1.x)+" "+ut(n.x1.y)+" m"),r.push(ut(n.x2.x)+" "+ut(n.x2.y)+" l"),r.push(ut(n.x4.x)+" "+ut(n.x4.y)+" m"),r.push(ut(n.x3.x)+" "+ut(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Mi(t);e.scope=t.scope;var r=Be.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+ut(Be.internal.getWidth(t))+" "+ut(Be.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+ut(Be.internal.getWidth(t)-2)+" "+ut(Be.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(ut(r.x1.x)+" "+ut(r.x1.y)+" m"),n.push(ut(r.x2.x)+" "+ut(r.x2.y)+" l"),n.push(ut(r.x4.x)+" "+ut(r.x4.y)+" m"),n.push(ut(r.x3.x)+" "+ut(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Mi(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ut(Be.internal.getWidth(t))+" "+ut(Be.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Be.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Be.internal.getWidth(t),r=Be.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Be.internal.getWidth=function(t){var e=0;return Dt(t)==="object"&&(e=Tv(t.Rect[2])),e},Be.internal.getHeight=function(t){var e=0;return Dt(t)==="object"&&(e=Tv(t.Rect[3])),e};var PN=or.addField=function(t){if(LN(this,t),!(t instanceof Ai))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};or.AcroFormChoiceField=nl,or.AcroFormListBox=il,or.AcroFormComboBox=sl,or.AcroFormEditBox=Dh,or.AcroFormButton=Br,or.AcroFormPushButton=Bh,or.AcroFormRadioButton=al,or.AcroFormCheckBox=Mh,or.AcroFormTextField=Ga,or.AcroFormPasswordField=Uh,or.AcroFormAppearance=Be,or.AcroForm={ChoiceField:nl,ListBox:il,ComboBox:sl,EditBox:Dh,Button:Br,PushButton:Bh,RadioButton:al,CheckBox:Mh,TextField:Ga,PasswordField:Uh,Appearance:Be},Ge.AcroForm={ChoiceField:nl,ListBox:il,ComboBox:sl,EditBox:Dh,Button:Br,PushButton:Bh,RadioButton:al,CheckBox:Mh,TextField:Ga,PasswordField:Uh,Appearance:Be};Ge.AcroForm;function Lb(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(T,F){var J,K,de,Y,ee,$=r;if((F=F||r)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(V(T))for(ee in n)for(de=n[ee],J=0;J<de.length;J+=1){for(Y=!0,K=0;K<de[J].length;K+=1)if(de[J][K]!==void 0&&de[J][K]!==T[K]){Y=!1;break}if(Y===!0){$=ee;break}}else for(ee in n)for(de=n[ee],J=0;J<de.length;J+=1){for(Y=!0,K=0;K<de[J].length;K+=1)if(de[J][K]!==void 0&&de[J][K]!==T.charCodeAt(K)){Y=!1;break}if(Y===!0){$=ee;break}}return $===r&&F!==r&&($=F),$},s=function T(F){for(var J=this.internal.write,K=this.internal.putStream,de=(0,this.internal.getFilters)();de.indexOf("FlateEncode")!==-1;)de.splice(de.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var Y=[];if(Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Image"}),Y.push({key:"Width",value:F.width}),Y.push({key:"Height",value:F.height}),F.colorSpace===w.INDEXED?Y.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(Y.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===w.DEVICE_CMYK&&Y.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Y.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&Y.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)&&F.transparency.length>0){for(var ee="",$=0,se=F.transparency.length;$<se;$++)ee+=F.transparency[$]+" "+F.transparency[$]+" ";Y.push({key:"Mask",value:"["+ee+"]"})}F.sMask!==void 0&&Y.push({key:"SMask",value:F.objectId+1+" 0 R"});var pe=F.filter!==void 0?["/"+F.filter]:void 0;if(K({data:F.data,additionalKeyValues:Y,alreadyAppliedFilters:pe,objectId:F.objectId}),J("endobj"),"sMask"in F&&F.sMask!==void 0){var oe,C=(oe=F.sMaskBitsPerComponent)!==null&&oe!==void 0?oe:F.bitsPerComponent,B={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:C,data:F.sMask};"filter"in F&&(B.decodeParameters="/Predictor ".concat(F.predictor," /Colors 1 /BitsPerComponent ").concat(C," /Columns ").concat(F.width),B.filter=F.filter),T.call(this,B)}if(F.colorSpace===w.INDEXED){var W=this.internal.newObject();K({data:q(new Uint8Array(F.palette)),objectId:W}),J("endobj")}},a=function(){var T=this.internal.collections[e+"images"];for(var F in T)s.call(this,T[F])},o=function(){var T,F=this.internal.collections[e+"images"],J=this.internal.write;for(var K in F)J("/I"+(T=F[K]).index,T.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var T=this.internal.collections[e+"images"];return l.call(this),T},h=function(){return Object.keys(this.internal.collections[e+"images"]).length},p=function(T){return typeof t["process"+T.toUpperCase()]=="function"},v=function(T){return Dt(T)==="object"&&T.nodeType===1},f=function(T,F){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var J=""+T.getAttribute("src");if(J.indexOf("data:image/")===0)return Fh(unescape(J).split("base64,").pop());var K=t.loadFile(J,!0);if(K!==void 0)return K}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var de;switch(F){case"PNG":de="image/png";break;case"WEBP":de="image/webp";break;default:de="image/jpeg"}return Fh(T.toDataURL(de,1).split("base64,").pop())}},_=function(T){var F=this.internal.collections[e+"images"];if(F){for(var J in F)if(T===F[J].alias)return F[J]}},x=function(T,F,J){return T||F||(T=-96,F=-96),T<0&&(T=-1*J.width*72/T/this.internal.scaleFactor),F<0&&(F=-1*J.height*72/F/this.internal.scaleFactor),T===0&&(T=F*J.width/J.height),F===0&&(F=T*J.height/J.width),[T,F]},A=function(T,F,J,K,de,Y){var ee=x.call(this,J,K,de),$=this.internal.getCoordinateString,se=this.internal.getVerticalCoordinateString,pe=u.call(this);if(J=ee[0],K=ee[1],pe[de.index]=de,Y){Y*=Math.PI/180;var oe=Math.cos(Y),C=Math.sin(Y),B=function(Z){return Z.toFixed(4)},W=[B(oe),B(C),B(-1*C),B(oe),0,0,"cm"]}this.internal.write("q"),Y?(this.internal.write([1,"0","0",1,$(T),se(F+K),"cm"].join(" ")),this.internal.write(W.join(" ")),this.internal.write([$(J),"0","0",$(K),"0","0","cm"].join(" "))):this.internal.write([$(J),"0","0",$(K),$(T),se(F+K),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+de.index+" Do"),this.internal.write("Q")},w=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},k=t.__addimage__.sHashCode=function(T){var F,J,K=0;if(typeof T=="string")for(J=T.length,F=0;F<J;F++)K=(K<<5)-K+T.charCodeAt(F),K|=0;else if(V(T))for(J=T.byteLength/2,F=0;F<J;F++)K=(K<<5)-K+T[F],K|=0;return K},E=t.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var F=!0;return T.length===0&&(F=!1),T.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(F=!1),F},H=t.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var F=T.indexOf(",");return F<0?null:T.substring(0,F).trim().endsWith("base64")?T.substring(F+1):null};t.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var V=t.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},G=t.__addimage__.binaryStringToUint8Array=function(T){for(var F=T.length,J=new Uint8Array(F),K=0;K<F;K++)J[K]=T.charCodeAt(K);return J},q=t.__addimage__.arrayBufferToBinaryString=function(T){for(var F="",J=V(T)?T:new Uint8Array(T),K=0;K<J.length;K+=8192)F+=String.fromCharCode.apply(null,J.subarray(K,K+8192));return F};t.addImage=function(){var T,F,J,K,de,Y,ee,$,se;if(typeof arguments[1]=="number"?(F=r,J=arguments[1],K=arguments[2],de=arguments[3],Y=arguments[4],ee=arguments[5],$=arguments[6],se=arguments[7]):(F=arguments[1],J=arguments[2],K=arguments[3],de=arguments[4],Y=arguments[5],ee=arguments[6],$=arguments[7],se=arguments[8]),Dt(T=arguments[0])==="object"&&!v(T)&&"imageData"in T){var pe=T;T=pe.imageData,F=pe.format||F||r,J=pe.x||J||0,K=pe.y||K||0,de=pe.w||pe.width||de,Y=pe.h||pe.height||Y,ee=pe.alias||ee,$=pe.compression||$,se=pe.rotation||pe.angle||se}var oe=this.internal.getFilters();if($===void 0&&oe.indexOf("FlateEncode")!==-1&&($="SLOW"),isNaN(J)||isNaN(K))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var C=D.call(this,T,F,ee,$);return A.call(this,J,K,de,Y,C,se),this};var D=function(T,F,J,K){var de,Y,ee;if(typeof T=="string"&&i(T)===r){T=unescape(T);var $=X(T,!1);($!==""||($=t.loadFile(T,!0))!==void 0)&&(T=$)}if(v(T)&&(T=f(T,F)),F=i(T,F),!p(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((ee=J)==null||ee.length===0)&&(J=function(se){return typeof se=="string"||V(se)?k(se):V(se.data)?k(se.data):null}(T)),(de=_.call(this,J))||(T instanceof Uint8Array||F==="RGBA"||(Y=T,T=G(T)),de=this["process"+F.toUpperCase()](T,h.call(this),J,function(se){return se&&typeof se=="string"&&(se=se.toUpperCase()),se in t.image_compression?se:S.NONE}(K),Y)),!de)throw new Error("An unknown error occurred whilst processing the image.");return de},X=t.__addimage__.convertBase64ToBinaryString=function(T,F){F=typeof F!="boolean"||F;var J,K="";if(typeof T=="string"){var de;J=(de=H(T))!==null&&de!==void 0?de:T;try{K=Fh(J)}catch(Y){if(F)throw E(J)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Y.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return K};t.getImageProperties=function(T){var F,J,K="";if(v(T)&&(T=f(T)),typeof T=="string"&&i(T)===r&&((K=X(T,!1))===""&&(K=t.loadFile(T)||""),T=K),J=i(T),!p(J))throw new Error("addImage does not support files of type '"+J+"', please ensure that a plugin for '"+J+"' support is added.");if(T instanceof Uint8Array||(T=G(T)),!(F=this["process"+J.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=J,F}})(Ge.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Ge.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,h=!1,p=0;p<u.length&&!h;p++)switch((n=u[p]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var v=0;v<u.length;v++){n=u[v];var f=this.internal.pdfEscape,_=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),A=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(x.objId),S=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+f(w(n.contents))+")",s+=" /Popup "+A.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+f(w(S))+") >>",x.content=s;var k=x.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+k,n.open&&(s+=" /Open true"),s+=" >>",A.content=s,this.internal.write(x.objId,"0 R",A.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var E=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(_(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+E+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var H=this.annotations._nameMap[n.options.name];n.options.pageNumber=H.page,n.options.top=H.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(_(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var V=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+V+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:u(n),w:l(r+i),h:u(n+s)},options:a,type:"link"})},t.textWithLink=function(r,n,i,s){var a,o,l=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var h=this.splitTextToSize(r,o).length;a=Math.ceil(u*h)}else o=l,a=u;return this.text(r,n,i,s),i+=.2*u,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,i-u,o,a,s),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Ge.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(x){return e[x.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},o=t.__arabicParser__.isArabicEndLetter=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(x){return a(x)&&i.indexOf(x.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length>=3};var h=t.__arabicParser__.arabicLetterHasMedialForm=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length==4},p=t.__arabicParser__.resolveLigatures=function(x){var A=0,w=r,S="",k=0;for(A=0;A<x.length;A+=1)w[x.charCodeAt(A)]!==void 0?(k++,typeof(w=w[x.charCodeAt(A)])=="number"&&(S+=String.fromCharCode(w),w=r,k=0),A===x.length-1&&(w=r,S+=x.charAt(A-(k-1)),A-=k-1,k=0)):(w=r,S+=x.charAt(A-k),A-=k,k=0);return S};t.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&n[x.charCodeAt(0)]!==void 0};var v=t.__arabicParser__.getCorrectForm=function(x,A,w){return a(x)?s(x)===!1?-1:!u(x)||!a(A)&&!a(w)||!a(w)&&o(A)||o(x)&&!a(A)||o(x)&&l(A)||o(x)&&o(A)?0:h(x)&&a(A)&&!o(A)&&a(w)&&u(w)?3:o(x)||!a(w)?1:2:-1},f=function(x){var A=0,w=0,S=0,k="",E="",H="",V=(x=x||"").split("\\s+"),G=[];for(A=0;A<V.length;A+=1){for(G.push(""),w=0;w<V[A].length;w+=1)k=V[A][w],E=V[A][w-1],H=V[A][w+1],a(k)?(S=v(k,E,H),G[A]+=S!==-1?String.fromCharCode(e[k.charCodeAt(0)][S]):k):G[A]+=k;G[A]=p(G[A])}return G.join(" ")},_=t.__arabicParser__.processArabic=t.processArabic=function(){var x,A=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(A)){var S=0;for(w=[],S=0;S<A.length;S+=1)Array.isArray(A[S])?w.push([f(A[S][0]),A[S][1],A[S][2]]):w.push([f(A[S])]);x=w}else x=f(A);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};t.events.push(["preProcessText",_])}(Ge.API),Ge.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Ge.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(x){l=x}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(x){v=x}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var _=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return _},set:function(x){_=x}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){n.call(this);var h=(u=u||{}).fontSize||this.getFontSize(),p=u.font||this.getFont(),v=u.scaleFactor||this.internal.scaleFactor,f=0,_=0,x=0,A=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=u.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(k,E){return k.concat(A.splitTextToSize(E,w))},[])):l=Array.isArray(l)?l:[l];for(var S=0;S<l.length;S++)f<(x=this.getStringUnitWidth(l[S],{font:p})*h)&&(f=x);return f!==0&&(_=l.length),{w:f/=v,h:Math.max((_*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/v,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var u=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,v=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=p.top,f&&v&&(this.printHeaderRow(l.lineNumber,!0),l.y+=v[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-h,l.y+h,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+h,{align:"center",baseline:"top",maxWidth:l.width-h-h}):this.text(l.text,l.x+h,l.y+h,{align:"left",baseline:"top",maxWidth:l.width-h-h})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,h,p,v){if(n.call(this),!h)throw new Error("No data for PDF table.");var f,_,x,A,w=[],S=[],k=[],E={},H={},V=[],G=[],q=(v=v||{}).autoSize||!1,D=v.printHeaders!==!1,X=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,T=v.margins||Object.assign({width:this.getPageWidth()},e),F=typeof v.padding=="number"?v.padding:3,J=v.headerBackgroundColor||"#c8c8c8",K=v.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=D,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=X,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=J,this.internal.__cell__.headerTextColor=K,this.setFontSize(X),p==null)S=w=Object.keys(h[0]),k=w.map(function(){return"left"});else if(Array.isArray(p)&&Dt(p[0])==="object")for(w=p.map(function(pe){return pe.name}),S=p.map(function(pe){return pe.prompt||pe.name||""}),k=p.map(function(pe){return pe.align||"left"}),f=0;f<p.length;f+=1)H[p[f].name]=.7499990551181103*p[f].width;else Array.isArray(p)&&typeof p[0]=="string"&&(S=w=p,k=w.map(function(){return"left"}));if(q||Array.isArray(p)&&typeof p[0]=="string")for(f=0;f<w.length;f+=1){for(E[A=w[f]]=h.map(function(pe){return pe[A]}),this.setFont(void 0,"bold"),V.push(this.getTextDimensions(S[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),_=E[A],this.setFont(void 0,"normal"),x=0;x<_.length;x+=1)V.push(this.getTextDimensions(_[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);H[A]=Math.max.apply(null,V)+F+F,V=[]}if(D){var de={};for(f=0;f<w.length;f+=1)de[w[f]]={},de[w[f]].text=S[f],de[w[f]].align=k[f];var Y=o.call(this,de,H);G=w.map(function(pe){return new s(l,u,H[pe],Y,de[pe].text,void 0,de[pe].align)}),this.setTableHeaderRow(G),this.printHeaderRow(1,!1)}var ee=p.reduce(function(pe,oe){return pe[oe.name]=oe.align,pe},{});for(f=0;f<h.length;f+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:f,data:h[f]},this);var $=o.call(this,h[f],H);for(x=0;x<w.length;x+=1){var se=h[f][w[x]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:f,col:x,data:se},this),a.call(this,new s(l,u,H[w[x]],$,se,f+2,ee[w[x]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var h=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(l).map(function(f){var _=l[f];return this.splitTextToSize(_.hasOwnProperty("text")?_.text:_,u[f]-h-h)},this).map(function(f){return this.getLineHeightFactor()*f.length*p/v+h+h},this).reduce(function(f,_){return Math.max(f,_)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){h=this.internal.__cell__.tableHeaderRow[f].clone(),u&&(h.y=this.internal.__cell__.margins.top||0,v.push(h)),h.lineNumber=l;var _=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,h),this.setTextColor(_)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),r=!1}}(Ge.API);var Pb={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Tb=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Q0=Lb(Tb),Rb=[100,200,300,400,500,600,700,800,900],TN=Lb(Rb);function jp(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return Pb[s=s||"normal"]?s:"normal"}(t.style),n=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(t.weight),i=function(s){return typeof Q0[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function Rv(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var RN={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Iv={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Ov(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Fv(t){return t.trimLeft()}function IN(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function ON(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Lo,xh,Dv,Bv,Mv,Ep=["times"];function Uv(t,e,r,n,i){var s=4,a=qv;switch(i){case Ge.API.image_compression.FAST:s=1,a=zv;break;case Ge.API.image_compression.MEDIUM:s=6,a=$v;break;case Ge.API.image_compression.SLOW:s=9,a=Wv}t=function(l,u,h,p){for(var v,f=l.length/u,_=new Uint8Array(l.length+f),x=[FN,zv,qv,$v,Wv],A=0;A<f;A+=1){var w=A*u,S=l.subarray(w,w+u);if(p)_.set(p(S,h,v),w+A);else{for(var k=x.length,E=[],H=0;H<k;H+=1)E[H]=x[H](S,h,v);var V=BN(E.concat());_.set(E[V],w+A)}v=S}return _}(t,e,Math.ceil(r*n/8),a);var o=H0(t,{level:s});return Ge.API.__addimage__.arrayBufferToBinaryString(o)}function FN(t){var e=Array.apply([],t);return e.unshift(0),e}function zv(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var s=t[i-e]||0;n[i+1]=t[i]-s+256&255}return n}function qv(t,e,r){var n=t.length,i=[];i[0]=2;for(var s=0;s<n;s+=1){var a=r&&r[s]||0;i[s+1]=t[s]-a+256&255}return i}function $v(t,e,r){var n=t.length,i=[];i[0]=3;for(var s=0;s<n;s+=1){var a=t[s-e]||0,o=r&&r[s]||0;i[s+1]=t[s]+256-(a+o>>>1)&255}return i}function Wv(t,e,r){var n=t.length,i=[];i[0]=4;for(var s=0;s<n;s+=1){var a=DN(t[s-e]||0,r&&r[s]||0,r&&r[s-e]||0);i[s+1]=t[s]-a+256&255}return i}function DN(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),s=Math.abs(t+e-r-r);return n<=i&&n<=s?t:i<=s?e:r}function BN(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function Cp(t,e,r){var n=e*r,i=Math.floor(n/8),s=16-(n-8*i+r),a=(1<<r)-1;return Ib(t,i)>>s&a}function Hv(t,e,r,n){var i=r*n,s=Math.floor(i/8),a=16-(i-8*s+n),o=(1<<n)-1,l=(e&o)<<a;(function(u,h,p){if(h+1<u.byteLength)u.setUint16(h,p,!1);else{var v=p>>8&255;u.setUint8(h,v)}})(t,s,Ib(t,s)&~(o<<a)&65535|l)}function Ib(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function MN(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<1+(7&i);t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var u=!0,h=[],p=0,v=null,f=0,_=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,_=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var x=t[e++];p=t[e++]|t[e++]<<8,v=t[e++],1&x||(v=null),f=x>>2&7,e++;break;case 254:for(;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var A=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,k=t[e++]|t[e++]<<8,E=t[e++],H=E>>6&1,V=1<<1+(7&E),G=o,q=l,D=!1;E>>7&&(D=!0,G=e,q=V,e+=3*V);var X=e;for(e++;;){var T;if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}h.push({x:A,y:w,width:S,height:k,has_local_palette:D,palette_offset:G,palette_size:q,data_offset:X,data_length:e-X,transparent_index:v,interlaced:!!H,delay:p,disposal:f});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return _},this.frameInfo=function(F){if(F<0||F>=h.length)throw new Error("Frame index out of range.");return h[F]},this.decodeAndBlitFrameBGRA=function(F,J){var K=this.frameInfo(F),de=K.width*K.height,Y=new Uint8Array(de);Vv(t,K.data_offset,Y,de);var ee=K.palette_offset,$=K.transparent_index;$===null&&($=256);var se=K.width,pe=r-se,oe=se,C=4*(K.y*r+K.x),B=4*((K.y+K.height)*r+K.x),W=C,Z=4*pe;K.interlaced===!0&&(Z+=4*r*7);for(var ne=8,ue=0,ge=Y.length;ue<ge;++ue){var me=Y[ue];if(oe===0&&(oe=se,(W+=Z)>=B&&(Z=4*pe+4*r*(ne-1),W=C+(se+pe)*(ne<<1),ne>>=1)),me===$)W+=4;else{var ve=t[ee+3*me],ke=t[ee+3*me+1],Ce=t[ee+3*me+2];J[W++]=Ce,J[W++]=ke,J[W++]=ve,J[W++]=255}--oe}},this.decodeAndBlitFrameRGBA=function(F,J){var K=this.frameInfo(F),de=K.width*K.height,Y=new Uint8Array(de);Vv(t,K.data_offset,Y,de);var ee=K.palette_offset,$=K.transparent_index;$===null&&($=256);var se=K.width,pe=r-se,oe=se,C=4*(K.y*r+K.x),B=4*((K.y+K.height)*r+K.x),W=C,Z=4*pe;K.interlaced===!0&&(Z+=4*r*7);for(var ne=8,ue=0,ge=Y.length;ue<ge;++ue){var me=Y[ue];if(oe===0&&(oe=se,(W+=Z)>=B&&(Z=4*pe+4*r*(ne-1),W=C+(se+pe)*(ne<<1),ne>>=1)),me===$)W+=4;else{var ve=t[ee+3*me],ke=t[ee+3*me+1],Ce=t[ee+3*me+2];J[W++]=ve,J[W++]=ke,J[W++]=Ce,J[W++]=255}--oe}}}function Vv(t,e,r,n){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,l=i+1,u=(1<<l)-1,h=0,p=0,v=0,f=t[e++],_=new Int32Array(4096),x=null;;){for(;h<16&&f!==0;)p|=t[e++]<<h,h+=8,f===1?f=t[e++]:--f;if(h<l)break;var A=p&u;if(p>>=l,h-=l,A!==s){if(A===a)break;for(var w=A<o?A:x,S=0,k=w;k>s;)k=_[k]>>8,++S;var E=k;if(v+S+(w!==A?1:0)>n)return void qt.log("Warning, gif stream longer than expected.");r[v++]=E;var H=v+=S;for(w!==A&&(r[v++]=E),k=w;S--;)k=_[k],r[--H]=255&k,k>>=8;x!==null&&o<4096&&(_[o++]=x<<8|E,o>=u+1&&l<12&&(++l,u=u<<1|1)),x=A}else o=a+1,u=(1<<(l=i+1))-1,x=null}return v!==n&&qt.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Lp(t){var e,r,n,i,s,a=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),h=new Array(64),p=new Array(65535),v=new Array(65535),f=new Array(64),_=new Array(64),x=[],A=0,w=7,S=new Array(64),k=new Array(64),E=new Array(64),H=new Array(256),V=new Array(2048),G=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],q=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],J=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],de=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Y(C,B){for(var W=0,Z=0,ne=new Array,ue=1;ue<=16;ue++){for(var ge=1;ge<=C[ue];ge++)ne[B[Z]]=[],ne[B[Z]][0]=W,ne[B[Z]][1]=ue,Z++,W++;W*=2}return ne}function ee(C){for(var B=C[0],W=C[1]-1;W>=0;)B&1<<W&&(A|=1<<w),W--,--w<0&&(A==255?($(255),$(0)):$(A),w=7,A=0)}function $(C){x.push(C)}function se(C){$(C>>8&255),$(255&C)}function pe(C,B,W,Z,ne){for(var ue,ge=ne[0],me=ne[240],ve=function(Ae,Ue){var Ie,Ye,Xe,Ct,yt,ot,bt,wt,ze,st,qe=0;for(ze=0;ze<8;++ze){Ie=Ae[qe],Ye=Ae[qe+1],Xe=Ae[qe+2],Ct=Ae[qe+3],yt=Ae[qe+4],ot=Ae[qe+5],bt=Ae[qe+6];var Zt=Ie+(wt=Ae[qe+7]),_t=Ie-wt,dt=Ye+bt,vt=Ye-bt,Pt=Xe+ot,Qe=Xe-ot,Rt=Ct+yt,et=Ct-yt,te=Zt+Rt,Ee=Zt-Rt,Te=dt+Pt,De=dt-Pt;Ae[qe]=te+Te,Ae[qe+4]=te-Te;var St=.707106781*(De+Ee);Ae[qe+2]=Ee+St,Ae[qe+6]=Ee-St;var Or=.382683433*((te=et+Qe)-(De=vt+_t)),Lt=.5411961*te+Or,Ar=1.306562965*De+Or,ln=.707106781*(Te=Qe+vt),tt=_t+ln,ji=_t-ln;Ae[qe+5]=ji+Lt,Ae[qe+3]=ji-Lt,Ae[qe+1]=tt+Ar,Ae[qe+7]=tt-Ar,qe+=8}for(qe=0,ze=0;ze<8;++ze){Ie=Ae[qe],Ye=Ae[qe+8],Xe=Ae[qe+16],Ct=Ae[qe+24],yt=Ae[qe+32],ot=Ae[qe+40],bt=Ae[qe+48];var Wn=Ie+(wt=Ae[qe+56]),un=Ie-wt,Ur=Ye+bt,ir=Ye-bt,Fr=Xe+ot,zr=Xe-ot,ga=Ct+yt,ks=Ct-yt,si=Wn+ga,Ei=Wn-ga,ai=Ur+Fr,oi=Ur-Fr;Ae[qe]=si+ai,Ae[qe+32]=si-ai;var Hn=.707106781*(oi+Ei);Ae[qe+16]=Ei+Hn,Ae[qe+48]=Ei-Hn;var ma=.382683433*((si=ks+zr)-(oi=ir+un)),Ci=.5411961*si+ma,va=1.306562965*oi+ma,oo=.707106781*(ai=zr+ir),lo=un+oo,uo=un-oo;Ae[qe+40]=uo+Ci,Ae[qe+24]=uo-Ci,Ae[qe+8]=lo+va,Ae[qe+56]=lo-va,qe++}for(ze=0;ze<64;++ze)st=Ae[ze]*Ue[ze],f[ze]=st>0?st+.5|0:st-.5|0;return f}(C,B),ke=0;ke<64;++ke)_[G[ke]]=ve[ke];var Ce=_[0]-W;W=_[0],Ce==0?ee(Z[0]):(ee(Z[v[ue=32767+Ce]]),ee(p[ue]));for(var Re=63;Re>0&&_[Re]==0;)Re--;if(Re==0)return ee(ge),W;for(var Ke,O=1;O<=Re;){for(var Le=O;_[O]==0&&O<=Re;)++O;var ht=O-Le;if(ht>=16){Ke=ht>>4;for(var Ze=1;Ze<=Ke;++Ze)ee(me);ht&=15}ue=32767+_[O],ee(ne[(ht<<4)+v[ue]]),ee(p[ue]),O++}return Re!=63&&ee(ge),W}function oe(C){C=Math.min(Math.max(C,1),100),s!=C&&(function(B){for(var W=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var ne=a((W[Z]*B+50)/100);ne=Math.min(Math.max(ne,1),255),o[G[Z]]=ne}for(var ue=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ge=0;ge<64;ge++){var me=a((ue[ge]*B+50)/100);me=Math.min(Math.max(me,1),255),l[G[ge]]=me}for(var ve=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ke=0,Ce=0;Ce<8;Ce++)for(var Re=0;Re<8;Re++)u[ke]=1/(o[G[ke]]*ve[Ce]*ve[Re]*8),h[ke]=1/(l[G[ke]]*ve[Ce]*ve[Re]*8),ke++}(C<50?Math.floor(5e3/C):Math.floor(200-2*C)),s=C)}this.encode=function(C,B){B&&oe(B),x=new Array,A=0,w=7,se(65496),se(65504),se(16),$(74),$(70),$(73),$(70),$(0),$(1),$(1),$(0),se(1),se(1),$(0),$(0),function(){se(65499),se(132),$(0);for(var Ye=0;Ye<64;Ye++)$(o[Ye]);$(1);for(var Xe=0;Xe<64;Xe++)$(l[Xe])}(),function(Ye,Xe){se(65472),se(17),$(8),se(Xe),se(Ye),$(3),$(1),$(17),$(0),$(2),$(17),$(1),$(3),$(17),$(1)}(C.width,C.height),function(){se(65476),se(418),$(0);for(var Ye=0;Ye<16;Ye++)$(q[Ye+1]);for(var Xe=0;Xe<=11;Xe++)$(D[Xe]);$(16);for(var Ct=0;Ct<16;Ct++)$(X[Ct+1]);for(var yt=0;yt<=161;yt++)$(T[yt]);$(1);for(var ot=0;ot<16;ot++)$(F[ot+1]);for(var bt=0;bt<=11;bt++)$(J[bt]);$(17);for(var wt=0;wt<16;wt++)$(K[wt+1]);for(var ze=0;ze<=161;ze++)$(de[ze])}(),se(65498),se(12),$(3),$(1),$(0),$(2),$(17),$(3),$(17),$(0),$(63),$(0);var W=0,Z=0,ne=0;A=0,w=7,this.encode.displayName="_encode_";for(var ue,ge,me,ve,ke,Ce,Re,Ke,O,Le=C.data,ht=C.width,Ze=C.height,Ae=4*ht,Ue=0;Ue<Ze;){for(ue=0;ue<Ae;){for(ke=Ae*Ue+ue,Re=-1,Ke=0,O=0;O<64;O++)Ce=ke+(Ke=O>>3)*Ae+(Re=4*(7&O)),Ue+Ke>=Ze&&(Ce-=Ae*(Ue+1+Ke-Ze)),ue+Re>=Ae&&(Ce-=ue+Re-Ae+4),ge=Le[Ce++],me=Le[Ce++],ve=Le[Ce++],S[O]=(V[ge]+V[me+256|0]+V[ve+512|0]>>16)-128,k[O]=(V[ge+768|0]+V[me+1024|0]+V[ve+1280|0]>>16)-128,E[O]=(V[ge+1280|0]+V[me+1536|0]+V[ve+1792|0]>>16)-128;W=pe(S,u,W,e,n),Z=pe(k,h,Z,r,i),ne=pe(E,h,ne,r,i),ue+=32}Ue+=8}if(w>=0){var Ie=[];Ie[1]=w+1,Ie[0]=(1<<w+1)-1,ee(Ie)}return se(65497),new Uint8Array(x)},t=t||50,function(){for(var C=String.fromCharCode,B=0;B<256;B++)H[B]=C(B)}(),e=Y(q,D),r=Y(F,J),n=Y(X,T),i=Y(K,de),function(){for(var C=1,B=2,W=1;W<=15;W++){for(var Z=C;Z<B;Z++)v[32767+Z]=W,p[32767+Z]=[],p[32767+Z][1]=W,p[32767+Z][0]=Z;for(var ne=-(B-1);ne<=-C;ne++)v[32767+ne]=W,p[32767+ne]=[],p[32767+ne][1]=W,p[32767+ne][0]=B-1+ne;C<<=1,B<<=1}}(),function(){for(var C=0;C<256;C++)V[C]=19595*C,V[C+256|0]=38470*C,V[C+512|0]=7471*C+32768,V[C+768|0]=-11059*C,V[C+1024|0]=-21709*C,V[C+1280|0]=32768*C+8421375,V[C+1536|0]=-27439*C,V[C+1792|0]=-5329*C}(),oe(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function pi(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Gv(t){function e(D){if(!D)throw Error("assert :P")}function r(D,X,T){for(var F=0;4>F;F++)if(D[X+F]!=T.charCodeAt(F))return!0;return!1}function n(D,X,T,F,J){for(var K=0;K<J;K++)D[X+K]=T[F+K]}function i(D,X,T,F){for(var J=0;J<F;J++)D[X+J]=T}function s(D){return new Int32Array(D)}function a(D,X){for(var T=[],F=0;F<D;F++)T.push(new X);return T}function o(D,X){var T=[];return function F(J,K,de){for(var Y=de[K],ee=0;ee<Y&&(J.push(de.length>K+1?[]:new X),!(de.length<K+1));ee++)F(J[ee],K+1,de)}(T,0,D),T}var l=function(){var D=this;function X(c,d){for(var y=1<<d-1>>>0;c&y;)y>>>=1;return y?(c&y-1)+y:c}function T(c,d,y,b,j){e(!(b%y));do c[d+(b-=y)]=j;while(0<b)}function F(c,d,y,b,j){if(e(2328>=j),512>=j)var L=s(512);else if((L=s(j))==null)return 0;return function(P,R,I,M,re,he){var U,ie,le=R,ye=1<<I,ce=s(16),we=s(16);for(e(re!=0),e(M!=null),e(P!=null),e(0<I),ie=0;ie<re;++ie){if(15<M[ie])return 0;++ce[M[ie]]}if(ce[0]==re)return 0;for(we[1]=0,U=1;15>U;++U){if(ce[U]>1<<U)return 0;we[U+1]=we[U]+ce[U]}for(ie=0;ie<re;++ie)U=M[ie],0<M[ie]&&(he[we[U]++]=ie);if(we[15]==1)return(M=new J).g=0,M.value=he[0],T(P,le,1,ye,M),ye;var xe,Ne=-1,Se=ye-1,Je=0,Fe=1,gt=1,$e=1<<I;for(ie=0,U=1,re=2;U<=I;++U,re<<=1){if(Fe+=gt<<=1,0>(gt-=ce[U]))return 0;for(;0<ce[U];--ce[U])(M=new J).g=U,M.value=he[ie++],T(P,le+Je,re,$e,M),Je=X(Je,U)}for(U=I+1,re=2;15>=U;++U,re<<=1){if(Fe+=gt<<=1,0>(gt-=ce[U]))return 0;for(;0<ce[U];--ce[U]){if(M=new J,(Je&Se)!=Ne){for(le+=$e,xe=1<<(Ne=U)-I;15>Ne&&!(0>=(xe-=ce[Ne]));)++Ne,xe<<=1;ye+=$e=1<<(xe=Ne-I),P[R+(Ne=Je&Se)].g=xe+I,P[R+Ne].value=le-R-Ne}M.g=U-I,M.value=he[ie++],T(P,le+(Je>>I),re,$e,M),Je=X(Je,U)}}return Fe!=2*we[15]-1?0:ye}(c,d,y,b,j,L)}function J(){this.value=this.g=0}function K(){this.value=this.g=0}function de(){this.G=a(5,J),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Ea,K)}function Y(c,d,y,b){e(c!=null),e(d!=null),e(2147483648>b),c.Ca=254,c.I=0,c.b=-8,c.Ka=0,c.oa=d,c.pa=y,c.Jd=d,c.Yc=y+b,c.Zc=4<=b?y+b-4+1:y,ge(c)}function ee(c,d){for(var y=0;0<d--;)y|=ve(c,128)<<d;return y}function $(c,d){var y=ee(c,d);return me(c)?-y:y}function se(c,d,y,b){var j,L=0;for(e(c!=null),e(d!=null),e(4294967288>b),c.Sb=b,c.Ra=0,c.u=0,c.h=0,4<b&&(b=4),j=0;j<b;++j)L+=d[y+j]<<8*j;c.Ra=L,c.bb=b,c.oa=d,c.pa=y}function pe(c){for(;8<=c.u&&c.bb<c.Sb;)c.Ra>>>=8,c.Ra+=c.oa[c.pa+c.bb]<<Es-8>>>0,++c.bb,c.u-=8;Z(c)&&(c.h=1,c.u=0)}function oe(c,d){if(e(0<=d),!c.h&&d<=jn){var y=W(c)&Nn[d];return c.u+=d,pe(c),y}return c.h=1,c.u=0}function C(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function B(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(c){return c.Ra>>>(c.u&Es-1)>>>0}function Z(c){return e(c.bb<=c.Sb),c.h||c.bb==c.Sb&&c.u>Es}function ne(c,d){c.u=d,c.h=Z(c)}function ue(c){c.u>=rs&&(e(c.u>=rs),pe(c))}function ge(c){e(c!=null&&c.oa!=null),c.pa<c.Zc?(c.I=(c.oa[c.pa++]|c.I<<8)>>>0,c.b+=8):(e(c!=null&&c.oa!=null),c.pa<c.Yc?(c.b+=8,c.I=c.oa[c.pa++]|c.I<<8):c.Ka?c.b=0:(c.I<<=8,c.b+=8,c.Ka=1))}function me(c){return ee(c,1)}function ve(c,d){var y=c.Ca;0>c.b&&ge(c);var b=c.b,j=y*d>>>8,L=(c.I>>>b>j)+0;for(L?(y-=j,c.I-=j+1<<b>>>0):y=j+1,b=y,j=0;256<=b;)j+=8,b>>=8;return b=7^j+Cs[b],c.b-=b,c.Ca=(y<<b)-1,L}function ke(c,d,y){c[d+0]=y>>24&255,c[d+1]=y>>16&255,c[d+2]=y>>8&255,c[d+3]=255&y}function Ce(c,d){return c[d+0]|c[d+1]<<8}function Re(c,d){return Ce(c,d)|c[d+2]<<16}function Ke(c,d){return Ce(c,d)|Ce(c,d+2)<<16}function O(c,d){var y=1<<d;return e(c!=null),e(0<d),c.X=s(y),c.X==null?0:(c.Mb=32-d,c.Xa=d,1)}function Le(c,d){e(c!=null),e(d!=null),e(c.Xa==d.Xa),n(d.X,0,c.X,0,1<<d.Xa)}function ht(){this.X=[],this.Xa=this.Mb=0}function Ze(c,d,y,b){e(y!=null),e(b!=null);var j=y[0],L=b[0];return j==0&&(j=(c*L+d/2)/d),L==0&&(L=(d*j+c/2)/c),0>=j||0>=L?0:(y[0]=j,b[0]=L,1)}function Ae(c,d){return c+(1<<d)-1>>>d}function Ue(c,d){return((4278255360&c)+(4278255360&d)>>>0&4278255360)+((16711935&c)+(16711935&d)>>>0&16711935)>>>0}function Ie(c,d){D[d]=function(y,b,j,L,P,R,I){var M;for(M=0;M<P;++M){var re=D[c](R[I+M-1],j,L+M);R[I+M]=Ue(y[b+M],re)}}}function Ye(){this.ud=this.hd=this.jd=0}function Xe(c,d){return((4278124286&(c^d))>>>1)+(c&d)>>>0}function Ct(c){return 0<=c&&256>c?c:0>c?0:255<c?255:void 0}function yt(c,d){return Ct(c+(c-d+.5>>1))}function ot(c,d,y){return Math.abs(d-y)-Math.abs(c-y)}function bt(c,d,y,b,j,L,P){for(b=L[P-1],y=0;y<j;++y)L[P+y]=b=Ue(c[d+y],b)}function wt(c,d,y,b,j){var L;for(L=0;L<y;++L){var P=c[d+L],R=P>>8&255,I=16711935&(I=(I=16711935&P)+((R<<16)+R));b[j+L]=(4278255360&P)+I>>>0}}function ze(c,d){d.jd=255&c,d.hd=c>>8&255,d.ud=c>>16&255}function st(c,d,y,b,j,L){var P;for(P=0;P<b;++P){var R=d[y+P],I=R>>>8,M=R,re=255&(re=(re=R>>>16)+((c.jd<<24>>24)*(I<<24>>24)>>>5));M=255&(M=(M+=(c.hd<<24>>24)*(I<<24>>24)>>>5)+((c.ud<<24>>24)*(re<<24>>24)>>>5)),j[L+P]=(4278255360&R)+(re<<16)+M}}function qe(c,d,y,b,j){D[d]=function(L,P,R,I,M,re,he,U,ie){for(I=he;I<U;++I)for(he=0;he<ie;++he)M[re++]=j(R[b(L[P++])])},D[c]=function(L,P,R,I,M,re,he){var U=8>>L.b,ie=L.Ea,le=L.K[0],ye=L.w;if(8>U)for(L=(1<<L.b)-1,ye=(1<<U)-1;P<R;++P){var ce,we=0;for(ce=0;ce<ie;++ce)ce&L||(we=b(I[M++])),re[he++]=j(le[we&ye]),we>>=U}else D["VP8LMapColor"+y](I,M,le,ye,re,he,P,R,ie)}}function Zt(c,d,y,b,j){for(y=d+y;d<y;){var L=c[d++];b[j++]=L>>16&255,b[j++]=L>>8&255,b[j++]=255&L}}function _t(c,d,y,b,j){for(y=d+y;d<y;){var L=c[d++];b[j++]=L>>16&255,b[j++]=L>>8&255,b[j++]=255&L,b[j++]=L>>24&255}}function dt(c,d,y,b,j){for(y=d+y;d<y;){var L=(P=c[d++])>>16&240|P>>12&15,P=240&P|P>>28&15;b[j++]=L,b[j++]=P}}function vt(c,d,y,b,j){for(y=d+y;d<y;){var L=(P=c[d++])>>16&248|P>>13&7,P=P>>5&224|P>>3&31;b[j++]=L,b[j++]=P}}function Pt(c,d,y,b,j){for(y=d+y;d<y;){var L=c[d++];b[j++]=255&L,b[j++]=L>>8&255,b[j++]=L>>16&255}}function Qe(c,d,y,b,j,L){if(L==0)for(y=d+y;d<y;)ke(b,((L=c[d++])[0]>>24|L[1]>>8&65280|L[2]<<8&16711680|L[3]<<24)>>>0),j+=32;else n(b,j,c,d,y)}function Rt(c,d){D[d][0]=D[c+"0"],D[d][1]=D[c+"1"],D[d][2]=D[c+"2"],D[d][3]=D[c+"3"],D[d][4]=D[c+"4"],D[d][5]=D[c+"5"],D[d][6]=D[c+"6"],D[d][7]=D[c+"7"],D[d][8]=D[c+"8"],D[d][9]=D[c+"9"],D[d][10]=D[c+"10"],D[d][11]=D[c+"11"],D[d][12]=D[c+"12"],D[d][13]=D[c+"13"],D[d][14]=D[c+"0"],D[d][15]=D[c+"0"]}function et(c){return c==pf||c==gf||c==Rc||c==mf}function te(){this.eb=[],this.size=this.A=this.fb=0}function Ee(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Te(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new te,this.f.kb=new Ee,this.sd=null}function De(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function St(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Or(c){return alert("todo:WebPSamplerProcessPlane"),c.T}function Lt(c,d){var y=c.T,b=d.ba.f.RGBA,j=b.eb,L=b.fb+c.ka*b.A,P=Xn[d.ba.S],R=c.y,I=c.O,M=c.f,re=c.N,he=c.ea,U=c.W,ie=d.cc,le=d.dc,ye=d.Mc,ce=d.Nc,we=c.ka,xe=c.ka+c.T,Ne=c.U,Se=Ne+1>>1;for(we==0?P(R,I,null,null,M,re,he,U,M,re,he,U,j,L,null,null,Ne):(P(d.ec,d.fc,R,I,ie,le,ye,ce,M,re,he,U,j,L-b.A,j,L,Ne),++y);we+2<xe;we+=2)ie=M,le=re,ye=he,ce=U,re+=c.Rc,U+=c.Rc,L+=2*b.A,P(R,(I+=2*c.fa)-c.fa,R,I,ie,le,ye,ce,M,re,he,U,j,L-b.A,j,L,Ne);return I+=c.fa,c.j+xe<c.o?(n(d.ec,d.fc,R,I,Ne),n(d.cc,d.dc,M,re,Se),n(d.Mc,d.Nc,he,U,Se),y--):1&xe||P(R,I,null,null,M,re,he,U,M,re,he,U,j,L+b.A,null,null,Ne),y}function Ar(c,d,y){var b=c.F,j=[c.J];if(b!=null){var L=c.U,P=d.ba.S,R=P==Tc||P==Rc;d=d.ba.f.RGBA;var I=[0],M=c.ka;I[0]=c.T,c.Kb&&(M==0?--I[0]:(--M,j[0]-=c.width),c.j+c.ka+c.T==c.o&&(I[0]=c.o-c.j-M));var re=d.eb;M=d.fb+M*d.A,c=gg(b,j[0],c.width,L,I,re,M+(R?0:3),d.A),e(y==I),c&&et(P)&&$l(re,M,R,L,I,d.A)}return 0}function ln(c){var d=c.ma,y=d.ba.S,b=11>y,j=y==Lc||y==Pc||y==Tc||y==ff||y==12||et(y);if(d.memory=null,d.Ib=null,d.Jb=null,d.Nd=null,!Ol(d.Oa,c,j?11:12))return 0;if(j&&et(y)&&Tl(),c.da)alert("todo:use_scaling");else{if(b){if(d.Ib=Or,c.Kb){if(y=c.U+1>>1,d.memory=s(c.U+2*y),d.memory==null)return 0;d.ec=d.memory,d.fc=0,d.cc=d.ec,d.dc=d.fc+c.U,d.Mc=d.cc,d.Nc=d.dc+y,d.Ib=Lt,Tl()}}else alert("todo:EmitYUV");j&&(d.Jb=Ar,b&&ui())}if(b&&!Pg){for(c=0;256>c;++c)fx[c]=89858*(c-128)+Oc>>Ic,mx[c]=-22014*(c-128)+Oc,gx[c]=-45773*(c-128),px[c]=113618*(c-128)+Oc>>Ic;for(c=Hl;c<wf;++c)d=76283*(c-16)+Oc>>Ic,vx[c-Hl]=Li(d,255),yx[c-Hl]=Li(d+8>>4,15);Pg=1}return 1}function tt(c){var d=c.ma,y=c.U,b=c.T;return e(!(1&c.ka)),0>=y||0>=b?0:(y=d.Ib(c,d),d.Jb!=null&&d.Jb(c,d,y),d.Dc+=y,1)}function ji(c){c.ma.memory=null}function Wn(c,d,y,b){return oe(c,8)!=47?0:(d[0]=oe(c,14)+1,y[0]=oe(c,14)+1,b[0]=oe(c,1),oe(c,3)!=0?0:!c.h)}function un(c,d){if(4>c)return c+1;var y=c-2>>1;return(2+(1&c)<<y)+oe(d,y)+1}function Ur(c,d){return 120<d?d-120:1<=(y=((y=Zb[d-1])>>4)*c+(8-(15&y)))?y:1;var y}function ir(c,d,y){var b=W(y),j=c[d+=255&b].g-8;return 0<j&&(ne(y,y.u+8),b=W(y),d+=c[d].value,d+=b&(1<<j)-1),ne(y,y.u+c[d].g),c[d].value}function Fr(c,d,y){return y.g+=c.g,y.value+=c.value<<d>>>0,e(8>=y.g),c.g}function zr(c,d,y){var b=c.xc;return e((d=b==0?0:c.vc[c.md*(y>>b)+(d>>b)])<c.Wb),c.Ya[d]}function ga(c,d,y,b){var j=c.ab,L=c.c*d,P=c.C;d=P+d;var R=y,I=b;for(b=c.Ta,y=c.Ua;0<j--;){var M=c.gc[j],re=P,he=d,U=R,ie=I,le=(I=b,R=y,M.Ea);switch(e(re<he),e(he<=M.nc),M.hc){case 2:cr(U,ie,(he-re)*le,I,R);break;case 0:var ye=re,ce=he,we=I,xe=R,Ne=($e=M).Ea;ye==0&&(Dl(U,ie,null,null,1,we,xe),bt(U,ie+1,0,0,Ne-1,we,xe+1),ie+=Ne,xe+=Ne,++ye);for(var Se=1<<$e.b,Je=Se-1,Fe=Ae(Ne,$e.b),gt=$e.K,$e=$e.w+(ye>>$e.b)*Fe;ye<ce;){var kt=gt,Cr=$e,mt=1;for(yo(U,ie,we,xe-Ne,1,we,xe);mt<Ne;){var We=(mt&~Je)+Se;We>Ne&&(We=Ne),(0,Ml[kt[Cr++]>>8&15])(U,ie+ +mt,we,xe+mt-Ne,We-mt,we,xe+mt),mt=We}ie+=Ne,xe+=Ne,++ye&Je||($e+=Fe)}he!=M.nc&&n(I,R-le,I,R+(he-re-1)*le,le);break;case 1:for(le=U,ce=ie,Ne=(U=M.Ea)-(xe=U&~(we=(ie=1<<M.b)-1)),ye=Ae(U,M.b),Se=M.K,M=M.w+(re>>M.b)*ye;re<he;){for(Je=Se,Fe=M,gt=new Ye,$e=ce+xe,kt=ce+U;ce<$e;)ze(Je[Fe++],gt),Ul(gt,le,ce,ie,I,R),ce+=ie,R+=ie;ce<kt&&(ze(Je[Fe++],gt),Ul(gt,le,ce,Ne,I,R),ce+=Ne,R+=Ne),++re&we||(M+=ye)}break;case 3:if(U==I&&ie==R&&0<M.b){for(ce=I,U=le=R+(he-re)*le-(xe=(he-re)*Ae(M.Ea,M.b)),ie=I,we=R,ye=[],xe=(Ne=xe)-1;0<=xe;--xe)ye[xe]=ie[we+xe];for(xe=Ne-1;0<=xe;--xe)ce[U+xe]=ye[xe];Nc(M,re,he,I,le,I,R)}else Nc(M,re,he,U,ie,I,R)}R=b,I=y}I!=y&&n(b,y,R,I,L)}function ks(c,d){var y=c.V,b=c.Ba+c.c*c.C,j=d-c.C;if(e(d<=c.l.o),e(16>=j),0<j){var L=c.l,P=c.Ta,R=c.Ua,I=L.width;if(ga(c,j,y,b),j=R=[R],e((y=c.C)<(b=d)),e(L.v<L.va),b>L.o&&(b=L.o),y<L.j){var M=L.j-y;y=L.j,j[0]+=M*I}if(y>=b?y=0:(j[0]+=4*L.v,L.ka=y-L.j,L.U=L.va-L.v,L.T=b-y,y=1),y){if(R=R[0],11>(y=c.ca).S){var re=y.f.RGBA,he=(b=y.S,j=L.U,L=L.T,M=re.eb,re.A),U=L;for(re=re.fb+c.Ma*re.A;0<U--;){var ie=P,le=R,ye=j,ce=M,we=re;switch(b){case Cc:zl(ie,le,ye,ce,we);break;case Lc:Ls(ie,le,ye,ce,we);break;case pf:Ls(ie,le,ye,ce,we),$l(ce,we,0,ye,1,0);break;case _g:Ca(ie,le,ye,ce,we);break;case Pc:Qe(ie,le,ye,ce,we,1);break;case gf:Qe(ie,le,ye,ce,we,1),$l(ce,we,0,ye,1,0);break;case Tc:Qe(ie,le,ye,ce,we,0);break;case Rc:Qe(ie,le,ye,ce,we,0),$l(ce,we,1,ye,1,0);break;case ff:Ps(ie,le,ye,ce,we);break;case mf:Ps(ie,le,ye,ce,we),pg(ce,we,ye,1,0);break;case Sg:Ts(ie,le,ye,ce,we);break;default:e(0)}R+=I,re+=he}c.Ma+=L}else alert("todo:EmitRescaledRowsYUVA");e(c.Ma<=y.height)}}c.C=d,e(c.C<=c.i)}function si(c){var d;if(0<c.ua)return 0;for(d=0;d<c.Wb;++d){var y=c.Ya[d].G,b=c.Ya[d].H;if(0<y[1][b[1]+0].g||0<y[2][b[2]+0].g||0<y[3][b[3]+0].g)return 0}return 1}function Ei(c,d,y,b,j,L){if(c.Z!=0){var P=c.qd,R=c.rd;for(e(Os[c.Z]!=null);d<y;++d)Os[c.Z](P,R,b,j,b,j,L),P=b,R=j,j+=L;c.qd=P,c.rd=R}}function ai(c,d){var y=c.l.ma,b=y.Z==0||y.Z==1?c.l.j:c.C;if(b=c.C<b?b:c.C,e(d<=c.l.o),d>b){var j=c.l.width,L=y.ca,P=y.tb+j*b,R=c.V,I=c.Ba+c.c*b,M=c.gc;e(c.ab==1),e(M[0].hc==3),Ii(M[0],b,d,R,I,L,P),Ei(y,b,d,L,P,j)}c.C=c.Ma=d}function oi(c,d,y,b,j,L,P){var R=c.$/b,I=c.$%b,M=c.m,re=c.s,he=y+c.$,U=he;j=y+b*j;var ie=y+b*L,le=280+re.ua,ye=c.Pb?R:16777216,ce=0<re.ua?re.Wa:null,we=re.wc,xe=he<ie?zr(re,I,R):null;e(c.C<L),e(ie<=j);var Ne=!1;e:for(;;){for(;Ne||he<ie;){var Se=0;if(R>=ye){var Je=he-y;e((ye=c).Pb),ye.wd=ye.m,ye.xd=Je,0<ye.s.ua&&Le(ye.s.Wa,ye.s.vb),ye=R+tx}if(I&we||(xe=zr(re,I,R)),e(xe!=null),xe.Qb&&(d[he]=xe.qb,Ne=!0),!Ne)if(ue(M),xe.jc){Se=M,Je=d;var Fe=he,gt=xe.pd[W(Se)&Ea-1];e(xe.jc),256>gt.g?(ne(Se,Se.u+gt.g),Je[Fe]=gt.value,Se=0):(ne(Se,Se.u+gt.g-256),e(256<=gt.value),Se=gt.value),Se==0&&(Ne=!0)}else Se=ir(xe.G[0],xe.H[0],M);if(M.h)break;if(Ne||256>Se){if(!Ne)if(xe.nd)d[he]=(xe.qb|Se<<8)>>>0;else{if(ue(M),Ne=ir(xe.G[1],xe.H[1],M),ue(M),Je=ir(xe.G[2],xe.H[2],M),Fe=ir(xe.G[3],xe.H[3],M),M.h)break;d[he]=(Fe<<24|Ne<<16|Se<<8|Je)>>>0}if(Ne=!1,++he,++I>=b&&(I=0,++R,P!=null&&R<=L&&!(R%16)&&P(c,R),ce!=null))for(;U<he;)Se=d[U++],ce.X[(506832829*Se&4294967295)>>>ce.Mb]=Se}else if(280>Se){if(Se=un(Se-256,M),Je=ir(xe.G[4],xe.H[4],M),ue(M),Je=Ur(b,Je=un(Je,M)),M.h)break;if(he-y<Je||j-he<Se)break e;for(Fe=0;Fe<Se;++Fe)d[he+Fe]=d[he+Fe-Je];for(he+=Se,I+=Se;I>=b;)I-=b,++R,P!=null&&R<=L&&!(R%16)&&P(c,R);if(e(he<=j),I&we&&(xe=zr(re,I,R)),ce!=null)for(;U<he;)Se=d[U++],ce.X[(506832829*Se&4294967295)>>>ce.Mb]=Se}else{if(!(Se<le))break e;for(Ne=Se-280,e(ce!=null);U<he;)Se=d[U++],ce.X[(506832829*Se&4294967295)>>>ce.Mb]=Se;Se=he,e(!(Ne>>>(Je=ce).Xa)),d[Se]=Je.X[Ne],Ne=!0}Ne||e(M.h==Z(M))}if(c.Pb&&M.h&&he<j)e(c.m.h),c.a=5,c.m=c.wd,c.$=c.xd,0<c.s.ua&&Le(c.s.vb,c.s.Wa);else{if(M.h)break e;P!=null&&P(c,R>L?L:R),c.a=0,c.$=he-y}return 1}return c.a=3,0}function Hn(c){e(c!=null),c.vc=null,c.yc=null,c.Ya=null;var d=c.Wa;d!=null&&(d.X=null),c.vb=null,e(c!=null)}function ma(){var c=new at;return c==null?null:(c.a=0,c.xb=Ng,Rt("Predictor","VP8LPredictors"),Rt("Predictor","VP8LPredictors_C"),Rt("PredictorAdd","VP8LPredictorsAdd"),Rt("PredictorAdd","VP8LPredictorsAdd_C"),cr=wt,Ul=st,zl=Zt,Ls=_t,Ps=dt,Ts=vt,Ca=Pt,D.VP8LMapColor32b=Ri,D.VP8LMapColor8b=Bl,c)}function Ci(c,d,y,b,j){var L=1,P=[c],R=[d],I=b.m,M=b.s,re=null,he=0;e:for(;;){if(y)for(;L&&oe(I,1);){var U=P,ie=R,le=b,ye=1,ce=le.m,we=le.gc[le.ab],xe=oe(ce,2);if(le.Oc&1<<xe)L=0;else{switch(le.Oc|=1<<xe,we.hc=xe,we.Ea=U[0],we.nc=ie[0],we.K=[null],++le.ab,e(4>=le.ab),xe){case 0:case 1:we.b=oe(ce,3)+2,ye=Ci(Ae(we.Ea,we.b),Ae(we.nc,we.b),0,le,we.K),we.K=we.K[0];break;case 3:var Ne,Se=oe(ce,8)+1,Je=16<Se?0:4<Se?1:2<Se?2:3;if(U[0]=Ae(we.Ea,Je),we.b=Je,Ne=ye=Ci(Se,1,0,le,we.K)){var Fe,gt=Se,$e=we,kt=1<<(8>>$e.b),Cr=s(kt);if(Cr==null)Ne=0;else{var mt=$e.K[0],We=$e.w;for(Cr[0]=$e.K[0][0],Fe=1;Fe<1*gt;++Fe)Cr[Fe]=Ue(mt[We+Fe],Cr[Fe-1]);for(;Fe<4*kt;++Fe)Cr[Fe]=0;$e.K[0]=null,$e.K[0]=Cr,Ne=1}}ye=Ne;break;case 2:break;default:e(0)}L=ye}}if(P=P[0],R=R[0],L&&oe(I,1)&&!(L=1<=(he=oe(I,4))&&11>=he)){b.a=3;break e}var Pe;if(Pe=L)t:{var dr,ct,At,Gt=b,Wr=P,hn=R,sr=he,Qr=y,dn=Gt.m,Lr=Gt.s,jt=[null],It=1,ar=0,Ot=ex[sr];r:for(;;){if(Qr&&oe(dn,1)){var Hr=oe(dn,3)+2,hi=Ae(Wr,Hr),fr=Ae(hn,Hr),yn=hi*fr;if(!Ci(hi,fr,0,Gt,jt))break r;for(jt=jt[0],Lr.xc=Hr,dr=0;dr<yn;++dr){var zt=jt[dr]>>8&65535;jt[dr]=zt,zt>=It&&(It=zt+1)}}if(dn.h)break r;for(ct=0;5>ct;++ct){var Pr=kg[ct];!ct&&0<sr&&(Pr+=1<<sr),ar<Pr&&(ar=Pr)}var Cn=a(It*Ot,J),fn=It,Ln=a(fn,de);if(Ln==null)var Pn=null;else e(65536>=fn),Pn=Ln;var wn=s(ar);if(Pn==null||wn==null||Cn==null){Gt.a=1;break r}var Tn=Cn;for(dr=At=0;dr<It;++dr){var Wt=Pn[dr],Rn=Wt.G,di=Wt.H,Pa=0,ss=1,Vr=0;for(ct=0;5>ct;++ct){Pr=kg[ct],Rn[ct]=Tn,di[ct]=At,!ct&&0<sr&&(Pr+=1<<sr);i:{var Dc,bf=Pr,Bc=Gt,Vl=wn,xx=Tn,_x=At,xf=0,Fs=Bc.m,Sx=oe(Fs,1);if(i(Vl,0,0,bf),Sx){var kx=oe(Fs,1)+1,Ax=oe(Fs,1),Ig=oe(Fs,Ax==0?1:8);Vl[Ig]=1,kx==2&&(Vl[Ig=oe(Fs,8)]=1);var Mc=1}else{var Og=s(19),Fg=oe(Fs,4)+4;if(19<Fg){Bc.a=3;var Uc=0;break i}for(Dc=0;Dc<Fg;++Dc)Og[Qb[Dc]]=oe(Fs,3);var _f=void 0,Gl=void 0,Dg=Bc,Nx=Og,zc=bf,Bg=Vl,Sf=0,Ds=Dg.m,Mg=8,Ug=a(128,J);n:for(;F(Ug,0,7,Nx,19);){if(oe(Ds,1)){var jx=2+2*oe(Ds,3);if((_f=2+oe(Ds,jx))>zc)break n}else _f=zc;for(Gl=0;Gl<zc&&_f--;){ue(Ds);var zg=Ug[0+(127&W(Ds))];ne(Ds,Ds.u+zg.g);var bo=zg.value;if(16>bo)Bg[Gl++]=bo,bo!=0&&(Mg=bo);else{var Ex=bo==16,qg=bo-16,Cx=Yb[qg],$g=oe(Ds,Jb[qg])+Cx;if(Gl+$g>zc)break n;for(var Lx=Ex?Mg:0;0<$g--;)Bg[Gl++]=Lx}}Sf=1;break n}Sf||(Dg.a=3),Mc=Sf}(Mc=Mc&&!Fs.h)&&(xf=F(xx,_x,8,Vl,bf)),Mc&&xf!=0?Uc=xf:(Bc.a=3,Uc=0)}if(Uc==0)break r;if(ss&&Xb[ct]==1&&(ss=Tn[At].g==0),Pa+=Tn[At].g,At+=Uc,3>=ct){var Kl,kf=wn[0];for(Kl=1;Kl<Pr;++Kl)wn[Kl]>kf&&(kf=wn[Kl]);Vr+=kf}}if(Wt.nd=ss,Wt.Qb=0,ss&&(Wt.qb=(Rn[3][di[3]+0].value<<24|Rn[1][di[1]+0].value<<16|Rn[2][di[2]+0].value)>>>0,Pa==0&&256>Rn[0][di[0]+0].value&&(Wt.Qb=1,Wt.qb+=Rn[0][di[0]+0].value<<8)),Wt.jc=!Wt.Qb&&6>Vr,Wt.jc){var qc,as=Wt;for(qc=0;qc<Ea;++qc){var Bs=qc,Ms=as.pd[Bs],$c=as.G[0][as.H[0]+Bs];256<=$c.value?(Ms.g=$c.g+256,Ms.value=$c.value):(Ms.g=0,Ms.value=0,Bs>>=Fr($c,8,Ms),Bs>>=Fr(as.G[1][as.H[1]+Bs],16,Ms),Bs>>=Fr(as.G[2][as.H[2]+Bs],0,Ms),Fr(as.G[3][as.H[3]+Bs],24,Ms))}}}Lr.vc=jt,Lr.Wb=It,Lr.Ya=Pn,Lr.yc=Cn,Pe=1;break t}Pe=0}if(!(L=Pe)){b.a=3;break e}if(0<he){if(M.ua=1<<he,!O(M.Wa,he)){b.a=1,L=0;break e}}else M.ua=0;var Af=b,Wg=P,Px=R,Nf=Af.s,jf=Nf.xc;if(Af.c=Wg,Af.i=Px,Nf.md=Ae(Wg,jf),Nf.wc=jf==0?-1:(1<<jf)-1,y){b.xb=lx;break e}if((re=s(P*R))==null){b.a=1,L=0;break e}L=(L=oi(b,re,0,P,R,R,null))&&!I.h;break e}return L?(j!=null?j[0]=re:(e(re==null),e(y)),b.$=0,y||Hn(M)):Hn(M),L}function va(c,d){var y=c.c*c.i,b=y+d+16*d;return e(c.c<=d),c.V=s(b),c.V==null?(c.Ta=null,c.Ua=0,c.a=1,0):(c.Ta=c.V,c.Ua=c.Ba+y+d,1)}function oo(c,d){var y=c.C,b=d-y,j=c.V,L=c.Ba+c.c*y;for(e(d<=c.l.o);0<b;){var P=16<b?16:b,R=c.l.ma,I=c.l.width,M=I*P,re=R.ca,he=R.tb+I*y,U=c.Ta,ie=c.Ua;ga(c,P,j,L),mg(U,ie,re,he,M),Ei(R,y,y+P,re,he,I),b-=P,j+=P*c.c,y+=P}e(y==d),c.C=c.Ma=d}function lo(){this.ub=this.yd=this.td=this.Rb=0}function uo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Jd(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function xl(){this.Yb=function(){var c=[];return function d(y,b,j){for(var L=j[b],P=0;P<L&&(y.push(j.length>b+1?[]:0),!(j.length<b+1));P++)d(y[P],b+1,j)}(c,0,[3,11]),c}()}function lc(){this.jb=s(3),this.Wc=o([4,8],xl),this.Xc=o([4,17],xl)}function uc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Vn(){this.ld=this.La=this.dd=this.tc=0}function _l(){this.Na=this.la=0}function cc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Sl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function hc(){this.uc=this.M=this.Nb=0,this.wa=Array(new Vn),this.Y=0,this.ya=Array(new Sl),this.aa=0,this.l=new co}function dc(){this.y=s(16),this.f=s(8),this.ea=s(8)}function fc(){this.cb=this.a=0,this.sc="",this.m=new C,this.Od=new lo,this.Kc=new uo,this.ed=new uc,this.Qa=new Jd,this.Ic=this.$c=this.Aa=0,this.D=new hc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,C),this.ia=0,this.pb=a(4,cc),this.Pa=new lc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new dc),this.Hd=0,this.rb=Array(new _l),this.sb=0,this.wa=Array(new Vn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Sl),this.L=this.aa=0,this.gd=o([4,2],Vn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Li(c,d){return 0>c?0:c>d?d:c}function co(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Yd(){var c=new fc;return c!=null&&(c.a=0,c.sc="OK",c.cb=0,c.Xb=0,Wl||(Wl=ho)),c}function wr(c,d,y){return c.a==0&&(c.a=d,c.sc=y,c.cb=0),0}function pc(c,d,y){return 3<=y&&c[d+0]==157&&c[d+1]==1&&c[d+2]==42}function Pi(c,d){if(c==null)return 0;if(c.a=0,c.sc="OK",d==null)return wr(c,2,"null VP8Io passed to VP8GetHeaders()");var y=d.data,b=d.w,j=d.ha;if(4>j)return wr(c,7,"Truncated header.");var L=y[b+0]|y[b+1]<<8|y[b+2]<<16,P=c.Od;if(P.Rb=!(1&L),P.td=L>>1&7,P.yd=L>>4&1,P.ub=L>>5,3<P.td)return wr(c,3,"Incorrect keyframe parameters.");if(!P.yd)return wr(c,4,"Frame not displayable.");b+=3,j-=3;var R=c.Kc;if(P.Rb){if(7>j)return wr(c,7,"cannot parse picture header");if(!pc(y,b,j))return wr(c,3,"Bad code word");R.c=16383&(y[b+4]<<8|y[b+3]),R.Td=y[b+4]>>6,R.i=16383&(y[b+6]<<8|y[b+5]),R.Ud=y[b+6]>>6,b+=7,j-=7,c.za=R.c+15>>4,c.Ub=R.i+15>>4,d.width=R.c,d.height=R.i,d.Da=0,d.j=0,d.v=0,d.va=d.width,d.o=d.height,d.da=0,d.ib=d.width,d.hb=d.height,d.U=d.width,d.T=d.height,i((L=c.Pa).jb,0,255,L.jb.length),e((L=c.Qa)!=null),L.Cb=0,L.Bb=0,L.Fb=1,i(L.Zb,0,0,L.Zb.length),i(L.Lb,0,0,L.Lb)}if(P.ub>j)return wr(c,7,"bad partition length");Y(L=c.m,y,b,P.ub),b+=P.ub,j-=P.ub,P.Rb&&(R.Ld=me(L),R.Kd=me(L)),R=c.Qa;var I,M=c.Pa;if(e(L!=null),e(R!=null),R.Cb=me(L),R.Cb){if(R.Bb=me(L),me(L)){for(R.Fb=me(L),I=0;4>I;++I)R.Zb[I]=me(L)?$(L,7):0;for(I=0;4>I;++I)R.Lb[I]=me(L)?$(L,6):0}if(R.Bb)for(I=0;3>I;++I)M.jb[I]=me(L)?ee(L,8):255}else R.Bb=0;if(L.Ka)return wr(c,3,"cannot parse segment header");if((R=c.ed).zd=me(L),R.Tb=ee(L,6),R.wb=ee(L,3),R.Pc=me(L),R.Pc&&me(L)){for(M=0;4>M;++M)me(L)&&(R.vd[M]=$(L,6));for(M=0;4>M;++M)me(L)&&(R.od[M]=$(L,6))}if(c.L=R.Tb==0?0:R.zd?1:2,L.Ka)return wr(c,3,"cannot parse filter header");var re=j;if(j=I=b,b=I+re,R=re,c.Xb=(1<<ee(c.m,2))-1,re<3*(M=c.Xb))y=7;else{for(I+=3*M,R-=3*M,re=0;re<M;++re){var he=y[j+0]|y[j+1]<<8|y[j+2]<<16;he>R&&(he=R),Y(c.Jc[+re],y,I,he),I+=he,R-=he,j+=3}Y(c.Jc[+M],y,I,R),y=I<b?0:5}if(y!=0)return wr(c,y,"cannot parse partitions");for(y=ee(I=c.m,7),j=me(I)?$(I,4):0,b=me(I)?$(I,4):0,R=me(I)?$(I,4):0,M=me(I)?$(I,4):0,I=me(I)?$(I,4):0,re=c.Qa,he=0;4>he;++he){if(re.Cb){var U=re.Zb[he];re.Fb||(U+=y)}else{if(0<he){c.pb[he]=c.pb[0];continue}U=y}var ie=c.pb[he];ie.Sc[0]=vf[Li(U+j,127)],ie.Sc[1]=yf[Li(U+0,127)],ie.Eb[0]=2*vf[Li(U+b,127)],ie.Eb[1]=101581*yf[Li(U+R,127)]>>16,8>ie.Eb[1]&&(ie.Eb[1]=8),ie.Qc[0]=vf[Li(U+M,117)],ie.Qc[1]=yf[Li(U+I,127)],ie.lc=U+I}if(!P.Rb)return wr(c,4,"Not a key frame.");for(me(L),P=c.Pa,y=0;4>y;++y){for(j=0;8>j;++j)for(b=0;3>b;++b)for(R=0;11>R;++R)M=ve(L,ax[y][j][b][R])?ee(L,8):ix[y][j][b][R],P.Wc[y][j].Yb[b][R]=M;for(j=0;17>j;++j)P.Xc[y][j]=P.Wc[y][ox[j]]}return c.kc=me(L),c.kc&&(c.Bd=ee(L,8)),c.cb=1}function ho(c,d,y,b,j,L,P){var R=d[j].Yb[y];for(y=0;16>j;++j){if(!ve(c,R[y+0]))return j;for(;!ve(c,R[y+1]);)if(R=d[++j].Yb[0],y=0,j==16)return 16;var I=d[j+1].Yb;if(ve(c,R[y+2])){var M=c,re=0;if(ve(M,(U=R)[(he=y)+3]))if(ve(M,U[he+6])){for(R=0,he=2*(re=ve(M,U[he+8]))+(U=ve(M,U[he+9+re])),re=0,U=rx[he];U[R];++R)re+=re+ve(M,U[R]);re+=3+(8<<he)}else ve(M,U[he+7])?(re=7+2*ve(M,165),re+=ve(M,145)):re=5+ve(M,159);else re=ve(M,U[he+4])?3+ve(M,U[he+5]):2;R=I[2]}else re=1,R=I[1];I=P+nx[j],0>(M=c).b&&ge(M);var he,U=M.b,ie=(he=M.Ca>>1)-(M.I>>U)>>31;--M.b,M.Ca+=ie,M.Ca|=1,M.I-=(he+1&ie)<<U,L[I]=((re^ie)-ie)*b[(0<j)+0]}return 16}function gc(c){var d=c.rb[c.sb-1];d.la=0,d.Na=0,i(c.zc,0,0,c.zc.length),c.ja=0}function Gn(c,d,y,b,j){j=c[d+y+32*b]+(j>>3),c[d+y+32*b]=-256&j?0>j?0:255:j}function Nr(c,d,y,b,j,L){Gn(c,d,0,y,b+j),Gn(c,d,1,y,b+L),Gn(c,d,2,y,b-L),Gn(c,d,3,y,b-j)}function Vi(c){return(20091*c>>16)+c}function mc(c,d,y,b){var j,L=0,P=s(16);for(j=0;4>j;++j){var R=c[d+0]+c[d+8],I=c[d+0]-c[d+8],M=(35468*c[d+4]>>16)-Vi(c[d+12]),re=Vi(c[d+4])+(35468*c[d+12]>>16);P[L+0]=R+re,P[L+1]=I+M,P[L+2]=I-M,P[L+3]=R-re,L+=4,d++}for(j=L=0;4>j;++j)R=(c=P[L+0]+4)+P[L+8],I=c-P[L+8],M=(35468*P[L+4]>>16)-Vi(P[L+12]),Gn(y,b,0,0,R+(re=Vi(P[L+4])+(35468*P[L+12]>>16))),Gn(y,b,1,0,I+M),Gn(y,b,2,0,I-M),Gn(y,b,3,0,R-re),L++,b+=32}function Xd(c,d,y,b){var j=c[d+0]+4,L=35468*c[d+4]>>16,P=Vi(c[d+4]),R=35468*c[d+1]>>16;Nr(y,b,0,j+P,c=Vi(c[d+1]),R),Nr(y,b,1,j+L,c,R),Nr(y,b,2,j-L,c,R),Nr(y,b,3,j-P,c,R)}function Qd(c,d,y,b,j){mc(c,d,y,b),j&&mc(c,d+16,y,b+4)}function Ti(c,d,y,b){La(c,d+0,y,b,1),La(c,d+32,y,b+128,1)}function vc(c,d,y,b){var j;for(c=c[d+0]+4,j=0;4>j;++j)for(d=0;4>d;++d)Gn(y,b,d,j,c)}function yc(c,d,y,b){c[d+0]&&Tt(c,d+0,y,b),c[d+16]&&Tt(c,d+16,y,b+4),c[d+32]&&Tt(c,d+32,y,b+128),c[d+48]&&Tt(c,d+48,y,b+128+4)}function fo(c,d,y,b){var j,L=s(16);for(j=0;4>j;++j){var P=c[d+0+j]+c[d+12+j],R=c[d+4+j]+c[d+8+j],I=c[d+4+j]-c[d+8+j],M=c[d+0+j]-c[d+12+j];L[0+j]=P+R,L[8+j]=P-R,L[4+j]=M+I,L[12+j]=M-I}for(j=0;4>j;++j)P=(c=L[0+4*j]+3)+L[3+4*j],R=L[1+4*j]+L[2+4*j],I=L[1+4*j]-L[2+4*j],M=c-L[3+4*j],y[b+0]=P+R>>3,y[b+16]=M+I>>3,y[b+32]=P-R>>3,y[b+48]=M-I>>3,b+=64}function ya(c,d,y){var b,j=d-32,L=En,P=255-c[j-1];for(b=0;b<y;++b){var R,I=L,M=P+c[d-1];for(R=0;R<y;++R)c[d+R]=I[M+c[j+R]];d+=32}}function Zd(c,d){ya(c,d,4)}function ef(c,d){ya(c,d,8)}function tf(c,d){ya(c,d,16)}function kl(c,d){var y;for(y=0;16>y;++y)n(c,d+32*y,c,d-32,16)}function wc(c,d){var y;for(y=16;0<y;--y)i(c,d,c[d-1],16),d+=32}function li(c,d,y){var b;for(b=0;16>b;++b)i(d,y+32*b,c,16)}function rf(c,d){var y,b=16;for(y=0;16>y;++y)b+=c[d-1+32*y]+c[d+y-32];li(b>>5,c,d)}function wa(c,d){var y,b=8;for(y=0;16>y;++y)b+=c[d-1+32*y];li(b>>4,c,d)}function Al(c,d){var y,b=8;for(y=0;16>y;++y)b+=c[d+y-32];li(b>>4,c,d)}function nf(c,d){li(128,c,d)}function lt(c,d,y){return c+2*d+y+2>>2}function sf(c,d){var y,b=d-32;for(b=new Uint8Array([lt(c[b-1],c[b+0],c[b+1]),lt(c[b+0],c[b+1],c[b+2]),lt(c[b+1],c[b+2],c[b+3]),lt(c[b+2],c[b+3],c[b+4])]),y=0;4>y;++y)n(c,d+32*y,b,0,b.length)}function af(c,d){var y=c[d-1],b=c[d-1+32],j=c[d-1+64],L=c[d-1+96];ke(c,d+0,16843009*lt(c[d-1-32],y,b)),ke(c,d+32,16843009*lt(y,b,j)),ke(c,d+64,16843009*lt(b,j,L)),ke(c,d+96,16843009*lt(j,L,L))}function of(c,d){var y,b=4;for(y=0;4>y;++y)b+=c[d+y-32]+c[d-1+32*y];for(b>>=3,y=0;4>y;++y)i(c,d+32*y,b,4)}function Gi(c,d){var y=c[d-1+0],b=c[d-1+32],j=c[d-1+64],L=c[d-1-32],P=c[d+0-32],R=c[d+1-32],I=c[d+2-32],M=c[d+3-32];c[d+0+96]=lt(b,j,c[d-1+96]),c[d+1+96]=c[d+0+64]=lt(y,b,j),c[d+2+96]=c[d+1+64]=c[d+0+32]=lt(L,y,b),c[d+3+96]=c[d+2+64]=c[d+1+32]=c[d+0+0]=lt(P,L,y),c[d+3+64]=c[d+2+32]=c[d+1+0]=lt(R,P,L),c[d+3+32]=c[d+2+0]=lt(I,R,P),c[d+3+0]=lt(M,I,R)}function Ki(c,d){var y=c[d+1-32],b=c[d+2-32],j=c[d+3-32],L=c[d+4-32],P=c[d+5-32],R=c[d+6-32],I=c[d+7-32];c[d+0+0]=lt(c[d+0-32],y,b),c[d+1+0]=c[d+0+32]=lt(y,b,j),c[d+2+0]=c[d+1+32]=c[d+0+64]=lt(b,j,L),c[d+3+0]=c[d+2+32]=c[d+1+64]=c[d+0+96]=lt(j,L,P),c[d+3+32]=c[d+2+64]=c[d+1+96]=lt(L,P,R),c[d+3+64]=c[d+2+96]=lt(P,R,I),c[d+3+96]=lt(R,I,I)}function lf(c,d){var y=c[d-1+0],b=c[d-1+32],j=c[d-1+64],L=c[d-1-32],P=c[d+0-32],R=c[d+1-32],I=c[d+2-32],M=c[d+3-32];c[d+0+0]=c[d+1+64]=L+P+1>>1,c[d+1+0]=c[d+2+64]=P+R+1>>1,c[d+2+0]=c[d+3+64]=R+I+1>>1,c[d+3+0]=I+M+1>>1,c[d+0+96]=lt(j,b,y),c[d+0+64]=lt(b,y,L),c[d+0+32]=c[d+1+96]=lt(y,L,P),c[d+1+32]=c[d+2+96]=lt(L,P,R),c[d+2+32]=c[d+3+96]=lt(P,R,I),c[d+3+32]=lt(R,I,M)}function uf(c,d){var y=c[d+0-32],b=c[d+1-32],j=c[d+2-32],L=c[d+3-32],P=c[d+4-32],R=c[d+5-32],I=c[d+6-32],M=c[d+7-32];c[d+0+0]=y+b+1>>1,c[d+1+0]=c[d+0+64]=b+j+1>>1,c[d+2+0]=c[d+1+64]=j+L+1>>1,c[d+3+0]=c[d+2+64]=L+P+1>>1,c[d+0+32]=lt(y,b,j),c[d+1+32]=c[d+0+96]=lt(b,j,L),c[d+2+32]=c[d+1+96]=lt(j,L,P),c[d+3+32]=c[d+2+96]=lt(L,P,R),c[d+3+64]=lt(P,R,I),c[d+3+96]=lt(R,I,M)}function po(c,d){var y=c[d-1+0],b=c[d-1+32],j=c[d-1+64],L=c[d-1+96];c[d+0+0]=y+b+1>>1,c[d+2+0]=c[d+0+32]=b+j+1>>1,c[d+2+32]=c[d+0+64]=j+L+1>>1,c[d+1+0]=lt(y,b,j),c[d+3+0]=c[d+1+32]=lt(b,j,L),c[d+3+32]=c[d+1+64]=lt(j,L,L),c[d+3+64]=c[d+2+64]=c[d+0+96]=c[d+1+96]=c[d+2+96]=c[d+3+96]=L}function Nl(c,d){var y=c[d-1+0],b=c[d-1+32],j=c[d-1+64],L=c[d-1+96],P=c[d-1-32],R=c[d+0-32],I=c[d+1-32],M=c[d+2-32];c[d+0+0]=c[d+2+32]=y+P+1>>1,c[d+0+32]=c[d+2+64]=b+y+1>>1,c[d+0+64]=c[d+2+96]=j+b+1>>1,c[d+0+96]=L+j+1>>1,c[d+3+0]=lt(R,I,M),c[d+2+0]=lt(P,R,I),c[d+1+0]=c[d+3+32]=lt(y,P,R),c[d+1+32]=c[d+3+64]=lt(b,y,P),c[d+1+64]=c[d+3+96]=lt(j,b,y),c[d+1+96]=lt(L,j,b)}function ba(c,d){var y;for(y=0;8>y;++y)n(c,d+32*y,c,d-32,8)}function cf(c,d){var y;for(y=0;8>y;++y)i(c,d,c[d-1],8),d+=32}function Ji(c,d,y){var b;for(b=0;8>b;++b)i(d,y+32*b,c,8)}function hf(c,d){var y,b=8;for(y=0;8>y;++y)b+=c[d+y-32]+c[d-1+32*y];Ji(b>>4,c,d)}function jl(c,d){var y,b=4;for(y=0;8>y;++y)b+=c[d+y-32];Ji(b>>3,c,d)}function El(c,d){var y,b=4;for(y=0;8>y;++y)b+=c[d-1+32*y];Ji(b>>3,c,d)}function bc(c,d){Ji(128,c,d)}function Yi(c,d,y){var b=c[d-y],j=c[d+0],L=3*(j-b)+df[1020+c[d-2*y]-c[d+y]],P=Ec[112+(L+4>>3)];c[d-y]=En[255+b+Ec[112+(L+3>>3)]],c[d+0]=En[255+j-P]}function Cl(c,d,y,b){var j=c[d+0],L=c[d+y];return Yn[255+c[d-2*y]-c[d-y]]>b||Yn[255+L-j]>b}function go(c,d,y,b){return 4*Yn[255+c[d-y]-c[d+0]]+Yn[255+c[d-2*y]-c[d+y]]<=b}function Ll(c,d,y,b,j){var L=c[d-3*y],P=c[d-2*y],R=c[d-y],I=c[d+0],M=c[d+y],re=c[d+2*y],he=c[d+3*y];return 4*Yn[255+R-I]+Yn[255+P-M]>b?0:Yn[255+c[d-4*y]-L]<=j&&Yn[255+L-P]<=j&&Yn[255+P-R]<=j&&Yn[255+he-re]<=j&&Yn[255+re-M]<=j&&Yn[255+M-I]<=j}function xa(c,d,y,b){var j=2*b+1;for(b=0;16>b;++b)go(c,d+b,y,j)&&Yi(c,d+b,y)}function Pl(c,d,y,b){var j=2*b+1;for(b=0;16>b;++b)go(c,d+b*y,1,j)&&Yi(c,d+b*y,1)}function xc(c,d,y,b){var j;for(j=3;0<j;--j)xa(c,d+=4*y,y,b)}function _c(c,d,y,b){var j;for(j=3;0<j;--j)Pl(c,d+=4,y,b)}function Xi(c,d,y,b,j,L,P,R){for(L=2*L+1;0<j--;){if(Ll(c,d,y,L,P))if(Cl(c,d,y,R))Yi(c,d,y);else{var I=c,M=d,re=y,he=I[M-2*re],U=I[M-re],ie=I[M+0],le=I[M+re],ye=I[M+2*re],ce=27*(xe=df[1020+3*(ie-U)+df[1020+he-le]])+63>>7,we=18*xe+63>>7,xe=9*xe+63>>7;I[M-3*re]=En[255+I[M-3*re]+xe],I[M-2*re]=En[255+he+we],I[M-re]=En[255+U+ce],I[M+0]=En[255+ie-ce],I[M+re]=En[255+le-we],I[M+2*re]=En[255+ye-xe]}d+=b}}function Qi(c,d,y,b,j,L,P,R){for(L=2*L+1;0<j--;){if(Ll(c,d,y,L,P))if(Cl(c,d,y,R))Yi(c,d,y);else{var I=c,M=d,re=y,he=I[M-re],U=I[M+0],ie=I[M+re],le=Ec[112+(4+(ye=3*(U-he))>>3)],ye=Ec[112+(ye+3>>3)],ce=le+1>>1;I[M-2*re]=En[255+I[M-2*re]+ce],I[M-re]=En[255+he+ye],I[M+0]=En[255+U-le],I[M+re]=En[255+ie-ce]}d+=b}}function Sc(c,d,y,b,j,L){Xi(c,d,y,1,16,b,j,L)}function _a(c,d,y,b,j,L){Xi(c,d,1,y,16,b,j,L)}function kc(c,d,y,b,j,L){var P;for(P=3;0<P;--P)Qi(c,d+=4*y,y,1,16,b,j,L)}function g(c,d,y,b,j,L){var P;for(P=3;0<P;--P)Qi(c,d+=4,1,y,16,b,j,L)}function N(c,d,y,b,j,L,P,R){Xi(c,d,j,1,8,L,P,R),Xi(y,b,j,1,8,L,P,R)}function z(c,d,y,b,j,L,P,R){Xi(c,d,1,j,8,L,P,R),Xi(y,b,1,j,8,L,P,R)}function Q(c,d,y,b,j,L,P,R){Qi(c,d+4*j,j,1,8,L,P,R),Qi(y,b+4*j,j,1,8,L,P,R)}function ae(c,d,y,b,j,L,P,R){Qi(c,d+4,1,j,8,L,P,R),Qi(y,b+4,1,j,8,L,P,R)}function be(){this.ba=new Te,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new St,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function _e(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Me(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function He(){this.ua=0,this.Wa=new ht,this.vb=new ht,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new de,this.yc=new J}function at(){this.xb=this.a=0,this.l=new co,this.ca=new Te,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new B,this.Pb=0,this.wd=new B,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new He,this.ab=0,this.gc=a(4,Me),this.Oc=0}function ft(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new co,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Nt(c,d,y,b,j,L,P){for(c=c==null?0:c[d+0],d=0;d<P;++d)j[L+d]=c+y[b+d]&255,c=j[L+d]}function er(c,d,y,b,j,L,P){var R;if(c==null)Nt(null,null,y,b,j,L,P);else for(R=0;R<P;++R)j[L+R]=c[d+R]+y[b+R]&255}function br(c,d,y,b,j,L,P){if(c==null)Nt(null,null,y,b,j,L,P);else{var R,I=c[d+0],M=I,re=I;for(R=0;R<P;++R)M=re+(I=c[d+R])-M,re=y[b+R]+(-256&M?0>M?0:255:M)&255,M=I,j[L+R]=re}}function $t(c,d,y,b){var j=d.width,L=d.o;if(e(c!=null&&d!=null),0>y||0>=b||y+b>L)return null;if(!c.Cc){if(c.ga==null){var P;if(c.ga=new ft,(P=c.ga==null)||(P=d.width*d.o,e(c.Gb.length==0),c.Gb=s(P),c.Uc=0,c.Gb==null?P=0:(c.mb=c.Gb,c.nb=c.Uc,c.rc=null,P=1),P=!P),!P){P=c.ga;var R=c.Fa,I=c.P,M=c.qc,re=c.mb,he=c.nb,U=I+1,ie=M-1,le=P.l;if(e(R!=null&&re!=null&&d!=null),Os[0]=null,Os[1]=Nt,Os[2]=er,Os[3]=br,P.ca=re,P.tb=he,P.c=d.width,P.i=d.height,e(0<P.c&&0<P.i),1>=M)d=0;else if(P.$a=3&R[I+0],P.Z=R[I+0]>>2&3,P.Lc=R[I+0]>>4&3,I=R[I+0]>>6&3,0>P.$a||1<P.$a||4<=P.Z||1<P.Lc||I)d=0;else if(le.put=tt,le.ac=ln,le.bc=ji,le.ma=P,le.width=d.width,le.height=d.height,le.Da=d.Da,le.v=d.v,le.va=d.va,le.j=d.j,le.o=d.o,P.$a)e:{e(P.$a==1),d=ma();t:for(;;){if(d==null){d=0;break e}if(e(P!=null),P.mc=d,d.c=P.c,d.i=P.i,d.l=P.l,d.l.ma=P,d.l.width=P.c,d.l.height=P.i,d.a=0,se(d.m,R,U,ie),!Ci(P.c,P.i,1,d,null)||(d.ab==1&&d.gc[0].hc==3&&si(d.s)?(P.ic=1,R=d.c*d.i,d.Ta=null,d.Ua=0,d.V=s(R),d.Ba=0,d.V==null?(d.a=1,d=0):d=1):(P.ic=0,d=va(d,P.c)),!d))break t;d=1;break e}P.mc=null,d=0}else d=ie>=P.c*P.i;P=!d}if(P)return null;c.ga.Lc!=1?c.Ga=0:b=L-y}e(c.ga!=null),e(y+b<=L);e:{if(d=(R=c.ga).c,L=R.l.o,R.$a==0){if(U=c.rc,ie=c.Vc,le=c.Fa,I=c.P+1+y*d,M=c.mb,re=c.nb+y*d,e(I<=c.P+c.qc),R.Z!=0)for(e(Os[R.Z]!=null),P=0;P<b;++P)Os[R.Z](U,ie,le,I,M,re,d),U=M,ie=re,re+=d,I+=d;else for(P=0;P<b;++P)n(M,re,le,I,d),U=M,ie=re,re+=d,I+=d;c.rc=U,c.Vc=ie}else{if(e(R.mc!=null),d=y+b,e((P=R.mc)!=null),e(d<=P.i),P.C>=d)d=1;else if(R.ic||ui(),R.ic){R=P.V,U=P.Ba,ie=P.c;var ye=P.i,ce=(le=1,I=P.$/ie,M=P.$%ie,re=P.m,he=P.s,P.$),we=ie*ye,xe=ie*d,Ne=he.wc,Se=ce<xe?zr(he,M,I):null;e(ce<=we),e(d<=ye),e(si(he));t:for(;;){for(;!re.h&&ce<xe;){if(M&Ne||(Se=zr(he,M,I)),e(Se!=null),ue(re),256>(ye=ir(Se.G[0],Se.H[0],re)))R[U+ce]=ye,++ce,++M>=ie&&(M=0,++I<=d&&!(I%16)&&ai(P,I));else{if(!(280>ye)){le=0;break t}ye=un(ye-256,re);var Je,Fe=ir(Se.G[4],Se.H[4],re);if(ue(re),!(ce>=(Fe=Ur(ie,Fe=un(Fe,re)))&&we-ce>=ye)){le=0;break t}for(Je=0;Je<ye;++Je)R[U+ce+Je]=R[U+ce+Je-Fe];for(ce+=ye,M+=ye;M>=ie;)M-=ie,++I<=d&&!(I%16)&&ai(P,I);ce<xe&&M&Ne&&(Se=zr(he,M,I))}e(re.h==Z(re))}ai(P,I>d?d:I);break t}!le||re.h&&ce<we?(le=0,P.a=re.h?5:3):P.$=ce,d=le}else d=oi(P,P.V,P.Ba,P.c,P.i,d,oo);if(!d){b=0;break e}}y+b>=L&&(c.Cc=1),b=1}if(!b)return null;if(c.Cc&&((b=c.ga)!=null&&(b.mc=null),c.ga=null,0<c.Ga))return alert("todo:WebPDequantizeLevels"),null}return c.nb+y*j}function jr(c,d,y,b,j,L){for(;0<j--;){var P,R=c,I=d+(y?1:0),M=c,re=d+(y?0:3);for(P=0;P<b;++P){var he=M[re+4*P];he!=255&&(he*=32897,R[I+4*P+0]=R[I+4*P+0]*he>>23,R[I+4*P+1]=R[I+4*P+1]*he>>23,R[I+4*P+2]=R[I+4*P+2]*he>>23)}d+=L}}function xr(c,d,y,b,j){for(;0<b--;){var L;for(L=0;L<y;++L){var P=c[d+2*L+0],R=15&(M=c[d+2*L+1]),I=4369*R,M=(240&M|M>>4)*I>>16;c[d+2*L+0]=(240&P|P>>4)*I>>16&240|(15&P|P<<4)*I>>16>>4&15,c[d+2*L+1]=240&M|R}d+=j}}function qr(c,d,y,b,j,L,P,R){var I,M,re=255;for(M=0;M<j;++M){for(I=0;I<b;++I){var he=c[d+I];L[P+4*I]=he,re&=he}d+=y,P+=R}return re!=255}function Zi(c,d,y,b,j){var L;for(L=0;L<j;++L)y[b+L]=c[d+L]>>8}function ui(){$l=jr,pg=xr,gg=qr,mg=Zi}function es(c,d,y){D[c]=function(b,j,L,P,R,I,M,re,he,U,ie,le,ye,ce,we,xe,Ne){var Se,Je=Ne-1>>1,Fe=R[I+0]|M[re+0]<<16,gt=he[U+0]|ie[le+0]<<16;e(b!=null);var $e=3*Fe+gt+131074>>2;for(d(b[j+0],255&$e,$e>>16,ye,ce),L!=null&&($e=3*gt+Fe+131074>>2,d(L[P+0],255&$e,$e>>16,we,xe)),Se=1;Se<=Je;++Se){var kt=R[I+Se]|M[re+Se]<<16,Cr=he[U+Se]|ie[le+Se]<<16,mt=Fe+kt+gt+Cr+524296,We=mt+2*(kt+gt)>>3;$e=We+Fe>>1,Fe=(mt=mt+2*(Fe+Cr)>>3)+kt>>1,d(b[j+2*Se-1],255&$e,$e>>16,ye,ce+(2*Se-1)*y),d(b[j+2*Se-0],255&Fe,Fe>>16,ye,ce+(2*Se-0)*y),L!=null&&($e=mt+gt>>1,Fe=We+Cr>>1,d(L[P+2*Se-1],255&$e,$e>>16,we,xe+(2*Se-1)*y),d(L[P+2*Se+0],255&Fe,Fe>>16,we,xe+(2*Se+0)*y)),Fe=kt,gt=Cr}1&Ne||($e=3*Fe+gt+131074>>2,d(b[j+Ne-1],255&$e,$e>>16,ye,ce+(Ne-1)*y),L!=null&&($e=3*gt+Fe+131074>>2,d(L[P+Ne-1],255&$e,$e>>16,we,xe+(Ne-1)*y)))}}function Tl(){Xn[Cc]=ux,Xn[Lc]=jg,Xn[_g]=cx,Xn[Pc]=Eg,Xn[Tc]=Cg,Xn[ff]=Lg,Xn[Sg]=hx,Xn[pf]=jg,Xn[gf]=Eg,Xn[Rc]=Cg,Xn[mf]=Lg}function mo(c){return c&-16384?0>c?0:255:c>>dx}function As(c,d){return mo((19077*c>>8)+(26149*d>>8)-14234)}function Sa(c,d,y){return mo((19077*c>>8)-(6419*d>>8)-(13320*y>>8)+8708)}function ka(c,d){return mo((19077*c>>8)+(33050*d>>8)-17685)}function Ns(c,d,y,b,j){b[j+0]=As(c,y),b[j+1]=Sa(c,d,y),b[j+2]=ka(c,d)}function $r(c,d,y,b,j){b[j+0]=ka(c,d),b[j+1]=Sa(c,d,y),b[j+2]=As(c,y)}function Aa(c,d,y,b,j){var L=Sa(c,d,y);d=L<<3&224|ka(c,d)>>3,b[j+0]=248&As(c,y)|L>>5,b[j+1]=d}function Na(c,d,y,b,j){var L=240&ka(c,d)|15;b[j+0]=240&As(c,y)|Sa(c,d,y)>>4,b[j+1]=L}function Rl(c,d,y,b,j){b[j+0]=255,Ns(c,d,y,b,j+1)}function Il(c,d,y,b,j){$r(c,d,y,b,j),b[j+3]=255}function cn(c,d,y,b,j){Ns(c,d,y,b,j),b[j+3]=255}function ts(c,d,y){D[c]=function(b,j,L,P,R,I,M,re,he){for(var U=re+(-2&he)*y;re!=U;)d(b[j+0],L[P+0],R[I+0],M,re),d(b[j+1],L[P+0],R[I+0],M,re+y),j+=2,++P,++I,re+=2*y;1&he&&d(b[j+0],L[P+0],R[I+0],M,re)}}function vo(c,d,y){return y==0?c==0?d==0?6:5:d==0?4:0:y}function Ac(c,d,y,b,j){switch(c>>>30){case 3:La(d,y,b,j,0);break;case 2:Jn(d,y,b,j);break;case 1:Tt(d,y,b,j)}}function Kn(c,d){var y,b,j=d.M,L=d.Nb,P=c.oc,R=c.pc+40,I=c.oc,M=c.pc+584,re=c.oc,he=c.pc+600;for(y=0;16>y;++y)P[R+32*y-1]=129;for(y=0;8>y;++y)I[M+32*y-1]=129,re[he+32*y-1]=129;for(0<j?P[R-1-32]=I[M-1-32]=re[he-1-32]=129:(i(P,R-32-1,127,21),i(I,M-32-1,127,9),i(re,he-32-1,127,9)),b=0;b<c.za;++b){var U=d.ya[d.aa+b];if(0<b){for(y=-1;16>y;++y)n(P,R+32*y-4,P,R+32*y+12,4);for(y=-1;8>y;++y)n(I,M+32*y-4,I,M+32*y+4,4),n(re,he+32*y-4,re,he+32*y+4,4)}var ie=c.Gd,le=c.Hd+b,ye=U.ad,ce=U.Hc;if(0<j&&(n(P,R-32,ie[le].y,0,16),n(I,M-32,ie[le].f,0,8),n(re,he-32,ie[le].ea,0,8)),U.Za){var we=P,xe=R-32+16;for(0<j&&(b>=c.za-1?i(we,xe,ie[le].y[15],4):n(we,xe,ie[le+1].y,0,4)),y=0;4>y;y++)we[xe+128+y]=we[xe+256+y]=we[xe+384+y]=we[xe+0+y];for(y=0;16>y;++y,ce<<=2)we=P,xe=R+Tg[y],ci[U.Ob[y]](we,xe),Ac(ce,ye,16*+y,we,xe)}else if(we=vo(b,j,U.Ob[0]),Is[we](P,R),ce!=0)for(y=0;16>y;++y,ce<<=2)Ac(ce,ye,16*+y,P,R+Tg[y]);for(y=U.Gc,we=vo(b,j,U.Dd),is[we](I,M),is[we](re,he),ce=ye,we=I,xe=M,255&(U=0|y)&&(170&U?Oi(ce,256,we,xe):Ut(ce,256,we,xe)),U=re,ce=he,255&(y>>=8)&&(170&y?Oi(ye,320,U,ce):Ut(ye,320,U,ce)),j<c.Ub-1&&(n(ie[le].y,0,P,R+480,16),n(ie[le].f,0,I,M+224,8),n(ie[le].ea,0,re,he+224,8)),y=8*L*c.B,ie=c.sa,le=c.ta+16*b+16*L*c.R,ye=c.qa,U=c.ra+8*b+y,ce=c.Ha,we=c.Ia+8*b+y,y=0;16>y;++y)n(ie,le+y*c.R,P,R+32*y,16);for(y=0;8>y;++y)n(ye,U+y*c.B,I,M+32*y,8),n(ce,we+y*c.B,re,he+32*y,8)}}function ja(c,d,y,b,j,L,P,R,I){var M=[0],re=[0],he=0,U=I!=null?I.kd:0,ie=I??new _e;if(c==null||12>y)return 7;ie.data=c,ie.w=d,ie.ha=y,d=[d],y=[y],ie.gb=[ie.gb];e:{var le=d,ye=y,ce=ie.gb;if(e(c!=null),e(ye!=null),e(ce!=null),ce[0]=0,12<=ye[0]&&!r(c,le[0],"RIFF")){if(r(c,le[0]+8,"WEBP")){ce=3;break e}var we=Ke(c,le[0]+4);if(12>we||4294967286<we){ce=3;break e}if(U&&we>ye[0]-8){ce=7;break e}ce[0]=we,le[0]+=12,ye[0]-=12}ce=0}if(ce!=0)return ce;for(we=0<ie.gb[0],y=y[0];;){e:{var xe=c;ye=d,ce=y;var Ne=M,Se=re,Je=le=[0];if(($e=he=[he])[0]=0,8>ce[0])ce=7;else{if(!r(xe,ye[0],"VP8X")){if(Ke(xe,ye[0]+4)!=10){ce=3;break e}if(18>ce[0]){ce=7;break e}var Fe=Ke(xe,ye[0]+8),gt=1+Re(xe,ye[0]+12);if(2147483648<=gt*(xe=1+Re(xe,ye[0]+15))){ce=3;break e}Je!=null&&(Je[0]=Fe),Ne!=null&&(Ne[0]=gt),Se!=null&&(Se[0]=xe),ye[0]+=18,ce[0]-=18,$e[0]=1}ce=0}}if(he=he[0],le=le[0],ce!=0)return ce;if(ye=!!(2&le),!we&&he)return 3;if(L!=null&&(L[0]=!!(16&le)),P!=null&&(P[0]=ye),R!=null&&(R[0]=0),P=M[0],le=re[0],he&&ye&&I==null){ce=0;break}if(4>y){ce=7;break}if(we&&he||!we&&!he&&!r(c,d[0],"ALPH")){y=[y],ie.na=[ie.na],ie.P=[ie.P],ie.Sa=[ie.Sa];e:{Fe=c,ce=d,we=y;var $e=ie.gb;Ne=ie.na,Se=ie.P,Je=ie.Sa,gt=22,e(Fe!=null),e(we!=null),xe=ce[0];var kt=we[0];for(e(Ne!=null),e(Je!=null),Ne[0]=null,Se[0]=null,Je[0]=0;;){if(ce[0]=xe,we[0]=kt,8>kt){ce=7;break e}var Cr=Ke(Fe,xe+4);if(4294967286<Cr){ce=3;break e}var mt=8+Cr+1&-2;if(gt+=mt,0<$e&&gt>$e){ce=3;break e}if(!r(Fe,xe,"VP8 ")||!r(Fe,xe,"VP8L")){ce=0;break e}if(kt[0]<mt){ce=7;break e}r(Fe,xe,"ALPH")||(Ne[0]=Fe,Se[0]=xe+8,Je[0]=Cr),xe+=mt,kt-=mt}}if(y=y[0],ie.na=ie.na[0],ie.P=ie.P[0],ie.Sa=ie.Sa[0],ce!=0)break}y=[y],ie.Ja=[ie.Ja],ie.xa=[ie.xa];e:if($e=c,ce=d,we=y,Ne=ie.gb[0],Se=ie.Ja,Je=ie.xa,Fe=ce[0],xe=!r($e,Fe,"VP8 "),gt=!r($e,Fe,"VP8L"),e($e!=null),e(we!=null),e(Se!=null),e(Je!=null),8>we[0])ce=7;else{if(xe||gt){if($e=Ke($e,Fe+4),12<=Ne&&$e>Ne-12){ce=3;break e}if(U&&$e>we[0]-8){ce=7;break e}Se[0]=$e,ce[0]+=8,we[0]-=8,Je[0]=gt}else Je[0]=5<=we[0]&&$e[Fe+0]==47&&!($e[Fe+4]>>5),Se[0]=we[0];ce=0}if(y=y[0],ie.Ja=ie.Ja[0],ie.xa=ie.xa[0],d=d[0],ce!=0)break;if(4294967286<ie.Ja)return 3;if(R==null||ye||(R[0]=ie.xa?2:1),P=[P],le=[le],ie.xa){if(5>y){ce=7;break}R=P,U=le,ye=L,c==null||5>y?c=0:5<=y&&c[d+0]==47&&!(c[d+4]>>5)?(we=[0],$e=[0],Ne=[0],se(Se=new B,c,d,y),Wn(Se,we,$e,Ne)?(R!=null&&(R[0]=we[0]),U!=null&&(U[0]=$e[0]),ye!=null&&(ye[0]=Ne[0]),c=1):c=0):c=0}else{if(10>y){ce=7;break}R=le,c==null||10>y||!pc(c,d+3,y-3)?c=0:(U=c[d+0]|c[d+1]<<8|c[d+2]<<16,ye=16383&(c[d+7]<<8|c[d+6]),c=16383&(c[d+9]<<8|c[d+8]),1&U||3<(U>>1&7)||!(U>>4&1)||U>>5>=ie.Ja||!ye||!c?c=0:(P&&(P[0]=ye),R&&(R[0]=c),c=1))}if(!c||(P=P[0],le=le[0],he&&(M[0]!=P||re[0]!=le)))return 3;I!=null&&(I[0]=ie,I.offset=d-I.w,e(4294967286>d-I.w),e(I.offset==I.ha-y));break}return ce==0||ce==7&&he&&I==null?(L!=null&&(L[0]|=ie.na!=null&&0<ie.na.length),b!=null&&(b[0]=P),j!=null&&(j[0]=le),0):ce}function Ol(c,d,y){var b=d.width,j=d.height,L=0,P=0,R=b,I=j;if(d.Da=c!=null&&0<c.Da,d.Da&&(R=c.cd,I=c.bd,L=c.v,P=c.j,11>y||(L&=-2,P&=-2),0>L||0>P||0>=R||0>=I||L+R>b||P+I>j))return 0;if(d.v=L,d.j=P,d.va=L+R,d.o=P+I,d.U=R,d.T=I,d.da=c!=null&&0<c.da,d.da){if(!Ze(R,I,y=[c.ib],L=[c.hb]))return 0;d.ib=y[0],d.hb=L[0]}return d.ob=c!=null&&c.ob,d.Kb=c==null||!c.Sd,d.da&&(d.ob=d.ib<3*b/4&&d.hb<3*j/4,d.Kb=0),1}function Fl(c){if(c==null)return 2;if(11>c.S){var d=c.f.RGBA;d.fb+=(c.height-1)*d.A,d.A=-d.A}else d=c.f.kb,c=c.height,d.O+=(c-1)*d.fa,d.fa=-d.fa,d.N+=(c-1>>1)*d.Ab,d.Ab=-d.Ab,d.W+=(c-1>>1)*d.Db,d.Db=-d.Db,d.F!=null&&(d.J+=(c-1)*d.lb,d.lb=-d.lb);return 0}function js(c,d,y,b){if(b==null||0>=c||0>=d)return 2;if(y!=null){if(y.Da){var j=y.cd,L=y.bd,P=-2&y.v,R=-2&y.j;if(0>P||0>R||0>=j||0>=L||P+j>c||R+L>d)return 2;c=j,d=L}if(y.da){if(!Ze(c,d,j=[y.ib],L=[y.hb]))return 2;c=j[0],d=L[0]}}b.width=c,b.height=d;e:{var I=b.width,M=b.height;if(c=b.S,0>=I||0>=M||!(c>=Cc&&13>c))c=2;else{if(0>=b.Rd&&b.sd==null){P=L=j=d=0;var re=(R=I*Rg[c])*M;if(11>c||(L=(M+1)/2*(d=(I+1)/2),c==12&&(P=(j=I)*M)),(M=s(re+2*L+P))==null){c=1;break e}b.sd=M,11>c?((I=b.f.RGBA).eb=M,I.fb=0,I.A=R,I.size=re):((I=b.f.kb).y=M,I.O=0,I.fa=R,I.Fd=re,I.f=M,I.N=0+re,I.Ab=d,I.Cd=L,I.ea=M,I.W=0+re+L,I.Db=d,I.Ed=L,c==12&&(I.F=M,I.J=0+re+2*L),I.Tc=P,I.lb=j)}if(d=1,j=b.S,L=b.width,P=b.height,j>=Cc&&13>j)if(11>j)c=b.f.RGBA,d&=(R=Math.abs(c.A))*(P-1)+L<=c.size,d&=R>=L*Rg[j],d&=c.eb!=null;else{c=b.f.kb,R=(L+1)/2,re=(P+1)/2,I=Math.abs(c.fa),M=Math.abs(c.Ab);var he=Math.abs(c.Db),U=Math.abs(c.lb),ie=U*(P-1)+L;d&=I*(P-1)+L<=c.Fd,d&=M*(re-1)+R<=c.Cd,d=(d&=he*(re-1)+R<=c.Ed)&I>=L&M>=R&he>=R,d&=c.y!=null,d&=c.f!=null,d&=c.ea!=null,j==12&&(d&=U>=L,d&=ie<=c.Tc,d&=c.F!=null)}else d=0;c=d?0:2}}return c!=0||y!=null&&y.fd&&(c=Fl(b)),c}var Ea=64,Nn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],jn=24,Es=32,rs=8,Cs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ie("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(c){return c},D.Predictor2=function(c,d,y){return d[y+0]},D.Predictor3=function(c,d,y){return d[y+1]},D.Predictor4=function(c,d,y){return d[y-1]},D.Predictor5=function(c,d,y){return Xe(Xe(c,d[y+1]),d[y+0])},D.Predictor6=function(c,d,y){return Xe(c,d[y-1])},D.Predictor7=function(c,d,y){return Xe(c,d[y+0])},D.Predictor8=function(c,d,y){return Xe(d[y-1],d[y+0])},D.Predictor9=function(c,d,y){return Xe(d[y+0],d[y+1])},D.Predictor10=function(c,d,y){return Xe(Xe(c,d[y-1]),Xe(d[y+0],d[y+1]))},D.Predictor11=function(c,d,y){var b=d[y+0];return 0>=ot(b>>24&255,c>>24&255,(d=d[y-1])>>24&255)+ot(b>>16&255,c>>16&255,d>>16&255)+ot(b>>8&255,c>>8&255,d>>8&255)+ot(255&b,255&c,255&d)?b:c},D.Predictor12=function(c,d,y){var b=d[y+0];return(Ct((c>>24&255)+(b>>24&255)-((d=d[y-1])>>24&255))<<24|Ct((c>>16&255)+(b>>16&255)-(d>>16&255))<<16|Ct((c>>8&255)+(b>>8&255)-(d>>8&255))<<8|Ct((255&c)+(255&b)-(255&d)))>>>0},D.Predictor13=function(c,d,y){var b=d[y-1];return(yt((c=Xe(c,d[y+0]))>>24&255,b>>24&255)<<24|yt(c>>16&255,b>>16&255)<<16|yt(c>>8&255,b>>8&255)<<8|yt(255&c,255&b))>>>0};var Dl=D.PredictorAdd0;D.PredictorAdd1=bt,Ie("Predictor2","PredictorAdd2"),Ie("Predictor3","PredictorAdd3"),Ie("Predictor4","PredictorAdd4"),Ie("Predictor5","PredictorAdd5"),Ie("Predictor6","PredictorAdd6"),Ie("Predictor7","PredictorAdd7"),Ie("Predictor8","PredictorAdd8"),Ie("Predictor9","PredictorAdd9"),Ie("Predictor10","PredictorAdd10"),Ie("Predictor11","PredictorAdd11"),Ie("Predictor12","PredictorAdd12"),Ie("Predictor13","PredictorAdd13");var yo=D.PredictorAdd2;qe("ColorIndexInverseTransform","MapARGB","32b",function(c){return c>>8&255},function(c){return c}),qe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(c){return c},function(c){return c>>8&255});var cr,Nc=D.ColorIndexInverseTransform,Ri=D.MapARGB,Ii=D.VP8LColorIndexInverseTransformAlpha,Bl=D.MapAlpha,Ml=D.VP8LPredictorsAdd=[];Ml.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var Ul,zl,Ls,Ps,Ts,Ca,Rs,La,Jn,Oi,Tt,Ut,hr,Er,ns,ql,wo,jc,lg,ug,cg,hg,dg,fg,$l,pg,gg,mg,vg=s(511),yg=s(2041),wg=s(225),bg=s(767),xg=0,df=yg,Ec=wg,En=bg,Yn=vg,Cc=0,Lc=1,_g=2,Pc=3,Tc=4,ff=5,Sg=6,pf=7,gf=8,Rc=9,mf=10,Jb=[2,3,7],Yb=[3,3,11],kg=[280,256,256,256,40],Xb=[0,1,1,1,0],Qb=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Zb=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ex=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],tx=8,vf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],yf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Wl=null,rx=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],nx=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ag=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ix=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],sx=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ax=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ox=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Is=[],ci=[],is=[],lx=1,Ng=2,Os=[],Xn=[];es("UpsampleRgbLinePair",Ns,3),es("UpsampleBgrLinePair",$r,3),es("UpsampleRgbaLinePair",cn,4),es("UpsampleBgraLinePair",Il,4),es("UpsampleArgbLinePair",Rl,4),es("UpsampleRgba4444LinePair",Na,2),es("UpsampleRgb565LinePair",Aa,2);var ux=D.UpsampleRgbLinePair,cx=D.UpsampleBgrLinePair,jg=D.UpsampleRgbaLinePair,Eg=D.UpsampleBgraLinePair,Cg=D.UpsampleArgbLinePair,Lg=D.UpsampleRgba4444LinePair,hx=D.UpsampleRgb565LinePair,Ic=16,Oc=1<<Ic-1,Hl=-227,wf=482,dx=6,Pg=0,fx=s(256),px=s(256),gx=s(256),mx=s(256),vx=s(wf-Hl),yx=s(wf-Hl);ts("YuvToRgbRow",Ns,3),ts("YuvToBgrRow",$r,3),ts("YuvToRgbaRow",cn,4),ts("YuvToBgraRow",Il,4),ts("YuvToArgbRow",Rl,4),ts("YuvToRgba4444Row",Na,2),ts("YuvToRgb565Row",Aa,2);var Tg=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Fc=[0,2,8],wx=[8,7,6,4,4,2,2,2,1,1,1,1],bx=1;this.WebPDecodeRGBA=function(c,d,y,b,j){var L=Lc,P=new be,R=new Te;P.ba=R,R.S=L,R.width=[R.width],R.height=[R.height];var I=R.width,M=R.height,re=new De;if(re==null||c==null)var he=2;else e(re!=null),he=ja(c,d,y,re.width,re.height,re.Pd,re.Qd,re.format,null);if(he!=0?I=0:(I!=null&&(I[0]=re.width[0]),M!=null&&(M[0]=re.height[0]),I=1),I){R.width=R.width[0],R.height=R.height[0],b!=null&&(b[0]=R.width),j!=null&&(j[0]=R.height);e:{if(b=new co,(j=new _e).data=c,j.w=d,j.ha=y,j.kd=1,d=[0],e(j!=null),((c=ja(j.data,j.w,j.ha,null,null,null,d,null,j))==0||c==7)&&d[0]&&(c=4),(d=c)==0){if(e(P!=null),b.data=j.data,b.w=j.w+j.offset,b.ha=j.ha-j.offset,b.put=tt,b.ac=ln,b.bc=ji,b.ma=P,j.xa){if((c=ma())==null){P=1;break e}if(function(U,ie){var le=[0],ye=[0],ce=[0];t:for(;;){if(U==null)return 0;if(ie==null)return U.a=2,0;if(U.l=ie,U.a=0,se(U.m,ie.data,ie.w,ie.ha),!Wn(U.m,le,ye,ce)){U.a=3;break t}if(U.xb=Ng,ie.width=le[0],ie.height=ye[0],!Ci(le[0],ye[0],1,U,null))break t;return 1}return e(U.a!=0),0}(c,b)){if(b=(d=js(b.width,b.height,P.Oa,P.ba))==0){t:{b=c;r:for(;;){if(b==null){b=0;break t}if(e(b.s.yc!=null),e(b.s.Ya!=null),e(0<b.s.Wb),e((y=b.l)!=null),e((j=y.ma)!=null),b.xb!=0){if(b.ca=j.ba,b.tb=j.tb,e(b.ca!=null),!Ol(j.Oa,y,Pc)){b.a=2;break r}if(!va(b,y.width)||y.da)break r;if((y.da||et(b.ca.S))&&ui(),11>b.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),b.ca.f.kb.F!=null&&ui()),b.Pb&&0<b.s.ua&&b.s.vb.X==null&&!O(b.s.vb,b.s.Wa.Xa)){b.a=1;break r}b.xb=0}if(!oi(b,b.V,b.Ba,b.c,b.i,y.o,ks))break r;j.Dc=b.Ma,b=1;break t}e(b.a!=0),b=0}b=!b}b&&(d=c.a)}else d=c.a}else{if((c=new Yd)==null){P=1;break e}if(c.Fa=j.na,c.P=j.P,c.qc=j.Sa,Pi(c,b)){if((d=js(b.width,b.height,P.Oa,P.ba))==0){if(c.Aa=0,y=P.Oa,e((j=c)!=null),y!=null){if(0<(I=0>(I=y.Md)?0:100<I?255:255*I/100)){for(M=re=0;4>M;++M)12>(he=j.pb[M]).lc&&(he.ia=I*wx[0>he.lc?0:he.lc]>>3),re|=he.ia;re&&(alert("todo:VP8InitRandom"),j.ia=1)}j.Ga=y.Id,100<j.Ga?j.Ga=100:0>j.Ga&&(j.Ga=0)}(function(U,ie){if(U==null)return 0;if(ie==null)return wr(U,2,"NULL VP8Io parameter in VP8Decode().");if(!U.cb&&!Pi(U,ie))return 0;if(e(U.cb),ie.ac==null||ie.ac(ie)){ie.ob&&(U.L=0);var le=Fc[U.L];if(U.L==2?(U.yb=0,U.zb=0):(U.yb=ie.v-le>>4,U.zb=ie.j-le>>4,0>U.yb&&(U.yb=0),0>U.zb&&(U.zb=0)),U.Va=ie.o+15+le>>4,U.Hb=ie.va+15+le>>4,U.Hb>U.za&&(U.Hb=U.za),U.Va>U.Ub&&(U.Va=U.Ub),0<U.L){var ye=U.ed;for(le=0;4>le;++le){var ce;if(U.Qa.Cb){var we=U.Qa.Lb[le];U.Qa.Fb||(we+=ye.Tb)}else we=ye.Tb;for(ce=0;1>=ce;++ce){var xe=U.gd[le][ce],Ne=we;if(ye.Pc&&(Ne+=ye.vd[0],ce&&(Ne+=ye.od[0])),0<(Ne=0>Ne?0:63<Ne?63:Ne)){var Se=Ne;0<ye.wb&&(Se=4<ye.wb?Se>>2:Se>>1)>9-ye.wb&&(Se=9-ye.wb),1>Se&&(Se=1),xe.dd=Se,xe.tc=2*Ne+Se,xe.ld=40<=Ne?2:15<=Ne?1:0}else xe.tc=0;xe.La=ce}}}le=0}else wr(U,6,"Frame setup failed"),le=U.a;if(le=le==0){if(le){U.$c=0,0<U.Aa||(U.Ic=bx);t:{le=U.Ic,ye=4*(Se=U.za);var Je=32*Se,Fe=Se+1,gt=0<U.L?Se*(0<U.Aa?2:1):0,$e=(U.Aa==2?2:1)*Se;if((xe=ye+832+(ce=3*(16*le+Fc[U.L])/2*Je)+(we=U.Fa!=null&&0<U.Fa.length?U.Kc.c*U.Kc.i:0))!=xe)le=0;else{if(xe>U.Vb){if(U.Vb=0,U.Ec=s(xe),U.Fc=0,U.Ec==null){le=wr(U,1,"no memory during frame initialization.");break t}U.Vb=xe}xe=U.Ec,Ne=U.Fc,U.Ac=xe,U.Bc=Ne,Ne+=ye,U.Gd=a(Je,dc),U.Hd=0,U.rb=a(Fe+1,_l),U.sb=1,U.wa=gt?a(gt,Vn):null,U.Y=0,U.D.Nb=0,U.D.wa=U.wa,U.D.Y=U.Y,0<U.Aa&&(U.D.Y+=Se),e(!0),U.oc=xe,U.pc=Ne,Ne+=832,U.ya=a($e,Sl),U.aa=0,U.D.ya=U.ya,U.D.aa=U.aa,U.Aa==2&&(U.D.aa+=Se),U.R=16*Se,U.B=8*Se,Se=(Je=Fc[U.L])*U.R,Je=Je/2*U.B,U.sa=xe,U.ta=Ne+Se,U.qa=U.sa,U.ra=U.ta+16*le*U.R+Je,U.Ha=U.qa,U.Ia=U.ra+8*le*U.B+Je,U.$c=0,Ne+=ce,U.mb=we?xe:null,U.nb=we?Ne:null,e(Ne+we<=U.Fc+U.Vb),gc(U),i(U.Ac,U.Bc,0,ye),le=1}}if(le){if(ie.ka=0,ie.y=U.sa,ie.O=U.ta,ie.f=U.qa,ie.N=U.ra,ie.ea=U.Ha,ie.Vd=U.Ia,ie.fa=U.R,ie.Rc=U.B,ie.F=null,ie.J=0,!xg){for(le=-255;255>=le;++le)vg[255+le]=0>le?-le:le;for(le=-1020;1020>=le;++le)yg[1020+le]=-128>le?-128:127<le?127:le;for(le=-112;112>=le;++le)wg[112+le]=-16>le?-16:15<le?15:le;for(le=-255;510>=le;++le)bg[255+le]=0>le?0:255<le?255:le;xg=1}Rs=fo,La=Qd,Oi=Ti,Tt=vc,Ut=yc,Jn=Xd,hr=Sc,Er=_a,ns=N,ql=z,wo=kc,jc=g,lg=Q,ug=ae,cg=xa,hg=Pl,dg=xc,fg=_c,ci[0]=of,ci[1]=Zd,ci[2]=sf,ci[3]=af,ci[4]=Gi,ci[5]=lf,ci[6]=Ki,ci[7]=uf,ci[8]=Nl,ci[9]=po,Is[0]=rf,Is[1]=tf,Is[2]=kl,Is[3]=wc,Is[4]=wa,Is[5]=Al,Is[6]=nf,is[0]=hf,is[1]=ef,is[2]=ba,is[3]=cf,is[4]=El,is[5]=jl,is[6]=bc,le=1}else le=0}le&&(le=function(kt,Cr){for(kt.M=0;kt.M<kt.Va;++kt.M){var mt,We=kt.Jc[kt.M&kt.Xb],Pe=kt.m,dr=kt;for(mt=0;mt<dr.za;++mt){var ct=Pe,At=dr,Gt=At.Ac,Wr=At.Bc+4*mt,hn=At.zc,sr=At.ya[At.aa+mt];if(At.Qa.Bb?sr.$b=ve(ct,At.Pa.jb[0])?2+ve(ct,At.Pa.jb[2]):ve(ct,At.Pa.jb[1]):sr.$b=0,At.kc&&(sr.Ad=ve(ct,At.Bd)),sr.Za=!ve(ct,145)+0,sr.Za){var Qr=sr.Ob,dn=0;for(At=0;4>At;++At){var Lr,jt=hn[0+At];for(Lr=0;4>Lr;++Lr){jt=sx[Gt[Wr+Lr]][jt];for(var It=Ag[ve(ct,jt[0])];0<It;)It=Ag[2*It+ve(ct,jt[It])];jt=-It,Gt[Wr+Lr]=jt}n(Qr,dn,Gt,Wr,4),dn+=4,hn[0+At]=jt}}else jt=ve(ct,156)?ve(ct,128)?1:3:ve(ct,163)?2:0,sr.Ob[0]=jt,i(Gt,Wr,jt,4),i(hn,0,jt,4);sr.Dd=ve(ct,142)?ve(ct,114)?ve(ct,183)?1:3:2:0}if(dr.m.Ka)return wr(kt,7,"Premature end-of-partition0 encountered.");for(;kt.ja<kt.za;++kt.ja){if(dr=We,ct=(Pe=kt).rb[Pe.sb-1],Gt=Pe.rb[Pe.sb+Pe.ja],mt=Pe.ya[Pe.aa+Pe.ja],Wr=Pe.kc?mt.Ad:0)ct.la=Gt.la=0,mt.Za||(ct.Na=Gt.Na=0),mt.Hc=0,mt.Gc=0,mt.ia=0;else{var ar,Ot;if(ct=Gt,Gt=dr,Wr=Pe.Pa.Xc,hn=Pe.ya[Pe.aa+Pe.ja],sr=Pe.pb[hn.$b],At=hn.ad,Qr=0,dn=Pe.rb[Pe.sb-1],jt=Lr=0,i(At,Qr,0,384),hn.Za)var Hr=0,hi=Wr[3];else{It=s(16);var fr=ct.Na+dn.Na;if(fr=Wl(Gt,Wr[1],fr,sr.Eb,0,It,0),ct.Na=dn.Na=(0<fr)+0,1<fr)Rs(It,0,At,Qr);else{var yn=It[0]+3>>3;for(It=0;256>It;It+=16)At[Qr+It]=yn}Hr=1,hi=Wr[0]}var zt=15&ct.la,Pr=15&dn.la;for(It=0;4>It;++It){var Cn=1&Pr;for(yn=Ot=0;4>yn;++yn)zt=zt>>1|(Cn=(fr=Wl(Gt,hi,fr=Cn+(1&zt),sr.Sc,Hr,At,Qr))>Hr)<<7,Ot=Ot<<2|(3<fr?3:1<fr?2:At[Qr+0]!=0),Qr+=16;zt>>=4,Pr=Pr>>1|Cn<<7,Lr=(Lr<<8|Ot)>>>0}for(hi=zt,Hr=Pr>>4,ar=0;4>ar;ar+=2){for(Ot=0,zt=ct.la>>4+ar,Pr=dn.la>>4+ar,It=0;2>It;++It){for(Cn=1&Pr,yn=0;2>yn;++yn)fr=Cn+(1&zt),zt=zt>>1|(Cn=0<(fr=Wl(Gt,Wr[2],fr,sr.Qc,0,At,Qr)))<<3,Ot=Ot<<2|(3<fr?3:1<fr?2:At[Qr+0]!=0),Qr+=16;zt>>=2,Pr=Pr>>1|Cn<<5}jt|=Ot<<4*ar,hi|=zt<<4<<ar,Hr|=(240&Pr)<<ar}ct.la=hi,dn.la=Hr,hn.Hc=Lr,hn.Gc=jt,hn.ia=43690&jt?0:sr.ia,Wr=!(Lr|jt)}if(0<Pe.L&&(Pe.wa[Pe.Y+Pe.ja]=Pe.gd[mt.$b][mt.Za],Pe.wa[Pe.Y+Pe.ja].La|=!Wr),dr.Ka)return wr(kt,7,"Premature end-of-file encountered.")}if(gc(kt),Pe=Cr,dr=1,mt=(We=kt).D,ct=0<We.L&&We.M>=We.zb&&We.M<=We.Va,We.Aa==0)t:{if(mt.M=We.M,mt.uc=ct,Kn(We,mt),dr=1,mt=(Ot=We.D).Nb,ct=(jt=Fc[We.L])*We.R,Gt=jt/2*We.B,It=16*mt*We.R,yn=8*mt*We.B,Wr=We.sa,hn=We.ta-ct+It,sr=We.qa,At=We.ra-Gt+yn,Qr=We.Ha,dn=We.Ia-Gt+yn,Pr=(zt=Ot.M)==0,Lr=zt>=We.Va-1,We.Aa==2&&Kn(We,Ot),Ot.uc)for(Cn=(fr=We).D.M,e(fr.D.uc),Ot=fr.yb;Ot<fr.Hb;++Ot){Hr=Ot,hi=Cn;var fn=(Ln=(Vr=fr).D).Nb;ar=Vr.R;var Ln=Ln.wa[Ln.Y+Hr],Pn=Vr.sa,wn=Vr.ta+16*fn*ar+16*Hr,Tn=Ln.dd,Wt=Ln.tc;if(Wt!=0)if(e(3<=Wt),Vr.L==1)0<Hr&&hg(Pn,wn,ar,Wt+4),Ln.La&&fg(Pn,wn,ar,Wt),0<hi&&cg(Pn,wn,ar,Wt+4),Ln.La&&dg(Pn,wn,ar,Wt);else{var Rn=Vr.B,di=Vr.qa,Pa=Vr.ra+8*fn*Rn+8*Hr,ss=Vr.Ha,Vr=Vr.Ia+8*fn*Rn+8*Hr;fn=Ln.ld,0<Hr&&(Er(Pn,wn,ar,Wt+4,Tn,fn),ql(di,Pa,ss,Vr,Rn,Wt+4,Tn,fn)),Ln.La&&(jc(Pn,wn,ar,Wt,Tn,fn),ug(di,Pa,ss,Vr,Rn,Wt,Tn,fn)),0<hi&&(hr(Pn,wn,ar,Wt+4,Tn,fn),ns(di,Pa,ss,Vr,Rn,Wt+4,Tn,fn)),Ln.La&&(wo(Pn,wn,ar,Wt,Tn,fn),lg(di,Pa,ss,Vr,Rn,Wt,Tn,fn))}}if(We.ia&&alert("todo:DitherRow"),Pe.put!=null){if(Ot=16*zt,zt=16*(zt+1),Pr?(Pe.y=We.sa,Pe.O=We.ta+It,Pe.f=We.qa,Pe.N=We.ra+yn,Pe.ea=We.Ha,Pe.W=We.Ia+yn):(Ot-=jt,Pe.y=Wr,Pe.O=hn,Pe.f=sr,Pe.N=At,Pe.ea=Qr,Pe.W=dn),Lr||(zt-=jt),zt>Pe.o&&(zt=Pe.o),Pe.F=null,Pe.J=null,We.Fa!=null&&0<We.Fa.length&&Ot<zt&&(Pe.J=$t(We,Pe,Ot,zt-Ot),Pe.F=We.mb,Pe.F==null&&Pe.F.length==0)){dr=wr(We,3,"Could not decode alpha data.");break t}Ot<Pe.j&&(jt=Pe.j-Ot,Ot=Pe.j,e(!(1&jt)),Pe.O+=We.R*jt,Pe.N+=We.B*(jt>>1),Pe.W+=We.B*(jt>>1),Pe.F!=null&&(Pe.J+=Pe.width*jt)),Ot<zt&&(Pe.O+=Pe.v,Pe.N+=Pe.v>>1,Pe.W+=Pe.v>>1,Pe.F!=null&&(Pe.J+=Pe.v),Pe.ka=Ot-Pe.j,Pe.U=Pe.va-Pe.v,Pe.T=zt-Ot,dr=Pe.put(Pe))}mt+1!=We.Ic||Lr||(n(We.sa,We.ta-ct,Wr,hn+16*We.R,ct),n(We.qa,We.ra-Gt,sr,At+8*We.B,Gt),n(We.Ha,We.Ia-Gt,Qr,dn+8*We.B,Gt))}if(!dr)return wr(kt,6,"Output aborted.")}return 1}(U,ie)),ie.bc!=null&&ie.bc(ie),le&=1}return le?(U.cb=0,le):0})(c,b)||(d=c.a)}}else d=c.a}d==0&&P.Oa!=null&&P.Oa.fd&&(d=Fl(P.ba))}P=d}L=P!=0?null:11>L?R.f.RGBA.eb:R.f.kb.y}else L=null;return L};var Rg=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(D,X){for(var T="",F=0;F<4;F++)T+=String.fromCharCode(D[X++]);return T}function h(D,X){return D[X+0]|D[X+1]<<8}function p(D,X){return(D[X+0]|D[X+1]<<8|D[X+2]<<16)>>>0}function v(D,X){return(D[X+0]|D[X+1]<<8|D[X+2]<<16|D[X+3]<<24)>>>0}new l;var f=[0],_=[0],x=[],A=new l,w=t,S=function(D,X){var T={},F=0,J=!1,K=0,de=0;if(T.frames=[],!function(C,B){for(var W=0;W<4;W++)if(C[B+W]!="RIFF".charCodeAt(W))return!0;return!1}(D,X)){for(v(D,X+=4),X+=8;X<D.length;){var Y=u(D,X),ee=v(D,X+=4);X+=4;var $=ee+(1&ee);switch(Y){case"VP8 ":case"VP8L":T.frames[F]===void 0&&(T.frames[F]={}),(oe=T.frames[F]).src_off=J?de:X-8,oe.src_size=K+ee+8,F++,J&&(J=!1,K=0,de=0);break;case"VP8X":(oe=T.header={}).feature_flags=D[X];var se=X+4;oe.canvas_width=1+p(D,se),se+=3,oe.canvas_height=1+p(D,se),se+=3;break;case"ALPH":J=!0,K=$+8,de=X-8;break;case"ANIM":(oe=T.header).bgcolor=v(D,X),se=X+4,oe.loop_count=h(D,se),se+=2;break;case"ANMF":var pe,oe;(oe=T.frames[F]={}).offset_x=2*p(D,X),X+=3,oe.offset_y=2*p(D,X),X+=3,oe.width=1+p(D,X),X+=3,oe.height=1+p(D,X),X+=3,oe.duration=p(D,X),X+=3,pe=D[X++],oe.dispose=1&pe,oe.blend=pe>>1&1}Y!="ANMF"&&(X+=$)}return T}}(w,0);S.response=w,S.rgbaoutput=!0,S.dataurl=!1;var k=S.header?S.header:null,E=S.frames?S.frames:null;if(k){k.loop_counter=k.loop_count,f=[k.canvas_height],_=[k.canvas_width];for(var H=0;H<E.length&&E[H].blend!=0;H++);}var V=E[0],G=A.WebPDecodeRGBA(w,V.src_off,V.src_size,_,f);V.rgba=G,V.imgwidth=_[0],V.imgheight=f[0];for(var q=0;q<_[0]*f[0]*4;q++)x[q]=G[q];return this.width=_,this.height=f,this.data=x,this}/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */function UN(){var t,e=this.internal.__metadata__.metadata,r=unescape(encodeURIComponent(e));t=this.internal.__metadata__.rawXml?r:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+t.length+" >>"),this.internal.write("stream"),this.internal.write(t),this.internal.write("endstream"),this.internal.write("endobj")}function zN(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(t){var e,r,n,i,s,a,o,l,u,h=function(C){return C=C||{},this.isStrokeTransparent=C.isStrokeTransparent||!1,this.strokeOpacity=C.strokeOpacity||1,this.strokeStyle=C.strokeStyle||"#000000",this.fillStyle=C.fillStyle||"#000000",this.isFillTransparent=C.isFillTransparent||!1,this.fillOpacity=C.fillOpacity||1,this.font=C.font||"10px sans-serif",this.textBaseline=C.textBaseline||"alphabetic",this.textAlign=C.textAlign||"left",this.lineWidth=C.lineWidth||1,this.lineJoin=C.lineJoin||"miter",this.lineCap=C.lineCap||"butt",this.path=C.path||[],this.transform=C.transform!==void 0?C.transform.clone():new l,this.globalCompositeOperation=C.globalCompositeOperation||"normal",this.globalAlpha=C.globalAlpha||1,this.clip_path=C.clip_path||[],this.currentPoint=C.currentPoint||new a,this.miterLimit=C.miterLimit||10,this.lastPoint=C.lastPoint||new a,this.lineDashOffset=C.lineDashOffset||0,this.lineDash=C.lineDash||[],this.margin=C.margin||[0,0,0,0],this.prevPageLastElemOffset=C.prevPageLastElemOffset||0,this.ignoreClearRect=typeof C.ignoreClearRect!="boolean"||C.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new h}]);var p=function(C){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var B=C;Object.defineProperty(this,"pdf",{get:function(){return B}});var W=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return W},set:function(O){W=!!O}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(O){Z=!!O}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(O){isNaN(O)||(ne=O)}});var ue=0;Object.defineProperty(this,"posY",{get:function(){return ue},set:function(O){isNaN(O)||(ue=O)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(O){var Le;typeof O=="number"?Le=[O,O,O,O]:((Le=new Array(4))[0]=O[0],Le[1]=O.length>=2?O[1]:Le[0],Le[2]=O.length>=3?O[2]:Le[0],Le[3]=O.length>=4?O[3]:Le[1]),u.margin=Le}});var ge=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ge},set:function(O){ge=O}});var me=0;Object.defineProperty(this,"lastBreak",{get:function(){return me},set:function(O){me=O}});var ve=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ve},set:function(O){ve=O}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(O){O instanceof h&&(u=O)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(O){u.path=O}});var ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return ke},set:function(O){ke=O}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(O){var Le;Le=v(O),this.ctx.fillStyle=Le.style,this.ctx.isFillTransparent=Le.a===0,this.ctx.fillOpacity=Le.a,this.pdf.setFillColor(Le.r,Le.g,Le.b,{a:Le.a}),this.pdf.setTextColor(Le.r,Le.g,Le.b,{a:Le.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(O){var Le=v(O);this.ctx.strokeStyle=Le.style,this.ctx.isStrokeTransparent=Le.a===0,this.ctx.strokeOpacity=Le.a,Le.a===0?this.pdf.setDrawColor(255,255,255):(Le.a,this.pdf.setDrawColor(Le.r,Le.g,Le.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(O){["butt","round","square"].indexOf(O)!==-1&&(this.ctx.lineCap=O,this.pdf.setLineCap(O))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(O){isNaN(O)||(this.ctx.lineWidth=O,this.pdf.setLineWidth(O))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(O){["bevel","round","miter"].indexOf(O)!==-1&&(this.ctx.lineJoin=O,this.pdf.setLineJoin(O))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(O){isNaN(O)||(this.ctx.miterLimit=O,this.pdf.setMiterLimit(O))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(O){this.ctx.textBaseline=O}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(O){["right","end","center","left","start"].indexOf(O)!==-1&&(this.ctx.textAlign=O)}});var Ce=null,Re=null,Ke=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ke},set:function(O){Ce=null,Re=null,Ke=O}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(O){var Le;if(this.ctx.font=O,(Le=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(O))!==null){var ht=Le[1];Le[2];var Ze=Le[3],Ae=Le[4];Le[5];var Ue=Le[6],Ie=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ae)[2];Ae=Math.floor(Ie==="px"?parseFloat(Ae)*this.pdf.internal.scaleFactor:Ie==="em"?parseFloat(Ae)*this.pdf.getFontSize():parseFloat(Ae)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ae);var Ye=function(qe){var Zt,_t,dt=[],vt=qe.trim();if(vt==="")return Ep;if(vt in Iv)return[Iv[vt]];for(;vt!=="";){switch(_t=null,Zt=(vt=Fv(vt)).charAt(0)){case'"':case"'":_t=IN(vt.substring(1),Zt);break;default:_t=ON(vt)}if(_t===null||(dt.push(_t[0]),(vt=Fv(_t[1]))!==""&&vt.charAt(0)!==","))return Ep;vt=vt.replace(/^,/,"")}return dt}(Ue);if(this.fontFaces){var Xe=function(qe,Zt){var _t=qe.getFontList(),dt=JSON.stringify(_t);if(Ce===null||Re!==dt){var vt=function(Pt){var Qe=[];return Object.keys(Pt).forEach(function(Rt){Pt[Rt].forEach(function(et){var te=null;switch(et){case"bold":te={family:Rt,weight:"bold"};break;case"italic":te={family:Rt,style:"italic"};break;case"bolditalic":te={family:Rt,weight:"bold",style:"italic"};break;case"":case"normal":te={family:Rt}}te!==null&&(te.ref={name:Rt,style:et},Qe.push(te))})}),Qe}(_t);Ce=function(Pt){for(var Qe={},Rt=0;Rt<Pt.length;++Rt){var et=jp(Pt[Rt]),te=et.family,Ee=et.stretch,Te=et.style,De=et.weight;Qe[te]=Qe[te]||{},Qe[te][Ee]=Qe[te][Ee]||{},Qe[te][Ee][Te]=Qe[te][Ee][Te]||{},Qe[te][Ee][Te][De]=et}return Qe}(vt.concat(Zt)),Re=dt}return Ce}(this.pdf,this.fontFaces),Ct=Ye.map(function(qe){return{family:qe,stretch:"normal",weight:Ze,style:ht}}),yt=function(qe,Zt,_t){for(var dt=(_t=_t||{}).defaultFontFamily||"times",vt=Object.assign({},RN,_t.genericFontFamilies||{}),Pt=null,Qe=null,Rt=0;Rt<Zt.length;++Rt)if(vt[(Pt=jp(Zt[Rt])).family]&&(Pt.family=vt[Pt.family]),qe.hasOwnProperty(Pt.family)){Qe=qe[Pt.family];break}if(!(Qe=Qe||qe[dt]))throw new Error("Could not find a font-family for the rule '"+Ov(Pt)+"' and default family '"+dt+"'.");if(Qe=function(et,te){if(te[et])return te[et];var Ee=Q0[et],Te=Ee<=Q0.normal?-1:1,De=Rv(te,Tb,Ee,Te);if(!De)throw new Error("Could not find a matching font-stretch value for "+et);return De}(Pt.stretch,Qe),Qe=function(et,te){if(te[et])return te[et];for(var Ee=Pb[et],Te=0;Te<Ee.length;++Te)if(te[Ee[Te]])return te[Ee[Te]];throw new Error("Could not find a matching font-style for "+et)}(Pt.style,Qe),!(Qe=function(et,te){if(te[et])return te[et];if(et===400&&te[500])return te[500];if(et===500&&te[400])return te[400];var Ee=TN[et],Te=Rv(te,Rb,Ee,et<400?-1:1);if(!Te)throw new Error("Could not find a matching font-weight for value "+et);return Te}(Pt.weight,Qe)))throw new Error("Failed to resolve a font for the rule '"+Ov(Pt)+"'.");return Qe}(Xe,Ct);this.pdf.setFont(yt.ref.name,yt.ref.style)}else{var ot="";(Ze==="bold"||parseInt(Ze,10)>=700||ht==="bold")&&(ot="bold"),ht==="italic"&&(ot+="italic"),ot.length===0&&(ot="normal");for(var bt="",wt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ze=0;ze<Ye.length;ze++){if(this.pdf.internal.getFont(Ye[ze],ot,{noFallback:!0,disableWarning:!0})!==void 0){bt=Ye[ze];break}if(ot==="bolditalic"&&this.pdf.internal.getFont(Ye[ze],"bold",{noFallback:!0,disableWarning:!0})!==void 0)bt=Ye[ze],ot="bold";else if(this.pdf.internal.getFont(Ye[ze],"normal",{noFallback:!0,disableWarning:!0})!==void 0){bt=Ye[ze],ot="normal";break}}if(bt===""){for(var st=0;st<Ye.length;st++)if(wt[Ye[st]]){bt=wt[Ye[st]];break}}bt=bt===""?"Times":bt,this.pdf.setFont(bt,ot)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(O){this.ctx.globalCompositeOperation=O}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(O){this.ctx.globalAlpha=O}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(O){this.ctx.lineDashOffset=O,oe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(O){this.ctx.lineDash=O,oe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(O){this.ctx.ignoreClearRect=!!O}})};p.prototype.setLineDash=function(C){this.lineDash=C},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){E.call(this,"fill",!1)},p.prototype.stroke=function(){E.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(C,B){if(isNaN(C)||isNaN(B))throw qt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var W=this.ctx.transform.applyToPoint(new a(C,B));this.path.push({type:"mt",x:W.x,y:W.y}),this.ctx.lastPoint=new a(C,B)},p.prototype.closePath=function(){var C=new a(0,0),B=0;for(B=this.path.length-1;B!==-1;B--)if(this.path[B].type==="begin"&&Dt(this.path[B+1])==="object"&&typeof this.path[B+1].x=="number"){C=new a(this.path[B+1].x,this.path[B+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(C.x,C.y)},p.prototype.lineTo=function(C,B){if(isNaN(C)||isNaN(B))throw qt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var W=this.ctx.transform.applyToPoint(new a(C,B));this.path.push({type:"lt",x:W.x,y:W.y}),this.ctx.lastPoint=new a(W.x,W.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),E.call(this,null,!0)},p.prototype.quadraticCurveTo=function(C,B,W,Z){if(isNaN(W)||isNaN(Z)||isNaN(C)||isNaN(B))throw qt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new a(W,Z)),ue=this.ctx.transform.applyToPoint(new a(C,B));this.path.push({type:"qct",x1:ue.x,y1:ue.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new a(ne.x,ne.y)},p.prototype.bezierCurveTo=function(C,B,W,Z,ne,ue){if(isNaN(ne)||isNaN(ue)||isNaN(C)||isNaN(B)||isNaN(W)||isNaN(Z))throw qt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ge=this.ctx.transform.applyToPoint(new a(ne,ue)),me=this.ctx.transform.applyToPoint(new a(C,B)),ve=this.ctx.transform.applyToPoint(new a(W,Z));this.path.push({type:"bct",x1:me.x,y1:me.y,x2:ve.x,y2:ve.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new a(ge.x,ge.y)},p.prototype.arc=function(C,B,W,Z,ne,ue){if(isNaN(C)||isNaN(B)||isNaN(W)||isNaN(Z)||isNaN(ne))throw qt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ue=!!ue,!this.ctx.transform.isIdentity){var ge=this.ctx.transform.applyToPoint(new a(C,B));C=ge.x,B=ge.y;var me=this.ctx.transform.applyToPoint(new a(0,W)),ve=this.ctx.transform.applyToPoint(new a(0,0));W=Math.sqrt(Math.pow(me.x-ve.x,2)+Math.pow(me.y-ve.y,2))}Math.abs(ne-Z)>=2*Math.PI&&(Z=0,ne=2*Math.PI),this.path.push({type:"arc",x:C,y:B,radius:W,startAngle:Z,endAngle:ne,counterclockwise:ue})},p.prototype.arcTo=function(C,B,W,Z,ne){throw new Error("arcTo not implemented.")},p.prototype.rect=function(C,B,W,Z){if(isNaN(C)||isNaN(B)||isNaN(W)||isNaN(Z))throw qt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(C,B),this.lineTo(C+W,B),this.lineTo(C+W,B+Z),this.lineTo(C,B+Z),this.lineTo(C,B),this.lineTo(C+W,B),this.lineTo(C,B)},p.prototype.fillRect=function(C,B,W,Z){if(isNaN(C)||isNaN(B)||isNaN(W)||isNaN(Z))throw qt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(C,B,W,Z),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},p.prototype.strokeRect=function(C,B,W,Z){if(isNaN(C)||isNaN(B)||isNaN(W)||isNaN(Z))throw qt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");_.call(this)||(this.beginPath(),this.rect(C,B,W,Z),this.stroke())},p.prototype.clearRect=function(C,B,W,Z){if(isNaN(C)||isNaN(B)||isNaN(W)||isNaN(Z))throw qt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(C,B,W,Z))},p.prototype.save=function(C){C=typeof C!="boolean"||C;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("q");if(this.pdf.setPage(B),C){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},p.prototype.restore=function(C){C=typeof C!="boolean"||C;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("Q");this.pdf.setPage(B),C&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(C){var B,W,Z,ne;if(C.isCanvasGradient===!0&&(C=C.getColor()),!C)return{r:0,g:0,b:0,a:0,style:C};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(C))B=0,W=0,Z=0,ne=0;else{var ue=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(C);if(ue!==null)B=parseInt(ue[1]),W=parseInt(ue[2]),Z=parseInt(ue[3]),ne=1;else if((ue=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(C))!==null)B=parseInt(ue[1]),W=parseInt(ue[2]),Z=parseInt(ue[3]),ne=parseFloat(ue[4]);else{if(ne=1,typeof C=="string"&&C.charAt(0)!=="#"){var ge=new kb(C);C=ge.ok?ge.toHex():"#000000"}C.length===4?(B=C.substring(1,2),B+=B,W=C.substring(2,3),W+=W,Z=C.substring(3,4),Z+=Z):(B=C.substring(1,3),W=C.substring(3,5),Z=C.substring(5,7)),B=parseInt(B,16),W=parseInt(W,16),Z=parseInt(Z,16)}}return{r:B,g:W,b:Z,a:ne,style:C}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},_=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(C,B,W,Z){if(isNaN(B)||isNaN(W)||typeof C!="string")throw qt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!f.call(this)){var ne=$(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;F.call(this,{text:C,x:B,y:W,scale:ue,angle:ne,align:this.textAlign,maxWidth:Z})}},p.prototype.strokeText=function(C,B,W,Z){if(isNaN(B)||isNaN(W)||typeof C!="string")throw qt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!_.call(this)){Z=isNaN(Z)?void 0:Z;var ne=$(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;F.call(this,{text:C,x:B,y:W,scale:ue,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:Z})}},p.prototype.measureText=function(C){if(typeof C!="string")throw qt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var B=this.pdf,W=this.pdf.internal.scaleFactor,Z=B.internal.getFontSize(),ne=B.getStringUnitWidth(C)*Z/B.internal.scaleFactor;return new function(ue){var ge=(ue=ue||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ge}}),this}({width:ne*=Math.round(96*W/72*1e4)/1e4})},p.prototype.scale=function(C,B){if(isNaN(C)||isNaN(B))throw qt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var W=new l(C,0,0,B,0,0);this.ctx.transform=this.ctx.transform.multiply(W)},p.prototype.rotate=function(C){if(isNaN(C))throw qt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var B=new l(Math.cos(C),Math.sin(C),-Math.sin(C),Math.cos(C),0,0);this.ctx.transform=this.ctx.transform.multiply(B)},p.prototype.translate=function(C,B){if(isNaN(C)||isNaN(B))throw qt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var W=new l(1,0,0,1,C,B);this.ctx.transform=this.ctx.transform.multiply(W)},p.prototype.transform=function(C,B,W,Z,ne,ue){if(isNaN(C)||isNaN(B)||isNaN(W)||isNaN(Z)||isNaN(ne)||isNaN(ue))throw qt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ge=new l(C,B,W,Z,ne,ue);this.ctx.transform=this.ctx.transform.multiply(ge)},p.prototype.setTransform=function(C,B,W,Z,ne,ue){C=isNaN(C)?1:C,B=isNaN(B)?0:B,W=isNaN(W)?0:W,Z=isNaN(Z)?1:Z,ne=isNaN(ne)?0:ne,ue=isNaN(ue)?0:ue,this.ctx.transform=new l(C,B,W,Z,ne,ue)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(C,B,W,Z,ne,ue,ge,me,ve){var ke=this.pdf.getImageProperties(C),Ce=1,Re=1,Ke=1,O=1;Z!==void 0&&me!==void 0&&(Ke=me/Z,O=ve/ne,Ce=ke.width/Z*me/Z,Re=ke.height/ne*ve/ne),ue===void 0&&(ue=B,ge=W,B=0,W=0),Z!==void 0&&me===void 0&&(me=Z,ve=ne),Z===void 0&&me===void 0&&(me=ke.width,ve=ke.height);var Le=this.ctx.transform.decompose(),ht=$(Le.rotate.shx),Ze=new l,Ae=(Ze=(Ze=(Ze=Ze.multiply(Le.translate)).multiply(Le.skew)).multiply(Le.scale)).applyToRectangle(new o(ue-B*Ke,ge-W*O,Z*Ce,ne*Re));if(this.autoPaging){for(var Ue,Ie=A.call(this,Ae),Ye=[],Xe=0;Xe<Ie.length;Xe+=1)Ye.indexOf(Ie[Xe])===-1&&Ye.push(Ie[Xe]);k(Ye);for(var Ct=Ye[0],yt=Ye[Ye.length-1],ot=Ct;ot<yt+1;ot++){this.pdf.setPage(ot);var bt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],wt=ot===1?this.posY+this.margin[0]:this.margin[0],ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],st=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qe=ot===1?0:ze+(ot-2)*st;if(this.ctx.clip_path.length!==0){var Zt=this.path;Ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(Ue,this.posX+this.margin[3],-qe+wt+this.ctx.prevPageLastElemOffset),H.call(this,"fill",!0),this.path=Zt}var _t=JSON.parse(JSON.stringify(Ae));_t=S([_t],this.posX+this.margin[3],-qe+wt+this.ctx.prevPageLastElemOffset)[0];var dt=(ot>Ct||ot<yt)&&x.call(this);dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],bt,st,null).clip().discardPath()),this.pdf.addImage(C,"JPEG",_t.x,_t.y,_t.w,_t.h,null,null,ht),dt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(C,"JPEG",Ae.x,Ae.y,Ae.w,Ae.h,null,null,ht)};var A=function(C,B,W){var Z=[];B=B||this.pdf.internal.pageSize.width,W=W||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(C.type){default:case"mt":case"lt":Z.push(Math.floor((C.y+ne)/W)+1);break;case"arc":Z.push(Math.floor((C.y+ne-C.radius)/W)+1),Z.push(Math.floor((C.y+ne+C.radius)/W)+1);break;case"qct":var ue=se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x,C.y);Z.push(Math.floor((ue.y+ne)/W)+1),Z.push(Math.floor((ue.y+ue.h+ne)/W)+1);break;case"bct":var ge=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x2,C.y2,C.x,C.y);Z.push(Math.floor((ge.y+ne)/W)+1),Z.push(Math.floor((ge.y+ge.h+ne)/W)+1);break;case"rect":Z.push(Math.floor((C.y+ne)/W)+1),Z.push(Math.floor((C.y+C.h+ne)/W)+1)}for(var me=0;me<Z.length;me+=1)for(;this.pdf.internal.getNumberOfPages()<Z[me];)w.call(this);return Z},w=function(){var C=this.fillStyle,B=this.strokeStyle,W=this.font,Z=this.lineCap,ne=this.lineWidth,ue=this.lineJoin;this.pdf.addPage(),this.fillStyle=C,this.strokeStyle=B,this.font=W,this.lineCap=Z,this.lineWidth=ne,this.lineJoin=ue},S=function(C,B,W){for(var Z=0;Z<C.length;Z++)switch(C[Z].type){case"bct":C[Z].x2+=B,C[Z].y2+=W;case"qct":C[Z].x1+=B,C[Z].y1+=W;default:C[Z].x+=B,C[Z].y+=W}return C},k=function(C){return C.sort(function(B,W){return B-W})},E=function(C,B){var W=this.fillStyle,Z=this.strokeStyle,ne=this.lineCap,ue=this.lineWidth,ge=Math.abs(ue*this.ctx.transform.scaleX),me=this.lineJoin;if(this.autoPaging){for(var ve,ke,Ce=JSON.parse(JSON.stringify(this.path)),Re=JSON.parse(JSON.stringify(this.path)),Ke=[],O=0;O<Re.length;O++)if(Re[O].x!==void 0)for(var Le=A.call(this,Re[O]),ht=0;ht<Le.length;ht+=1)Ke.indexOf(Le[ht])===-1&&Ke.push(Le[ht]);for(var Ze=0;Ze<Ke.length;Ze++)for(;this.pdf.internal.getNumberOfPages()<Ke[Ze];)w.call(this);k(Ke);for(var Ae=Ke[0],Ue=Ke[Ke.length-1],Ie=Ae;Ie<Ue+1;Ie++){this.pdf.setPage(Ie),this.fillStyle=W,this.strokeStyle=Z,this.lineCap=ne,this.lineWidth=ge,this.lineJoin=me;var Ye=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xe=Ie===1?this.posY+this.margin[0]:this.margin[0],Ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=Ie===1?0:Ct+(Ie-2)*yt;if(this.ctx.clip_path.length!==0){var bt=this.path;ve=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(ve,this.posX+this.margin[3],-ot+Xe+this.ctx.prevPageLastElemOffset),H.call(this,C,!0),this.path=bt}if(ke=JSON.parse(JSON.stringify(Ce)),this.path=S(ke,this.posX+this.margin[3],-ot+Xe+this.ctx.prevPageLastElemOffset),B===!1||Ie===0){var wt=(Ie>Ae||Ie<Ue)&&x.call(this);wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ye,yt,null).clip().discardPath()),H.call(this,C,B),wt&&this.pdf.restoreGraphicsState()}this.lineWidth=ue}this.path=Ce}else this.lineWidth=ge,H.call(this,C,B),this.lineWidth=ue},H=function(C,B){if((C!=="stroke"||B||!_.call(this))&&(C==="stroke"||B||!f.call(this))){for(var W,Z,ne=[],ue=this.path,ge=0;ge<ue.length;ge++){var me=ue[ge];switch(me.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:me,deltas:[],abs:[]});break;case"lt":var ve=ne.length;if(ue[ge-1]&&!isNaN(ue[ge-1].x)&&(W=[me.x-ue[ge-1].x,me.y-ue[ge-1].y],ve>0)){for(;ve>=0;ve--)if(ne[ve-1].close!==!0&&ne[ve-1].begin!==!0){ne[ve-1].deltas.push(W),ne[ve-1].abs.push(me);break}}break;case"bct":W=[me.x1-ue[ge-1].x,me.y1-ue[ge-1].y,me.x2-ue[ge-1].x,me.y2-ue[ge-1].y,me.x-ue[ge-1].x,me.y-ue[ge-1].y],ne[ne.length-1].deltas.push(W);break;case"qct":var ke=ue[ge-1].x+2/3*(me.x1-ue[ge-1].x),Ce=ue[ge-1].y+2/3*(me.y1-ue[ge-1].y),Re=me.x+2/3*(me.x1-me.x),Ke=me.y+2/3*(me.y1-me.y),O=me.x,Le=me.y;W=[ke-ue[ge-1].x,Ce-ue[ge-1].y,Re-ue[ge-1].x,Ke-ue[ge-1].y,O-ue[ge-1].x,Le-ue[ge-1].y],ne[ne.length-1].deltas.push(W);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(me)}}Z=B?null:C==="stroke"?"stroke":"fill";for(var ht=!1,Ze=0;Ze<ne.length;Ze++)if(ne[Ze].arc)for(var Ae=ne[Ze].abs,Ue=0;Ue<Ae.length;Ue++){var Ie=Ae[Ue];Ie.type==="arc"?q.call(this,Ie.x,Ie.y,Ie.radius,Ie.startAngle,Ie.endAngle,Ie.counterclockwise,void 0,B,!ht):J.call(this,Ie.x,Ie.y),ht=!0}else if(ne[Ze].close===!0)this.pdf.internal.out("h"),ht=!1;else if(ne[Ze].begin!==!0){var Ye=ne[Ze].start.x,Xe=ne[Ze].start.y;K.call(this,ne[Ze].deltas,Ye,Xe),ht=!0}Z&&D.call(this,Z),B&&X.call(this)}},V=function(C){var B=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,W=B*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return C-W;case"top":return C+B-W;case"hanging":return C+B-2*W;case"middle":return C+B/2-W;default:return C}},G=function(C){return C+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var C=function(){};return C.colorStops=[],C.addColorStop=function(B,W){this.colorStops.push([B,W])},C.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},C.isCanvasGradient=!0,C},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var q=function(C,B,W,Z,ne,ue,ge,me,ve){for(var ke=Y.call(this,W,Z,ne,ue),Ce=0;Ce<ke.length;Ce++){var Re=ke[Ce];Ce===0&&(ve?T.call(this,Re.x1+C,Re.y1+B):J.call(this,Re.x1+C,Re.y1+B)),de.call(this,C,B,Re.x2,Re.y2,Re.x3,Re.y3,Re.x4,Re.y4)}me?X.call(this):D.call(this,ge)},D=function(C){switch(C){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},X=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(C,B){this.pdf.internal.out(r(C)+" "+n(B)+" m")},F=function(C){var B;switch(C.align){case"right":case"end":B="right";break;case"center":B="center";break;default:B="left"}var W,Z,ne,ue=this.pdf.getTextDimensions(C.text),ge=V.call(this,C.y),me=G.call(this,ge)-ue.h,ve=this.ctx.transform.applyToPoint(new a(C.x,ge));if(this.autoPaging){var ke=this.ctx.transform.decompose(),Ce=new l;Ce=(Ce=(Ce=Ce.multiply(ke.translate)).multiply(ke.skew)).multiply(ke.scale);for(var Re=this.ctx.transform.applyToRectangle(new o(C.x,ge,ue.w,ue.h)),Ke=Ce.applyToRectangle(new o(C.x,me,ue.w,ue.h)),O=A.call(this,Ke),Le=[],ht=0;ht<O.length;ht+=1)Le.indexOf(O[ht])===-1&&Le.push(O[ht]);k(Le);for(var Ze=Le[0],Ae=Le[Le.length-1],Ue=Ze;Ue<Ae+1;Ue++){this.pdf.setPage(Ue);var Ie=Ue===1?this.posY+this.margin[0]:this.margin[0],Ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xe=this.pdf.internal.pageSize.height-this.margin[2],Ct=Xe-this.margin[0],yt=this.pdf.internal.pageSize.width-this.margin[1],ot=yt-this.margin[3],bt=Ue===1?0:Ye+(Ue-2)*Ct;if(this.ctx.clip_path.length!==0){var wt=this.path;W=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(W,this.posX+this.margin[3],-1*bt+Ie),H.call(this,"fill",!0),this.path=wt}var ze=S([JSON.parse(JSON.stringify(Ke))],this.posX+this.margin[3],-bt+Ie+this.ctx.prevPageLastElemOffset)[0];C.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*C.scale),ne=this.lineWidth,this.lineWidth=ne*C.scale);var st=this.autoPaging!=="text";if(st||ze.y+ze.h<=Xe){if(st||ze.y>=Ie&&ze.x<=yt){var qe=st?C.text:this.pdf.splitTextToSize(C.text,C.maxWidth||yt-ze.x)[0],Zt=S([JSON.parse(JSON.stringify(Re))],this.posX+this.margin[3],-bt+Ie+this.ctx.prevPageLastElemOffset)[0],_t=st&&(Ue>Ze||Ue<Ae)&&x.call(this);_t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,Ct,null).clip().discardPath()),this.pdf.text(qe,Zt.x,Zt.y,{angle:C.angle,align:B,renderingMode:C.renderingMode}),_t&&this.pdf.restoreGraphicsState()}}else ze.y<Xe&&(this.ctx.prevPageLastElemOffset+=Xe-ze.y);C.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=ne)}}else C.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*C.scale),ne=this.lineWidth,this.lineWidth=ne*C.scale),this.pdf.text(C.text,ve.x+this.posX,ve.y+this.posY,{angle:C.angle,align:B,renderingMode:C.renderingMode,maxWidth:C.maxWidth}),C.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=ne)},J=function(C,B,W,Z){W=W||0,Z=Z||0,this.pdf.internal.out(r(C+W)+" "+n(B+Z)+" l")},K=function(C,B,W){return this.pdf.lines(C,B,W,null,null)},de=function(C,B,W,Z,ne,ue,ge,me){this.pdf.internal.out([e(i(W+C)),e(s(Z+B)),e(i(ne+C)),e(s(ue+B)),e(i(ge+C)),e(s(me+B)),"c"].join(" "))},Y=function(C,B,W,Z){for(var ne=2*Math.PI,ue=Math.PI/2;B>W;)B-=ne;var ge=Math.abs(W-B);ge<ne&&Z&&(ge=ne-ge);for(var me=[],ve=Z?-1:1,ke=B;ge>1e-5;){var Ce=ke+ve*Math.min(ge,ue);me.push(ee.call(this,C,ke,Ce)),ge-=Math.abs(Ce-ke),ke=Ce}return me},ee=function(C,B,W){var Z=(W-B)/2,ne=C*Math.cos(Z),ue=C*Math.sin(Z),ge=ne,me=-ue,ve=ge*ge+me*me,ke=ve+ge*ne+me*ue,Ce=4/3*(Math.sqrt(2*ve*ke)-ke)/(ge*ue-me*ne),Re=ge-Ce*me,Ke=me+Ce*ge,O=Re,Le=-Ke,ht=Z+B,Ze=Math.cos(ht),Ae=Math.sin(ht);return{x1:C*Math.cos(B),y1:C*Math.sin(B),x2:Re*Ze-Ke*Ae,y2:Re*Ae+Ke*Ze,x3:O*Ze-Le*Ae,y3:O*Ae+Le*Ze,x4:C*Math.cos(W),y4:C*Math.sin(W)}},$=function(C){return 180*C/Math.PI},se=function(C,B,W,Z,ne,ue){var ge=C+.5*(W-C),me=B+.5*(Z-B),ve=ne+.5*(W-ne),ke=ue+.5*(Z-ue),Ce=Math.min(C,ne,ge,ve),Re=Math.max(C,ne,ge,ve),Ke=Math.min(B,ue,me,ke),O=Math.max(B,ue,me,ke);return new o(Ce,Ke,Re-Ce,O-Ke)},pe=function(C,B,W,Z,ne,ue,ge,me){var ve,ke,Ce,Re,Ke,O,Le,ht,Ze,Ae,Ue,Ie,Ye,Xe,Ct=W-C,yt=Z-B,ot=ne-W,bt=ue-Z,wt=ge-ne,ze=me-ue;for(ke=0;ke<41;ke++)Ze=(Le=(Ce=C+(ve=ke/40)*Ct)+ve*((Ke=W+ve*ot)-Ce))+ve*(Ke+ve*(ne+ve*wt-Ke)-Le),Ae=(ht=(Re=B+ve*yt)+ve*((O=Z+ve*bt)-Re))+ve*(O+ve*(ue+ve*ze-O)-ht),ke==0?(Ue=Ze,Ie=Ae,Ye=Ze,Xe=Ae):(Ue=Math.min(Ue,Ze),Ie=Math.min(Ie,Ae),Ye=Math.max(Ye,Ze),Xe=Math.max(Xe,Ae));return new o(Math.round(Ue),Math.round(Ie),Math.round(Ye-Ue),Math.round(Xe-Ie))},oe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var C,B,W=(C=this.ctx.lineDash,B=this.ctx.lineDashOffset,JSON.stringify({lineDash:C,lineDashOffset:B}));this.prevLineDash!==W&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=W)}}})(Ge.API),function(t){var e=function(a){var o,l,u,h,p,v,f,_,x,A;for(l=[],u=0,h=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;h>u;u+=4)(p=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(v=(p=((p=((p=((p=(p-(A=p%85))/85)-(x=p%85))/85)-(_=p%85))/85)-(f=p%85))/85)%85,l.push(v+33,f+33,_+33,x+33,A+33)):l.push(122);return function(w,S){for(var k=S;k>0;k--)w.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(a){var o,l,u,h,p,v=String,f="length",_=255,x="charCodeAt",A="slice",w="replace";for(a[A](-2),a=a[A](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),u=[],h=0,p=(a+=o="uuuuu"[A](a[f]%5||5))[f];p>h;h+=5)l=52200625*(a[x](h)-33)+614125*(a[x](h+1)-33)+7225*(a[x](h+2)-33)+85*(a[x](h+3)-33)+(a[x](h+4)-33),u.push(_&l>>24,_&l>>16,_&l>>8,_&l);return function(S,k){for(var E=k;E>0;E--)S.pop()}(u,o[f]),v.fromCharCode.apply(v,u)},n=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",u=0;u<a.length;u+=2)l+=String.fromCharCode("0x"+(a[u]+a[u+1]));return l},s=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return(o=H0(o)).reduce(function(u,h){return u+String.fromCharCode(h)},"")};t.processDataByFilters=function(a,o){var l=0,u=a||"",h=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:u,reverseChain:h.reverse().join(" ")}}}(Ge.API),function(t){t.loadFile=function(e,r,n){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,u,h){var p=new XMLHttpRequest,v=0,f=function(_){var x=_.length,A=[],w=String.fromCharCode;for(v=0;v<x;v+=1)A.push(w(255&_.charCodeAt(v)));return A.join("")};if(p.open("GET",l,!u),p.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(p.onload=function(){p.status===200?h(f(this.responseText)):h(void 0)}),p.send(null),u&&p.status===200)return f(p.responseText)}(i,s,a)}catch{}return o}(e,r,n)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile}(Ge.API),function(t){function e(){return(it.html2canvas?Promise.resolve(it.html2canvas):up(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(it.DOMPurify?Promise.resolve(it.DOMPurify):up(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=Dt(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var u=document.createElement(o);for(var h in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[h]=l.style[h];return u},s=function o(l,u){for(var h=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),p=l.firstChild;p;p=p.nextSibling)u!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||h.appendChild(o(p,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(h.width=l.width,h.height=l.height,h.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(h.value=l.value),h.addEventListener("load",function(){h.scrollTop=l.scrollTop,h.scrollLeft=l.scrollLeft},!0)),h},a=function o(l){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),h=o.convert(Promise.resolve(),u);return(h=h.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(r).then(function(u){return this.set({src:i("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=this.opt.jsPDF,h=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=h,h)for(var f=0;f<h.length;++f){var _=h[f],x=_.src.find(function(A){return A.format==="truetype"});x&&u.addFont(x.url,_.ref.name,_.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,u.context2d.save(!0),l(this.prop.container,v)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(u){if(u in a.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var u=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(u):u})},a.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(u,h){return Math.floor(u*h/72*96)}return this.then(function(){(o=o||Ge.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,u,h){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,u,h){return this.setProgress(o?this.progress.val+o:null,l||null,u?this.progress.n+u:null,h?this.progress.stack.concat(h):null)},a.prototype.then=function(o,l){var u=this;return this.thenCore(o,l,function(h,p){return u.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(v){return u.updateProgress(null,h),v}).then(h,p).then(function(v){return u.updateProgress(1),v})})},a.prototype.thenCore=function(o,l,u){u=u||Promise.prototype.then;var h=this;o&&(o=o.bind(h)),l&&(l=l.bind(h));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:a.convert(Object.assign({},h),Promise.prototype),v=u.call(p,o,l);return a.convert(v,h.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(u){l=l.thenCore(u)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Ge.getPageSize=function(o,l,u){if(Dt(o)==="object"){var h=o;o=h.orientation,l=h.unit||l,u=h.format||u}l=l||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var p,v=(""+u).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+l}var _,x=0,A=0;if(f.hasOwnProperty(v))x=f[v][1]/p,A=f[v][0]/p;else try{x=u[1],A=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",A>x&&(_=A,A=x,x=_);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",x>A&&(_=A,A=x,x=_)}return{width:A,height:x,unit:l,k:p,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(jp):null;var u=new a(l);return l.worker?u:u.from(o).doCallback()}}(Ge.API),Ge.API.addJS=function(t){var e,r,n=t;return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+n+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&r!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=n.exec(a);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,h=[];for(s=0;s<u;s++){var p=r.internal.newObject();h.push(p);var v=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<h.length;s++)r.internal.write("(page_"+(s+1)+")"+h[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(Ge.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,s,a,o){var l,u=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(p){for(var v,f=256*p.charCodeAt(4)+p.charCodeAt(5),_=p.length,x={width:0,height:0,numcomponents:1},A=4;A<_;A+=2){if(A+=f,e.indexOf(p.charCodeAt(A+1))!==-1){v=256*p.charCodeAt(A+5)+p.charCodeAt(A+6),x={width:256*p.charCodeAt(A+7)+p.charCodeAt(A+8),height:v,numcomponents:p.charCodeAt(A+9)};break}f=256*p.charCodeAt(A+2)+p.charCodeAt(A+3)}return x}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}h={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:i}}return h}}(Ge.API),Ge.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=yN(t,{checkCrc:!0}),a=s.width,o=s.height,l=s.channels,u=s.palette,h=s.depth;i=u&&l===1?function(q){for(var D=q.width,X=q.height,T=q.data,F=q.palette,J=q.depth,K=!1,de=[],Y=[],ee=void 0,$=!1,se=0,pe=0;pe<F.length;pe++){var oe=q2(F[pe],4),C=oe[0],B=oe[1],W=oe[2],Z=oe[3];de.push(C,B,W),Z!=null&&(Z===0?(se++,Y.length<1&&Y.push(pe)):Z<255&&($=!0))}if($||se>1){K=!0,Y=void 0;var ne=D*X;ee=new Uint8Array(ne);for(var ue=new DataView(T.buffer),ge=0;ge<ne;ge++){var me=Cp(ue,ge,J),ve=q2(F[me],4)[3];ee[ge]=ve}}else se===0&&(Y=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:K?8:void 0,colorBytes:T,alphaBytes:ee,needSMask:K,palette:de,mask:Y}}(s):l===2||l===4?function(q){for(var D=q.data,X=q.width,T=q.height,F=q.channels,J=q.depth,K=F===2?"DeviceGray":"DeviceRGB",de=F-1,Y=X*T,ee=de,$=Y*ee,se=1*Y,pe=Math.ceil($*J/8),oe=Math.ceil(se*J/8),C=new Uint8Array(pe),B=new Uint8Array(oe),W=new DataView(D.buffer),Z=new DataView(C.buffer),ne=new DataView(B.buffer),ue=!1,ge=0;ge<Y;ge++){for(var me=ge*F,ve=0;ve<ee;ve++)Hv(Z,Cp(W,me+ve,J),ge*ee+ve,J);var ke=Cp(W,me+ee,J);ke<(1<<J)-1&&(ue=!0),Hv(ne,ke,1*ge,J)}return{colorSpace:K,colorsPerPixel:de,sMaskBitsPerComponent:ue?J:void 0,colorBytes:C,alphaBytes:B,needSMask:ue}}(s):function(q){var D=q.data,X=q.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:X,colorsPerPixel:X==="DeviceGray"?1:3,colorBytes:D instanceof Uint16Array?function(T){for(var F=T.length,J=new Uint8Array(2*F),K=new DataView(J.buffer,J.byteOffset,J.byteLength),de=0;de<F;de++)K.setUint16(2*de,T[de],!1);return J}(D):D,needSMask:!1}}(s);var p,v,f,_=i,x=_.colorSpace,A=_.colorsPerPixel,w=_.sMaskBitsPerComponent,S=_.colorBytes,k=_.alphaBytes,E=_.needSMask,H=_.palette,V=_.mask,G=null;return n!==Ge.API.image_compression.NONE&&typeof H0=="function"?(G=function(q){var D;switch(q){case Ge.API.image_compression.FAST:D=11;break;case Ge.API.image_compression.MEDIUM:D=13;break;case Ge.API.image_compression.SLOW:D=14;break;default:D=12}return D}(n),p=this.decode.FLATE_DECODE,v="/Predictor ".concat(G," /Colors ").concat(A," /BitsPerComponent ").concat(h," /Columns ").concat(a),t=Uv(S,Math.ceil(a*A*h/8),A,h,n),E&&(f=Uv(k,Math.ceil(a*w/8),1,w,n))):(p=void 0,v=void 0,t=S,E&&(f=k)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:r,data:t,index:e,filter:p,decodeParameters:v,transparency:V,palette:H,sMask:f,predictor:G,width:a,height:o,bitsPerComponent:h,sMaskBitsPerComponent:w,colorSpace:x}}},function(t){t.processGIF89A=function(e,r,n,i){var s=new MN(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:a,height:o},h=new Lp(100).encode(u,100);return t.processJPEG.call(this,h,r,n,i)},t.processGIF87A=t.processGIF89A}(Ge.API),pi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},pi.prototype.parseBGR=function(){this.pos=this.offset;var t="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[t]()}catch(r){qt.log("bit decode error:"+r)}},pi.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}r!==0&&(this.pos+=4-r)}},pi.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,o=s>>4,l=15&s,u=this.palette[o];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},pi.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},pi.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,h=n*this.width*4+4*i;this.data[h]=l,this.data[h+1]=o,this.data[h+2]=a,this.data[h+3]=u}this.pos+=t}},pi.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&r)/r*255|0,u=(a>>11)/e*255|0,h=i*this.width*4+4*s;this.data[h]=u,this.data[h+1]=l,this.data[h+2]=o,this.data[h+3]=255}this.pos+=t}},pi.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},pi.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=a}},pi.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var s=new pi(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new Lp(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}}(Ge.API),Gv.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var s=new Gv(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new Lp(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}}(Ge.API),Ge.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,u=0;u<i;u+=4){var h=n[u],p=n[u+1],v=n[u+2],f=n[u+3];s[o++]=h,s[o++]=p,s[o++]=v,a[l++]=f}var _=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:_,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Ge.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Lo=Ge.API,xh=Lo.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,h=u.fof?u.fof:1,p=e.doKerning!==!1,v=0,f=t.length,_=0,x=o[0]||l,A=[];for(r=0;r<f;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?A.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(v=p&&Dt(u[n])==="object"&&!isNaN(parseInt(u[n][_],10))?u[n][_]/h:0,A.push((o[n]||x)/l+v)),_=n;return A},Dv=Lo.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Lo.processArabic&&(t=Lo.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:xh.apply(this,arguments).reduce(function(s,a){return s+a},0)},Bv=function(t,e,r,n){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<r;)o+=e[s],s++;i.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>n&&(i.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},Mv=function(t,e,r){r||(r={});var n,i,s,a,o,l,u,h=[],p=[h],v=r.textIndent||0,f=0,_=0,x=t.split(" "),A=xh.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?x[0].length+2:r.lineIndent||0){var w=Array(l).join(" "),S=[];x.map(function(E){(E=E.split(/\s*\n/)).length>1?S=S.concat(E.map(function(H,V){return(V&&H.length?`
`:"")+H})):S.push(E[0])}),x=S,l=Dv.apply(this,[w,r])}for(s=0,a=x.length;s<a;s++){var k=0;if(n=x[s],l&&n[0]==`
`&&(n=n.substr(1),k=1),v+f+(_=(i=xh.apply(this,[n,r])).reduce(function(E,H){return E+H},0))>e||k){if(_>e){for(o=Bv.apply(this,[n,i,e-(v+f),e]),h.push(o.shift()),h=[o.pop()];o.length;)p.push([o.shift()]);_=i.slice(n.length-(h[0]?h[0].length:0)).reduce(function(E,H){return E+H},0)}else h=[n];p.push(h),v=_+l,f=A}else h.push(n),v+=f+_,f=A}return u=l?function(E,H){return(H?w:"")+E.join(" ")}:function(E){return E.join(" ")},p.map(u)},Lo.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var p=this.internal.getFont(h.fontName,h.fontStyle),v="Unicode";return p.metadata[v]?{widths:p.metadata[v].widths||{0:1},kerning:p.metadata[v].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var o,l,u=[];for(o=0,l=n.length;o<l;o++)u=u.concat(Mv.apply(this,[n[o],a,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},s=0;s<16;s++)n[r[s]]=e[s],i[e[s]]=r[s];var a=function(v){return"0x"+parseInt(v,10).toString(16)},o=t.__fontmetrics__.compress=function(v){var f,_,x,A,w=["{"];for(var S in v){if(f=v[S],isNaN(parseInt(S,10))?_="'"+S+"'":(S=parseInt(S,10),_=(_=a(S).slice(2)).slice(0,-1)+i[_.slice(-1)]),typeof f=="number")f<0?(x=a(f).slice(3),A="-"):(x=a(f).slice(2),A=""),x=A+x.slice(0,-1)+i[x.slice(-1)];else{if(Dt(f)!=="object")throw new Error("Don't know what to do with value type "+Dt(f)+".");x=o(f)}w.push(_+x)}return w.push("}"),w.join("")},l=t.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,_,x,A,w={},S=1,k=w,E=[],H="",V="",G=v.length-1,q=1;q<G;q+=1)(A=v[q])=="'"?f?(x=f.join(""),f=void 0):f=[]:f?f.push(A):A=="{"?(E.push([k,x]),k={},x=void 0):A=="}"?((_=E.pop())[0][_[1]]=k,x=void 0,k=_[0]):A=="-"?S=-1:x===void 0?n.hasOwnProperty(A)?(H+=n[A],x=parseInt(H,16)*S,S=1,H=""):H+=A:n.hasOwnProperty(A)?(V+=n[A],k[x]=parseInt(V,16)*S,S=1,x=void 0,V=""):V+=A;return w},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},p={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(v){var f=v.font,_=p.Unicode[f.postScriptName];_&&(f.metadata.Unicode={},f.metadata.Unicode.widths=_.widths,f.metadata.Unicode.kerning=_.kerning);var x=h.Unicode[f.postScriptName];x&&(f.metadata.Unicode.encoding=x,f.encoding=x.codePages[0])}])}(Ge.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(Fh(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])}(Ge),Ge.API.addSvgAsImage=function(t,e,r,n,i,s,a,o){if(isNaN(e)||isNaN(r))throw qt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw qt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(it.canvg?Promise.resolve(it.canvg):up(()=>import("./index.es-DPzjuBbI.js"),[])).catch(function(v){return Promise.reject(new Error("Could not load canvg: "+v))}).then(function(v){return v.default?v.default:v}).then(function(v){return v.fromString(u,t,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(h)}).then(function(){p.addImage(l.toDataURL("image/jpeg",1),e,r,n,i,a,o)})},Ge.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},Ge.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],u=0,h=0,p=0;function v(_,x){var A,w=!1;for(A=0;A<_.length;A+=1)_[A]===x&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=o.length;for(p=0;p<f;p+=1)r[o[p]].value=r[o[p]].defaultValue,r[o[p]].explicitSet=!1}if(Dt(t)==="object"){for(i in t)if(s=t[i],v(o,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&v(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(h=0;h<s[u].length;h+=1)typeof s[u][h]!="number"&&(n=!1);n===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var _,x=[];for(_ in r)r[_].explicitSet===!0&&(r[_].type==="name"?x.push("/"+_+" /"+r[_].value):x.push("/"+_+" "+r[_].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},Ge.API.addMetadata=function(t,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:t,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",zN),this.internal.events.subscribe("postPutResources",UN)),this},function(t){var e=t.API,r=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,u=["","0","00","000","0000"],h=[""],p=0,v=s.length;p<v;++p){if(o=a.metadata.characterToGlyph(s.charCodeAt(p)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(p),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return h.join("");o=o.toString(16),h.push(u[4-o.length],o)}return h.join("")},n=function(s){var a,o,l,u,h,p,v;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],p=0,v=(o=Object.keys(s).sort(function(f,_){return f-_})).length;p<v;p++)a=o[p],l.length>=100&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(u=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+u+">"));return l.length&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,h=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var p=o.metadata.Unicode.widths,v=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),f="",_=0;_<v.length;_++)f+=String.fromCharCode(v[_]);var x=u();h({data:f,addLength1:!0,objectId:x}),l("endobj");var A=u();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:A}),l("endobj");var w=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Oo(o.fontName)),l("/FontFile2 "+x+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var S=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Oo(o.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+t.API.PDFObject.convert(p)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+A+" 0 R"),l("/BaseFont /"+Oo(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+S+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,h=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var p=o.metadata.rawData,v="",f=0;f<p.length;f++)v+=String.fromCharCode(p[f]);var _=u();h({data:v,addLength1:!0,objectId:_}),l("endobj");var x=u();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var A=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+_+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Oo(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var w=0;w<o.metadata.hmtx.widths.length;w++)o.metadata.hmtx.widths[w]=parseInt(o.metadata.hmtx.widths[w]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+Oo(o.fontName)+"/FontDescriptor "+A+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,u=s.y,h=s.options||{},p=s.mutex||{},v=p.pdfEscape,f=p.activeFontKey,_=p.fonts,x=f,A="",w=0,S="",k=_[x].encoding;if(_[x].encoding!=="Identity-H")return{text:o,x:l,y:u,options:h,mutex:p};for(S=o,x=f,Array.isArray(o)&&(S=o[0]),w=0;w<S.length;w+=1)_[x].metadata.hasOwnProperty("cmap")&&(a=_[x].metadata.cmap.unicode.codeMap[S[w].charCodeAt(0)]),a||S[w].charCodeAt(0)<256&&_[x].metadata.hasOwnProperty("Unicode")?A+=S[w]:A+="";var E="";return parseInt(x.slice(1))<14||k==="WinAnsiEncoding"?E=v(A,x).split("").map(function(H){return H.charCodeAt(0).toString(16)}).join(""):k==="Identity-H"&&(E=r(A,_[x])),p.isHex=!0,{text:E,x:l,y:u,options:h,mutex:p}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?o.push([i(Object.assign({},l,{text:a[u][0]})).text,a[u][1],a[u][2]]):o.push(i(Object.assign({},l,{text:a[u]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(Ge),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Ge.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,s,a,o,l,u,h,p=e,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],_={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},A=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),S=!1,k=0;this.__bidiEngine__={};var E=function(T){var F=T.charCodeAt(),J=F>>8,K=x[J];return K!==void 0?p[256*K+(255&F)]:J===252||J===253?"AL":w.test(J)?"L":J===8?"R":"N"},H=function(T){for(var F,J=0;J<T.length;J++){if((F=E(T.charAt(J)))==="L")return!1;if(F==="R")return!0}return!1},V=function(T,F,J,K){var de,Y,ee,$,se=F[K];switch(se){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":S=!1;break;case"N":case"AN":break;case"EN":S&&(se="AN");break;case"AL":S=!0,se="R";break;case"WS":case"BN":se="N";break;case"CS":K<1||K+1>=F.length||(de=J[K-1])!=="EN"&&de!=="AN"||(Y=F[K+1])!=="EN"&&Y!=="AN"?se="N":S&&(Y="AN"),se=Y===de?Y:"N";break;case"ES":se=(de=K>0?J[K-1]:"B")==="EN"&&K+1<F.length&&F[K+1]==="EN"?"EN":"N";break;case"ET":if(K>0&&J[K-1]==="EN"){se="EN";break}if(S){se="N";break}for(ee=K+1,$=F.length;ee<$&&F[ee]==="ET";)ee++;se=ee<$&&F[ee]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for($=F.length,ee=K+1;ee<$&&F[ee]==="NSM";)ee++;if(ee<$){var pe=T[K],oe=pe>=1425&&pe<=2303||pe===64286;if(de=F[ee],oe&&(de==="R"||de==="AL")){se="R";break}}}se=K<1||(de=F[K-1])==="B"?"N":J[K-1];break;case"B":S=!1,i=!0,se=k;break;case"S":s=!0,se="N"}return se},G=function(T,F,J){var K=T.split("");return J&&q(K,J,{hiLevel:k}),K.reverse(),F&&F.reverse(),K.join("")},q=function(T,F,J){var K,de,Y,ee,$,se=-1,pe=T.length,oe=0,C=[],B=k?f:v,W=[];for(S=!1,i=!1,s=!1,de=0;de<pe;de++)W[de]=E(T[de]);for(Y=0;Y<pe;Y++){if($=oe,C[Y]=V(T,W,C,Y),K=240&(oe=B[$][_[C[Y]]]),oe&=15,F[Y]=ee=B[oe][5],K>0)if(K===16){for(de=se;de<Y;de++)F[de]=1;se=-1}else se=-1;if(B[oe][6])se===-1&&(se=Y);else if(se>-1){for(de=se;de<Y;de++)F[de]=ee;se=-1}W[Y]==="B"&&(F[Y]=0),J.hiLevel|=ee}s&&function(Z,ne,ue){for(var ge=0;ge<ue;ge++)if(Z[ge]==="S"){ne[ge]=k;for(var me=ge-1;me>=0&&Z[me]==="WS";me--)ne[me]=k}}(W,F,pe)},D=function(T,F,J,K,de){if(!(de.hiLevel<T)){if(T===1&&k===1&&!i)return F.reverse(),void(J&&J.reverse());for(var Y,ee,$,se,pe=F.length,oe=0;oe<pe;){if(K[oe]>=T){for($=oe+1;$<pe&&K[$]>=T;)$++;for(se=oe,ee=$-1;se<ee;se++,ee--)Y=F[se],F[se]=F[ee],F[ee]=Y,J&&(Y=J[se],J[se]=J[ee],J[ee]=Y);oe=$}oe++}}},X=function(T,F,J){var K=T.split(""),de={hiLevel:k};return J||(J=[]),q(K,J,de),function(Y,ee,$){if($.hiLevel!==0&&h)for(var se,pe=0;pe<Y.length;pe++)ee[pe]===1&&(se=A.indexOf(Y[pe]))>=0&&(Y[pe]=A[se+1])}(K,J,de),D(2,K,F,J,de),D(1,K,F,J,de),K.join("")};return this.__bidiEngine__.doBidiReorder=function(T,F,J){if(function(de,Y){if(Y)for(var ee=0;ee<de.length;ee++)Y[ee]=ee;o===void 0&&(o=H(de)),u===void 0&&(u=H(de))}(T,F),a||!l||u)if(a&&l&&o^u)k=o?1:0,T=G(T,F,J);else if(!a&&l&&u)k=o?1:0,T=X(T,F,J),T=G(T,F);else if(!a||o||l||u){if(a&&!l&&o^u)T=G(T,F),o?(k=0,T=X(T,F,J)):(k=1,T=X(T,F,J),T=G(T,F));else if(a&&o&&!l&&u)k=1,T=X(T,F,J),T=G(T,F);else if(!a&&!l&&o^u){var K=h;o?(k=1,T=X(T,F,J),k=0,h=!1,T=X(T,F,J),h=K):(k=0,T=X(T,F,J),T=G(T,F),k=1,h=!1,T=X(T,F,J),h=K,T=G(T,F))}}else k=0,T=X(T,F,J);else k=o?1:0,T=X(T,F,J);return T},this.__bidiEngine__.setOptions=function(T){T&&(a=T.isInputVisual,l=T.isOutputVisual,o=T.isInputRtl,u=T.isOutputRtl,h=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([r.doBidiReorder(i[o])]);n.text=a}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(Ge),Ge.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new ha(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new r7(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new qN(this.contents),this.head=new WN(this),this.name=new JN(this),this.cmap=new Ob(this),this.toUnicode={},this.hhea=new HN(this),this.maxp=new YN(this),this.hmtx=new XN(this),this.post=new GN(this),this.os2=new VN(this),this.loca=new t7(this),this.glyf=new QN(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,u;for(u=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return a*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var Ni,ha=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,s,a,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)r=e[n],s.push(this.writeByte(r));return s},t}(),qN=function(){var t;function e(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,s,a,o,l,u,h,p,v,f,_,x;for(x in f=Object.keys(r).length,l=Math.log(2),p=16*Math.floor(Math.log(f)/l),a=Math.floor(p/l),h=16*f-p,(i=new ha).writeInt(this.scalarType),i.writeShort(f),i.writeShort(p),i.writeShort(a),i.writeShort(h),s=16*f,u=i.pos+s,o=null,_=[],r)for(v=r[x],i.writeString(x),i.writeInt(t(v)),i.writeInt(u),i.writeInt(v.length),_=_.concat(v),x==="head"&&(o=u),u+=v.length;u%4;)_.push(0),u++;return i.write(_),n=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(n),i.data},t=function(r){var n,i,s,a;for(r=Fb.call(r);r.length%4;)r.push(0);for(s=new ha(r),i=0,n=0,a=r.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},e}(),$N={}.hasOwnProperty,Hi=function(t,e){for(var r in e)$N.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Ni=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var WN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Hi(t,Ni),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new ha).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),Kv=function(){function t(e,r){var n,i,s,a,o,l,u,h,p,v,f,_,x,A,w,S,k;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),v=f/2,e.pos+=6,s=function(){var E,H;for(H=[],l=E=0;0<=v?E<v:E>v;l=0<=v?++E:--E)H.push(e.readUInt16());return H}(),e.pos+=2,x=function(){var E,H;for(H=[],l=E=0;0<=v?E<v:E>v;l=0<=v?++E:--E)H.push(e.readUInt16());return H}(),u=function(){var E,H;for(H=[],l=E=0;0<=v?E<v:E>v;l=0<=v?++E:--E)H.push(e.readUInt16());return H}(),h=function(){var E,H;for(H=[],l=E=0;0<=v?E<v:E>v;l=0<=v?++E:--E)H.push(e.readUInt16());return H}(),i=(this.length-e.pos+this.offset)/2,o=function(){var E,H;for(H=[],l=E=0;0<=i?E<i:E>i;l=0<=i?++E:--E)H.push(e.readUInt16());return H}(),l=w=0,k=s.length;w<k;l=++w)for(A=s[l],n=S=_=x[l];_<=A?S<=A:S>=A;n=_<=A?++S:--S)h[l]===0?a=n+u[l]:(a=o[h[l]/2+(n-_)-(v-l)]||0)!==0&&(a+=u[l]),this.codeMap[n]=65535&a}e.pos=p}return t.encode=function(e,r){var n,i,s,a,o,l,u,h,p,v,f,_,x,A,w,S,k,E,H,V,G,q,D,X,T,F,J,K,de,Y,ee,$,se,pe,oe,C,B,W,Z,ne,ue,ge,me,ve,ke,Ce;switch(K=new ha,a=Object.keys(e).sort(function(Re,Ke){return Re-Ke}),r){case"macroman":for(x=0,A=function(){var Re=[];for(_=0;_<256;++_)Re.push(0);return Re}(),S={0:0},s={},de=0,se=a.length;de<se;de++)S[me=e[i=a[de]]]==null&&(S[me]=++x),s[i]={old:e[i],new:S[e[i]]},A[i]=S[e[i]];return K.writeUInt16(1),K.writeUInt16(0),K.writeUInt32(12),K.writeUInt16(0),K.writeUInt16(262),K.writeUInt16(0),K.write(A),{charMap:s,subtable:K.data,maxGlyphID:x+1};case"unicode":for(F=[],p=[],k=0,S={},n={},w=u=null,Y=0,pe=a.length;Y<pe;Y++)S[H=e[i=a[Y]]]==null&&(S[H]=++k),n[i]={old:H,new:S[H]},o=S[H]-i,w!=null&&o===u||(w&&p.push(w),F.push(i),u=o),w=i;for(w&&p.push(w),p.push(65535),F.push(65535),X=2*(D=F.length),q=2*Math.pow(Math.log(D)/Math.LN2,2),v=Math.log(q/2)/Math.LN2,G=2*D-q,l=[],V=[],f=[],_=ee=0,oe=F.length;ee<oe;_=++ee){if(T=F[_],h=p[_],T===65535){l.push(0),V.push(0);break}if(T-(J=n[T].new)>=32768)for(l.push(0),V.push(2*(f.length+D-_)),i=$=T;T<=h?$<=h:$>=h;i=T<=h?++$:--$)f.push(n[i].new);else l.push(J-T),V.push(0)}for(K.writeUInt16(3),K.writeUInt16(1),K.writeUInt32(12),K.writeUInt16(4),K.writeUInt16(16+8*D+2*f.length),K.writeUInt16(0),K.writeUInt16(X),K.writeUInt16(q),K.writeUInt16(v),K.writeUInt16(G),ue=0,C=p.length;ue<C;ue++)i=p[ue],K.writeUInt16(i);for(K.writeUInt16(0),ge=0,B=F.length;ge<B;ge++)i=F[ge],K.writeUInt16(i);for(ve=0,W=l.length;ve<W;ve++)o=l[ve],K.writeUInt16(o);for(ke=0,Z=V.length;ke<Z;ke++)E=V[ke],K.writeUInt16(E);for(Ce=0,ne=f.length;Ce<ne;Ce++)x=f[Ce],K.writeUInt16(x);return{charMap:n,subtable:K.data,maxGlyphID:k+1}}},t}(),Ob=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Hi(t,Ni),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new Kv(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=Kv.encode(e,r),(i=new ha).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t}(),HN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Hi(t,Ni),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),VN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Hi(t,Ni),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),GN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Hi(t,Ni),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var a,o,l;for(l=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)l.push(e.readUInt32());return l}).call(this)}},t}(),KN=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},JN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Hi(t,Ni),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,s,a,o,l,u,h,p,v;for(e.pos=this.offset,e.readShort(),r=e.readShort(),o=e.readShort(),n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},s=h=0,p=n.length;h<p;s=++h)i=n[s],e.pos=i.offset,u=e.readString(i.length),a=new KN(u,i),l[v=i.nameID]==null&&(l[v]=[]),l[i.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),YN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Hi(t,Ni),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),XN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Hi(t,Ni),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,s,a,o,l;for(e.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,h;for(h=[],r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u)h.push(e.readInt16());return h}(),this.widths=(function(){var u,h,p,v;for(v=[],u=0,h=(p=this.metrics).length;u<h;u++)s=p[u],v.push(s.advance);return v}).call(this),n=this.widths[this.widths.length-1],l=[],r=a=0;0<=i?a<i:a>i;r=0<=i?++a:--a)l.push(this.widths.push(n));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),Fb=[].slice,QN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Hi(t,Ni),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,s,a,o,l,u,h,p;return e in this.cache?this.cache[e]:(s=this.file.loca,r=this.file.contents,n=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,a=(o=new ha(r.read(i))).readShort(),u=o.readShort(),p=o.readShort(),l=o.readShort(),h=o.readShort(),this.cache[e]=a===-1?new e7(o,u,p,l,h):new ZN(o,a,u,p,l,h),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,s,a,o,l;for(a=[],s=[],o=0,l=r.length;o<l;o++)i=e[r[o]],s.push(a.length),i&&(a=a.concat(i.encode(n)));return s.push(a.length),{table:a,offsets:s}},t}(),ZN=function(){function t(e,r,n,i,s,a){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),e7=function(){function t(e,r,n,i,s){var a,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new ha(Fb.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),t7=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Hi(t,Ni),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<n.length;++a)if(n[a]=i,s<r.length&&r[s]==a){++s,n[a]=i;var o=this.offsets[a],l=this.offsets[a+1]-o;l>0&&(i+=l)}for(var u=new Array(4*n.length),h=0;h<n.length;++h)u[4*h+3]=255&n[h],u[4*h+2]=(65280&n[h])>>8,u[4*h+1]=(16711680&n[h])>>16,u[4*h]=(4278190080&n[h])>>24;return u},t}(),r7=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in l=this.glyphsFor(r))n=l[s],i[s]=n;return i},t.prototype.encode=function(e,r){var n,i,s,a,o,l,u,h,p,v,f,_,x,A,w;for(i in n=Ob.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),f={0:0},w=n.charMap)f[(l=w[i]).old]=l.new;for(_ in v=n.maxGlyphID,a)_ in f||(f[_]=v++);return h=function(S){var k,E;for(k in E={},S)E[S[k]]=k;return E}(f),p=Object.keys(h).sort(function(S,k){return S-k}),x=function(){var S,k,E;for(E=[],S=0,k=p.length;S<k;S++)o=p[S],E.push(h[o]);return E}(),s=this.font.glyf.encode(a,x,f),u=this.font.loca.encode(s.offsets,x),A={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(A["OS/2"]=this.font.os2.raw()),this.font.directory.encode(A)},t}();Ge.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,s,a;if(Array.isArray(r))return"["+function(){var o,l,u;for(u=[],o=0,l=r.length;o<l;o++)n=r[o],u.push(e.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)a=r[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+r},e}();function Db(t,e,r,n,i){n=n||{};var s=1.15,a=i.internal.scaleFactor,o=i.internal.getFontSize()/a,l=i.getLineHeightFactor?i.getLineHeightFactor():s,u=o*l,h=/\r\n|\r|\n/g,p="",v=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(p=typeof t=="string"?t.split(h):t,v=p.length||1),r+=o*(2-s),n.valign==="middle"?r-=v/2*u:n.valign==="bottom"&&(r-=v*u),n.halign==="center"||n.halign==="right"){var f=o;if(n.halign==="center"&&(f*=.5),p&&v>=1){for(var _=0;_<p.length;_++)i.text(p[_],e-i.getStringUnitWidth(p[_])*f,r),r+=u;return i}e-=i.getStringUnitWidth(t)*f}return n.halign==="justify"?i.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(t,e,r),i}var Jv={},ol=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:Jv=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,i,s;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var a=this.jsPDFDocument.internal.getFont(),o=a.fontStyle,l=a.fontName;if(e.font&&(l=e.font),e.fontStyle){o=e.fontStyle;var u=this.getFontList()[l];u&&u.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),o=u[0])}if(this.jsPDFDocument.setFont(l,o),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var h=t.unifyColor(e.fillColor);h&&(n=this.jsPDFDocument).setFillColor.apply(n,h),h=t.unifyColor(e.textColor),h&&(i=this.jsPDFDocument).setTextColor.apply(i,h),h=t.unifyColor(e.lineColor),h&&(s=this.jsPDFDocument).setDrawColor.apply(s,h),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,i,s){return this.jsPDFDocument.rect(e,r,n,i,s)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return Jv||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),Z0=function(t,e){return Z0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Z0(t,e)};function Bb(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Z0(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Mb=function(t){Bb(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e}(Array);function n7(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function i7(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function _d(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],i=n.map(function(s){return r.getTextWidth(s)}).reduce(function(s,a){return Math.max(s,a)},0);return i}function Ub(t,e,r,n){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:s});var a=zb(i,!1);a&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,a)}function zb(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function Kd(t,e){var r,n,i,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(s=t.bottom)!==null&&s!==void 0?s:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function qb(t,e){var r=Kd(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function s7(t,e,r,n,i){var s={},a=1.3333333333333333,o=Pp(e,function(k){return i.getComputedStyle(k).backgroundColor});o!=null&&(s.fillColor=o);var l=Pp(e,function(k){return i.getComputedStyle(k).color});l!=null&&(s.textColor=l);var u=o7(n,r);u&&(s.cellPadding=u);var h="borderTopColor",p=a*r,v=n.borderTopWidth;if(n.borderBottomWidth===v&&n.borderRightWidth===v&&n.borderLeftWidth===v){var f=(parseFloat(v)||0)/p;f&&(s.lineWidth=f)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/p,right:(parseFloat(n.borderRightWidth)||0)/p,bottom:(parseFloat(n.borderBottomWidth)||0)/p,left:(parseFloat(n.borderLeftWidth)||0)/p},s.lineWidth.top||(s.lineWidth.right?h="borderRightColor":s.lineWidth.bottom?h="borderBottomColor":s.lineWidth.left&&(h="borderLeftColor"));var _=Pp(e,function(k){return i.getComputedStyle(k)[h]});_!=null&&(s.lineColor=_);var x=["left","right","center","justify"];x.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),x=["middle","bottom","top"],x.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var A=parseInt(n.fontSize||"");isNaN(A)||(s.fontSize=A/a);var w=a7(n);w&&(s.fontStyle=w);var S=(n.fontFamily||"").toLowerCase();return t.indexOf(S)!==-1&&(s.font=S),s}function a7(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function Pp(t,e){var r=$b(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function $b(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:$b(t.parentElement,e):r}function o7(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=r.map(function(o){return parseInt(o||"0")/n}),a=Kd(s,0);return i>a.top&&(a.top=i),i>a.bottom&&(a.bottom=i),a}function Wb(t,e,r,n,i){var s,a;n===void 0&&(n=!1),i===void 0&&(i=!1);var o;typeof e=="string"?o=r.document.querySelector(e):o=e;var l=Object.keys(t.getFontList()),u=t.scaleFactor(),h=[],p=[],v=[];if(!o)return console.error("Html table could not be found with input: ",e),{head:h,body:p,foot:v};for(var f=0;f<o.rows.length;f++){var _=o.rows[f],x=(a=(s=_==null?void 0:_.parentElement)===null||s===void 0?void 0:s.tagName)===null||a===void 0?void 0:a.toLowerCase(),A=l7(l,u,r,_,n,i);A&&(x==="thead"?h.push(A):x==="tfoot"?v.push(A):p.push(A))}return{head:h,body:p,foot:v}}function l7(t,e,r,n,i,s){for(var a=new Mb(n),o=0;o<n.cells.length;o++){var l=n.cells[o],u=r.getComputedStyle(l);if(i||u.display!=="none"){var h=void 0;s&&(h=s7(t,l,e,u,r)),a.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:h,_element:l,content:u7(l)})}}var p=r.getComputedStyle(n);if(a.length>0&&(i||p.display!=="none"))return a}function u7(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function c7(t,e,r){for(var n=0,i=[t,e,r];n<i.length;n++){var s=i[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function gs(t,e,r,n,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),a=1;a<arguments.length;a++){var o=arguments[a];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])}return s}function h7(t,e){var r=new ol(t),n=r.getDocumentOptions(),i=r.getGlobalOptions();c7(i,n,e);var s=gs({},i,n,e),a;typeof window<"u"&&(a=window);var o=d7(i,n,e),l=f7(i,n,e),u=p7(r,s),h=m7(r,s,a);return{id:e.tableId,content:h,hooks:l,styles:o,settings:u}}function d7(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var u=t[l],h=e[l],p=r[l];n.columnStyles=gs({},u,h,p)}else{var v=[t,e,r],f=v.map(function(_){return _[l]||{}});n[l]=gs({},f[0],f[1],f[2])}},s=0,a=Object.keys(n);s<a.length;s++){var o=a[s];i(o)}return n}function f7(t,e,r){for(var n=[t,e,r],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,a=n;s<a.length;s++){var o=a[s];o.didParseCell&&i.didParseCell.push(o.didParseCell),o.willDrawCell&&i.willDrawCell.push(o.willDrawCell),o.didDrawCell&&i.didDrawCell.push(o.didDrawCell),o.willDrawPage&&i.willDrawPage.push(o.willDrawPage),o.didDrawPage&&i.didDrawPage.push(o.didDrawPage)}return i}function p7(t,e){var r,n,i,s,a,o,l,u,h,p,v,f,_=Kd(e.margin,40/t.scaleFactor()),x=(r=g7(t,e.startY))!==null&&r!==void 0?r:_.top,A;e.showFoot===!0?A="everyPage":e.showFoot===!1?A="never":A=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var w;e.showHead===!0?w="everyPage":e.showHead===!1?w="never":w=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var S=(s=e.useCss)!==null&&s!==void 0?s:!1,k=e.theme||(S?"plain":"striped"),E=!!e.horizontalPageBreak,H=(a=e.horizontalPageBreakRepeat)!==null&&a!==void 0?a:null;return{includeHiddenHtml:(o=e.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:S,theme:k,startY:x,margin:_,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(h=e.tableWidth)!==null&&h!==void 0?h:"auto",showHead:w,showFoot:A,tableLineWidth:(p=e.tableLineWidth)!==null&&p!==void 0?p:0,tableLineColor:(v=e.tableLineColor)!==null&&v!==void 0?v:200,horizontalPageBreak:E,horizontalPageBreakRepeat:H,horizontalPageBreakBehaviour:(f=e.horizontalPageBreakBehaviour)!==null&&f!==void 0?f:"afterAllRows"}}function g7(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),i=t.pageNumber(),s=!1;if(r&&r.startPageNumber){var a=r.startPageNumber+r.pageNumber-1;s=a===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function m7(t,e,r){var n=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var a=e.includeHiddenHtml;if(r){var o=Wb(t,e.html,r,a,e.useCss)||{};n=o.head||n,i=o.body||n,s=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=e.columns||v7(n,i,s);return{columns:l,head:n,body:i,foot:s}}function v7(t,e,r){var n=t[0]||e[0]||r[0]||[],i=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var a=1,o;Array.isArray(n)?o=n[parseInt(s)]:o=n[s],typeof o=="object"&&!Array.isArray(o)&&(a=(o==null?void 0:o.colSpan)||1);for(var l=0;l<a;l++){var u=void 0;Array.isArray(n)?u=i.length:u=s+(l>0?"_".concat(l):"");var h={dataKey:u};i.push(h)}}),i}var e1=function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t}(),y7=function(t){Bb(e,t);function e(r,n,i,s,a,o){var l=t.call(this,r,n,o)||this;return l.cell=i,l.row=s,l.column=a,l.section=s.section,l}return e}(e1),w7=function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,i,s,a){for(var o=0,l=r;o<l.length;o++){var u=l[o],h=new y7(e,this,n,i,s,a),p=u(h)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],p)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var s=i[n];s(new e1(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var s=i[n];s(new e1(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t}(),Hb=function(){function t(e,r,n,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof Mb&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=i,this.spansMultiplePages=s}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,i){var s;return Math.max(n,((s=r.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var i=r.cells[n.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(i,s){var a=n.cells[s.index];if(!a)return 0;var o=r.getLineHeight(a.styles.fontSize),l=a.padding("vertical"),u=l+o;return u>i?u:i},0)},t}(),Vb=function(){function t(e,r,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var a=s!=null?""+s:"",o=/\r\n|\r|\n/g;this.text=a.split(o)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*r,s=n*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=Kd(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t}(),b7=function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,i=e.allRows();n<i.length;n++){var s=i[n],a=s.cells[this.index];a&&typeof a.styles.cellWidth=="number"&&(r=Math.max(r,a.styles.cellWidth))}return r},t}();function x7(t,e){_7(t,e);var r=[],n=0;e.columns.forEach(function(s){var a=s.getMaxCustomCellWidth(e);a?s.width=a:(s.width=s.wrappedWidth,r.push(s)),n+=s.width});var i=e.getWidth(t.pageSize().width)-n;i&&(i=t1(r,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=t1(r,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.log("Of the table content, ".concat(i," units width could not fit page"))),k7(e),A7(e,t),S7(e)}function _7(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,i=qb(t,e);e.allRows().forEach(function(s){for(var a=0,o=e.columns;a<o.length;a++){var l=o[a],u=s.cells[l.index];if(u){var h=e.hooks.didParseCell;e.callCellHooks(t,h,u,s,l,null);var p=u.padding("horizontal");u.contentWidth=_d(u.text,u.styles,t)+p;var v=_d(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=v+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var f=10/r;u.minWidth=u.styles.minCellWidth||f,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(s){for(var a=0,o=e.columns;a<o.length;a++){var l=o[a],u=s.cells[l.index];if(u&&u.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,u.wrappedWidth),l.minWidth=Math.max(l.minWidth,u.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,u.minReadableWidth);else{var h=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},p=h.cellWidth||h.minCellWidth;p&&typeof p=="number"&&(l.minWidth=p,l.wrappedWidth=p)}u&&(u.colSpan>1&&!l.minWidth&&(l.minWidth=u.minWidth),u.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=u.minWidth))}})}function t1(t,e,r){for(var n=e,i=t.reduce(function(f,_){return f+_.wrappedWidth},0),s=0;s<t.length;s++){var a=t[s],o=a.wrappedWidth/i,l=n*o,u=a.width+l,h=r(a),p=u<h?h:u;e-=p-a.width,a.width=p}if(e=Math.round(e*1e10)/1e10,e){var v=t.filter(function(f){return e<0?f.width>r(f):!0});v.length&&(e=t1(v,e,r))}return e}function S7(t){for(var e={},r=1,n=t.allRows(),i=0;i<n.length;i++)for(var s=n[i],a=0,o=t.columns;a<o.length;a++){var l=o[a],u=e[l.index];if(r>1)r--,delete s.cells[l.index];else if(u)u.cell.height+=s.height,r=u.cell.colSpan,delete s.cells[l.index],u.left--,u.left<=1&&delete e[l.index];else{var h=s.cells[l.index];if(!h)continue;if(h.height=s.height,h.rowSpan>1){var p=n.length-i,v=h.rowSpan>p?p:h.rowSpan;e[l.index]={cell:h,left:v,row:s}}}}}function k7(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],i=null,s=0,a=0,o=0;o<t.columns.length;o++){var l=t.columns[o];if(a-=1,a>1&&t.columns[o+1])s+=l.width,delete n.cells[l.index];else if(i){var u=i;delete n.cells[l.index],i=null,u.width=l.width+s}else{var u=n.cells[l.index];if(!u)continue;if(a=u.colSpan,s=0,u.colSpan>1){i=u,s+=l.width;continue}u.width=l.width+s}}}function A7(t,e){for(var r={count:0,height:0},n=0,i=t.allRows();n<i.length;n++){for(var s=i[n],a=0,o=t.columns;a<o.length;a++){var l=o[a],u=s.cells[l.index];if(u){e.applyStyles(u.styles,!0);var h=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,h+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=Yv(u.text,h,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=Yv(u.text,h,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var p=u.styles.overflow(u.text,h);typeof p=="string"?u.text=[p]:u.text=p}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var v=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<v*u.rowSpan?r={height:v,count:u.rowSpan}:r&&r.count>0&&r.height>v&&(v=r.height),v>s.height&&(s.height=v)}}r.count--}}function Yv(t,e,r,n,i){return t.map(function(s){return N7(s,e,r,n,i)})}function N7(t,e,r,n,i){var s=1e4*n.scaleFactor();if(e=Math.ceil(e*s)/s,e>=_d(t,r,n))return t;for(;e<_d(t+i,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function j7(t,e){var r=new ol(t),n=E7(e,r.scaleFactor()),i=new w7(e,n);return x7(r,i),r.applyStyles(r.userStyles),i}function E7(t,e){var r=t.content,n=L7(r.columns);if(r.head.length===0){var i=Xv(n,"head");i&&r.head.push(i)}if(r.foot.length===0){var i=Xv(n,"foot");i&&r.foot.push(i)}var s=t.settings.theme,a=t.styles;return{columns:n,head:Tp("head",r.head,n,a,s,e),body:Tp("body",r.body,n,a,s,e),foot:Tp("foot",r.foot,n,a,s,e)}}function Tp(t,e,r,n,i,s){var a={},o=e.map(function(l,u){for(var h=0,p={},v=0,f=0,_=0,x=r;_<x.length;_++){var A=x[_];if(a[A.index]==null||a[A.index].left===0)if(f===0){var w=void 0;Array.isArray(l)?w=l[A.index-v-h]:w=l[A.dataKey];var S={};typeof w=="object"&&!Array.isArray(w)&&(S=(w==null?void 0:w.styles)||{});var k=P7(t,A,u,i,n,s,S),E=new Vb(w,k,t);p[A.dataKey]=E,p[A.index]=E,f=E.colSpan-1,a[A.index]={left:E.rowSpan-1,times:f}}else f--,v++;else a[A.index].left--,f=a[A.index].times,h++}return new Hb(l,u,t,p)});return o}function Xv(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var i=C7(e,n.raw);i!=null&&(r[n.dataKey]=i)}}),Object.keys(r).length>0?r:null}function C7(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function L7(t){return t.map(function(e,r){var n,i;return typeof e=="object"?i=(n=e.dataKey)!==null&&n!==void 0?n:r:i=r,new b7(i,e,r)})}function P7(t,e,r,n,i,s,a){var o=i7(n),l;t==="head"?l=i.headStyles:t==="body"?l=i.bodyStyles:t==="foot"&&(l=i.footStyles);var u=gs({},o.table,o[t],i.styles,l),h=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},p=t==="body"?h:{},v=t==="body"&&r%2===0?gs({},o.alternateRow,i.alternateRowStyles):{},f=n7(s),_=gs({},f,u,v,p);return gs(_,a)}function T7(t,e,r){var n;r===void 0&&(r={});var i=qb(t,e),s=new Map,a=[],o=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(v){var f=e.columns.find(function(_){return _.dataKey===v||_.index===v});f&&!s.has(f.index)&&(s.set(f.index,!0),a.push(f.index),o.push(e.columns[f.index]),i-=f.wrappedWidth)});for(var u=!0,h=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;h<e.columns.length;){if(s.has(h)){h++;continue}var p=e.columns[h].wrappedWidth;if(u||i>=p)u=!1,a.push(h),o.push(e.columns[h]),i-=p;else break;h++}return{colIndexes:a,columns:o,lastIndex:h-1}}function R7(t,e){for(var r=[],n=0;n<e.columns.length;n++){var i=T7(t,e,{start:n});i.columns.length&&(r.push(i),n=i.lastIndex)}return r}function I7(t,e){var r=e.settings,n=r.startY,i=r.margin,s={x:i.left,y:n},a=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),o=n+i.bottom+a;if(r.pageBreak==="avoid"){var l=e.body,u=l.reduce(function(v,f){return v+f.height},0);o+=u}var h=new ol(t);(r.pageBreak==="always"||r.startY!=null&&o>h.pageSize().height)&&(Kb(h),s.y=i.top),e.callWillDrawPageHooks(h,s);var p=gs({},s);e.startPageNumber=h.pageNumber(),r.horizontalPageBreak?O7(h,e,p,s):(h.applyStyles(h.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(v){return xs(h,e,v,s,e.columns)}),h.applyStyles(h.userStyles),e.body.forEach(function(v,f){var _=f===e.body.length-1;Sd(h,e,v,_,p,s,e.columns)}),h.applyStyles(h.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(v){return xs(h,e,v,s,e.columns)})),Ub(h,e,p,s),e.callEndPageHooks(h,s),e.finalY=s.y,t.lastAutoTable=e,h.applyStyles(h.userStyles)}function O7(t,e,r,n){var i=R7(t,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,h){t.applyStyles(t.userStyles),h>0?ku(t,e,r,n,u.columns,!0):Qv(t,e,n,u.columns),F7(t,e,r,n,u.columns),Rp(t,e,n,u.columns)});else for(var a=-1,o=i[0],l=function(){var u=a;if(o){t.applyStyles(t.userStyles);var h=o.columns;a>=0?ku(t,e,r,n,h,!0):Qv(t,e,n,h),u=Zv(t,e,a+1,n,h),Rp(t,e,n,h)}var p=u-a;i.slice(1).forEach(function(v){t.applyStyles(t.userStyles),ku(t,e,r,n,v.columns,!0),Zv(t,e,a+1,n,v.columns,p),Rp(t,e,n,v.columns)}),a=u};a<e.body.length-1;)l()}function Qv(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return xs(t,e,s,r,n)})}function F7(t,e,r,n,i){t.applyStyles(t.userStyles),e.body.forEach(function(s,a){var o=a===e.body.length-1;Sd(t,e,s,o,r,n,i)})}function Zv(t,e,r,n,i,s){t.applyStyles(t.userStyles),s=s??e.body.length;var a=Math.min(r+s,e.body.length),o=-1;return e.body.slice(r,a).forEach(function(l,u){var h=r+u===e.body.length-1,p=Gb(t,e,h,n);l.canEntireRowFit(p,i)&&(xs(t,e,l,n,i),o=r+u)}),o}function Rp(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return xs(t,e,s,r,n)})}function D7(t,e,r){var n=r.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),s=Math.floor((e-i)/n);return Math.max(0,s)}function B7(t,e,r,n){var i={};t.spansMultiplePages=!0,t.height=0;for(var s=0,a=0,o=r.columns;a<o.length;a++){var l=o[a],u=t.cells[l.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var h=new Vb(u.raw,u.styles,u.section);h=gs(h,u),h.text=[];var p=D7(u,e,n);u.text.length>p&&(h.text=u.text.splice(p,u.text.length));var v=n.scaleFactor(),f=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(v,f),u.contentHeight>=e&&(u.contentHeight=e,h.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),h.contentHeight=h.getContentHeight(v,f),h.contentHeight>s&&(s=h.contentHeight),i[l.index]=h}}var _=new Hb(t.raw,-1,t.section,i,!0);_.height=s;for(var x=0,A=r.columns;x<A.length;x++){var l=A[x],h=_.cells[l.index];h&&(h.height=_.height);var u=t.cells[l.index];u&&(u.height=t.height)}return _}function M7(t,e,r,n){var i=t.pageSize().height,s=n.settings.margin,a=s.top+s.bottom,o=i-a;e.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=e.getMinimumRowHeight(n.columns,t),u=l<r;if(l>o)return console.log("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var h=e.hasRowSpan(n.columns),p=e.getMaxCellHeight(n.columns)>o;return p?(h&&console.log("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(h||n.settings.rowPageBreak==="avoid")}function Sd(t,e,r,n,i,s,a){var o=Gb(t,e,n,s);if(r.canEntireRowFit(o,a))xs(t,e,r,s,a);else if(M7(t,r,o,e)){var l=B7(r,o,e,t);xs(t,e,r,s,a),ku(t,e,i,s,a),Sd(t,e,l,n,i,s,a)}else ku(t,e,i,s,a),Sd(t,e,r,n,i,s,a)}function xs(t,e,r,n,i){n.x=e.settings.margin.left;for(var s=0,a=i;s<a.length;s++){var o=a[s],l=r.cells[o.index];if(!l){n.x+=o.width;continue}t.applyStyles(l.styles),l.x=n.x,l.y=n.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,l,r,o,n);if(u===!1){n.x+=o.width;continue}U7(t,l,n);var h=l.getTextPos();Db(l.text,h.x,h.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,r,o,n),n.x+=o.width}n.y+=r.height}function U7(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=zb(n.lineWidth,n.fillColor);i&&t.rect(e.x,r.y,e.width,e.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),z7(t,e,r,n.lineWidth))}function z7(t,e,r,n){var i,s,a,o;n.top&&(i=r.x,s=r.y,a=r.x+e.width,o=r.y,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),l(n.top,i,s,a,o)),n.bottom&&(i=r.x,s=r.y+e.height,a=r.x+e.width,o=r.y+e.height,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),l(n.bottom,i,s,a,o)),n.left&&(i=r.x,s=r.y,a=r.x,o=r.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,i,s,a,o)),n.right&&(i=r.x+e.width,s=r.y,a=r.x+e.width,o=r.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,i,s,a,o));function l(u,h,p,v,f){t.getDocument().setLineWidth(u),t.getDocument().line(h,p,v,f,"S")}}function Gb(t,e,r,n){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&r)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-i}function ku(t,e,r,n,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(o){return xs(t,e,o,n,i)}),e.callEndPageHooks(t,n);var a=e.settings.margin;Ub(t,e,r,n),Kb(t),e.pageNumber++,n.x=a.left,n.y=a.top,r.y=a.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(o){return xs(t,e,o,n,i)}),t.applyStyles(t.userStyles))}function Kb(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function q7(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],i=h7(this,n),s=j7(this,i);return I7(this,s),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,i){Db(e,r,n,i,this)},t.API.autoTableSetDefaults=function(e){return ol.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){ol.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new ol(this),s=Wb(i,e,window,r,!1),a=s.head,o=s.body,l=((n=a[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:l,rows:o,data:o}}}var Ip;try{if(typeof window<"u"&&window){var e5=window,t5=e5.jsPDF||((Ip=e5.jspdf)===null||Ip===void 0?void 0:Ip.jsPDF);t5&&q7(t5)}}catch(t){console.error("Could not apply autoTable plugin",t)}const $7=t=>{const e=new Ge;e.setFontSize(20),e.setTextColor(0,156,59),e.text("Brasil Mais Distribuidora",105,20,{align:"center"}),e.setFontSize(16),e.setTextColor(0,0,0),e.text("Relatrio de Estoque",105,30,{align:"center"}),e.setFontSize(10),e.setTextColor(100);const r=new Date().toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"});e.text(`Gerado em: ${r}`,105,38,{align:"center"});const n=t.length,i=t.reduce((u,h)=>u+h.stock,0),s=t.reduce((u,h)=>u+h.price*h.stock,0),a=t.filter(u=>u.stock<100).length;e.setFontSize(11),e.setTextColor(0),e.text(`Total de Produtos: ${n}`,20,50),e.text(`Estoque Total: ${i} unidades`,20,57),e.text(`Valor Total: R$ ${s.toFixed(2)}`,20,64),e.text(`Produtos em Estoque Crtico: ${a}`,20,71);const o=t.map(u=>[u.name,u.dosage,rg(u.type),u.stock,`R$ ${u.price.toFixed(2)}`,`R$ ${(u.price*u.stock).toFixed(2)}`,u.stock>=500?"Alto":u.stock>=100?"Normal":"Baixo"]);e.autoTable({head:[["Produto","Dosagem","Categoria","Qtd","Preo Un.","Valor Total","Status"]],body:o,startY:80,styles:{fontSize:9,cellPadding:3},headStyles:{fillColor:[0,156,59],textColor:255,fontStyle:"bold"},columnStyles:{3:{halign:"center"},4:{halign:"right"},5:{halign:"right"},6:{halign:"center"}},didParseCell:function(u){if(u.section==="body"&&u.column.index===6){const h=u.cell.raw;h==="Baixo"?(u.cell.styles.textColor=[220,38,38],u.cell.styles.fontStyle="bold"):h==="Alto"&&(u.cell.styles.textColor=[16,185,129])}}});const l=e.internal.getNumberOfPages();e.setFontSize(8),e.setTextColor(150);for(let u=1;u<=l;u++)e.setPage(u),e.text(`Pgina ${u} de ${l}`,e.internal.pageSize.getWidth()/2,e.internal.pageSize.getHeight()-10,{align:"center"});return e},W7=t=>{const e=t.filter(s=>s.stock<100),r=new Ge;r.setFontSize(20),r.setTextColor(220,38,38),r.text("Brasil Mais Distribuidora",105,20,{align:"center"}),r.setFontSize(16),r.setTextColor(0,0,0),r.text("Relatrio de Estoque Crtico",105,30,{align:"center"}),r.setFontSize(10),r.setTextColor(100);const n=new Date().toLocaleDateString("pt-BR");r.text(`Gerado em: ${n}`,105,38,{align:"center"}),r.setFontSize(12),r.setTextColor(220,38,38),r.text(` ${e.length} produtos precisam de reposio urgente`,20,50);const i=e.map(s=>[s.name,s.dosage,s.stock,`R$ ${s.price.toFixed(2)}`,s.stock<50?"CRTICO":"BAIXO"]);return r.autoTable({head:[["Produto","Dosagem","Qtd Atual","Preo","Prioridade"]],body:i,startY:60,headStyles:{fillColor:[220,38,38],textColor:255},didParseCell:function(s){s.section==="body"&&s.column.index===4&&s.cell.raw==="CRTICO"&&(s.cell.styles.fillColor=[254,226,226],s.cell.styles.textColor=[153,27,27],s.cell.styles.fontStyle="bold")}}),r},H7=()=>{console.log(" Renderizando AdminDashboard");const[t,e]=fe.useState(null),[r,n]=fe.useState(!0),[i,s]=fe.useState([]),[a,o]=fe.useState("stock"),[l,u]=fe.useState([]),[h,p]=fe.useState(!1),[v,f]=fe.useState(""),[_,x]=fe.useState(""),[A,w]=fe.useState(""),[S,k]=fe.useState(""),[E,H]=fe.useState(""),[V,G]=fe.useState(!1),[q,D]=fe.useState(100),[X,T]=fe.useState(30),F=()=>({name:"",dosage:"",type:"",stock:"",price:"",wholesale_price:"",description:"",image_url:"",expiration_date:"",requires_prescription:!1}),[J,K]=fe.useState(!1),[de,Y]=fe.useState(!1),[ee,$]=fe.useState(""),[se,pe]=fe.useState(null),[oe,C]=fe.useState(F()),[B,W]=fe.useState(null),[Z,ne]=fe.useState(""),ue=fe.useRef(null),ge="medicine-images",me=5*1024*1024,ve={width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",fontSize:"0.95rem"},ke={display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"};fe.useEffect(()=>{pt.auth.getSession().then(({data:{session:Ee}})=>{e(Ee),n(!1)});const{data:{subscription:te}}=pt.auth.onAuthStateChange((Ee,Te)=>{e(Te)});return()=>te.unsubscribe()},[]),fe.useEffect(()=>{t&&Ce()},[t]),fe.useEffect(()=>{t&&a==="customers"&&Re()},[t,a]);const Ce=async()=>{try{const{data:te,error:Ee}=await pt.from("medicines").select("*").order("name");if(Ee)throw Ee;s(te||[])}catch(te){console.error("Erro ao buscar medicamentos:",te)}},Re=async()=>{f(""),p(!0);try{const{data:te,error:Ee}=await pt.from("customers").select("id, name, email, cpf_cnpj, phone1, municipio, estado, created_at").order("created_at",{ascending:!1});if(Ee)throw Ee;u(te||[])}catch(te){console.error("Erro ao buscar clientes:",te);const Ee=te.message||"Erro ao buscar clientes.";Ee.toLowerCase().includes("permission")?f("Sem permissao para listar clientes. Verifique se o email esta cadastrado na tabela admins e se as politicas foram aplicadas."):f(Ee)}finally{p(!1)}},Ke=te=>{te&&te.startsWith("blob:")&&URL.revokeObjectURL(te)},O=()=>{ue.current&&(ue.current.value="")},Le=(te="")=>{Ke(Z),O(),W(null),ne(te||"")},ht=()=>{pe(null),$(""),C(F()),Le(""),K(!0)},Ze=te=>{pe(te),$(""),C({name:te.name||"",dosage:te.dosage||"",type:te.type||"",stock:te.stock??"",price:te.price??"",wholesale_price:te.wholesale_price??"",description:te.description||"",image_url:te.image_url||"",expiration_date:te.expiration_date||"",requires_prescription:!!te.requires_prescription}),Le(te.image_url||""),K(!0)},Ae=()=>{K(!1),pe(null),$(""),Le("")},Ue=(te,Ee)=>{C(Te=>({...Te,[te]:Ee}))},Ie=te=>{$("");const Ee=te.target.files&&te.target.files[0];if(!Ee){Le((se==null?void 0:se.image_url)||oe.image_url||"");return}if(!Ee.type.startsWith("image/")){$("Selecione um arquivo de imagem valido."),te.target.value="";return}if(Ee.size>me){$("Imagem muito grande. Maximo 5MB."),te.target.value="";return}Ke(Z);const Te=URL.createObjectURL(Ee);W(Ee),ne(Te)},Ye=te=>Number(String(te).replace(",",".")),Xe=async te=>{var Or;if(te.preventDefault(),$(""),!oe.name.trim()||!oe.dosage.trim()||!oe.type.trim()){$("Preencha nome, dosagem e tipo.");return}if(oe.price===""||oe.wholesale_price===""||oe.stock===""){$("Preco, preco atacado e estoque sao obrigatorios.");return}const Ee=Ye(oe.price),Te=Ye(oe.wholesale_price),De=Ye(oe.stock);if(!Number.isFinite(Ee)||Ee<0){$("Preco invalido.");return}if(!Number.isFinite(Te)||Te<0){$("Preco atacado invalido.");return}if(!Number.isFinite(De)||De<0){$("Estoque invalido.");return}let St=oe.image_url.trim()?oe.image_url.trim():null;Y(!0);try{if(B){const ln=B.name.includes(".")?B.name.split(".").pop():"jpg",tt=`${Date.now()}-${Math.random().toString(36).slice(2)}`,Wn=`${((Or=t==null?void 0:t.user)==null?void 0:Or.id)||"public"}/${tt}.${ln}`,{error:un}=await pt.storage.from(ge).upload(Wn,B,{cacheControl:"3600",upsert:!0,contentType:B.type});if(un)throw un;const{data:Ur}=pt.storage.from(ge).getPublicUrl(Wn);if(!(Ur!=null&&Ur.publicUrl))throw new Error("Nao foi possivel obter a URL da imagem.");St=Ur.publicUrl}const Lt={name:oe.name.trim(),dosage:oe.dosage.trim(),type:oe.type.trim(),stock:Math.trunc(De),price:Ee,wholesale_price:Te,description:oe.description.trim()?oe.description.trim():null,image_url:St,expiration_date:oe.expiration_date?oe.expiration_date:null,requires_prescription:!!oe.requires_prescription};let Ar;if(se?{error:Ar}=await pt.from("medicines").update(Lt).eq("id",se.id):{error:Ar}=await pt.from("medicines").insert([Lt]),Ar)throw Ar;await Ce(),Ae()}catch(Lt){console.error("Erro ao salvar medicamento:",Lt);let Ar=Lt.message||"Erro ao salvar medicamento.";const ln=Ar.toLowerCase();(ln.includes("bucket")||ln.includes("storage"))&&(Ar=`${Ar} Verifique o bucket ${ge} e as politicas no Supabase.`),$(Ar)}finally{Y(!1)}},Ct=async te=>{te.preventDefault(),H(""),G(!0);try{const{data:Ee,error:Te}=await pt.auth.signInWithPassword({email:A,password:S});if(Te)throw Te}catch(Ee){console.error("Erro no login:",Ee),H(Ee.message||"Erro ao fazer login. Verifique suas credenciais.")}finally{G(!1)}},yt=async()=>{try{await pt.auth.signOut()}catch(te){console.error("Erro ao fazer logout:",te)}},ot=()=>{$7(i).save(`Estoque_BrasilMais_${new Date().toLocaleDateString("pt-BR").replace(/\//g,"-")}.pdf`)},bt=()=>{W7(i).save(`Estoque_Critico_${new Date().toLocaleDateString("pt-BR").replace(/\//g,"-")}.pdf`)},wt=()=>{window.print()},ze=te=>{if(!te)return"-";const Ee=new Date(`${te}T00:00:00`);return Number.isNaN(Ee.getTime())?te:Ee.toLocaleDateString("pt-BR")},st=te=>{if(!te)return null;const Ee=new Date(`${te}T00:00:00`);if(Number.isNaN(Ee.getTime()))return null;const Te=new Date;Te.setHours(0,0,0,0);const De=Ee.getTime()-Te.getTime();return Math.ceil(De/(1e3*60*60*24))},qe=async(te,Ee)=>{const Te=Math.max(0,(te.stock??0)+Ee);try{const{error:De}=await pt.from("medicines").update({stock:Te}).eq("id",te.id);if(De)throw De;await Ce()}catch(De){console.error("Erro ao ajustar estoque:",De),alert(De.message||"Erro ao ajustar estoque.")}},Zt=async te=>{if(window.confirm(`Remover o produto "${te.name}"? Essa ao no pode ser desfeita.`))try{const{error:Te}=await pt.from("medicines").delete().eq("id",te.id);if(Te)throw Te;await Ce()}catch(Te){console.error("Erro ao remover produto:",Te),alert(Te.message||"Erro ao remover produto.")}},_t=async(te,Ee=10)=>{try{const{error:Te}=await pt.from("medicines").update({promo_percent:Ee}).eq("id",te.id);if(Te)throw Te;await Ce()}catch(Te){console.error("Erro ao aplicar promoo:",Te),alert(Te.message||"Erro ao aplicar promoo.")}},dt=async te=>{try{const{error:Ee}=await pt.from("medicines").update({promo_percent:0}).eq("id",te.id);if(Ee)throw Ee;await Ce()}catch(Ee){console.error("Erro ao remover promoo:",Ee),alert(Ee.message||"Erro ao remover promoo.")}},Pt=(()=>{const te=i.length,Ee=i.reduce((Or,Lt)=>Or+Lt.stock,0),Te=i.reduce((Or,Lt)=>Or+Lt.price*Lt.stock,0),De=i.filter(Or=>Or.stock<q).length,St=i.filter(Or=>{const Lt=st(Or.expiration_date);return Lt!==null&&Lt>=0&&Lt<=X}).length;return{totalProducts:te,totalStock:Ee,totalValue:Te,criticalStock:De,expiringSoon:St}})(),Qe=i.map(te=>{const Ee=st(te.expiration_date);return{...te,daysUntil:Ee}}).filter(te=>te.daysUntil!==null&&te.daysUntil>=0&&te.daysUntil<=X).sort((te,Ee)=>(te.daysUntil??0)-(Ee.daysUntil??0)),Rt=i.filter(te=>te.stock<q),et=l.filter(te=>{const Ee=_.trim().toLowerCase();return Ee?[te.name,te.email,te.cpf_cnpj,te.phone1,te.municipio,te.estado].filter(Boolean).some(Te=>Te.toString().toLowerCase().includes(Ee)):!0});return r?m.jsx("div",{style:{display:"flex",minHeight:"calc(100vh - 80px)",alignItems:"center",justifyContent:"center"},children:m.jsx(la,{size:48,color:"var(--color-primary)",style:{animation:"spin 1s linear infinite"}})}):t?m.jsxs("div",{className:"container",style:{display:"flex",gap:"2rem",marginTop:"2rem",flexWrap:"wrap"},children:[m.jsxs("aside",{className:"glass-card fade-in",style:{width:"250px",padding:"1.5rem",height:"fit-content"},children:[m.jsxs("div",{style:{marginBottom:"2rem"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--color-primary)",fontWeight:"bold",marginBottom:"0.5rem"},children:[m.jsx(u2,{size:24}),m.jsx("span",{children:"Painel Admin"})]}),m.jsx("p",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)"},children:t.user.email})]}),m.jsxs("nav",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[m.jsxs("button",{className:`btn ${a==="stock"?"btn-primary":"btn-outline"}`,style:{justifyContent:"flex-start",width:"100%"},onClick:()=>o("stock"),children:[m.jsx(c2,{size:18})," Estoque"]}),m.jsxs("button",{className:`btn ${a==="customers"?"btn-primary":"btn-outline"}`,style:{justifyContent:"flex-start",width:"100%"},onClick:()=>o("customers"),children:[m.jsx(jS,{size:18})," Clientes"]}),m.jsxs("button",{className:`btn ${a==="settings"?"btn-primary":"btn-outline"}`,style:{justifyContent:"flex-start",width:"100%"},onClick:()=>o("settings"),children:[m.jsx(wS,{size:18})," Configuraes"]})]}),m.jsx("div",{style:{marginTop:"4rem",paddingTop:"1rem",borderTop:"1px solid var(--color-border)"},children:m.jsxs("button",{onClick:yt,className:"btn btn-outline",style:{width:"100%",color:"#dc2626",borderColor:"#dc2626"},children:[m.jsx(Ew,{size:18})," Sair"]})})]}),m.jsxs("main",{style:{flex:1,minWidth:"300px"},className:"slide-in",children:[a==="stock"&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[m.jsxs("div",{className:"glass-card",style:{padding:"1.5rem"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.75rem"},children:[m.jsx("span",{style:{fontSize:"0.875rem",color:"var(--color-text-muted)"},children:"Total de Produtos"}),m.jsx(c2,{size:20,color:"var(--color-primary)"})]}),m.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",color:"var(--color-primary)"},children:Pt.totalProducts})]}),m.jsxs("div",{className:"glass-card",style:{padding:"1.5rem"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.75rem"},children:[m.jsx("span",{style:{fontSize:"0.875rem",color:"var(--color-text-muted)"},children:"Unidades em Estoque"}),m.jsx(kS,{size:20,color:"#3b82f6"})]}),m.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#3b82f6"},children:Pt.totalStock.toLocaleString()})]}),m.jsxs("div",{className:"glass-card",style:{padding:"1.5rem"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.75rem"},children:[m.jsx("span",{style:{fontSize:"0.875rem",color:"var(--color-text-muted)"},children:"Valor Total"}),m.jsx(pS,{size:20,color:"#10b981"})]}),m.jsxs("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#10b981"},children:["R$ ",Pt.totalValue.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),m.jsxs("div",{className:"glass-card",style:{padding:"1.5rem"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.75rem"},children:[m.jsx("span",{style:{fontSize:"0.875rem",color:"var(--color-text-muted)"},children:"Estoque Crtico"}),m.jsx(tp,{size:20,color:"#ef4444"})]}),m.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#ef4444"},children:Pt.criticalStock})]}),m.jsxs("div",{className:"glass-card",style:{padding:"1.5rem"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.75rem"},children:[m.jsxs("span",{style:{fontSize:"0.875rem",color:"var(--color-text-muted)"},children:["Vencendo em ",X," dias"]}),m.jsx(tp,{size:20,color:"#f59e0b"})]}),m.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#f59e0b"},children:Pt.expiringSoon})]})]}),m.jsx("div",{className:"glass-card",style:{padding:"2rem",marginBottom:"2rem"},children:m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[m.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"700"},children:"Relatrios"}),m.jsxs("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap"},children:[m.jsxs("button",{onClick:ot,className:"btn btn-outline",style:{fontSize:"0.9rem"},children:[m.jsx(gS,{size:18})," Baixar Relatrio Completo"]}),m.jsxs("button",{onClick:bt,className:"btn btn-outline",style:{fontSize:"0.9rem"},children:[m.jsx(tp,{size:18})," Produtos Crticos"]}),m.jsxs("button",{onClick:wt,className:"btn btn-outline",style:{fontSize:"0.9rem"},children:[m.jsx(yS,{size:18})," Imprimir"]})]})]})}),m.jsxs("div",{className:"glass-card",style:{padding:"2rem",marginBottom:"2rem"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem",gap:"1rem",flexWrap:"wrap"},children:[m.jsxs("div",{children:[m.jsxs("h3",{style:{fontSize:"1.1rem",fontWeight:"700"},children:["Prximos do vencimento (",X," dias)"]}),m.jsxs("p",{style:{color:"var(--color-text-muted)",fontSize:"0.85rem"},children:["Produtos que vencem em at ",X," dias."]})]}),m.jsx("button",{type:"button",className:"btn btn-outline",onClick:Ce,children:"Atualizar lista"})]}),Qe.length===0?m.jsx("p",{style:{color:"var(--color-text-muted)"},children:"Nenhum produto vencendo em breve."}):m.jsx("div",{style:{display:"grid",gap:"0.75rem"},children:Qe.map(te=>m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem 1rem",border:"1px solid var(--color-border)",borderRadius:"0.75rem",gap:"1rem",flexWrap:"wrap"},children:[m.jsxs("div",{children:[m.jsx("strong",{children:te.name}),m.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--color-text-muted)"},children:["Vence em ",te.daysUntil," dias - ",ze(te.expiration_date)]})]}),m.jsx("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center",flexWrap:"wrap"},children:(te.promo_percent??0)>0?m.jsxs(m.Fragment,{children:[m.jsxs("span",{className:"badge badge-success",children:["Promoo ",te.promo_percent,"%"]}),m.jsx("button",{type:"button",className:"btn btn-outline",onClick:()=>dt(te),children:"Remover promo"})]}):m.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>_t(te,10),children:"Aplicar -10%"})})]},te.id))})]}),m.jsxs("div",{className:"glass-card",style:{padding:"2rem",marginBottom:"2rem"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem",gap:"1rem",flexWrap:"wrap"},children:[m.jsxs("div",{children:[m.jsxs("h3",{style:{fontSize:"1.1rem",fontWeight:"700"},children:["Estoque baixo (abaixo de ",q,")"]}),m.jsx("p",{style:{color:"var(--color-text-muted)",fontSize:"0.85rem"},children:"Produtos que precisam de reposio."})]}),m.jsx("button",{type:"button",className:"btn btn-outline",onClick:Ce,children:"Atualizar lista"})]}),Rt.length===0?m.jsx("p",{style:{color:"var(--color-text-muted)"},children:"Nenhum produto com estoque baixo."}):m.jsx("div",{style:{display:"grid",gap:"0.75rem"},children:Rt.map(te=>m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem 1rem",border:"1px solid var(--color-border)",borderRadius:"0.75rem",gap:"1rem",flexWrap:"wrap"},children:[m.jsxs("div",{children:[m.jsx("strong",{children:te.name}),m.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--color-text-muted)"},children:["Estoque atual: ",te.stock]})]}),m.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center",flexWrap:"wrap"},children:[m.jsx("button",{type:"button",className:"btn btn-outline",onClick:()=>qe(te,10),children:"+10"}),m.jsx("button",{type:"button",className:"btn btn-outline",onClick:()=>qe(te,50),children:"+50"}),m.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>Ze(te),children:"Editar"})]})]},te.id))})]}),m.jsxs("div",{className:"glass-card",style:{padding:"2rem"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",gap:"1rem",flexWrap:"wrap"},children:[m.jsx("h2",{children:"Gesto de Estoque"}),m.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"center",flexWrap:"wrap"},children:[m.jsx("button",{type:"button",onClick:ht,className:"btn btn-primary",style:{fontSize:"0.9rem"},children:"Adicionar Produto"}),m.jsxs("span",{className:"badge badge-info",children:[i.length," produtos"]})]})]}),m.jsx("div",{style:{overflowX:"auto"},children:m.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",textAlign:"left"},children:[m.jsx("thead",{children:m.jsxs("tr",{style:{borderBottom:"2px solid var(--color-border)"},children:[m.jsx("th",{style:{padding:"1rem"},children:"Produto"}),m.jsx("th",{style:{padding:"1rem"},children:"Tipo"}),m.jsx("th",{style:{padding:"1rem"},children:"Qtd."}),m.jsx("th",{style:{padding:"1rem"},children:"Validade"}),m.jsx("th",{style:{padding:"1rem"},children:"Status"}),m.jsx("th",{style:{padding:"1rem"},children:"Promoo"}),m.jsx("th",{style:{padding:"1rem"},children:"Aes"})]})}),m.jsx("tbody",{children:i.map(te=>{const Ee=Number(te.promo_percent||0),Te=st(te.expiration_date);return m.jsxs("tr",{style:{borderBottom:"1px solid var(--color-border)"},children:[m.jsxs("td",{style:{padding:"1rem",fontWeight:"500"},children:[te.name," ",m.jsxs("span",{style:{fontSize:"0.8rem",color:"gray"},children:["(",te.dosage,")"]})]}),m.jsx("td",{style:{padding:"1rem"},children:rg(te.type)}),m.jsx("td",{style:{padding:"1rem"},children:te.stock}),m.jsx("td",{style:{padding:"1rem"},children:te.expiration_date?m.jsxs("div",{children:[m.jsx("div",{children:ze(te.expiration_date)}),Te!==null&&m.jsx("div",{style:{fontSize:"0.75rem",color:Te<=X?"#f59e0b":"var(--color-text-muted)"},children:Te<0?`Vencido h ${Math.abs(Te)} dias`:`Faltam ${Te} dias`})]}):"-"}),m.jsx("td",{style:{padding:"1rem"},children:m.jsx("span",{className:`badge ${te.stock>=500?"badge-success":te.stock>=q?"badge-info":"badge-warning"}`,children:te.stock>=500?"Alto":te.stock>=q?"Normal":"Baixo"})}),m.jsx("td",{style:{padding:"1rem"},children:Ee>0?m.jsxs("span",{className:"badge badge-success",children:[Ee,"%"]}):m.jsx("span",{className:"badge badge-info",children:"-"})}),m.jsx("td",{style:{padding:"1rem"},children:m.jsxs("div",{style:{display:"flex",gap:"0.4rem",flexWrap:"wrap"},children:[m.jsx("button",{type:"button",onClick:()=>Ze(te),className:"btn btn-outline",style:{padding:"0.25rem 0.5rem",fontSize:"0.8rem"},children:"Editar"}),m.jsx("button",{type:"button",onClick:()=>qe(te,10),className:"btn btn-outline",style:{padding:"0.25rem 0.5rem",fontSize:"0.8rem"},children:"+10"}),m.jsx("button",{type:"button",onClick:()=>qe(te,-10),className:"btn btn-outline",style:{padding:"0.25rem 0.5rem",fontSize:"0.8rem"},children:"-10"}),Ee>0?m.jsx("button",{type:"button",onClick:()=>dt(te),className:"btn btn-outline",style:{padding:"0.25rem 0.5rem",fontSize:"0.8rem"},children:"Remover Promo"}):m.jsx("button",{type:"button",onClick:()=>_t(te,10),className:"btn btn-primary",style:{padding:"0.25rem 0.5rem",fontSize:"0.8rem"},children:"Promo -10%"}),m.jsx("button",{type:"button",onClick:()=>Zt(te),className:"btn btn-outline",style:{padding:"0.25rem 0.5rem",fontSize:"0.8rem",color:"#dc2626",borderColor:"#dc2626"},children:"Remover"})]})})]},te.id)})})]})})]})]}),a==="customers"&&m.jsxs("div",{className:"glass-card",style:{padding:"2rem"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",gap:"1rem",flexWrap:"wrap"},children:[m.jsxs("div",{children:[m.jsx("h2",{children:"Clientes Cadastrados"}),m.jsxs("p",{style:{color:"var(--color-text-muted)",fontSize:"0.9rem"},children:[l.length," clientes registrados."]})]}),m.jsxs("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap",alignItems:"center"},children:[m.jsx("input",{type:"text",value:_,onChange:te=>x(te.target.value),placeholder:"Buscar por nome, email, CPF...",style:{padding:"0.65rem 0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",minWidth:"220px"}}),m.jsx("button",{type:"button",className:"btn btn-outline",onClick:Re,children:"Atualizar"})]})]}),v&&m.jsx("div",{style:{padding:"0.75rem 1rem",background:"#fee2e2",color:"#991b1b",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.9rem"},children:v}),h?m.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"2rem"},children:m.jsx(la,{size:32,color:"var(--color-primary)",style:{animation:"spin 1s linear infinite"}})}):m.jsx("div",{style:{overflowX:"auto"},children:m.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",textAlign:"left"},children:[m.jsx("thead",{children:m.jsxs("tr",{style:{borderBottom:"2px solid var(--color-border)"},children:[m.jsx("th",{style:{padding:"0.85rem"},children:"Nome"}),m.jsx("th",{style:{padding:"0.85rem"},children:"Email"}),m.jsx("th",{style:{padding:"0.85rem"},children:"CPF/CNPJ"}),m.jsx("th",{style:{padding:"0.85rem"},children:"Telefone"}),m.jsx("th",{style:{padding:"0.85rem"},children:"Cidade/UF"}),m.jsx("th",{style:{padding:"0.85rem"},children:"Cadastro"})]})}),m.jsxs("tbody",{children:[et.map(te=>m.jsxs("tr",{style:{borderBottom:"1px solid var(--color-border)"},children:[m.jsx("td",{style:{padding:"0.85rem",fontWeight:"600"},children:te.name}),m.jsx("td",{style:{padding:"0.85rem"},children:te.email}),m.jsx("td",{style:{padding:"0.85rem"},children:te.cpf_cnpj}),m.jsx("td",{style:{padding:"0.85rem"},children:te.phone1}),m.jsxs("td",{style:{padding:"0.85rem"},children:[te.municipio,"/",te.estado]}),m.jsx("td",{style:{padding:"0.85rem"},children:te.created_at?new Date(te.created_at).toLocaleDateString("pt-BR"):"-"})]},te.id)),!et.length&&m.jsx("tr",{children:m.jsx("td",{colSpan:"6",style:{padding:"1rem",textAlign:"center",color:"var(--color-text-muted)"},children:"Nenhum cliente encontrado."})})]})]})})]}),a==="settings"&&m.jsxs("div",{className:"glass-card",style:{padding:"2rem"},children:[m.jsx("h2",{style:{marginBottom:"1rem"},children:"Configuraes de Estoque"}),m.jsx("p",{style:{color:"var(--color-text-muted)",marginBottom:"1.5rem"},children:"Ajuste parmetros usados para alertas e validaes internas."}),m.jsxs("div",{style:{display:"grid",gap:"1rem",maxWidth:"420px"},children:[m.jsxs("div",{children:[m.jsx("label",{style:ke,children:"Limite de estoque baixo"}),m.jsx("input",{type:"number",min:"1",value:q,onChange:te=>D(Number(te.target.value)||0),style:ve})]}),m.jsxs("div",{children:[m.jsx("label",{style:ke,children:"Dias para alerta de vencimento"}),m.jsx("input",{type:"number",min:"1",value:X,onChange:te=>T(Number(te.target.value)||0),style:ve})]}),m.jsx("div",{style:{fontSize:"0.85rem",color:"var(--color-text-muted)"},children:"Esses valores afetam as listas de estoque baixo e produtos prximos ao vencimento."})]})]})]}),J&&m.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(15, 23, 42, 0.45)",display:"flex",alignItems:"center",justifyContent:"center",padding:"1.5rem",zIndex:50},children:m.jsxs("div",{className:"glass-card",style:{width:"100%",maxWidth:"760px",padding:"2rem"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"1rem",marginBottom:"1rem"},children:[m.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"700"},children:se?"Editar Produto":"Adicionar Produto"}),m.jsx("button",{type:"button",onClick:Ae,className:"btn btn-outline",style:{padding:"0.5rem 0.75rem"},children:"Fechar"})]}),ee&&m.jsx("div",{style:{padding:"0.75rem 1rem",background:"#fee2e2",color:"#991b1b",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.9rem"},children:ee}),m.jsxs("form",{onSubmit:Xe,style:{display:"grid",gap:"1rem"},children:[m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[m.jsxs("div",{children:[m.jsx("label",{style:ke,children:"Nome"}),m.jsx("input",{type:"text",value:oe.name,onChange:te=>Ue("name",te.target.value),style:ve,required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{style:ke,children:"Dosagem"}),m.jsx("input",{type:"text",value:oe.dosage,onChange:te=>Ue("dosage",te.target.value),style:ve,required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{style:ke,children:"Tipo"}),m.jsx("input",{type:"text",value:oe.type,onChange:te=>Ue("type",te.target.value),style:ve,required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{style:ke,children:"Estoque"}),m.jsx("input",{type:"number",min:"0",step:"1",value:oe.stock,onChange:te=>Ue("stock",te.target.value),style:ve,required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{style:ke,children:"Preco"}),m.jsx("input",{type:"number",min:"0",step:"0.01",value:oe.price,onChange:te=>Ue("price",te.target.value),style:ve,required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{style:ke,children:"Preco Atacado"}),m.jsx("input",{type:"number",min:"0",step:"0.01",value:oe.wholesale_price,onChange:te=>Ue("wholesale_price",te.target.value),style:ve,required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{style:ke,children:"Validade"}),m.jsx("input",{type:"date",value:oe.expiration_date||"",onChange:te=>Ue("expiration_date",te.target.value),style:ve})]}),m.jsxs("div",{children:[m.jsx("label",{style:ke,children:"Imagem local"}),m.jsx("input",{ref:ue,type:"file",accept:"image/*",onChange:Ie,style:ve}),m.jsx("div",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)",marginTop:"0.35rem"},children:"JPG/PNG ate 5MB. Se selecionar arquivo, ele substitui a URL."})]}),m.jsxs("div",{children:[m.jsx("label",{style:ke,children:"URL da Imagem (opcional)"}),m.jsx("input",{type:"url",value:oe.image_url,onChange:te=>{Ue("image_url",te.target.value),B||ne(te.target.value)},style:ve,placeholder:"https://"})]})]}),Z&&m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",flexWrap:"wrap"},children:[m.jsx("img",{src:Z,alt:"Preview da imagem",style:{width:"120px",height:"120px",objectFit:"cover",borderRadius:"0.75rem",border:"1px solid var(--color-border)"}}),B&&m.jsx("button",{type:"button",className:"btn btn-outline",onClick:()=>Le(oe.image_url||""),children:"Remover imagem local"})]}),m.jsxs("div",{children:[m.jsx("label",{style:ke,children:"Descricao"}),m.jsx("textarea",{value:oe.description,onChange:te=>Ue("description",te.target.value),style:{...ve,minHeight:"90px",resize:"vertical"}})]}),m.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem"},children:[m.jsx("input",{type:"checkbox",checked:oe.requires_prescription,onChange:te=>Ue("requires_prescription",te.target.checked)}),"Requer receita"]}),m.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.75rem",flexWrap:"wrap"},children:[m.jsx("button",{type:"button",className:"btn btn-outline",onClick:Ae,children:"Cancelar"}),m.jsx("button",{type:"submit",className:"btn btn-primary",disabled:de,children:de?"Salvando...":se?"Salvar":"Adicionar"})]})]})]})})]}):m.jsx("div",{style:{display:"flex",minHeight:"calc(100vh - 80px)",alignItems:"center",justifyContent:"center"},children:m.jsxs("div",{className:"glass-card fade-in",style:{padding:"2.5rem",width:"100%",maxWidth:"420px"},children:[m.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[m.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #009c3b, #007a2d)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(0, 156, 59, 0.3)"},children:m.jsx(u2,{size:40,color:"white"})}),m.jsx("h2",{style:{fontSize:"1.75rem",color:"var(--color-primary)",marginBottom:"0.5rem"},children:"rea Administrativa"}),m.jsx("p",{style:{color:"var(--color-text-muted)"},children:"Brasil Mais Distribuidora"})]}),E&&m.jsx("div",{style:{padding:"1rem",background:"#fee2e2",color:"#991b1b",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.9rem"},children:E}),m.jsxs("form",{onSubmit:Ct,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Email"}),m.jsx("input",{type:"email",value:A,onChange:te=>w(te.target.value),required:!0,style:{width:"100%",padding:"0.875rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",fontSize:"1rem"},placeholder:"seu@email.com"})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Senha"}),m.jsx("input",{type:"password",value:S,onChange:te=>k(te.target.value),required:!0,style:{width:"100%",padding:"0.875rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",fontSize:"1rem"},placeholder:""})]}),m.jsx("button",{type:"submit",className:"btn btn-primary",disabled:V,style:{marginTop:"1rem",padding:"1rem",fontSize:"1rem"},children:V?m.jsxs(m.Fragment,{children:[m.jsx(la,{size:20,style:{animation:"spin 1s linear infinite"}}),"Entrando..."]}):"Entrar"})]}),m.jsx("div",{style:{marginTop:"1.5rem",textAlign:"center"},children:m.jsx(pr,{to:"/admin/forgot-password",style:{color:"var(--color-primary)",fontSize:"0.9rem",textDecoration:"underline"},children:"Esqueci minha senha"})})]})})},V7=()=>{const[t,e]=fe.useState(""),[r,n]=fe.useState(!1),[i,s]=fe.useState(!1),[a,o]=fe.useState(""),l=async u=>{u.preventDefault(),n(!0),o("");try{const{error:h}=await pt.auth.resetPasswordForEmail(t,{redirectTo:`${window.location.origin}/Antigravit_testes/admin/reset-password`});if(h)throw h;s(!0)}catch(h){console.error("Erro ao enviar email:",h),o(h.message||"Erro ao enviar email de recuperao.")}finally{n(!1)}};return i?m.jsx("div",{style:{display:"flex",minHeight:"calc(100vh - 80px)",alignItems:"center",justifyContent:"center"},children:m.jsxs("div",{className:"glass-card fade-in",style:{padding:"2.5rem",width:"100%",maxWidth:"420px",textAlign:"center"},children:[m.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #10b981, #059669)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(16, 185, 129, 0.3)"},children:m.jsx(sc,{size:40,color:"white"})}),m.jsx("h2",{style:{fontSize:"1.75rem",color:"var(--color-primary)",marginBottom:"0.75rem"},children:"Email Enviado!"}),m.jsxs("p",{style:{color:"var(--color-text-muted)",marginBottom:"2rem",lineHeight:"1.6"},children:["Verifique sua caixa de entrada em ",m.jsx("strong",{children:t})," e siga as instrues para redefinir sua senha."]}),m.jsx(pr,{to:"/admin",className:"btn btn-primary",style:{width:"100%"},children:"Voltar ao Login"})]})}):m.jsx("div",{style:{display:"flex",minHeight:"calc(100vh - 80px)",alignItems:"center",justifyContent:"center"},children:m.jsxs("div",{className:"glass-card fade-in",style:{padding:"2.5rem",width:"100%",maxWidth:"420px"},children:[m.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[m.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #3b82f6, #2563eb)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(59, 130, 246, 0.3)"},children:m.jsx(fd,{size:40,color:"white"})}),m.jsx("h2",{style:{fontSize:"1.75rem",color:"var(--color-primary)",marginBottom:"0.5rem"},children:"Esqueceu a Senha?"}),m.jsx("p",{style:{color:"var(--color-text-muted)"},children:"Enviaremos instrues para redefinir sua senha"})]}),a&&m.jsx("div",{style:{padding:"1rem",background:"#fee2e2",color:"#991b1b",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.9rem"},children:a}),m.jsxs("form",{onSubmit:l,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Email"}),m.jsx("input",{type:"email",value:t,onChange:u=>e(u.target.value),required:!0,style:{width:"100%",padding:"0.875rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",fontSize:"1rem"},placeholder:"seu@email.com"})]}),m.jsx("button",{type:"submit",className:"btn btn-primary",disabled:r,style:{marginTop:"1rem",padding:"1rem",fontSize:"1rem"},children:r?m.jsxs(m.Fragment,{children:[m.jsx(la,{size:20,style:{animation:"spin 1s linear infinite"}}),"Enviando..."]}):m.jsxs(m.Fragment,{children:[m.jsx(fd,{size:20}),"Enviar Link de Recuperao"]})})]}),m.jsx("div",{style:{marginTop:"1.5rem",textAlign:"center"},children:m.jsxs(pr,{to:"/admin",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",color:"var(--color-primary)",fontSize:"0.9rem"},children:[m.jsx(Nw,{size:16}),"Voltar ao Login"]})})]})})},G7=()=>{const t=Z1(),[e,r]=fe.useState(""),[n,i]=fe.useState(""),[s,a]=fe.useState(!1),[o,l]=fe.useState(!1),[u,h]=fe.useState(""),p=async v=>{if(v.preventDefault(),h(""),e!==n){h("As senhas no coincidem.");return}if(e.length<6){h("A senha deve ter pelo menos 6 caracteres.");return}a(!0);try{const{error:f}=await pt.auth.updateUser({password:e});if(f)throw f;l(!0),setTimeout(()=>{t("/admin")},2e3)}catch(f){console.error("Erro ao redefinir senha:",f),h(f.message||"Erro ao redefinir senha.")}finally{a(!1)}};return o?m.jsx("div",{style:{display:"flex",minHeight:"calc(100vh - 80px)",alignItems:"center",justifyContent:"center"},children:m.jsxs("div",{className:"glass-card fade-in",style:{padding:"2.5rem",width:"100%",maxWidth:"420px",textAlign:"center"},children:[m.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #10b981, #059669)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(16, 185, 129, 0.3)"},children:m.jsx(sc,{size:40,color:"white"})}),m.jsx("h2",{style:{fontSize:"1.75rem",color:"var(--color-primary)",marginBottom:"0.75rem"},children:"Senha Atualizada!"}),m.jsx("p",{style:{color:"var(--color-text-muted)",lineHeight:"1.6"},children:"Sua senha foi redefinida com sucesso. Redirecionando para o login..."})]})}):m.jsx("div",{style:{display:"flex",minHeight:"calc(100vh - 80px)",alignItems:"center",justifyContent:"center"},children:m.jsxs("div",{className:"glass-card fade-in",style:{padding:"2.5rem",width:"100%",maxWidth:"420px"},children:[m.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[m.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #009c3b, #007a2d)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(0, 156, 59, 0.3)"},children:m.jsx(dd,{size:40,color:"white"})}),m.jsx("h2",{style:{fontSize:"1.75rem",color:"var(--color-primary)",marginBottom:"0.5rem"},children:"Nova Senha"}),m.jsx("p",{style:{color:"var(--color-text-muted)"},children:"Crie uma senha forte e segura"})]}),u&&m.jsx("div",{style:{padding:"1rem",background:"#fee2e2",color:"#991b1b",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.9rem"},children:u}),m.jsxs("form",{onSubmit:p,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Nova Senha"}),m.jsx("input",{type:"password",value:e,onChange:v=>r(v.target.value),required:!0,style:{width:"100%",padding:"0.875rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",fontSize:"1rem"},placeholder:""})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Confirmar Senha"}),m.jsx("input",{type:"password",value:n,onChange:v=>i(v.target.value),required:!0,style:{width:"100%",padding:"0.875rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",fontSize:"1rem"},placeholder:""})]}),m.jsx("button",{type:"submit",className:"btn btn-primary",disabled:s,style:{marginTop:"1rem",padding:"1rem",fontSize:"1rem"},children:s?m.jsxs(m.Fragment,{children:[m.jsx(la,{size:20,style:{animation:"spin 1s linear infinite"}}),"Atualizando..."]}):m.jsxs(m.Fragment,{children:[m.jsx(dd,{size:20}),"Redefinir Senha"]})})]})]})})},_h=()=>({name:"",email:"",cpf_cnpj:"",phone1:"",phone2:"",cep:"",address:"",address_number:"",address_type:"Casa",municipio:"",estado:"",reference:""}),K7=()=>{var K,de;const[t,e]=fe.useState(null),[r,n]=fe.useState(!0),[i,s]=fe.useState("login"),[a,o]=fe.useState(""),[l,u]=fe.useState(""),[h,p]=fe.useState({..._h(),password:"",confirmPassword:""}),[v,f]=fe.useState(_h()),[_,x]=fe.useState(!1),[A,w]=fe.useState(""),[S,k]=fe.useState(""),[E,H]=fe.useState(!1),V="/Antigravit_testes/";fe.useEffect(()=>{pt.auth.getSession().then(({data:{session:ee}})=>{e(ee),n(!1)});const{data:{subscription:Y}}=pt.auth.onAuthStateChange((ee,$)=>{e($)});return()=>Y.unsubscribe()},[]),fe.useEffect(()=>{t?G():(x(!1),f(_h()))},[t]);const G=async()=>{w("");try{const{data:Y,error:ee}=await pt.from("customers").select("*").eq("user_id",t.user.id).single();if(ee&&ee.code!=="PGRST116")throw ee;if(Y){f({name:Y.name||"",email:Y.email||t.user.email||"",cpf_cnpj:Y.cpf_cnpj||"",phone1:Y.phone1||"",phone2:Y.phone2||"",cep:Y.cep||"",address:Y.address||"",address_number:Y.address_number||"",address_type:Y.address_type||"Casa",municipio:Y.municipio||"",estado:Y.estado||"",reference:Y.reference||""}),x(!0);return}f($=>({...$,email:t.user.email||""})),x(!1)}catch(Y){console.error("Erro ao buscar perfil:",Y),w(Y.message||"Erro ao buscar perfil.")}},q=Y=>/^\d{6}$/.test(Y),D=async Y=>{Y.preventDefault(),w(""),k("");const ee=a.trim();if(!ee){w("Informe email ou CPF/CNPJ.");return}if(!q(l)){w("A senha deve ter 6 numeros.");return}try{let $=ee;if(!ee.includes("@")){const{data:pe,error:oe}=await pt.rpc("get_email_by_cpf",{p_cpf:ee});if(oe)throw oe;if(!pe){w("CPF/CNPJ nao encontrado.");return}$=pe}const{error:se}=await pt.auth.signInWithPassword({email:$,password:l});if(se)throw se;k("Login realizado com sucesso. Redirecionando para o catalogo..."),setTimeout(()=>{window.location.href=`${V}catalog`},700)}catch($){console.error("Erro no login:",$),w($.message||"Erro ao entrar.")}},X=()=>[h.name,h.email,h.cpf_cnpj,h.phone1,h.cep,h.address,h.address_number,h.address_type,h.municipio,h.estado].some(ee=>!ee||!ee.toString().trim())?"Preencha todos os campos obrigatorios.":q(h.password)?h.password!==h.confirmPassword?"As senhas nao coincidem.":"":"A senha deve ter exatamente 6 numeros.",T=async Y=>{var $,se,pe;Y.preventDefault(),w(""),k("");const ee=X();if(ee){w(ee);return}H(!0);try{const oe=h.email.trim(),C={name:h.name.trim(),cpf_cnpj:h.cpf_cnpj.trim(),phone1:h.phone1.trim(),phone2:h.phone2.trim()||null,cep:h.cep.trim(),address:h.address.trim(),address_number:h.address_number.trim(),address_type:h.address_type.trim(),municipio:h.municipio.trim(),estado:h.estado.trim(),reference:h.reference.trim()||null},{data:B,error:W}=await pt.auth.signUp({email:oe,password:h.password,options:{emailRedirectTo:`${window.location.origin}${V}cliente`,data:C}});if(W)throw W;const Z=((se=($=B.session)==null?void 0:$.user)==null?void 0:se.id)??((pe=B.user)==null?void 0:pe.id)??null;if(B.session&&Z){const{error:ne}=await pt.from("customers").upsert([{user_id:Z,email:oe,...C}],{onConflict:"user_id"});if(ne)throw ne;k("Cadastro criado com sucesso! Redirecionando para o catlogo..."),s("login"),setTimeout(()=>{window.location.href=`${V}catalog`},1500),p({..._h(),password:"",confirmPassword:""})}else k("Cadastro criado. Confirme o email para entrar."),s("login")}catch(oe){console.error("Erro ao cadastrar:",oe),w(oe.message||"Erro ao cadastrar.")}finally{H(!1)}},F=async Y=>{if(Y.preventDefault(),w(""),k(""),[v.name,v.cpf_cnpj,v.phone1,v.cep,v.address,v.address_number,v.address_type,v.municipio,v.estado].some($=>!$||!$.toString().trim())){w("Preencha todos os campos obrigatorios.");return}H(!0);try{const $={user_id:t.user.id,name:v.name.trim(),email:v.email.trim(),cpf_cnpj:v.cpf_cnpj.trim(),phone1:v.phone1.trim(),phone2:v.phone2.trim()||null,cep:v.cep.trim(),address:v.address.trim(),address_number:v.address_number.trim(),address_type:v.address_type.trim(),municipio:v.municipio.trim(),estado:v.estado.trim(),reference:v.reference.trim()||null},{error:se}=await pt.from("customers").upsert([$],{onConflict:"user_id"});if(se){const pe=(se.message||"").toLowerCase();if(se.code==="23505"||pe.includes("customers_cpf_cnpj_key")||pe.includes("customers_email_key")||pe.includes("duplicate key")){const{data:C,error:B}=await pt.rpc("claim_customer_profile",{p_email:$.email,p_cpf:$.cpf_cnpj,p_payload:$});if(B)throw B;if(C){k("Cadastro vinculado com sucesso."),x(!0);return}w("CPF/CNPJ ja cadastrado em outra conta. Use o email original do cadastro.");return}throw se}k("Dados atualizados com sucesso."),x(!0)}catch($){console.error("Erro ao salvar perfil:",$),w($.message||"Erro ao salvar perfil.")}finally{H(!1)}},J=async()=>{await pt.auth.signOut()};return r?m.jsx("div",{style:{display:"flex",minHeight:"calc(100vh - 80px)",alignItems:"center",justifyContent:"center"},children:m.jsx(la,{size:48,color:"var(--color-primary)",style:{animation:"spin 1s linear infinite"}})}):t?m.jsx("div",{style:{display:"flex",minHeight:"calc(100vh - 80px)",alignItems:"center",justifyContent:"center"},children:m.jsxs("div",{className:"glass-card fade-in",style:{padding:"2.5rem",width:"100%",maxWidth:"760px"},children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"1rem",marginBottom:"1.5rem"},children:[m.jsxs("div",{children:[m.jsx("h2",{style:{fontSize:"1.75rem",color:"var(--color-primary)",marginBottom:"0.25rem"},children:"Area do Cliente"}),m.jsx("p",{style:{color:"var(--color-text)"},children:((K=v.name)==null?void 0:K.trim())||((de=t.user.user_metadata)==null?void 0:de.name)||t.user.email}),m.jsx("p",{style:{color:"var(--color-text-muted)",fontSize:"0.85rem"},children:t.user.email})]}),m.jsxs("button",{onClick:J,className:"btn btn-outline",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem"},children:[m.jsx(Ew,{size:18})," Sair"]})]}),A&&m.jsx("div",{style:{padding:"1rem",background:"#fee2e2",color:"#991b1b",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.9rem"},children:A}),S&&m.jsx("div",{style:{padding:"1rem",background:"#dcfce7",color:"#166534",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.9rem"},children:S}),!_&&m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem",color:"var(--color-text-muted)"},children:[m.jsx(sc,{size:18}),"Complete seu cadastro para finalizar pedidos."]}),m.jsxs("form",{onSubmit:F,style:{display:"grid",gap:"1rem"},children:[m.jsxs("div",{style:{display:"grid",gap:"1rem",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:[m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Nome"}),m.jsx("input",{type:"text",value:v.name,onChange:Y=>f(ee=>({...ee,name:Y.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Email"}),m.jsx("input",{type:"email",value:v.email,onChange:Y=>f(ee=>({...ee,email:Y.target.value})),required:!0,readOnly:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",background:"#f8fafc"}})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"CPF/CNPJ"}),m.jsx("input",{type:"text",value:v.cpf_cnpj,onChange:Y=>f(ee=>({...ee,cpf_cnpj:Y.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Telefone 1"}),m.jsx("input",{type:"text",value:v.phone1,onChange:Y=>f(ee=>({...ee,phone1:Y.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Telefone 2"}),m.jsx("input",{type:"text",value:v.phone2,onChange:Y=>f(ee=>({...ee,phone2:Y.target.value})),style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"CEP"}),m.jsx("input",{type:"text",value:v.cep,onChange:Y=>f(ee=>({...ee,cep:Y.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Endereco"}),m.jsx("input",{type:"text",value:v.address,onChange:Y=>f(ee=>({...ee,address:Y.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Numero"}),m.jsx("input",{type:"text",value:v.address_number,onChange:Y=>f(ee=>({...ee,address_number:Y.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Casa ou apartamento"}),m.jsxs("select",{value:v.address_type,onChange:Y=>f(ee=>({...ee,address_type:Y.target.value})),style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",background:"white"},children:[m.jsx("option",{value:"Casa",children:"Casa"}),m.jsx("option",{value:"Apartamento",children:"Apartamento"})]})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Municipio"}),m.jsx("input",{type:"text",value:v.municipio,onChange:Y=>f(ee=>({...ee,municipio:Y.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Estado"}),m.jsx("input",{type:"text",value:v.estado,onChange:Y=>f(ee=>({...ee,estado:Y.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Referencia"}),m.jsx("input",{type:"text",value:v.reference,onChange:Y=>f(ee=>({...ee,reference:Y.target.value})),style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]})]}),m.jsx("button",{type:"submit",className:"btn btn-primary",disabled:E,children:E?"Salvando...":"Salvar dados"})]})]})}):m.jsx("div",{style:{display:"flex",minHeight:"calc(100vh - 80px)",alignItems:"center",justifyContent:"center"},children:m.jsxs("div",{className:"glass-card fade-in",style:{padding:"2.5rem",width:"100%",maxWidth:"640px"},children:[m.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[m.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #009c3b, #007a2d)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(0, 156, 59, 0.3)"},children:m.jsx(P0,{size:40,color:"white"})}),m.jsx("h2",{style:{fontSize:"1.75rem",color:"var(--color-primary)",marginBottom:"0.5rem"},children:"Area do Cliente"}),m.jsx("p",{style:{color:"var(--color-text-muted)"},children:"Entre ou crie seu cadastro para finalizar pedidos."})]}),m.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem"},children:[m.jsx("button",{type:"button",className:`btn ${i==="login"?"btn-primary":"btn-outline"}`,style:{flex:1},onClick:()=>s("login"),children:"Entrar"}),m.jsx("button",{type:"button",className:`btn ${i==="register"?"btn-primary":"btn-outline"}`,style:{flex:1},onClick:()=>s("register"),children:"Cadastro"})]}),A&&m.jsx("div",{style:{padding:"1rem",background:"#fee2e2",color:"#991b1b",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.9rem"},children:A}),S&&m.jsx("div",{style:{padding:"1rem",background:"#dcfce7",color:"#166534",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.9rem"},children:S}),i==="login"?m.jsxs("form",{onSubmit:D,style:{display:"grid",gap:"1rem"},children:[m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Email ou CPF/CNPJ"}),m.jsx("input",{type:"text",value:a,onChange:Y=>o(Y.target.value),required:!0,style:{width:"100%",padding:"0.875rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",fontSize:"1rem"},placeholder:"email@exemplo.com ou CPF"})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Senha (6 numeros)"}),m.jsx("input",{type:"password",value:l,onChange:Y=>u(Y.target.value),required:!0,style:{width:"100%",padding:"0.875rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",fontSize:"1rem"},placeholder:"******"})]}),m.jsx("button",{type:"submit",className:"btn btn-primary",style:{marginTop:"0.5rem"},children:"Entrar"}),m.jsx("div",{style:{textAlign:"center"},children:m.jsx(pr,{to:"/cliente/forgot-password",style:{color:"var(--color-primary)",fontSize:"0.9rem",textDecoration:"underline"},children:"Esqueci minha senha"})})]}):m.jsxs("form",{onSubmit:T,style:{display:"grid",gap:"1rem"},children:[m.jsxs("div",{style:{display:"grid",gap:"1rem",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:[m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Nome"}),m.jsx("input",{type:"text",value:h.name,onChange:Y=>p(ee=>({...ee,name:Y.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Email"}),m.jsx("input",{type:"email",value:h.email,onChange:Y=>p(ee=>({...ee,email:Y.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"CPF/CNPJ"}),m.jsx("input",{type:"text",value:h.cpf_cnpj,onChange:Y=>p(ee=>({...ee,cpf_cnpj:Y.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Telefone 1"}),m.jsx("input",{type:"text",value:h.phone1,onChange:Y=>p(ee=>({...ee,phone1:Y.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Telefone 2"}),m.jsx("input",{type:"text",value:h.phone2,onChange:Y=>p(ee=>({...ee,phone2:Y.target.value})),style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"CEP"}),m.jsx("input",{type:"text",value:h.cep,onChange:Y=>p(ee=>({...ee,cep:Y.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Endereco"}),m.jsx("input",{type:"text",value:h.address,onChange:Y=>p(ee=>({...ee,address:Y.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Numero"}),m.jsx("input",{type:"text",value:h.address_number,onChange:Y=>p(ee=>({...ee,address_number:Y.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Casa ou apartamento"}),m.jsxs("select",{value:h.address_type,onChange:Y=>p(ee=>({...ee,address_type:Y.target.value})),style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",background:"white"},children:[m.jsx("option",{value:"Casa",children:"Casa"}),m.jsx("option",{value:"Apartamento",children:"Apartamento"})]})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Municipio"}),m.jsx("input",{type:"text",value:h.municipio,onChange:Y=>p(ee=>({...ee,municipio:Y.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Estado"}),m.jsx("input",{type:"text",value:h.estado,onChange:Y=>p(ee=>({...ee,estado:Y.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Referencia"}),m.jsx("input",{type:"text",value:h.reference,onChange:Y=>p(ee=>({...ee,reference:Y.target.value})),style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]})]}),m.jsxs("div",{style:{display:"grid",gap:"1rem",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:[m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Senha (6 numeros)"}),m.jsx("input",{type:"password",value:h.password,onChange:Y=>p(ee=>({...ee,password:Y.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Confirmar senha"}),m.jsx("input",{type:"password",value:h.confirmPassword,onChange:Y=>p(ee=>({...ee,confirmPassword:Y.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]})]}),m.jsx("button",{type:"submit",className:"btn btn-primary",disabled:E,children:E?"Salvando...":"Criar cadastro"})]})]})})},J7=()=>{const[t,e]=fe.useState(""),[r,n]=fe.useState(!1),[i,s]=fe.useState(!1),[a,o]=fe.useState(""),l="/Antigravit_testes/",u=async h=>{h.preventDefault(),n(!0),o("");try{const{error:p}=await pt.auth.resetPasswordForEmail(t,{redirectTo:`${window.location.origin}${l}cliente/reset-password`});if(p)throw p;s(!0)}catch(p){console.error("Erro ao enviar email:",p),o(p.message||"Erro ao enviar email de recuperacao.")}finally{n(!1)}};return i?m.jsx("div",{style:{display:"flex",minHeight:"calc(100vh - 80px)",alignItems:"center",justifyContent:"center"},children:m.jsxs("div",{className:"glass-card fade-in",style:{padding:"2.5rem",width:"100%",maxWidth:"420px",textAlign:"center"},children:[m.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #10b981, #059669)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(16, 185, 129, 0.3)"},children:m.jsx(sc,{size:40,color:"white"})}),m.jsx("h2",{style:{fontSize:"1.75rem",color:"var(--color-primary)",marginBottom:"0.75rem"},children:"Email Enviado!"}),m.jsxs("p",{style:{color:"var(--color-text-muted)",marginBottom:"2rem",lineHeight:"1.6"},children:["Verifique sua caixa de entrada em ",m.jsx("strong",{children:t})," e siga as instrucoes para redefinir sua senha."]}),m.jsx(pr,{to:"/cliente",className:"btn btn-primary",style:{width:"100%"},children:"Voltar ao Login"})]})}):m.jsx("div",{style:{display:"flex",minHeight:"calc(100vh - 80px)",alignItems:"center",justifyContent:"center"},children:m.jsxs("div",{className:"glass-card fade-in",style:{padding:"2.5rem",width:"100%",maxWidth:"420px"},children:[m.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[m.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #3b82f6, #2563eb)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(59, 130, 246, 0.3)"},children:m.jsx(fd,{size:40,color:"white"})}),m.jsx("h2",{style:{fontSize:"1.75rem",color:"var(--color-primary)",marginBottom:"0.5rem"},children:"Esqueceu a senha?"}),m.jsx("p",{style:{color:"var(--color-text-muted)"},children:"Enviaremos instrucoes para redefinir sua senha"})]}),a&&m.jsx("div",{style:{padding:"1rem",background:"#fee2e2",color:"#991b1b",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.9rem"},children:a}),m.jsxs("form",{onSubmit:u,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Email"}),m.jsx("input",{type:"email",value:t,onChange:h=>e(h.target.value),required:!0,style:{width:"100%",padding:"0.875rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",fontSize:"1rem"},placeholder:"seu@email.com"})]}),m.jsx("button",{type:"submit",className:"btn btn-primary",disabled:r,style:{marginTop:"1rem",padding:"1rem",fontSize:"1rem"},children:r?m.jsxs(m.Fragment,{children:[m.jsx(la,{size:20,style:{animation:"spin 1s linear infinite"}}),"Enviando..."]}):m.jsxs(m.Fragment,{children:[m.jsx(fd,{size:20}),"Enviar Link"]})})]}),m.jsx("div",{style:{marginTop:"1.5rem",textAlign:"center"},children:m.jsxs(pr,{to:"/cliente",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",color:"var(--color-primary)",fontSize:"0.9rem"},children:[m.jsx(Nw,{size:16}),"Voltar ao Login"]})})]})})},Y7=()=>{const t=Z1(),[e,r]=fe.useState(""),[n,i]=fe.useState(""),[s,a]=fe.useState(!1),[o,l]=fe.useState(!1),[u,h]=fe.useState(""),p=f=>/^\d{6}$/.test(f),v=async f=>{if(f.preventDefault(),h(""),e!==n){h("As senhas nao coincidem.");return}if(!p(e)){h("A senha deve ter exatamente 6 numeros.");return}a(!0);try{const{error:_}=await pt.auth.updateUser({password:e});if(_)throw _;l(!0),setTimeout(()=>{t("/cliente")},2e3)}catch(_){console.error("Erro ao redefinir senha:",_),h(_.message||"Erro ao redefinir senha.")}finally{a(!1)}};return o?m.jsx("div",{style:{display:"flex",minHeight:"calc(100vh - 80px)",alignItems:"center",justifyContent:"center"},children:m.jsxs("div",{className:"glass-card fade-in",style:{padding:"2.5rem",width:"100%",maxWidth:"420px",textAlign:"center"},children:[m.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #10b981, #059669)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(16, 185, 129, 0.3)"},children:m.jsx(sc,{size:40,color:"white"})}),m.jsx("h2",{style:{fontSize:"1.75rem",color:"var(--color-primary)",marginBottom:"0.75rem"},children:"Senha Atualizada!"}),m.jsx("p",{style:{color:"var(--color-text-muted)",lineHeight:"1.6"},children:"Sua senha foi redefinida. Redirecionando para o login..."})]})}):m.jsx("div",{style:{display:"flex",minHeight:"calc(100vh - 80px)",alignItems:"center",justifyContent:"center"},children:m.jsxs("div",{className:"glass-card fade-in",style:{padding:"2.5rem",width:"100%",maxWidth:"420px"},children:[m.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[m.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #009c3b, #007a2d)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(0, 156, 59, 0.3)"},children:m.jsx(dd,{size:40,color:"white"})}),m.jsx("h2",{style:{fontSize:"1.75rem",color:"var(--color-primary)",marginBottom:"0.5rem"},children:"Nova Senha"}),m.jsx("p",{style:{color:"var(--color-text-muted)"},children:"Crie uma senha de 6 numeros"})]}),u&&m.jsx("div",{style:{padding:"1rem",background:"#fee2e2",color:"#991b1b",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.9rem"},children:u}),m.jsxs("form",{onSubmit:v,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Nova senha"}),m.jsx("input",{type:"password",value:e,onChange:f=>r(f.target.value),required:!0,style:{width:"100%",padding:"0.875rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",fontSize:"1rem"},placeholder:"******"})]}),m.jsxs("div",{children:[m.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Confirmar senha"}),m.jsx("input",{type:"password",value:n,onChange:f=>i(f.target.value),required:!0,style:{width:"100%",padding:"0.875rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",fontSize:"1rem"},placeholder:"******"})]}),m.jsx("button",{type:"submit",className:"btn btn-primary",disabled:s,style:{marginTop:"1rem",padding:"1rem",fontSize:"1rem"},children:s?m.jsxs(m.Fragment,{children:[m.jsx(la,{size:20,style:{animation:"spin 1s linear infinite"}}),"Atualizando..."]}):m.jsxs(m.Fragment,{children:[m.jsx(dd,{size:20}),"Redefinir Senha"]})})]})]})})},X7=({cartItems:t,setCartItems:e})=>{const[r,n]=fe.useState(null),[i,s]=fe.useState(null),[a,o]=fe.useState(!0),[l,u]=fe.useState(""),[h,p]=fe.useState(""),[v,f]=fe.useState(!1),_=V=>Number(V.promoPercent??V.promo_percent??0),x=(V,G)=>{const q=_(G);return!q||q<=0?V:V*(1-q/100)},A=V=>{let G;return V.priceType==="wholesale"?G=V.wholesalePrice:V.priceType==="retail"?G=V.price:G=V.quantity>=10?V.wholesalePrice:V.price,x(G,V)},w=V=>V.priceType==="wholesale"?"Atacado":V.priceType==="retail"?"Varejo":V.quantity>=10?"Atacado":"Varejo",k=t.reduce((V,G)=>{const q=A(G);return V+q*G.quantity},0),E=V=>{const G=[...t];G.splice(V,1),e(G)};fe.useEffect(()=>{pt.auth.getSession().then(({data:{session:G}})=>{n(G),o(!1)});const{data:{subscription:V}}=pt.auth.onAuthStateChange((G,q)=>{n(q)});return()=>V.unsubscribe()},[]),fe.useEffect(()=>{if(!r){s(null);return}(async()=>{const{data:G,error:q}=await pt.from("customers").select("id").eq("user_id",r.user.id).single();if(q&&q.code!=="PGRST116"){console.error("Erro ao buscar perfil:",q);return}s(G||null)})()},[r]);const H=async()=>{if(u(""),p(""),!r){u("Faa login para finalizar a compra.");return}if(!i){u("Complete seu cadastro antes de finalizar a compra.");return}if(t.length!==0){f(!0);try{const{data:V,error:G}=await pt.from("orders").insert([{user_id:r.user.id,total:k,status:"pending"}]).select("id").single();if(G)throw G;const q=t.map(X=>({order_id:V.id,medicine_id:X.id,quantity:X.quantity,unit_price:A(X)})),{error:D}=await pt.from("order_items").insert(q);if(D)throw D;try{const{error:X}=await pt.functions.invoke("send-order-email",{body:{order_id:V.id}});X?(console.warn("Erro ao enviar email do pedido:",X),p("Pedido registrado! Email aos administradores sera enviado em instantes.")):p("Pedido registrado! Os administradores receberam um email com os detalhes.")}catch(X){console.warn("Falha ao chamar funcao de email:",X),p("Pedido registrado! Email aos administradores sera enviado em instantes.")}e([])}catch(V){console.error("Erro ao finalizar compra:",V),u(V.message||"Erro ao finalizar a compra.")}finally{f(!1)}}};return m.jsxs("div",{className:"container",style:{marginTop:"2rem"},children:[m.jsx("h1",{style:{marginBottom:"2rem",fontSize:"2rem",color:"var(--color-primary-dark)"},children:"Seu Carrinho"}),m.jsxs("div",{style:{display:"flex",gap:"2rem",flexWrap:"wrap"},children:[m.jsx("div",{style:{flex:2,minWidth:"300px"},children:t.length===0?m.jsx("div",{className:"glass-card",style:{padding:"3rem",textAlign:"center",color:"var(--color-text-muted)"},children:m.jsx("p",{children:"Seu carrinho est vazio."})}):m.jsx("div",{className:"glass-card",style:{padding:"1.5rem"},children:t.map((V,G)=>{const q=A(V),D=w(V),X=_(V);return m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",borderBottom:G<t.length-1?"1px solid var(--color-border)":"none"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[m.jsx("img",{src:V.image,alt:V.name,style:{width:"60px",height:"60px",objectFit:"cover",borderRadius:"0.5rem"}}),m.jsxs("div",{children:[m.jsx("h3",{style:{fontSize:"1.1rem"},children:V.name}),m.jsx("p",{style:{color:"var(--color-text-muted)",fontSize:"0.9rem"},children:V.dosage}),X>0&&m.jsxs("span",{style:{fontSize:"0.75rem",color:"#f59e0b",fontWeight:"bold"},children:["Promoo -",X,"%"]}),D==="Atacado"&&m.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-primary)",fontWeight:"bold"},children:"Preo de Atacado aplicado!"}),D==="Varejo"&&m.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)"},children:"Preo de Varejo"})]})]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1.5rem"},children:[m.jsxs("div",{style:{textAlign:"right"},children:[m.jsxs("div",{style:{fontWeight:"bold"},children:["R$ ",q.toFixed(2)]}),m.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--color-text-muted)"},children:["x ",V.quantity," un."]})]}),m.jsx("button",{onClick:()=>E(G),style:{background:"none",border:"none",color:"#dc2626",cursor:"pointer"},children:m.jsx(SS,{size:20})})]})]},G)})})}),m.jsx("div",{style:{flex:1,minWidth:"250px"},children:m.jsxs("div",{className:"glass-card",style:{padding:"1.5rem",position:"sticky",top:"6rem"},children:[m.jsx("h3",{style:{fontSize:"1.25rem",marginBottom:"1.5rem"},children:"Resumo do Pedido"}),!a&&!r&&m.jsxs("div",{style:{padding:"0.75rem 1rem",background:"#fff7ed",border:"1px solid #fed7aa",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.85rem"},children:["Para finalizar, faca login na ",m.jsx(pr,{to:"/cliente",style:{color:"var(--color-primary)",textDecoration:"underline"},children:"Area do Cliente"}),"."]}),!a&&r&&!i&&m.jsxs("div",{style:{padding:"0.75rem 1rem",background:"#fef9c3",border:"1px solid #fde68a",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.85rem"},children:["Complete seu cadastro na ",m.jsx(pr,{to:"/cliente",style:{color:"var(--color-primary)",textDecoration:"underline"},children:"Area do Cliente"})," para finalizar."]}),l&&m.jsx("div",{style:{padding:"0.75rem 1rem",background:"#fee2e2",color:"#991b1b",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.85rem"},children:l}),h&&m.jsx("div",{style:{padding:"0.75rem 1rem",background:"#dcfce7",color:"#166534",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.85rem"},children:h}),m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",color:"var(--color-text-muted)"},children:[m.jsx("span",{children:"Subtotal"}),m.jsxs("span",{children:["R$ ",k.toFixed(2)]})]}),m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1.5rem",color:"var(--color-text-muted)"},children:[m.jsx("span",{children:"Frete"}),m.jsx("span",{children:"Grtis"})]}),m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1.5rem",fontSize:"1.25rem",fontWeight:"bold"},children:[m.jsx("span",{children:"Total"}),m.jsxs("span",{children:["R$ ",k.toFixed(2)]})]}),m.jsx("button",{onClick:H,disabled:t.length===0||!r||!i||v,className:"btn btn-primary",style:{width:"100%",opacity:t.length===0||!r||!i||v?.5:1},children:v?"Finalizando...":m.jsxs(m.Fragment,{children:["Finalizar Compra ",m.jsx(jw,{size:20})]})})]})})]})]})};function Q7(){const[t,e]=fe.useState([]);console.log(" App carregado. Base URL:","/Antigravit_testes/");const r=(n,i=1,s="retail")=>{const a=s==="wholesale"?"wholesale":"retail",o=t.findIndex(l=>l.id===n.id&&l.priceType===a);if(o>-1){const l=[...t];l[o].quantity+=i,e(l),alert(`Quantidade atualizada: ${l[o].quantity} un. de ${n.name} (${a==="wholesale"?"atacado":"varejo"})`)}else e([...t,{...n,quantity:i,priceType:a}]),alert(`${i}x ${n.name} adicionado ao carrinho (${a==="wholesale"?"atacado":"varejo"})!`)};return m.jsx(oS,{basename:"/Antigravit_testes/",children:m.jsxs("div",{style:{minHeight:"100vh",paddingBottom:"2rem"},children:[m.jsx(o8,{cartCount:t.length}),m.jsxs(eS,{children:[m.jsx(Bi,{path:"/",element:m.jsx(l8,{})}),m.jsx(Bi,{path:"/catalog",element:m.jsx(c8,{addToCart:r})}),m.jsx(Bi,{path:"/cart",element:m.jsx(X7,{cartItems:t,setCartItems:e})}),m.jsx(Bi,{path:"/admin",element:m.jsx(H7,{})}),m.jsx(Bi,{path:"/admin/forgot-password",element:m.jsx(V7,{})}),m.jsx(Bi,{path:"/admin/reset-password",element:m.jsx(G7,{})}),m.jsx(Bi,{path:"/cliente",element:m.jsx(K7,{})}),m.jsx(Bi,{path:"/cliente/forgot-password",element:m.jsx(J7,{})}),m.jsx(Bi,{path:"/cliente/reset-password",element:m.jsx(Y7,{})})]})]})})}Op.createRoot(document.getElementById("root")).render(m.jsx(d5.StrictMode,{children:m.jsx(Q7,{})}));export{Dt as _,ej as c,Ox as g};
