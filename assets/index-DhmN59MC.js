var Mx=Object.defineProperty;var zx=(t,e,r)=>e in t?Mx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ft=(t,e,r)=>zx(t,typeof e!="symbol"?e+"":e,r);function Ux(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var sj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var a5={exports:{}},Ed={},o5={exports:{}},xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ec=Symbol.for("react.element"),$x=Symbol.for("react.portal"),Wx=Symbol.for("react.fragment"),Hx=Symbol.for("react.strict_mode"),Vx=Symbol.for("react.profiler"),Gx=Symbol.for("react.provider"),Kx=Symbol.for("react.context"),Jx=Symbol.for("react.forward_ref"),Yx=Symbol.for("react.suspense"),Xx=Symbol.for("react.memo"),Qx=Symbol.for("react.lazy"),Gg=Symbol.iterator;function Zx(t){return t===null||typeof t!="object"?null:(t=Gg&&t[Gg]||t["@@iterator"],typeof t=="function"?t:null)}var l5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},u5=Object.assign,c5={};function ml(t,e,r){this.props=t,this.context=e,this.refs=c5,this.updater=r||l5}ml.prototype.isReactComponent={};ml.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ml.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function h5(){}h5.prototype=ml.prototype;function a1(t,e,r){this.props=t,this.context=e,this.refs=c5,this.updater=r||l5}var o1=a1.prototype=new h5;o1.constructor=a1;u5(o1,ml.prototype);o1.isPureReactComponent=!0;var Kg=Array.isArray,d5=Object.prototype.hasOwnProperty,l1={current:null},f5={key:!0,ref:!0,__self:!0,__source:!0};function p5(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)d5.call(e,n)&&!f5.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:ec,type:t,key:s,ref:a,props:i,_owner:l1.current}}function e_(t,e){return{$$typeof:ec,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function u1(t){return typeof t=="object"&&t!==null&&t.$$typeof===ec}function t_(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Jg=/\/+/g;function Tf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?t_(""+t.key):e.toString(36)}function Ah(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case ec:case $x:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+Tf(a,0):n,Kg(i)?(r="",t!=null&&(r=t.replace(Jg,"$&/")+"/"),Ah(i,e,r,"",function(u){return u})):i!=null&&(u1(i)&&(i=e_(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Jg,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",Kg(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+Tf(s,o);a+=Ah(s,e,r,l,i)}else if(l=Zx(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+Tf(s,o++),a+=Ah(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Vc(t,e,r){if(t==null)return t;var n=[],i=0;return Ah(t,n,"","",function(s){return e.call(r,s,i++)}),n}function r_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vn={current:null},Nh={transition:null},n_={ReactCurrentDispatcher:vn,ReactCurrentBatchConfig:Nh,ReactCurrentOwner:l1};function g5(){throw Error("act(...) is not supported in production builds of React.")}xt.Children={map:Vc,forEach:function(t,e,r){Vc(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Vc(t,function(){e++}),e},toArray:function(t){return Vc(t,function(e){return e})||[]},only:function(t){if(!u1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xt.Component=ml;xt.Fragment=Wx;xt.Profiler=Vx;xt.PureComponent=a1;xt.StrictMode=Hx;xt.Suspense=Yx;xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n_;xt.act=g5;xt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=u5({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=l1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)d5.call(e,l)&&!f5.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:ec,type:t.type,key:i,ref:s,props:n,_owner:a}};xt.createContext=function(t){return t={$$typeof:Kx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Gx,_context:t},t.Consumer=t};xt.createElement=p5;xt.createFactory=function(t){var e=p5.bind(null,t);return e.type=t,e};xt.createRef=function(){return{current:null}};xt.forwardRef=function(t){return{$$typeof:Jx,render:t}};xt.isValidElement=u1;xt.lazy=function(t){return{$$typeof:Qx,_payload:{_status:-1,_result:t},_init:r_}};xt.memo=function(t,e){return{$$typeof:Xx,type:t,compare:e===void 0?null:e}};xt.startTransition=function(t){var e=Nh.transition;Nh.transition={};try{t()}finally{Nh.transition=e}};xt.unstable_act=g5;xt.useCallback=function(t,e){return vn.current.useCallback(t,e)};xt.useContext=function(t){return vn.current.useContext(t)};xt.useDebugValue=function(){};xt.useDeferredValue=function(t){return vn.current.useDeferredValue(t)};xt.useEffect=function(t,e){return vn.current.useEffect(t,e)};xt.useId=function(){return vn.current.useId()};xt.useImperativeHandle=function(t,e,r){return vn.current.useImperativeHandle(t,e,r)};xt.useInsertionEffect=function(t,e){return vn.current.useInsertionEffect(t,e)};xt.useLayoutEffect=function(t,e){return vn.current.useLayoutEffect(t,e)};xt.useMemo=function(t,e){return vn.current.useMemo(t,e)};xt.useReducer=function(t,e,r){return vn.current.useReducer(t,e,r)};xt.useRef=function(t){return vn.current.useRef(t)};xt.useState=function(t){return vn.current.useState(t)};xt.useSyncExternalStore=function(t,e,r){return vn.current.useSyncExternalStore(t,e,r)};xt.useTransition=function(){return vn.current.useTransition()};xt.version="18.3.1";o5.exports=xt;var de=o5.exports;const m5=qx(de),i_=Ux({__proto__:null,default:m5},[de]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_=de,a_=Symbol.for("react.element"),o_=Symbol.for("react.fragment"),l_=Object.prototype.hasOwnProperty,u_=s_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c_={key:!0,ref:!0,__self:!0,__source:!0};function v5(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)l_.call(e,n)&&!c_.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:a_,type:t,key:s,ref:a,props:i,_owner:u_.current}}Ed.Fragment=o_;Ed.jsx=v5;Ed.jsxs=v5;a5.exports=Ed;var v=a5.exports,Mp={},y5={exports:{}},$n={},w5={exports:{}},b5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,ne){var fe=O.length;O.push(ne);e:for(;0<fe;){var oe=fe-1>>>1,C=O[oe];if(0<i(C,ne))O[oe]=ne,O[fe]=C,fe=oe;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var ne=O[0],fe=O.pop();if(fe!==ne){O[0]=fe;e:for(var oe=0,C=O.length,$=C>>>1;oe<$;){var V=2*(oe+1)-1,Q=O[V],re=V+1,ae=O[re];if(0>i(Q,fe))re<C&&0>i(ae,Q)?(O[oe]=ae,O[re]=fe,oe=re):(O[oe]=Q,O[V]=fe,oe=V);else if(re<C&&0>i(ae,fe))O[oe]=ae,O[re]=fe,oe=re;else break e}}return ne}function i(O,ne){var fe=O.sortIndex-ne.sortIndex;return fe!==0?fe:O.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],h=1,p=null,m=3,f=!1,_=!1,x=!1,A=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(O){for(var ne=r(u);ne!==null;){if(ne.callback===null)n(u);else if(ne.startTime<=O)n(u),ne.sortIndex=ne.expirationTime,e(l,ne);else break;ne=r(u)}}function E(O){if(x=!1,k(O),!_)if(r(l)!==null)_=!0,ge(F);else{var ne=r(u);ne!==null&&Y(E,ne.startTime-O)}}function F(O,ne){_=!1,x&&(x=!1,w(z),z=-1),f=!0;var fe=m;try{for(k(ne),p=r(l);p!==null&&(!(p.expirationTime>ne)||O&&!T());){var oe=p.callback;if(typeof oe=="function"){p.callback=null,m=p.priorityLevel;var C=oe(p.expirationTime<=ne);ne=t.unstable_now(),typeof C=="function"?p.callback=C:p===r(l)&&n(l),k(ne)}else n(l);p=r(l)}if(p!==null)var $=!0;else{var V=r(u);V!==null&&Y(E,V.startTime-ne),$=!1}return $}finally{p=null,m=fe,f=!1}}var G=!1,H=null,z=-1,D=5,Z=-1;function T(){return!(t.unstable_now()-Z<D)}function M(){if(H!==null){var O=t.unstable_now();Z=O;var ne=!0;try{ne=H(!0,O)}finally{ne?J():(G=!1,H=null)}}else G=!1}var J;if(typeof S=="function")J=function(){S(M)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,he=K.port2;K.port1.onmessage=M,J=function(){he.postMessage(null)}}else J=function(){A(M,0)};function ge(O){H=O,G||(G=!0,J())}function Y(O,ne){z=A(function(){O(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){_||f||(_=!0,ge(F))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(O){switch(m){case 1:case 2:case 3:var ne=3;break;default:ne=m}var fe=m;m=ne;try{return O()}finally{m=fe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,ne){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var fe=m;m=O;try{return ne()}finally{m=fe}},t.unstable_scheduleCallback=function(O,ne,fe){var oe=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?oe+fe:oe):fe=oe,O){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=fe+C,O={id:h++,callback:ne,priorityLevel:O,startTime:fe,expirationTime:C,sortIndex:-1},fe>oe?(O.sortIndex=fe,e(u,O),r(l)===null&&O===r(u)&&(x?(w(z),z=-1):x=!0,Y(E,fe-oe))):(O.sortIndex=C,e(l,O),_||f||(_=!0,ge(F))),O},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(O){var ne=m;return function(){var fe=m;m=ne;try{return O.apply(this,arguments)}finally{m=fe}}}})(b5);w5.exports=b5;var h_=w5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_=de,qn=h_;function je(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var x5=new Set,Nu={};function ro(t,e){ul(t,e),ul(t+"Capture",e)}function ul(t,e){for(Nu[t]=e,t=0;t<e.length;t++)x5.add(e[t])}var ys=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zp=Object.prototype.hasOwnProperty,f_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yg={},Xg={};function p_(t){return zp.call(Xg,t)?!0:zp.call(Yg,t)?!1:f_.test(t)?Xg[t]=!0:(Yg[t]=!0,!1)}function g_(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function m_(t,e,r,n){if(e===null||typeof e>"u"||g_(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function yn(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Qr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Qr[t]=new yn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Qr[e]=new yn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Qr[t]=new yn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Qr[t]=new yn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Qr[t]=new yn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Qr[t]=new yn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Qr[t]=new yn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Qr[t]=new yn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Qr[t]=new yn(t,5,!1,t.toLowerCase(),null,!1,!1)});var c1=/[\-:]([a-z])/g;function h1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(c1,h1);Qr[e]=new yn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(c1,h1);Qr[e]=new yn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(c1,h1);Qr[e]=new yn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Qr[t]=new yn(t,1,!1,t.toLowerCase(),null,!1,!1)});Qr.xlinkHref=new yn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Qr[t]=new yn(t,1,!1,t.toLowerCase(),null,!0,!0)});function d1(t,e,r,n){var i=Qr.hasOwnProperty(e)?Qr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(m_(e,r,i,n)&&(r=null),n||i===null?p_(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ss=d_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gc=Symbol.for("react.element"),Do=Symbol.for("react.portal"),Bo=Symbol.for("react.fragment"),f1=Symbol.for("react.strict_mode"),Up=Symbol.for("react.profiler"),_5=Symbol.for("react.provider"),S5=Symbol.for("react.context"),p1=Symbol.for("react.forward_ref"),qp=Symbol.for("react.suspense"),$p=Symbol.for("react.suspense_list"),g1=Symbol.for("react.memo"),Ws=Symbol.for("react.lazy"),k5=Symbol.for("react.offscreen"),Qg=Symbol.iterator;function Yl(t){return t===null||typeof t!="object"?null:(t=Qg&&t[Qg]||t["@@iterator"],typeof t=="function"?t:null)}var nr=Object.assign,Rf;function ou(t){if(Rf===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Rf=e&&e[1]||""}return`
`+Rf+t}var If=!1;function Of(t,e){if(!t||If)return"";If=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{If=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ou(t):""}function v_(t){switch(t.tag){case 5:return ou(t.type);case 16:return ou("Lazy");case 13:return ou("Suspense");case 19:return ou("SuspenseList");case 0:case 2:case 15:return t=Of(t.type,!1),t;case 11:return t=Of(t.type.render,!1),t;case 1:return t=Of(t.type,!0),t;default:return""}}function Wp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bo:return"Fragment";case Do:return"Portal";case Up:return"Profiler";case f1:return"StrictMode";case qp:return"Suspense";case $p:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case S5:return(t.displayName||"Context")+".Consumer";case _5:return(t._context.displayName||"Context")+".Provider";case p1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case g1:return e=t.displayName||null,e!==null?e:Wp(t.type)||"Memo";case Ws:e=t._payload,t=t._init;try{return Wp(t(e))}catch{}}return null}function y_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wp(e);case 8:return e===f1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ca(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function A5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function w_(t){var e=A5(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Kc(t){t._valueTracker||(t._valueTracker=w_(t))}function N5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=A5(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function $h(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Hp(t,e){var r=e.checked;return nr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Zg(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ca(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function j5(t,e){e=e.checked,e!=null&&d1(t,"checked",e,!1)}function Vp(t,e){j5(t,e);var r=ca(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Gp(t,e.type,r):e.hasOwnProperty("defaultValue")&&Gp(t,e.type,ca(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function em(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Gp(t,e,r){(e!=="number"||$h(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var lu=Array.isArray;function Xo(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ca(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Kp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(je(91));return nr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function tm(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(je(92));if(lu(r)){if(1<r.length)throw Error(je(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ca(r)}}function E5(t,e){var r=ca(e.value),n=ca(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function rm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function C5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?C5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Jc,L5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Jc=Jc||document.createElement("div"),Jc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Jc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ju(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var du={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},b_=["Webkit","ms","Moz","O"];Object.keys(du).forEach(function(t){b_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),du[e]=du[t]})});function P5(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||du.hasOwnProperty(t)&&du[t]?(""+e).trim():e+"px"}function T5(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=P5(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var x_=nr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yp(t,e){if(e){if(x_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(je(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(je(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(je(61))}if(e.style!=null&&typeof e.style!="object")throw Error(je(62))}}function Xp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qp=null;function m1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zp=null,Qo=null,Zo=null;function nm(t){if(t=nc(t)){if(typeof Zp!="function")throw Error(je(280));var e=t.stateNode;e&&(e=Rd(e),Zp(t.stateNode,t.type,e))}}function R5(t){Qo?Zo?Zo.push(t):Zo=[t]:Qo=t}function I5(){if(Qo){var t=Qo,e=Zo;if(Zo=Qo=null,nm(t),e)for(t=0;t<e.length;t++)nm(e[t])}}function O5(t,e){return t(e)}function F5(){}var Ff=!1;function D5(t,e,r){if(Ff)return t(e,r);Ff=!0;try{return O5(t,e,r)}finally{Ff=!1,(Qo!==null||Zo!==null)&&(F5(),I5())}}function Eu(t,e){var r=t.stateNode;if(r===null)return null;var n=Rd(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(je(231,e,typeof r));return r}var e0=!1;if(ys)try{var Xl={};Object.defineProperty(Xl,"passive",{get:function(){e0=!0}}),window.addEventListener("test",Xl,Xl),window.removeEventListener("test",Xl,Xl)}catch{e0=!1}function __(t,e,r,n,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(h){this.onError(h)}}var fu=!1,Wh=null,Hh=!1,t0=null,S_={onError:function(t){fu=!0,Wh=t}};function k_(t,e,r,n,i,s,a,o,l){fu=!1,Wh=null,__.apply(S_,arguments)}function A_(t,e,r,n,i,s,a,o,l){if(k_.apply(this,arguments),fu){if(fu){var u=Wh;fu=!1,Wh=null}else throw Error(je(198));Hh||(Hh=!0,t0=u)}}function no(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function B5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function im(t){if(no(t)!==t)throw Error(je(188))}function N_(t){var e=t.alternate;if(!e){if(e=no(t),e===null)throw Error(je(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return im(i),t;if(s===n)return im(i),e;s=s.sibling}throw Error(je(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(je(189))}}if(r.alternate!==n)throw Error(je(190))}if(r.tag!==3)throw Error(je(188));return r.stateNode.current===r?t:e}function M5(t){return t=N_(t),t!==null?z5(t):null}function z5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=z5(t);if(e!==null)return e;t=t.sibling}return null}var U5=qn.unstable_scheduleCallback,sm=qn.unstable_cancelCallback,j_=qn.unstable_shouldYield,E_=qn.unstable_requestPaint,gr=qn.unstable_now,C_=qn.unstable_getCurrentPriorityLevel,v1=qn.unstable_ImmediatePriority,q5=qn.unstable_UserBlockingPriority,Vh=qn.unstable_NormalPriority,L_=qn.unstable_LowPriority,$5=qn.unstable_IdlePriority,Cd=null,Wi=null;function P_(t){if(Wi&&typeof Wi.onCommitFiberRoot=="function")try{Wi.onCommitFiberRoot(Cd,t,void 0,(t.current.flags&128)===128)}catch{}}var _i=Math.clz32?Math.clz32:I_,T_=Math.log,R_=Math.LN2;function I_(t){return t>>>=0,t===0?32:31-(T_(t)/R_|0)|0}var Yc=64,Xc=4194304;function uu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gh(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=uu(o):(s&=a,s!==0&&(n=uu(s)))}else a=r&~i,a!==0?n=uu(a):s!==0&&(n=uu(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-_i(e),i=1<<r,n|=t[r],e&=~i;return n}function O_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function F_(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-_i(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=O_(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function r0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function W5(){var t=Yc;return Yc<<=1,!(Yc&4194240)&&(Yc=64),t}function Df(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function tc(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_i(e),t[e]=r}function D_(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-_i(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function y1(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-_i(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Bt=0;function H5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var V5,w1,G5,K5,J5,n0=!1,Qc=[],ea=null,ta=null,ra=null,Cu=new Map,Lu=new Map,Gs=[],B_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function am(t,e){switch(t){case"focusin":case"focusout":ea=null;break;case"dragenter":case"dragleave":ta=null;break;case"mouseover":case"mouseout":ra=null;break;case"pointerover":case"pointerout":Cu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lu.delete(e.pointerId)}}function Ql(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=nc(e),e!==null&&w1(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function M_(t,e,r,n,i){switch(e){case"focusin":return ea=Ql(ea,t,e,r,n,i),!0;case"dragenter":return ta=Ql(ta,t,e,r,n,i),!0;case"mouseover":return ra=Ql(ra,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Cu.set(s,Ql(Cu.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Lu.set(s,Ql(Lu.get(s)||null,t,e,r,n,i)),!0}return!1}function Y5(t){var e=qa(t.target);if(e!==null){var r=no(e);if(r!==null){if(e=r.tag,e===13){if(e=B5(r),e!==null){t.blockedOn=e,J5(t.priority,function(){G5(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=i0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Qp=n,r.target.dispatchEvent(n),Qp=null}else return e=nc(r),e!==null&&w1(e),t.blockedOn=r,!1;e.shift()}return!0}function om(t,e,r){jh(t)&&r.delete(e)}function z_(){n0=!1,ea!==null&&jh(ea)&&(ea=null),ta!==null&&jh(ta)&&(ta=null),ra!==null&&jh(ra)&&(ra=null),Cu.forEach(om),Lu.forEach(om)}function Zl(t,e){t.blockedOn===e&&(t.blockedOn=null,n0||(n0=!0,qn.unstable_scheduleCallback(qn.unstable_NormalPriority,z_)))}function Pu(t){function e(i){return Zl(i,t)}if(0<Qc.length){Zl(Qc[0],t);for(var r=1;r<Qc.length;r++){var n=Qc[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ea!==null&&Zl(ea,t),ta!==null&&Zl(ta,t),ra!==null&&Zl(ra,t),Cu.forEach(e),Lu.forEach(e),r=0;r<Gs.length;r++)n=Gs[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Gs.length&&(r=Gs[0],r.blockedOn===null);)Y5(r),r.blockedOn===null&&Gs.shift()}var el=Ss.ReactCurrentBatchConfig,Kh=!0;function U_(t,e,r,n){var i=Bt,s=el.transition;el.transition=null;try{Bt=1,b1(t,e,r,n)}finally{Bt=i,el.transition=s}}function q_(t,e,r,n){var i=Bt,s=el.transition;el.transition=null;try{Bt=4,b1(t,e,r,n)}finally{Bt=i,el.transition=s}}function b1(t,e,r,n){if(Kh){var i=i0(t,e,r,n);if(i===null)Gf(t,e,n,Jh,r),am(t,n);else if(M_(i,t,e,r,n))n.stopPropagation();else if(am(t,n),e&4&&-1<B_.indexOf(t)){for(;i!==null;){var s=nc(i);if(s!==null&&V5(s),s=i0(t,e,r,n),s===null&&Gf(t,e,n,Jh,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Gf(t,e,n,null,r)}}var Jh=null;function i0(t,e,r,n){if(Jh=null,t=m1(n),t=qa(t),t!==null)if(e=no(t),e===null)t=null;else if(r=e.tag,r===13){if(t=B5(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Jh=t,null}function X5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(C_()){case v1:return 1;case q5:return 4;case Vh:case L_:return 16;case $5:return 536870912;default:return 16}default:return 16}}var Ys=null,x1=null,Eh=null;function Q5(){if(Eh)return Eh;var t,e=x1,r=e.length,n,i="value"in Ys?Ys.value:Ys.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return Eh=i.slice(t,1<n?1-n:void 0)}function Ch(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zc(){return!0}function lm(){return!1}function Wn(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Zc:lm,this.isPropagationStopped=lm,this}return nr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Zc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Zc)},persist:function(){},isPersistent:Zc}),e}var vl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_1=Wn(vl),rc=nr({},vl,{view:0,detail:0}),$_=Wn(rc),Bf,Mf,eu,Ld=nr({},rc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:S1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==eu&&(eu&&t.type==="mousemove"?(Bf=t.screenX-eu.screenX,Mf=t.screenY-eu.screenY):Mf=Bf=0,eu=t),Bf)},movementY:function(t){return"movementY"in t?t.movementY:Mf}}),um=Wn(Ld),W_=nr({},Ld,{dataTransfer:0}),H_=Wn(W_),V_=nr({},rc,{relatedTarget:0}),zf=Wn(V_),G_=nr({},vl,{animationName:0,elapsedTime:0,pseudoElement:0}),K_=Wn(G_),J_=nr({},vl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Y_=Wn(J_),X_=nr({},vl,{data:0}),cm=Wn(X_),Q_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=e3[t])?!!e[t]:!1}function S1(){return t3}var r3=nr({},rc,{key:function(t){if(t.key){var e=Q_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ch(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Z_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:S1,charCode:function(t){return t.type==="keypress"?Ch(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ch(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),n3=Wn(r3),i3=nr({},Ld,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hm=Wn(i3),s3=nr({},rc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:S1}),a3=Wn(s3),o3=nr({},vl,{propertyName:0,elapsedTime:0,pseudoElement:0}),l3=Wn(o3),u3=nr({},Ld,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),c3=Wn(u3),h3=[9,13,27,32],k1=ys&&"CompositionEvent"in window,pu=null;ys&&"documentMode"in document&&(pu=document.documentMode);var d3=ys&&"TextEvent"in window&&!pu,Z5=ys&&(!k1||pu&&8<pu&&11>=pu),dm=" ",fm=!1;function ey(t,e){switch(t){case"keyup":return h3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ty(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mo=!1;function f3(t,e){switch(t){case"compositionend":return ty(e);case"keypress":return e.which!==32?null:(fm=!0,dm);case"textInput":return t=e.data,t===dm&&fm?null:t;default:return null}}function p3(t,e){if(Mo)return t==="compositionend"||!k1&&ey(t,e)?(t=Q5(),Eh=x1=Ys=null,Mo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Z5&&e.locale!=="ko"?null:e.data;default:return null}}var g3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!g3[t.type]:e==="textarea"}function ry(t,e,r,n){R5(n),e=Yh(e,"onChange"),0<e.length&&(r=new _1("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var gu=null,Tu=null;function m3(t){fy(t,0)}function Pd(t){var e=qo(t);if(N5(e))return t}function v3(t,e){if(t==="change")return e}var ny=!1;if(ys){var Uf;if(ys){var qf="oninput"in document;if(!qf){var gm=document.createElement("div");gm.setAttribute("oninput","return;"),qf=typeof gm.oninput=="function"}Uf=qf}else Uf=!1;ny=Uf&&(!document.documentMode||9<document.documentMode)}function mm(){gu&&(gu.detachEvent("onpropertychange",iy),Tu=gu=null)}function iy(t){if(t.propertyName==="value"&&Pd(Tu)){var e=[];ry(e,Tu,t,m1(t)),D5(m3,e)}}function y3(t,e,r){t==="focusin"?(mm(),gu=e,Tu=r,gu.attachEvent("onpropertychange",iy)):t==="focusout"&&mm()}function w3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pd(Tu)}function b3(t,e){if(t==="click")return Pd(e)}function x3(t,e){if(t==="input"||t==="change")return Pd(e)}function _3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ki=typeof Object.is=="function"?Object.is:_3;function Ru(t,e){if(ki(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!zp.call(e,i)||!ki(t[i],e[i]))return!1}return!0}function vm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ym(t,e){var r=vm(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vm(r)}}function sy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?sy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ay(){for(var t=window,e=$h();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=$h(t.document)}return e}function A1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function S3(t){var e=ay(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&sy(r.ownerDocument.documentElement,r)){if(n!==null&&A1(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=ym(r,s);var a=ym(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var k3=ys&&"documentMode"in document&&11>=document.documentMode,zo=null,s0=null,mu=null,a0=!1;function wm(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;a0||zo==null||zo!==$h(n)||(n=zo,"selectionStart"in n&&A1(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),mu&&Ru(mu,n)||(mu=n,n=Yh(s0,"onSelect"),0<n.length&&(e=new _1("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=zo)))}function eh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Uo={animationend:eh("Animation","AnimationEnd"),animationiteration:eh("Animation","AnimationIteration"),animationstart:eh("Animation","AnimationStart"),transitionend:eh("Transition","TransitionEnd")},$f={},oy={};ys&&(oy=document.createElement("div").style,"AnimationEvent"in window||(delete Uo.animationend.animation,delete Uo.animationiteration.animation,delete Uo.animationstart.animation),"TransitionEvent"in window||delete Uo.transitionend.transition);function Td(t){if($f[t])return $f[t];if(!Uo[t])return t;var e=Uo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in oy)return $f[t]=e[r];return t}var ly=Td("animationend"),uy=Td("animationiteration"),cy=Td("animationstart"),hy=Td("transitionend"),dy=new Map,bm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fa(t,e){dy.set(t,e),ro(e,[t])}for(var Wf=0;Wf<bm.length;Wf++){var Hf=bm[Wf],A3=Hf.toLowerCase(),N3=Hf[0].toUpperCase()+Hf.slice(1);fa(A3,"on"+N3)}fa(ly,"onAnimationEnd");fa(uy,"onAnimationIteration");fa(cy,"onAnimationStart");fa("dblclick","onDoubleClick");fa("focusin","onFocus");fa("focusout","onBlur");fa(hy,"onTransitionEnd");ul("onMouseEnter",["mouseout","mouseover"]);ul("onMouseLeave",["mouseout","mouseover"]);ul("onPointerEnter",["pointerout","pointerover"]);ul("onPointerLeave",["pointerout","pointerover"]);ro("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ro("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ro("onBeforeInput",["compositionend","keypress","textInput","paste"]);ro("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ro("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ro("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j3=new Set("cancel close invalid load scroll toggle".split(" ").concat(cu));function xm(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,A_(n,e,void 0,t),t.currentTarget=null}function fy(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;xm(i,o,u),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;xm(i,o,u),s=l}}}if(Hh)throw t=t0,Hh=!1,t0=null,t}function Kt(t,e){var r=e[h0];r===void 0&&(r=e[h0]=new Set);var n=t+"__bubble";r.has(n)||(py(e,t,2,!1),r.add(n))}function Vf(t,e,r){var n=0;e&&(n|=4),py(r,t,n,e)}var th="_reactListening"+Math.random().toString(36).slice(2);function Iu(t){if(!t[th]){t[th]=!0,x5.forEach(function(r){r!=="selectionchange"&&(j3.has(r)||Vf(r,!1,t),Vf(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[th]||(e[th]=!0,Vf("selectionchange",!1,e))}}function py(t,e,r,n){switch(X5(e)){case 1:var i=U_;break;case 4:i=q_;break;default:i=b1}r=i.bind(null,e,r,t),i=void 0,!e0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Gf(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=qa(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}D5(function(){var u=s,h=m1(r),p=[];e:{var m=dy.get(t);if(m!==void 0){var f=_1,_=t;switch(t){case"keypress":if(Ch(r)===0)break e;case"keydown":case"keyup":f=n3;break;case"focusin":_="focus",f=zf;break;case"focusout":_="blur",f=zf;break;case"beforeblur":case"afterblur":f=zf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=um;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=H_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=a3;break;case ly:case uy:case cy:f=K_;break;case hy:f=l3;break;case"scroll":f=$_;break;case"wheel":f=c3;break;case"copy":case"cut":case"paste":f=Y_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=hm}var x=(e&4)!==0,A=!x&&t==="scroll",w=x?m!==null?m+"Capture":null:m;x=[];for(var S=u,k;S!==null;){k=S;var E=k.stateNode;if(k.tag===5&&E!==null&&(k=E,w!==null&&(E=Eu(S,w),E!=null&&x.push(Ou(S,E,k)))),A)break;S=S.return}0<x.length&&(m=new f(m,_,null,r,h),p.push({event:m,listeners:x}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",m&&r!==Qp&&(_=r.relatedTarget||r.fromElement)&&(qa(_)||_[ws]))break e;if((f||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,f?(_=r.relatedTarget||r.toElement,f=u,_=_?qa(_):null,_!==null&&(A=no(_),_!==A||_.tag!==5&&_.tag!==6)&&(_=null)):(f=null,_=u),f!==_)){if(x=um,E="onMouseLeave",w="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(x=hm,E="onPointerLeave",w="onPointerEnter",S="pointer"),A=f==null?m:qo(f),k=_==null?m:qo(_),m=new x(E,S+"leave",f,r,h),m.target=A,m.relatedTarget=k,E=null,qa(h)===u&&(x=new x(w,S+"enter",_,r,h),x.target=k,x.relatedTarget=A,E=x),A=E,f&&_)t:{for(x=f,w=_,S=0,k=x;k;k=_o(k))S++;for(k=0,E=w;E;E=_o(E))k++;for(;0<S-k;)x=_o(x),S--;for(;0<k-S;)w=_o(w),k--;for(;S--;){if(x===w||w!==null&&x===w.alternate)break t;x=_o(x),w=_o(w)}x=null}else x=null;f!==null&&_m(p,m,f,x,!1),_!==null&&A!==null&&_m(p,A,_,x,!0)}}e:{if(m=u?qo(u):window,f=m.nodeName&&m.nodeName.toLowerCase(),f==="select"||f==="input"&&m.type==="file")var F=v3;else if(pm(m))if(ny)F=x3;else{F=w3;var G=y3}else(f=m.nodeName)&&f.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(F=b3);if(F&&(F=F(t,u))){ry(p,F,r,h);break e}G&&G(t,m,u),t==="focusout"&&(G=m._wrapperState)&&G.controlled&&m.type==="number"&&Gp(m,"number",m.value)}switch(G=u?qo(u):window,t){case"focusin":(pm(G)||G.contentEditable==="true")&&(zo=G,s0=u,mu=null);break;case"focusout":mu=s0=zo=null;break;case"mousedown":a0=!0;break;case"contextmenu":case"mouseup":case"dragend":a0=!1,wm(p,r,h);break;case"selectionchange":if(k3)break;case"keydown":case"keyup":wm(p,r,h)}var H;if(k1)e:{switch(t){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else Mo?ey(t,r)&&(z="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(z="onCompositionStart");z&&(Z5&&r.locale!=="ko"&&(Mo||z!=="onCompositionStart"?z==="onCompositionEnd"&&Mo&&(H=Q5()):(Ys=h,x1="value"in Ys?Ys.value:Ys.textContent,Mo=!0)),G=Yh(u,z),0<G.length&&(z=new cm(z,t,null,r,h),p.push({event:z,listeners:G}),H?z.data=H:(H=ty(r),H!==null&&(z.data=H)))),(H=d3?f3(t,r):p3(t,r))&&(u=Yh(u,"onBeforeInput"),0<u.length&&(h=new cm("onBeforeInput","beforeinput",null,r,h),p.push({event:h,listeners:u}),h.data=H))}fy(p,e)})}function Ou(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Yh(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Eu(t,r),s!=null&&n.unshift(Ou(t,s,i)),s=Eu(t,e),s!=null&&n.push(Ou(t,s,i))),t=t.return}return n}function _o(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _m(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=Eu(r,s),l!=null&&a.unshift(Ou(r,l,o))):i||(l=Eu(r,s),l!=null&&a.push(Ou(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var E3=/\r\n?/g,C3=/\u0000|\uFFFD/g;function Sm(t){return(typeof t=="string"?t:""+t).replace(E3,`
`).replace(C3,"")}function rh(t,e,r){if(e=Sm(e),Sm(t)!==e&&r)throw Error(je(425))}function Xh(){}var o0=null,l0=null;function u0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var c0=typeof setTimeout=="function"?setTimeout:void 0,L3=typeof clearTimeout=="function"?clearTimeout:void 0,km=typeof Promise=="function"?Promise:void 0,P3=typeof queueMicrotask=="function"?queueMicrotask:typeof km<"u"?function(t){return km.resolve(null).then(t).catch(T3)}:c0;function T3(t){setTimeout(function(){throw t})}function Kf(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Pu(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Pu(e)}function na(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Am(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var yl=Math.random().toString(36).slice(2),qi="__reactFiber$"+yl,Fu="__reactProps$"+yl,ws="__reactContainer$"+yl,h0="__reactEvents$"+yl,R3="__reactListeners$"+yl,I3="__reactHandles$"+yl;function qa(t){var e=t[qi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ws]||r[qi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Am(t);t!==null;){if(r=t[qi])return r;t=Am(t)}return e}t=r,r=t.parentNode}return null}function nc(t){return t=t[qi]||t[ws],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function qo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(je(33))}function Rd(t){return t[Fu]||null}var d0=[],$o=-1;function pa(t){return{current:t}}function Yt(t){0>$o||(t.current=d0[$o],d0[$o]=null,$o--)}function Vt(t,e){$o++,d0[$o]=t.current,t.current=e}var ha={},ln=pa(ha),Sn=pa(!1),Ja=ha;function cl(t,e){var r=t.type.contextTypes;if(!r)return ha;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function kn(t){return t=t.childContextTypes,t!=null}function Qh(){Yt(Sn),Yt(ln)}function Nm(t,e,r){if(ln.current!==ha)throw Error(je(168));Vt(ln,e),Vt(Sn,r)}function gy(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(je(108,y_(t)||"Unknown",i));return nr({},r,n)}function Zh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ha,Ja=ln.current,Vt(ln,t),Vt(Sn,Sn.current),!0}function jm(t,e,r){var n=t.stateNode;if(!n)throw Error(je(169));r?(t=gy(t,e,Ja),n.__reactInternalMemoizedMergedChildContext=t,Yt(Sn),Yt(ln),Vt(ln,t)):Yt(Sn),Vt(Sn,r)}var ds=null,Id=!1,Jf=!1;function my(t){ds===null?ds=[t]:ds.push(t)}function O3(t){Id=!0,my(t)}function ga(){if(!Jf&&ds!==null){Jf=!0;var t=0,e=Bt;try{var r=ds;for(Bt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ds=null,Id=!1}catch(i){throw ds!==null&&(ds=ds.slice(t+1)),U5(v1,ga),i}finally{Bt=e,Jf=!1}}return null}var Wo=[],Ho=0,ed=null,td=0,Zn=[],ei=0,Ya=null,ps=1,gs="";function Oa(t,e){Wo[Ho++]=td,Wo[Ho++]=ed,ed=t,td=e}function vy(t,e,r){Zn[ei++]=ps,Zn[ei++]=gs,Zn[ei++]=Ya,Ya=t;var n=ps;t=gs;var i=32-_i(n)-1;n&=~(1<<i),r+=1;var s=32-_i(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,ps=1<<32-_i(e)+i|r<<i|n,gs=s+t}else ps=1<<s|r<<i|n,gs=t}function N1(t){t.return!==null&&(Oa(t,1),vy(t,1,0))}function j1(t){for(;t===ed;)ed=Wo[--Ho],Wo[Ho]=null,td=Wo[--Ho],Wo[Ho]=null;for(;t===Ya;)Ya=Zn[--ei],Zn[ei]=null,gs=Zn[--ei],Zn[ei]=null,ps=Zn[--ei],Zn[ei]=null}var Un=null,Mn=null,Qt=!1,xi=null;function yy(t,e){var r=ti(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Em(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Un=t,Mn=na(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Un=t,Mn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ya!==null?{id:ps,overflow:gs}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ti(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Un=t,Mn=null,!0):!1;default:return!1}}function f0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function p0(t){if(Qt){var e=Mn;if(e){var r=e;if(!Em(t,e)){if(f0(t))throw Error(je(418));e=na(r.nextSibling);var n=Un;e&&Em(t,e)?yy(n,r):(t.flags=t.flags&-4097|2,Qt=!1,Un=t)}}else{if(f0(t))throw Error(je(418));t.flags=t.flags&-4097|2,Qt=!1,Un=t}}}function Cm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Un=t}function nh(t){if(t!==Un)return!1;if(!Qt)return Cm(t),Qt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!u0(t.type,t.memoizedProps)),e&&(e=Mn)){if(f0(t))throw wy(),Error(je(418));for(;e;)yy(t,e),e=na(e.nextSibling)}if(Cm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(je(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Mn=na(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Mn=null}}else Mn=Un?na(t.stateNode.nextSibling):null;return!0}function wy(){for(var t=Mn;t;)t=na(t.nextSibling)}function hl(){Mn=Un=null,Qt=!1}function E1(t){xi===null?xi=[t]:xi.push(t)}var F3=Ss.ReactCurrentBatchConfig;function tu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(je(309));var n=r.stateNode}if(!n)throw Error(je(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(je(284));if(!r._owner)throw Error(je(290,t))}return t}function ih(t,e){throw t=Object.prototype.toString.call(e),Error(je(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Lm(t){var e=t._init;return e(t._payload)}function by(t){function e(w,S){if(t){var k=w.deletions;k===null?(w.deletions=[S],w.flags|=16):k.push(S)}}function r(w,S){if(!t)return null;for(;S!==null;)e(w,S),S=S.sibling;return null}function n(w,S){for(w=new Map;S!==null;)S.key!==null?w.set(S.key,S):w.set(S.index,S),S=S.sibling;return w}function i(w,S){return w=oa(w,S),w.index=0,w.sibling=null,w}function s(w,S,k){return w.index=k,t?(k=w.alternate,k!==null?(k=k.index,k<S?(w.flags|=2,S):k):(w.flags|=2,S)):(w.flags|=1048576,S)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function o(w,S,k,E){return S===null||S.tag!==6?(S=rp(k,w.mode,E),S.return=w,S):(S=i(S,k),S.return=w,S)}function l(w,S,k,E){var F=k.type;return F===Bo?h(w,S,k.props.children,E,k.key):S!==null&&(S.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Ws&&Lm(F)===S.type)?(E=i(S,k.props),E.ref=tu(w,S,k),E.return=w,E):(E=Fh(k.type,k.key,k.props,null,w.mode,E),E.ref=tu(w,S,k),E.return=w,E)}function u(w,S,k,E){return S===null||S.tag!==4||S.stateNode.containerInfo!==k.containerInfo||S.stateNode.implementation!==k.implementation?(S=np(k,w.mode,E),S.return=w,S):(S=i(S,k.children||[]),S.return=w,S)}function h(w,S,k,E,F){return S===null||S.tag!==7?(S=Ga(k,w.mode,E,F),S.return=w,S):(S=i(S,k),S.return=w,S)}function p(w,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return S=rp(""+S,w.mode,k),S.return=w,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Gc:return k=Fh(S.type,S.key,S.props,null,w.mode,k),k.ref=tu(w,null,S),k.return=w,k;case Do:return S=np(S,w.mode,k),S.return=w,S;case Ws:var E=S._init;return p(w,E(S._payload),k)}if(lu(S)||Yl(S))return S=Ga(S,w.mode,k,null),S.return=w,S;ih(w,S)}return null}function m(w,S,k,E){var F=S!==null?S.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return F!==null?null:o(w,S,""+k,E);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Gc:return k.key===F?l(w,S,k,E):null;case Do:return k.key===F?u(w,S,k,E):null;case Ws:return F=k._init,m(w,S,F(k._payload),E)}if(lu(k)||Yl(k))return F!==null?null:h(w,S,k,E,null);ih(w,k)}return null}function f(w,S,k,E,F){if(typeof E=="string"&&E!==""||typeof E=="number")return w=w.get(k)||null,o(S,w,""+E,F);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Gc:return w=w.get(E.key===null?k:E.key)||null,l(S,w,E,F);case Do:return w=w.get(E.key===null?k:E.key)||null,u(S,w,E,F);case Ws:var G=E._init;return f(w,S,k,G(E._payload),F)}if(lu(E)||Yl(E))return w=w.get(k)||null,h(S,w,E,F,null);ih(S,E)}return null}function _(w,S,k,E){for(var F=null,G=null,H=S,z=S=0,D=null;H!==null&&z<k.length;z++){H.index>z?(D=H,H=null):D=H.sibling;var Z=m(w,H,k[z],E);if(Z===null){H===null&&(H=D);break}t&&H&&Z.alternate===null&&e(w,H),S=s(Z,S,z),G===null?F=Z:G.sibling=Z,G=Z,H=D}if(z===k.length)return r(w,H),Qt&&Oa(w,z),F;if(H===null){for(;z<k.length;z++)H=p(w,k[z],E),H!==null&&(S=s(H,S,z),G===null?F=H:G.sibling=H,G=H);return Qt&&Oa(w,z),F}for(H=n(w,H);z<k.length;z++)D=f(H,w,z,k[z],E),D!==null&&(t&&D.alternate!==null&&H.delete(D.key===null?z:D.key),S=s(D,S,z),G===null?F=D:G.sibling=D,G=D);return t&&H.forEach(function(T){return e(w,T)}),Qt&&Oa(w,z),F}function x(w,S,k,E){var F=Yl(k);if(typeof F!="function")throw Error(je(150));if(k=F.call(k),k==null)throw Error(je(151));for(var G=F=null,H=S,z=S=0,D=null,Z=k.next();H!==null&&!Z.done;z++,Z=k.next()){H.index>z?(D=H,H=null):D=H.sibling;var T=m(w,H,Z.value,E);if(T===null){H===null&&(H=D);break}t&&H&&T.alternate===null&&e(w,H),S=s(T,S,z),G===null?F=T:G.sibling=T,G=T,H=D}if(Z.done)return r(w,H),Qt&&Oa(w,z),F;if(H===null){for(;!Z.done;z++,Z=k.next())Z=p(w,Z.value,E),Z!==null&&(S=s(Z,S,z),G===null?F=Z:G.sibling=Z,G=Z);return Qt&&Oa(w,z),F}for(H=n(w,H);!Z.done;z++,Z=k.next())Z=f(H,w,z,Z.value,E),Z!==null&&(t&&Z.alternate!==null&&H.delete(Z.key===null?z:Z.key),S=s(Z,S,z),G===null?F=Z:G.sibling=Z,G=Z);return t&&H.forEach(function(M){return e(w,M)}),Qt&&Oa(w,z),F}function A(w,S,k,E){if(typeof k=="object"&&k!==null&&k.type===Bo&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Gc:e:{for(var F=k.key,G=S;G!==null;){if(G.key===F){if(F=k.type,F===Bo){if(G.tag===7){r(w,G.sibling),S=i(G,k.props.children),S.return=w,w=S;break e}}else if(G.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Ws&&Lm(F)===G.type){r(w,G.sibling),S=i(G,k.props),S.ref=tu(w,G,k),S.return=w,w=S;break e}r(w,G);break}else e(w,G);G=G.sibling}k.type===Bo?(S=Ga(k.props.children,w.mode,E,k.key),S.return=w,w=S):(E=Fh(k.type,k.key,k.props,null,w.mode,E),E.ref=tu(w,S,k),E.return=w,w=E)}return a(w);case Do:e:{for(G=k.key;S!==null;){if(S.key===G)if(S.tag===4&&S.stateNode.containerInfo===k.containerInfo&&S.stateNode.implementation===k.implementation){r(w,S.sibling),S=i(S,k.children||[]),S.return=w,w=S;break e}else{r(w,S);break}else e(w,S);S=S.sibling}S=np(k,w.mode,E),S.return=w,w=S}return a(w);case Ws:return G=k._init,A(w,S,G(k._payload),E)}if(lu(k))return _(w,S,k,E);if(Yl(k))return x(w,S,k,E);ih(w,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,S!==null&&S.tag===6?(r(w,S.sibling),S=i(S,k),S.return=w,w=S):(r(w,S),S=rp(k,w.mode,E),S.return=w,w=S),a(w)):r(w,S)}return A}var dl=by(!0),xy=by(!1),rd=pa(null),nd=null,Vo=null,C1=null;function L1(){C1=Vo=nd=null}function P1(t){var e=rd.current;Yt(rd),t._currentValue=e}function g0(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function tl(t,e){nd=t,C1=Vo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_n=!0),t.firstContext=null)}function ni(t){var e=t._currentValue;if(C1!==t)if(t={context:t,memoizedValue:e,next:null},Vo===null){if(nd===null)throw Error(je(308));Vo=t,nd.dependencies={lanes:0,firstContext:t}}else Vo=Vo.next=t;return e}var $a=null;function T1(t){$a===null?$a=[t]:$a.push(t)}function _y(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,T1(e)):(r.next=i.next,i.next=r),e.interleaved=r,bs(t,n)}function bs(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Hs=!1;function R1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ia(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Et&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,bs(t,r)}return i=n.interleaved,i===null?(e.next=e,T1(n)):(e.next=i.next,i.next=e),n.interleaved=e,bs(t,r)}function Lh(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,y1(t,r)}}function Pm(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function id(t,e,r,n){var i=t.updateQueue;Hs=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=l))}if(s!==null){var p=i.baseState;a=0,h=u=l=null,o=s;do{var m=o.lane,f=o.eventTime;if((n&m)===m){h!==null&&(h=h.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var _=t,x=o;switch(m=e,f=r,x.tag){case 1:if(_=x.payload,typeof _=="function"){p=_.call(f,p,m);break e}p=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=x.payload,m=typeof _=="function"?_.call(f,p,m):_,m==null)break e;p=nr({},p,m);break e;case 2:Hs=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[o]:m.push(o))}else f={eventTime:f,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=f,l=p):h=h.next=f,a|=m;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;m=o,o=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(h===null&&(l=p),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Qa|=a,t.lanes=a,t.memoizedState=p}}function Tm(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(je(191,i));i.call(n)}}}var ic={},Hi=pa(ic),Du=pa(ic),Bu=pa(ic);function Wa(t){if(t===ic)throw Error(je(174));return t}function I1(t,e){switch(Vt(Bu,e),Vt(Du,t),Vt(Hi,ic),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Jp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Jp(e,t)}Yt(Hi),Vt(Hi,e)}function fl(){Yt(Hi),Yt(Du),Yt(Bu)}function ky(t){Wa(Bu.current);var e=Wa(Hi.current),r=Jp(e,t.type);e!==r&&(Vt(Du,t),Vt(Hi,r))}function O1(t){Du.current===t&&(Yt(Hi),Yt(Du))}var tr=pa(0);function sd(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yf=[];function F1(){for(var t=0;t<Yf.length;t++)Yf[t]._workInProgressVersionPrimary=null;Yf.length=0}var Ph=Ss.ReactCurrentDispatcher,Xf=Ss.ReactCurrentBatchConfig,Xa=0,rr=null,Rr=null,Br=null,ad=!1,vu=!1,Mu=0,D3=0;function en(){throw Error(je(321))}function D1(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ki(t[r],e[r]))return!1;return!0}function B1(t,e,r,n,i,s){if(Xa=s,rr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ph.current=t===null||t.memoizedState===null?U3:q3,t=r(n,i),vu){s=0;do{if(vu=!1,Mu=0,25<=s)throw Error(je(301));s+=1,Br=Rr=null,e.updateQueue=null,Ph.current=$3,t=r(n,i)}while(vu)}if(Ph.current=od,e=Rr!==null&&Rr.next!==null,Xa=0,Br=Rr=rr=null,ad=!1,e)throw Error(je(300));return t}function M1(){var t=Mu!==0;return Mu=0,t}function Ui(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Br===null?rr.memoizedState=Br=t:Br=Br.next=t,Br}function ii(){if(Rr===null){var t=rr.alternate;t=t!==null?t.memoizedState:null}else t=Rr.next;var e=Br===null?rr.memoizedState:Br.next;if(e!==null)Br=e,Rr=t;else{if(t===null)throw Error(je(310));Rr=t,t={memoizedState:Rr.memoizedState,baseState:Rr.baseState,baseQueue:Rr.baseQueue,queue:Rr.queue,next:null},Br===null?rr.memoizedState=Br=t:Br=Br.next=t}return Br}function zu(t,e){return typeof e=="function"?e(t):e}function Qf(t){var e=ii(),r=e.queue;if(r===null)throw Error(je(311));r.lastRenderedReducer=t;var n=Rr,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,u=s;do{var h=u.lane;if((Xa&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var p={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=p,a=n):l=l.next=p,rr.lanes|=h,Qa|=h}u=u.next}while(u!==null&&u!==s);l===null?a=n:l.next=o,ki(n,e.memoizedState)||(_n=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,rr.lanes|=s,Qa|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Zf(t){var e=ii(),r=e.queue;if(r===null)throw Error(je(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);ki(s,e.memoizedState)||(_n=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function Ay(){}function Ny(t,e){var r=rr,n=ii(),i=e(),s=!ki(n.memoizedState,i);if(s&&(n.memoizedState=i,_n=!0),n=n.queue,z1(Cy.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Br!==null&&Br.memoizedState.tag&1){if(r.flags|=2048,Uu(9,Ey.bind(null,r,n,i,e),void 0,null),zr===null)throw Error(je(349));Xa&30||jy(r,e,i)}return i}function jy(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=rr.updateQueue,e===null?(e={lastEffect:null,stores:null},rr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Ey(t,e,r,n){e.value=r,e.getSnapshot=n,Ly(e)&&Py(t)}function Cy(t,e,r){return r(function(){Ly(e)&&Py(t)})}function Ly(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ki(t,r)}catch{return!0}}function Py(t){var e=bs(t,1);e!==null&&Si(e,t,1,-1)}function Rm(t){var e=Ui();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zu,lastRenderedState:t},e.queue=t,t=t.dispatch=z3.bind(null,rr,t),[e.memoizedState,t]}function Uu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=rr.updateQueue,e===null?(e={lastEffect:null,stores:null},rr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Ty(){return ii().memoizedState}function Th(t,e,r,n){var i=Ui();rr.flags|=t,i.memoizedState=Uu(1|e,r,void 0,n===void 0?null:n)}function Od(t,e,r,n){var i=ii();n=n===void 0?null:n;var s=void 0;if(Rr!==null){var a=Rr.memoizedState;if(s=a.destroy,n!==null&&D1(n,a.deps)){i.memoizedState=Uu(e,r,s,n);return}}rr.flags|=t,i.memoizedState=Uu(1|e,r,s,n)}function Im(t,e){return Th(8390656,8,t,e)}function z1(t,e){return Od(2048,8,t,e)}function Ry(t,e){return Od(4,2,t,e)}function Iy(t,e){return Od(4,4,t,e)}function Oy(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Fy(t,e,r){return r=r!=null?r.concat([t]):null,Od(4,4,Oy.bind(null,e,t),r)}function U1(){}function Dy(t,e){var r=ii();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&D1(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function By(t,e){var r=ii();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&D1(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function My(t,e,r){return Xa&21?(ki(r,e)||(r=W5(),rr.lanes|=r,Qa|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_n=!0),t.memoizedState=r)}function B3(t,e){var r=Bt;Bt=r!==0&&4>r?r:4,t(!0);var n=Xf.transition;Xf.transition={};try{t(!1),e()}finally{Bt=r,Xf.transition=n}}function zy(){return ii().memoizedState}function M3(t,e,r){var n=aa(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Uy(t))qy(e,r);else if(r=_y(t,e,r,n),r!==null){var i=mn();Si(r,t,n,i),$y(r,e,n)}}function z3(t,e,r){var n=aa(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Uy(t))qy(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,ki(o,a)){var l=e.interleaved;l===null?(i.next=i,T1(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=_y(t,e,i,n),r!==null&&(i=mn(),Si(r,t,n,i),$y(r,e,n))}}function Uy(t){var e=t.alternate;return t===rr||e!==null&&e===rr}function qy(t,e){vu=ad=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function $y(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,y1(t,r)}}var od={readContext:ni,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},U3={readContext:ni,useCallback:function(t,e){return Ui().memoizedState=[t,e===void 0?null:e],t},useContext:ni,useEffect:Im,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Th(4194308,4,Oy.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Th(4194308,4,t,e)},useInsertionEffect:function(t,e){return Th(4,2,t,e)},useMemo:function(t,e){var r=Ui();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Ui();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=M3.bind(null,rr,t),[n.memoizedState,t]},useRef:function(t){var e=Ui();return t={current:t},e.memoizedState=t},useState:Rm,useDebugValue:U1,useDeferredValue:function(t){return Ui().memoizedState=t},useTransition:function(){var t=Rm(!1),e=t[0];return t=B3.bind(null,t[1]),Ui().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=rr,i=Ui();if(Qt){if(r===void 0)throw Error(je(407));r=r()}else{if(r=e(),zr===null)throw Error(je(349));Xa&30||jy(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,Im(Cy.bind(null,n,s,t),[t]),n.flags|=2048,Uu(9,Ey.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Ui(),e=zr.identifierPrefix;if(Qt){var r=gs,n=ps;r=(n&~(1<<32-_i(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Mu++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=D3++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},q3={readContext:ni,useCallback:Dy,useContext:ni,useEffect:z1,useImperativeHandle:Fy,useInsertionEffect:Ry,useLayoutEffect:Iy,useMemo:By,useReducer:Qf,useRef:Ty,useState:function(){return Qf(zu)},useDebugValue:U1,useDeferredValue:function(t){var e=ii();return My(e,Rr.memoizedState,t)},useTransition:function(){var t=Qf(zu)[0],e=ii().memoizedState;return[t,e]},useMutableSource:Ay,useSyncExternalStore:Ny,useId:zy,unstable_isNewReconciler:!1},$3={readContext:ni,useCallback:Dy,useContext:ni,useEffect:z1,useImperativeHandle:Fy,useInsertionEffect:Ry,useLayoutEffect:Iy,useMemo:By,useReducer:Zf,useRef:Ty,useState:function(){return Zf(zu)},useDebugValue:U1,useDeferredValue:function(t){var e=ii();return Rr===null?e.memoizedState=t:My(e,Rr.memoizedState,t)},useTransition:function(){var t=Zf(zu)[0],e=ii().memoizedState;return[t,e]},useMutableSource:Ay,useSyncExternalStore:Ny,useId:zy,unstable_isNewReconciler:!1};function vi(t,e){if(t&&t.defaultProps){e=nr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function m0(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:nr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Fd={isMounted:function(t){return(t=t._reactInternals)?no(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=mn(),i=aa(t),s=vs(n,i);s.payload=e,r!=null&&(s.callback=r),e=ia(t,s,i),e!==null&&(Si(e,t,i,n),Lh(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=mn(),i=aa(t),s=vs(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=ia(t,s,i),e!==null&&(Si(e,t,i,n),Lh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=mn(),n=aa(t),i=vs(r,n);i.tag=2,e!=null&&(i.callback=e),e=ia(t,i,n),e!==null&&(Si(e,t,n,r),Lh(e,t,n))}};function Om(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Ru(r,n)||!Ru(i,s):!0}function Wy(t,e,r){var n=!1,i=ha,s=e.contextType;return typeof s=="object"&&s!==null?s=ni(s):(i=kn(e)?Ja:ln.current,n=e.contextTypes,s=(n=n!=null)?cl(t,i):ha),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fd,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Fm(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Fd.enqueueReplaceState(e,e.state,null)}function v0(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},R1(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ni(s):(s=kn(e)?Ja:ln.current,i.context=cl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(m0(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Fd.enqueueReplaceState(i,i.state,null),id(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function pl(t,e){try{var r="",n=e;do r+=v_(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function ep(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function y0(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var W3=typeof WeakMap=="function"?WeakMap:Map;function Hy(t,e,r){r=vs(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ud||(ud=!0,E0=n),y0(t,e)},r}function Vy(t,e,r){r=vs(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){y0(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){y0(t,e),typeof n!="function"&&(sa===null?sa=new Set([this]):sa.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function Dm(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new W3;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=i4.bind(null,t,e,r),e.then(t,t))}function Bm(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Mm(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=vs(-1,1),e.tag=2,ia(r,e,1))),r.lanes|=1),t)}var H3=Ss.ReactCurrentOwner,_n=!1;function gn(t,e,r,n){e.child=t===null?xy(e,null,r,n):dl(e,t.child,r,n)}function zm(t,e,r,n,i){r=r.render;var s=e.ref;return tl(e,i),n=B1(t,e,r,n,s,i),r=M1(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xs(t,e,i)):(Qt&&r&&N1(e),e.flags|=1,gn(t,e,n,i),e.child)}function Um(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!J1(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,Gy(t,e,s,n,i)):(t=Fh(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Ru,r(a,n)&&t.ref===e.ref)return xs(t,e,i)}return e.flags|=1,t=oa(s,n),t.ref=e.ref,t.return=e,e.child=t}function Gy(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Ru(s,n)&&t.ref===e.ref)if(_n=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(_n=!0);else return e.lanes=t.lanes,xs(t,e,i)}return w0(t,e,r,n,i)}function Ky(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vt(Ko,Dn),Dn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Vt(Ko,Dn),Dn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Vt(Ko,Dn),Dn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Vt(Ko,Dn),Dn|=n;return gn(t,e,i,r),e.child}function Jy(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function w0(t,e,r,n,i){var s=kn(r)?Ja:ln.current;return s=cl(e,s),tl(e,i),r=B1(t,e,r,n,s,i),n=M1(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xs(t,e,i)):(Qt&&n&&N1(e),e.flags|=1,gn(t,e,r,i),e.child)}function qm(t,e,r,n,i){if(kn(r)){var s=!0;Zh(e)}else s=!1;if(tl(e,i),e.stateNode===null)Rh(t,e),Wy(e,r,n),v0(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=ni(u):(u=kn(r)?Ja:ln.current,u=cl(e,u));var h=r.getDerivedStateFromProps,p=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&Fm(e,a,n,u),Hs=!1;var m=e.memoizedState;a.state=m,id(e,n,a,i),l=e.memoizedState,o!==n||m!==l||Sn.current||Hs?(typeof h=="function"&&(m0(e,r,h,n),l=e.memoizedState),(o=Hs||Om(e,r,o,n,m,l,u))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,Sy(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:vi(e.type,o),a.props=u,p=e.pendingProps,m=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=ni(l):(l=kn(r)?Ja:ln.current,l=cl(e,l));var f=r.getDerivedStateFromProps;(h=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==p||m!==l)&&Fm(e,a,n,l),Hs=!1,m=e.memoizedState,a.state=m,id(e,n,a,i);var _=e.memoizedState;o!==p||m!==_||Sn.current||Hs?(typeof f=="function"&&(m0(e,r,f,n),_=e.memoizedState),(u=Hs||Om(e,r,u,n,m,_,l)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,_,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,_,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=_),a.props=n,a.state=_,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return b0(t,e,r,n,s,i)}function b0(t,e,r,n,i,s){Jy(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&jm(e,r,!1),xs(t,e,s);n=e.stateNode,H3.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=dl(e,t.child,null,s),e.child=dl(e,null,o,s)):gn(t,e,o,s),e.memoizedState=n.state,i&&jm(e,r,!0),e.child}function Yy(t){var e=t.stateNode;e.pendingContext?Nm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Nm(t,e.context,!1),I1(t,e.containerInfo)}function $m(t,e,r,n,i){return hl(),E1(i),e.flags|=256,gn(t,e,r,n),e.child}var x0={dehydrated:null,treeContext:null,retryLane:0};function _0(t){return{baseLanes:t,cachePool:null,transitions:null}}function Xy(t,e,r){var n=e.pendingProps,i=tr.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Vt(tr,i&1),t===null)return p0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Md(a,n,0,null),t=Ga(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=_0(r),e.memoizedState=x0,t):q1(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return V3(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=oa(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=oa(o,s):(s=Ga(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?_0(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=x0,n}return s=t.child,t=s.sibling,n=oa(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function q1(t,e){return e=Md({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function sh(t,e,r,n){return n!==null&&E1(n),dl(e,t.child,null,r),t=q1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function V3(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=ep(Error(je(422))),sh(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Md({mode:"visible",children:n.children},i,0,null),s=Ga(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&dl(e,t.child,null,a),e.child.memoizedState=_0(a),e.memoizedState=x0,s);if(!(e.mode&1))return sh(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(je(419)),n=ep(s,n,void 0),sh(t,e,a,n)}if(o=(a&t.childLanes)!==0,_n||o){if(n=zr,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,bs(t,i),Si(n,t,i,-1))}return K1(),n=ep(Error(je(421))),sh(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=s4.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Mn=na(i.nextSibling),Un=e,Qt=!0,xi=null,t!==null&&(Zn[ei++]=ps,Zn[ei++]=gs,Zn[ei++]=Ya,ps=t.id,gs=t.overflow,Ya=e),e=q1(e,n.children),e.flags|=4096,e)}function Wm(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),g0(t.return,e,r)}function tp(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function Qy(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(gn(t,e,n.children,r),n=tr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wm(t,r,e);else if(t.tag===19)Wm(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Vt(tr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&sd(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),tp(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&sd(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}tp(e,!0,r,null,s);break;case"together":tp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Rh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xs(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Qa|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(je(153));if(e.child!==null){for(t=e.child,r=oa(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=oa(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function G3(t,e,r){switch(e.tag){case 3:Yy(e),hl();break;case 5:ky(e);break;case 1:kn(e.type)&&Zh(e);break;case 4:I1(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Vt(rd,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Vt(tr,tr.current&1),e.flags|=128,null):r&e.child.childLanes?Xy(t,e,r):(Vt(tr,tr.current&1),t=xs(t,e,r),t!==null?t.sibling:null);Vt(tr,tr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Qy(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Vt(tr,tr.current),n)break;return null;case 22:case 23:return e.lanes=0,Ky(t,e,r)}return xs(t,e,r)}var Zy,S0,ew,tw;Zy=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};S0=function(){};ew=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Wa(Hi.current);var s=null;switch(r){case"input":i=Hp(t,i),n=Hp(t,n),s=[];break;case"select":i=nr({},i,{value:void 0}),n=nr({},n,{value:void 0}),s=[];break;case"textarea":i=Kp(t,i),n=Kp(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Xh)}Yp(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Nu.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Nu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Kt("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};tw=function(t,e,r,n){r!==n&&(e.flags|=4)};function ru(t,e){if(!Qt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function tn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function K3(t,e,r){var n=e.pendingProps;switch(j1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(e),null;case 1:return kn(e.type)&&Qh(),tn(e),null;case 3:return n=e.stateNode,fl(),Yt(Sn),Yt(ln),F1(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(nh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xi!==null&&(P0(xi),xi=null))),S0(t,e),tn(e),null;case 5:O1(e);var i=Wa(Bu.current);if(r=e.type,t!==null&&e.stateNode!=null)ew(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(je(166));return tn(e),null}if(t=Wa(Hi.current),nh(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[qi]=e,n[Fu]=s,t=(e.mode&1)!==0,r){case"dialog":Kt("cancel",n),Kt("close",n);break;case"iframe":case"object":case"embed":Kt("load",n);break;case"video":case"audio":for(i=0;i<cu.length;i++)Kt(cu[i],n);break;case"source":Kt("error",n);break;case"img":case"image":case"link":Kt("error",n),Kt("load",n);break;case"details":Kt("toggle",n);break;case"input":Zg(n,s),Kt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Kt("invalid",n);break;case"textarea":tm(n,s),Kt("invalid",n)}Yp(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&rh(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&rh(n.textContent,o,t),i=["children",""+o]):Nu.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Kt("scroll",n)}switch(r){case"input":Kc(n),em(n,s,!0);break;case"textarea":Kc(n),rm(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Xh)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=C5(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[qi]=e,t[Fu]=n,Zy(t,e,!1,!1),e.stateNode=t;e:{switch(a=Xp(r,n),r){case"dialog":Kt("cancel",t),Kt("close",t),i=n;break;case"iframe":case"object":case"embed":Kt("load",t),i=n;break;case"video":case"audio":for(i=0;i<cu.length;i++)Kt(cu[i],t);i=n;break;case"source":Kt("error",t),i=n;break;case"img":case"image":case"link":Kt("error",t),Kt("load",t),i=n;break;case"details":Kt("toggle",t),i=n;break;case"input":Zg(t,n),i=Hp(t,n),Kt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=nr({},n,{value:void 0}),Kt("invalid",t);break;case"textarea":tm(t,n),i=Kp(t,n),Kt("invalid",t);break;default:i=n}Yp(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?T5(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&L5(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ju(t,l):typeof l=="number"&&ju(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Nu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Kt("scroll",t):l!=null&&d1(t,s,l,a))}switch(r){case"input":Kc(t),em(t,n,!1);break;case"textarea":Kc(t),rm(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ca(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Xo(t,!!n.multiple,s,!1):n.defaultValue!=null&&Xo(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Xh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return tn(e),null;case 6:if(t&&e.stateNode!=null)tw(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(je(166));if(r=Wa(Bu.current),Wa(Hi.current),nh(e)){if(n=e.stateNode,r=e.memoizedProps,n[qi]=e,(s=n.nodeValue!==r)&&(t=Un,t!==null))switch(t.tag){case 3:rh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&rh(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[qi]=e,e.stateNode=n}return tn(e),null;case 13:if(Yt(tr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qt&&Mn!==null&&e.mode&1&&!(e.flags&128))wy(),hl(),e.flags|=98560,s=!1;else if(s=nh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(je(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(je(317));s[qi]=e}else hl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;tn(e),s=!1}else xi!==null&&(P0(xi),xi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||tr.current&1?Ir===0&&(Ir=3):K1())),e.updateQueue!==null&&(e.flags|=4),tn(e),null);case 4:return fl(),S0(t,e),t===null&&Iu(e.stateNode.containerInfo),tn(e),null;case 10:return P1(e.type._context),tn(e),null;case 17:return kn(e.type)&&Qh(),tn(e),null;case 19:if(Yt(tr),s=e.memoizedState,s===null)return tn(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)ru(s,!1);else{if(Ir!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=sd(t),a!==null){for(e.flags|=128,ru(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Vt(tr,tr.current&1|2),e.child}t=t.sibling}s.tail!==null&&gr()>gl&&(e.flags|=128,n=!0,ru(s,!1),e.lanes=4194304)}else{if(!n)if(t=sd(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ru(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Qt)return tn(e),null}else 2*gr()-s.renderingStartTime>gl&&r!==1073741824&&(e.flags|=128,n=!0,ru(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=gr(),e.sibling=null,r=tr.current,Vt(tr,n?r&1|2:r&1),e):(tn(e),null);case 22:case 23:return G1(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Dn&1073741824&&(tn(e),e.subtreeFlags&6&&(e.flags|=8192)):tn(e),null;case 24:return null;case 25:return null}throw Error(je(156,e.tag))}function J3(t,e){switch(j1(e),e.tag){case 1:return kn(e.type)&&Qh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fl(),Yt(Sn),Yt(ln),F1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return O1(e),null;case 13:if(Yt(tr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(je(340));hl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Yt(tr),null;case 4:return fl(),null;case 10:return P1(e.type._context),null;case 22:case 23:return G1(),null;case 24:return null;default:return null}}var ah=!1,on=!1,Y3=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function Go(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ur(t,e,n)}else r.current=null}function k0(t,e,r){try{r()}catch(n){ur(t,e,n)}}var Hm=!1;function X3(t,e){if(o0=Kh,t=ay(),A1(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,u=0,h=0,p=t,m=null;t:for(;;){for(var f;p!==r||i!==0&&p.nodeType!==3||(o=a+i),p!==s||n!==0&&p.nodeType!==3||(l=a+n),p.nodeType===3&&(a+=p.nodeValue.length),(f=p.firstChild)!==null;)m=p,p=f;for(;;){if(p===t)break t;if(m===r&&++u===i&&(o=a),m===s&&++h===n&&(l=a),(f=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=f}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(l0={focusedElem:t,selectionRange:r},Kh=!1,Oe=e;Oe!==null;)if(e=Oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Oe=t;else for(;Oe!==null;){e=Oe;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var x=_.memoizedProps,A=_.memoizedState,w=e.stateNode,S=w.getSnapshotBeforeUpdate(e.elementType===e.type?x:vi(e.type,x),A);w.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(je(163))}}catch(E){ur(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,Oe=t;break}Oe=e.return}return _=Hm,Hm=!1,_}function yu(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&k0(e,r,s)}i=i.next}while(i!==n)}}function Dd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function A0(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function rw(t){var e=t.alternate;e!==null&&(t.alternate=null,rw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qi],delete e[Fu],delete e[h0],delete e[R3],delete e[I3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nw(t){return t.tag===5||t.tag===3||t.tag===4}function Vm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function N0(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Xh));else if(n!==4&&(t=t.child,t!==null))for(N0(t,e,r),t=t.sibling;t!==null;)N0(t,e,r),t=t.sibling}function j0(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(j0(t,e,r),t=t.sibling;t!==null;)j0(t,e,r),t=t.sibling}var Yr=null,wi=!1;function Us(t,e,r){for(r=r.child;r!==null;)iw(t,e,r),r=r.sibling}function iw(t,e,r){if(Wi&&typeof Wi.onCommitFiberUnmount=="function")try{Wi.onCommitFiberUnmount(Cd,r)}catch{}switch(r.tag){case 5:on||Go(r,e);case 6:var n=Yr,i=wi;Yr=null,Us(t,e,r),Yr=n,wi=i,Yr!==null&&(wi?(t=Yr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Yr.removeChild(r.stateNode));break;case 18:Yr!==null&&(wi?(t=Yr,r=r.stateNode,t.nodeType===8?Kf(t.parentNode,r):t.nodeType===1&&Kf(t,r),Pu(t)):Kf(Yr,r.stateNode));break;case 4:n=Yr,i=wi,Yr=r.stateNode.containerInfo,wi=!0,Us(t,e,r),Yr=n,wi=i;break;case 0:case 11:case 14:case 15:if(!on&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&k0(r,e,a),i=i.next}while(i!==n)}Us(t,e,r);break;case 1:if(!on&&(Go(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){ur(r,e,o)}Us(t,e,r);break;case 21:Us(t,e,r);break;case 22:r.mode&1?(on=(n=on)||r.memoizedState!==null,Us(t,e,r),on=n):Us(t,e,r);break;default:Us(t,e,r)}}function Gm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Y3),e.forEach(function(n){var i=a4.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function pi(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Yr=o.stateNode,wi=!1;break e;case 3:Yr=o.stateNode.containerInfo,wi=!0;break e;case 4:Yr=o.stateNode.containerInfo,wi=!0;break e}o=o.return}if(Yr===null)throw Error(je(160));iw(s,a,i),Yr=null,wi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ur(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sw(e,t),e=e.sibling}function sw(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(pi(e,t),Di(t),n&4){try{yu(3,t,t.return),Dd(3,t)}catch(x){ur(t,t.return,x)}try{yu(5,t,t.return)}catch(x){ur(t,t.return,x)}}break;case 1:pi(e,t),Di(t),n&512&&r!==null&&Go(r,r.return);break;case 5:if(pi(e,t),Di(t),n&512&&r!==null&&Go(r,r.return),t.flags&32){var i=t.stateNode;try{ju(i,"")}catch(x){ur(t,t.return,x)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&j5(i,s),Xp(o,a);var u=Xp(o,s);for(a=0;a<l.length;a+=2){var h=l[a],p=l[a+1];h==="style"?T5(i,p):h==="dangerouslySetInnerHTML"?L5(i,p):h==="children"?ju(i,p):d1(i,h,p,u)}switch(o){case"input":Vp(i,s);break;case"textarea":E5(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Xo(i,!!s.multiple,f,!1):m!==!!s.multiple&&(s.defaultValue!=null?Xo(i,!!s.multiple,s.defaultValue,!0):Xo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Fu]=s}catch(x){ur(t,t.return,x)}}break;case 6:if(pi(e,t),Di(t),n&4){if(t.stateNode===null)throw Error(je(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){ur(t,t.return,x)}}break;case 3:if(pi(e,t),Di(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Pu(e.containerInfo)}catch(x){ur(t,t.return,x)}break;case 4:pi(e,t),Di(t);break;case 13:pi(e,t),Di(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(H1=gr())),n&4&&Gm(t);break;case 22:if(h=r!==null&&r.memoizedState!==null,t.mode&1?(on=(u=on)||h,pi(e,t),on=u):pi(e,t),Di(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(Oe=t,h=t.child;h!==null;){for(p=Oe=h;Oe!==null;){switch(m=Oe,f=m.child,m.tag){case 0:case 11:case 14:case 15:yu(4,m,m.return);break;case 1:Go(m,m.return);var _=m.stateNode;if(typeof _.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(x){ur(n,r,x)}}break;case 5:Go(m,m.return);break;case 22:if(m.memoizedState!==null){Jm(p);continue}}f!==null?(f.return=m,Oe=f):Jm(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{i=p.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=p.stateNode,l=p.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=P5("display",a))}catch(x){ur(t,t.return,x)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(x){ur(t,t.return,x)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:pi(e,t),Di(t),n&4&&Gm(t);break;case 21:break;default:pi(e,t),Di(t)}}function Di(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(nw(r)){var n=r;break e}r=r.return}throw Error(je(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ju(i,""),n.flags&=-33);var s=Vm(t);j0(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=Vm(t);N0(t,o,a);break;default:throw Error(je(161))}}catch(l){ur(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Q3(t,e,r){Oe=t,aw(t)}function aw(t,e,r){for(var n=(t.mode&1)!==0;Oe!==null;){var i=Oe,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||ah;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||on;o=ah;var u=on;if(ah=a,(on=l)&&!u)for(Oe=i;Oe!==null;)a=Oe,l=a.child,a.tag===22&&a.memoizedState!==null?Ym(i):l!==null?(l.return=a,Oe=l):Ym(i);for(;s!==null;)Oe=s,aw(s),s=s.sibling;Oe=i,ah=o,on=u}Km(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Oe=s):Km(t)}}function Km(t){for(;Oe!==null;){var e=Oe;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:on||Dd(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!on)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:vi(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Tm(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Tm(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&Pu(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(je(163))}on||e.flags&512&&A0(e)}catch(m){ur(e,e.return,m)}}if(e===t){Oe=null;break}if(r=e.sibling,r!==null){r.return=e.return,Oe=r;break}Oe=e.return}}function Jm(t){for(;Oe!==null;){var e=Oe;if(e===t){Oe=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Oe=r;break}Oe=e.return}}function Ym(t){for(;Oe!==null;){var e=Oe;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Dd(4,e)}catch(l){ur(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){ur(e,i,l)}}var s=e.return;try{A0(e)}catch(l){ur(e,s,l)}break;case 5:var a=e.return;try{A0(e)}catch(l){ur(e,a,l)}}}catch(l){ur(e,e.return,l)}if(e===t){Oe=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Oe=o;break}Oe=e.return}}var Z3=Math.ceil,ld=Ss.ReactCurrentDispatcher,$1=Ss.ReactCurrentOwner,ri=Ss.ReactCurrentBatchConfig,Et=0,zr=null,Sr=null,Xr=0,Dn=0,Ko=pa(0),Ir=0,qu=null,Qa=0,Bd=0,W1=0,wu=null,xn=null,H1=0,gl=1/0,cs=null,ud=!1,E0=null,sa=null,oh=!1,Xs=null,cd=0,bu=0,C0=null,Ih=-1,Oh=0;function mn(){return Et&6?gr():Ih!==-1?Ih:Ih=gr()}function aa(t){return t.mode&1?Et&2&&Xr!==0?Xr&-Xr:F3.transition!==null?(Oh===0&&(Oh=W5()),Oh):(t=Bt,t!==0||(t=window.event,t=t===void 0?16:X5(t.type)),t):1}function Si(t,e,r,n){if(50<bu)throw bu=0,C0=null,Error(je(185));tc(t,r,n),(!(Et&2)||t!==zr)&&(t===zr&&(!(Et&2)&&(Bd|=r),Ir===4&&Ks(t,Xr)),An(t,n),r===1&&Et===0&&!(e.mode&1)&&(gl=gr()+500,Id&&ga()))}function An(t,e){var r=t.callbackNode;F_(t,e);var n=Gh(t,t===zr?Xr:0);if(n===0)r!==null&&sm(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&sm(r),e===1)t.tag===0?O3(Xm.bind(null,t)):my(Xm.bind(null,t)),P3(function(){!(Et&6)&&ga()}),r=null;else{switch(H5(n)){case 1:r=v1;break;case 4:r=q5;break;case 16:r=Vh;break;case 536870912:r=$5;break;default:r=Vh}r=pw(r,ow.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function ow(t,e){if(Ih=-1,Oh=0,Et&6)throw Error(je(327));var r=t.callbackNode;if(rl()&&t.callbackNode!==r)return null;var n=Gh(t,t===zr?Xr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=hd(t,n);else{e=n;var i=Et;Et|=2;var s=uw();(zr!==t||Xr!==e)&&(cs=null,gl=gr()+500,Va(t,e));do try{r4();break}catch(o){lw(t,o)}while(!0);L1(),ld.current=s,Et=i,Sr!==null?e=0:(zr=null,Xr=0,e=Ir)}if(e!==0){if(e===2&&(i=r0(t),i!==0&&(n=i,e=L0(t,i))),e===1)throw r=qu,Va(t,0),Ks(t,n),An(t,gr()),r;if(e===6)Ks(t,n);else{if(i=t.current.alternate,!(n&30)&&!e4(i)&&(e=hd(t,n),e===2&&(s=r0(t),s!==0&&(n=s,e=L0(t,s))),e===1))throw r=qu,Va(t,0),Ks(t,n),An(t,gr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(je(345));case 2:Fa(t,xn,cs);break;case 3:if(Ks(t,n),(n&130023424)===n&&(e=H1+500-gr(),10<e)){if(Gh(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){mn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=c0(Fa.bind(null,t,xn,cs),e);break}Fa(t,xn,cs);break;case 4:if(Ks(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-_i(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=gr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Z3(n/1960))-n,10<n){t.timeoutHandle=c0(Fa.bind(null,t,xn,cs),n);break}Fa(t,xn,cs);break;case 5:Fa(t,xn,cs);break;default:throw Error(je(329))}}}return An(t,gr()),t.callbackNode===r?ow.bind(null,t):null}function L0(t,e){var r=wu;return t.current.memoizedState.isDehydrated&&(Va(t,e).flags|=256),t=hd(t,e),t!==2&&(e=xn,xn=r,e!==null&&P0(e)),t}function P0(t){xn===null?xn=t:xn.push.apply(xn,t)}function e4(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!ki(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ks(t,e){for(e&=~W1,e&=~Bd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-_i(e),n=1<<r;t[r]=-1,e&=~n}}function Xm(t){if(Et&6)throw Error(je(327));rl();var e=Gh(t,0);if(!(e&1))return An(t,gr()),null;var r=hd(t,e);if(t.tag!==0&&r===2){var n=r0(t);n!==0&&(e=n,r=L0(t,n))}if(r===1)throw r=qu,Va(t,0),Ks(t,e),An(t,gr()),r;if(r===6)throw Error(je(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fa(t,xn,cs),An(t,gr()),null}function V1(t,e){var r=Et;Et|=1;try{return t(e)}finally{Et=r,Et===0&&(gl=gr()+500,Id&&ga())}}function Za(t){Xs!==null&&Xs.tag===0&&!(Et&6)&&rl();var e=Et;Et|=1;var r=ri.transition,n=Bt;try{if(ri.transition=null,Bt=1,t)return t()}finally{Bt=n,ri.transition=r,Et=e,!(Et&6)&&ga()}}function G1(){Dn=Ko.current,Yt(Ko)}function Va(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,L3(r)),Sr!==null)for(r=Sr.return;r!==null;){var n=r;switch(j1(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Qh();break;case 3:fl(),Yt(Sn),Yt(ln),F1();break;case 5:O1(n);break;case 4:fl();break;case 13:Yt(tr);break;case 19:Yt(tr);break;case 10:P1(n.type._context);break;case 22:case 23:G1()}r=r.return}if(zr=t,Sr=t=oa(t.current,null),Xr=Dn=e,Ir=0,qu=null,W1=Bd=Qa=0,xn=wu=null,$a!==null){for(e=0;e<$a.length;e++)if(r=$a[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}$a=null}return t}function lw(t,e){do{var r=Sr;try{if(L1(),Ph.current=od,ad){for(var n=rr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ad=!1}if(Xa=0,Br=Rr=rr=null,vu=!1,Mu=0,$1.current=null,r===null||r.return===null){Ir=1,qu=e,Sr=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=Xr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=o,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var f=Bm(a);if(f!==null){f.flags&=-257,Mm(f,a,o,s,e),f.mode&1&&Dm(s,u,e),e=f,l=u;var _=e.updateQueue;if(_===null){var x=new Set;x.add(l),e.updateQueue=x}else _.add(l);break e}else{if(!(e&1)){Dm(s,u,e),K1();break e}l=Error(je(426))}}else if(Qt&&o.mode&1){var A=Bm(a);if(A!==null){!(A.flags&65536)&&(A.flags|=256),Mm(A,a,o,s,e),E1(pl(l,o));break e}}s=l=pl(l,o),Ir!==4&&(Ir=2),wu===null?wu=[s]:wu.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=Hy(s,l,e);Pm(s,w);break e;case 1:o=l;var S=s.type,k=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(sa===null||!sa.has(k)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=Vy(s,o,e);Pm(s,E);break e}}s=s.return}while(s!==null)}hw(r)}catch(F){e=F,Sr===r&&r!==null&&(Sr=r=r.return);continue}break}while(!0)}function uw(){var t=ld.current;return ld.current=od,t===null?od:t}function K1(){(Ir===0||Ir===3||Ir===2)&&(Ir=4),zr===null||!(Qa&268435455)&&!(Bd&268435455)||Ks(zr,Xr)}function hd(t,e){var r=Et;Et|=2;var n=uw();(zr!==t||Xr!==e)&&(cs=null,Va(t,e));do try{t4();break}catch(i){lw(t,i)}while(!0);if(L1(),Et=r,ld.current=n,Sr!==null)throw Error(je(261));return zr=null,Xr=0,Ir}function t4(){for(;Sr!==null;)cw(Sr)}function r4(){for(;Sr!==null&&!j_();)cw(Sr)}function cw(t){var e=fw(t.alternate,t,Dn);t.memoizedProps=t.pendingProps,e===null?hw(t):Sr=e,$1.current=null}function hw(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=J3(r,e),r!==null){r.flags&=32767,Sr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ir=6,Sr=null;return}}else if(r=K3(r,e,Dn),r!==null){Sr=r;return}if(e=e.sibling,e!==null){Sr=e;return}Sr=e=t}while(e!==null);Ir===0&&(Ir=5)}function Fa(t,e,r){var n=Bt,i=ri.transition;try{ri.transition=null,Bt=1,n4(t,e,r,n)}finally{ri.transition=i,Bt=n}return null}function n4(t,e,r,n){do rl();while(Xs!==null);if(Et&6)throw Error(je(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(je(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(D_(t,s),t===zr&&(Sr=zr=null,Xr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||oh||(oh=!0,pw(Vh,function(){return rl(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=ri.transition,ri.transition=null;var a=Bt;Bt=1;var o=Et;Et|=4,$1.current=null,X3(t,r),sw(r,t),S3(l0),Kh=!!o0,l0=o0=null,t.current=r,Q3(r),E_(),Et=o,Bt=a,ri.transition=s}else t.current=r;if(oh&&(oh=!1,Xs=t,cd=i),s=t.pendingLanes,s===0&&(sa=null),P_(r.stateNode),An(t,gr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(ud)throw ud=!1,t=E0,E0=null,t;return cd&1&&t.tag!==0&&rl(),s=t.pendingLanes,s&1?t===C0?bu++:(bu=0,C0=t):bu=0,ga(),null}function rl(){if(Xs!==null){var t=H5(cd),e=ri.transition,r=Bt;try{if(ri.transition=null,Bt=16>t?16:t,Xs===null)var n=!1;else{if(t=Xs,Xs=null,cd=0,Et&6)throw Error(je(331));var i=Et;for(Et|=4,Oe=t.current;Oe!==null;){var s=Oe,a=s.child;if(Oe.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Oe=u;Oe!==null;){var h=Oe;switch(h.tag){case 0:case 11:case 15:yu(8,h,s)}var p=h.child;if(p!==null)p.return=h,Oe=p;else for(;Oe!==null;){h=Oe;var m=h.sibling,f=h.return;if(rw(h),h===u){Oe=null;break}if(m!==null){m.return=f,Oe=m;break}Oe=f}}}var _=s.alternate;if(_!==null){var x=_.child;if(x!==null){_.child=null;do{var A=x.sibling;x.sibling=null,x=A}while(x!==null)}}Oe=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Oe=a;else e:for(;Oe!==null;){if(s=Oe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:yu(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,Oe=w;break e}Oe=s.return}}var S=t.current;for(Oe=S;Oe!==null;){a=Oe;var k=a.child;if(a.subtreeFlags&2064&&k!==null)k.return=a,Oe=k;else e:for(a=S;Oe!==null;){if(o=Oe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Dd(9,o)}}catch(F){ur(o,o.return,F)}if(o===a){Oe=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,Oe=E;break e}Oe=o.return}}if(Et=i,ga(),Wi&&typeof Wi.onPostCommitFiberRoot=="function")try{Wi.onPostCommitFiberRoot(Cd,t)}catch{}n=!0}return n}finally{Bt=r,ri.transition=e}}return!1}function Qm(t,e,r){e=pl(r,e),e=Hy(t,e,1),t=ia(t,e,1),e=mn(),t!==null&&(tc(t,1,e),An(t,e))}function ur(t,e,r){if(t.tag===3)Qm(t,t,r);else for(;e!==null;){if(e.tag===3){Qm(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(sa===null||!sa.has(n))){t=pl(r,t),t=Vy(e,t,1),e=ia(e,t,1),t=mn(),e!==null&&(tc(e,1,t),An(e,t));break}}e=e.return}}function i4(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=mn(),t.pingedLanes|=t.suspendedLanes&r,zr===t&&(Xr&r)===r&&(Ir===4||Ir===3&&(Xr&130023424)===Xr&&500>gr()-H1?Va(t,0):W1|=r),An(t,e)}function dw(t,e){e===0&&(t.mode&1?(e=Xc,Xc<<=1,!(Xc&130023424)&&(Xc=4194304)):e=1);var r=mn();t=bs(t,e),t!==null&&(tc(t,e,r),An(t,r))}function s4(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),dw(t,r)}function a4(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(je(314))}n!==null&&n.delete(e),dw(t,r)}var fw;fw=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Sn.current)_n=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return _n=!1,G3(t,e,r);_n=!!(t.flags&131072)}else _n=!1,Qt&&e.flags&1048576&&vy(e,td,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Rh(t,e),t=e.pendingProps;var i=cl(e,ln.current);tl(e,r),i=B1(null,e,n,t,i,r);var s=M1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,kn(n)?(s=!0,Zh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,R1(e),i.updater=Fd,e.stateNode=i,i._reactInternals=e,v0(e,n,t,r),e=b0(null,e,n,!0,s,r)):(e.tag=0,Qt&&s&&N1(e),gn(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Rh(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=l4(n),t=vi(n,t),i){case 0:e=w0(null,e,n,t,r);break e;case 1:e=qm(null,e,n,t,r);break e;case 11:e=zm(null,e,n,t,r);break e;case 14:e=Um(null,e,n,vi(n.type,t),r);break e}throw Error(je(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:vi(n,i),w0(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:vi(n,i),qm(t,e,n,i,r);case 3:e:{if(Yy(e),t===null)throw Error(je(387));n=e.pendingProps,s=e.memoizedState,i=s.element,Sy(t,e),id(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=pl(Error(je(423)),e),e=$m(t,e,n,r,i);break e}else if(n!==i){i=pl(Error(je(424)),e),e=$m(t,e,n,r,i);break e}else for(Mn=na(e.stateNode.containerInfo.firstChild),Un=e,Qt=!0,xi=null,r=xy(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(hl(),n===i){e=xs(t,e,r);break e}gn(t,e,n,r)}e=e.child}return e;case 5:return ky(e),t===null&&p0(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,u0(n,i)?a=null:s!==null&&u0(n,s)&&(e.flags|=32),Jy(t,e),gn(t,e,a,r),e.child;case 6:return t===null&&p0(e),null;case 13:return Xy(t,e,r);case 4:return I1(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=dl(e,null,n,r):gn(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:vi(n,i),zm(t,e,n,i,r);case 7:return gn(t,e,e.pendingProps,r),e.child;case 8:return gn(t,e,e.pendingProps.children,r),e.child;case 12:return gn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Vt(rd,n._currentValue),n._currentValue=a,s!==null)if(ki(s.value,a)){if(s.children===i.children&&!Sn.current){e=xs(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=vs(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),g0(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(je(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),g0(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}gn(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,tl(e,r),i=ni(i),n=n(i),e.flags|=1,gn(t,e,n,r),e.child;case 14:return n=e.type,i=vi(n,e.pendingProps),i=vi(n.type,i),Um(t,e,n,i,r);case 15:return Gy(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:vi(n,i),Rh(t,e),e.tag=1,kn(n)?(t=!0,Zh(e)):t=!1,tl(e,r),Wy(e,n,i),v0(e,n,i,r),b0(null,e,n,!0,t,r);case 19:return Qy(t,e,r);case 22:return Ky(t,e,r)}throw Error(je(156,e.tag))};function pw(t,e){return U5(t,e)}function o4(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ti(t,e,r,n){return new o4(t,e,r,n)}function J1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function l4(t){if(typeof t=="function")return J1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===p1)return 11;if(t===g1)return 14}return 2}function oa(t,e){var r=t.alternate;return r===null?(r=ti(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Fh(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")J1(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Bo:return Ga(r.children,i,s,e);case f1:a=8,i|=8;break;case Up:return t=ti(12,r,e,i|2),t.elementType=Up,t.lanes=s,t;case qp:return t=ti(13,r,e,i),t.elementType=qp,t.lanes=s,t;case $p:return t=ti(19,r,e,i),t.elementType=$p,t.lanes=s,t;case k5:return Md(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _5:a=10;break e;case S5:a=9;break e;case p1:a=11;break e;case g1:a=14;break e;case Ws:a=16,n=null;break e}throw Error(je(130,t==null?t:typeof t,""))}return e=ti(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Ga(t,e,r,n){return t=ti(7,t,n,e),t.lanes=r,t}function Md(t,e,r,n){return t=ti(22,t,n,e),t.elementType=k5,t.lanes=r,t.stateNode={isHidden:!1},t}function rp(t,e,r){return t=ti(6,t,null,e),t.lanes=r,t}function np(t,e,r){return e=ti(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function u4(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Df(0),this.expirationTimes=Df(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Df(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Y1(t,e,r,n,i,s,a,o,l){return t=new u4(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ti(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},R1(s),t}function c4(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Do,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function gw(t){if(!t)return ha;t=t._reactInternals;e:{if(no(t)!==t||t.tag!==1)throw Error(je(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(kn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(je(171))}if(t.tag===1){var r=t.type;if(kn(r))return gy(t,r,e)}return e}function mw(t,e,r,n,i,s,a,o,l){return t=Y1(r,n,!0,t,i,s,a,o,l),t.context=gw(null),r=t.current,n=mn(),i=aa(r),s=vs(n,i),s.callback=e??null,ia(r,s,i),t.current.lanes=i,tc(t,i,n),An(t,n),t}function zd(t,e,r,n){var i=e.current,s=mn(),a=aa(i);return r=gw(r),e.context===null?e.context=r:e.pendingContext=r,e=vs(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=ia(i,e,a),t!==null&&(Si(t,i,a,s),Lh(t,i,a)),a}function dd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Zm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function X1(t,e){Zm(t,e),(t=t.alternate)&&Zm(t,e)}function h4(){return null}var vw=typeof reportError=="function"?reportError:function(t){console.error(t)};function Q1(t){this._internalRoot=t}Ud.prototype.render=Q1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(je(409));zd(t,e,null,null)};Ud.prototype.unmount=Q1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Za(function(){zd(null,t,null,null)}),e[ws]=null}};function Ud(t){this._internalRoot=t}Ud.prototype.unstable_scheduleHydration=function(t){if(t){var e=K5();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Gs.length&&e!==0&&e<Gs[r].priority;r++);Gs.splice(r,0,t),r===0&&Y5(t)}};function Z1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function e2(){}function d4(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=dd(a);s.call(u)}}var a=mw(e,n,t,0,null,!1,!1,"",e2);return t._reactRootContainer=a,t[ws]=a.current,Iu(t.nodeType===8?t.parentNode:t),Za(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=dd(l);o.call(u)}}var l=Y1(t,0,!1,null,null,!1,!1,"",e2);return t._reactRootContainer=l,t[ws]=l.current,Iu(t.nodeType===8?t.parentNode:t),Za(function(){zd(e,l,r,n)}),l}function $d(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=dd(a);o.call(l)}}zd(e,a,t,i)}else a=d4(r,e,t,i,n);return dd(a)}V5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=uu(e.pendingLanes);r!==0&&(y1(e,r|1),An(e,gr()),!(Et&6)&&(gl=gr()+500,ga()))}break;case 13:Za(function(){var n=bs(t,1);if(n!==null){var i=mn();Si(n,t,1,i)}}),X1(t,1)}};w1=function(t){if(t.tag===13){var e=bs(t,134217728);if(e!==null){var r=mn();Si(e,t,134217728,r)}X1(t,134217728)}};G5=function(t){if(t.tag===13){var e=aa(t),r=bs(t,e);if(r!==null){var n=mn();Si(r,t,e,n)}X1(t,e)}};K5=function(){return Bt};J5=function(t,e){var r=Bt;try{return Bt=t,e()}finally{Bt=r}};Zp=function(t,e,r){switch(e){case"input":if(Vp(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Rd(n);if(!i)throw Error(je(90));N5(n),Vp(n,i)}}}break;case"textarea":E5(t,r);break;case"select":e=r.value,e!=null&&Xo(t,!!r.multiple,e,!1)}};O5=V1;F5=Za;var f4={usingClientEntryPoint:!1,Events:[nc,qo,Rd,R5,I5,V1]},nu={findFiberByHostInstance:qa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},p4={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ss.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=M5(t),t===null?null:t.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||h4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lh.isDisabled&&lh.supportsFiber)try{Cd=lh.inject(p4),Wi=lh}catch{}}$n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f4;$n.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Z1(e))throw Error(je(200));return c4(t,e,null,r)};$n.createRoot=function(t,e){if(!Z1(t))throw Error(je(299));var r=!1,n="",i=vw;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Y1(t,1,!1,null,null,r,!1,n,i),t[ws]=e.current,Iu(t.nodeType===8?t.parentNode:t),new Q1(e)};$n.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(je(188)):(t=Object.keys(t).join(","),Error(je(268,t)));return t=M5(e),t=t===null?null:t.stateNode,t};$n.flushSync=function(t){return Za(t)};$n.hydrate=function(t,e,r){if(!qd(e))throw Error(je(200));return $d(null,t,e,!0,r)};$n.hydrateRoot=function(t,e,r){if(!Z1(t))throw Error(je(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=vw;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=mw(e,null,t,1,r??null,i,!1,s,a),t[ws]=e.current,Iu(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Ud(e)};$n.render=function(t,e,r){if(!qd(e))throw Error(je(200));return $d(null,t,e,!1,r)};$n.unmountComponentAtNode=function(t){if(!qd(t))throw Error(je(40));return t._reactRootContainer?(Za(function(){$d(null,null,t,!1,function(){t._reactRootContainer=null,t[ws]=null})}),!0):!1};$n.unstable_batchedUpdates=V1;$n.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!qd(r))throw Error(je(200));if(t==null||t._reactInternals===void 0)throw Error(je(38));return $d(t,e,r,!1,n)};$n.version="18.3.1-next-f1338f8080-20240426";function yw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yw)}catch(t){console.error(t)}}yw(),y5.exports=$n;var g4=y5.exports,t2=g4;Mp.createRoot=t2.createRoot,Mp.hydrateRoot=t2.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $u(){return $u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$u.apply(this,arguments)}var Qs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Qs||(Qs={}));const r2="popstate";function m4(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return T0("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:fd(i)}return y4(e,r,null,t)}function kr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function eg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function v4(){return Math.random().toString(36).substr(2,8)}function n2(t,e){return{usr:t.state,key:t.key,idx:e}}function T0(t,e,r,n){return r===void 0&&(r=null),$u({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?wl(e):e,{state:r,key:e&&e.key||n||v4()})}function fd(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function wl(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function y4(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=Qs.Pop,l=null,u=h();u==null&&(u=0,a.replaceState($u({},a.state,{idx:u}),""));function h(){return(a.state||{idx:null}).idx}function p(){o=Qs.Pop;let A=h(),w=A==null?null:A-u;u=A,l&&l({action:o,location:x.location,delta:w})}function m(A,w){o=Qs.Push;let S=T0(x.location,A,w);u=h()+1;let k=n2(S,u),E=x.createHref(S);try{a.pushState(k,"",E)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(E)}s&&l&&l({action:o,location:x.location,delta:1})}function f(A,w){o=Qs.Replace;let S=T0(x.location,A,w);u=h();let k=n2(S,u),E=x.createHref(S);a.replaceState(k,"",E),s&&l&&l({action:o,location:x.location,delta:0})}function _(A){let w=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof A=="string"?A:fd(A);return S=S.replace(/ $/,"%20"),kr(w,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,w)}let x={get action(){return o},get location(){return t(i,a)},listen(A){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(r2,p),l=A,()=>{i.removeEventListener(r2,p),l=null}},createHref(A){return e(i,A)},createURL:_,encodeLocation(A){let w=_(A);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:f,go(A){return a.go(A)}};return x}var i2;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(i2||(i2={}));function w4(t,e,r){return r===void 0&&(r="/"),b4(t,e,r)}function b4(t,e,r,n){let i=typeof e=="string"?wl(e):e,s=tg(i.pathname||"/",r);if(s==null)return null;let a=ww(t);x4(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=R4(s);o=L4(a[l],u)}return o}function ww(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(kr(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=la([n,l.relativePath]),h=r.concat(l);s.children&&s.children.length>0&&(kr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ww(s.children,e,h,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:E4(u,s.index),routesMeta:h})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of bw(s.path))i(s,a,l)}),e}function bw(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=bw(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function x4(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:C4(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const _4=/^:[\w-]+$/,S4=3,k4=2,A4=1,N4=10,j4=-2,s2=t=>t==="*";function E4(t,e){let r=t.split("/"),n=r.length;return r.some(s2)&&(n+=j4),e&&(n+=k4),r.filter(i=>!s2(i)).reduce((i,s)=>i+(_4.test(s)?S4:s===""?A4:N4),n)}function C4(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function L4(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,h=s==="/"?e:e.slice(s.length)||"/",p=P4({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),m=l.route;if(!p)return null;Object.assign(i,p.params),a.push({params:i,pathname:la([s,p.pathname]),pathnameBase:B4(la([s,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(s=la([s,p.pathnameBase]))}return a}function P4(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=T4(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,h,p)=>{let{paramName:m,isOptional:f}=h;if(m==="*"){let x=o[p]||"";a=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const _=o[p];return f&&!_?u[m]=void 0:u[m]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function T4(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),eg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function R4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return eg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function tg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const I4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,O4=t=>I4.test(t);function F4(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?wl(t):t,s;if(r)if(O4(r))s=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),eg(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?s=a2(r.substring(1),"/"):s=a2(r,e)}else s=e;return{pathname:s,search:M4(n),hash:z4(i)}}function a2(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function ip(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function D4(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function xw(t,e){let r=D4(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function _w(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=wl(t):(i=$u({},t),kr(!i.pathname||!i.pathname.includes("?"),ip("?","pathname","search",i)),kr(!i.pathname||!i.pathname.includes("#"),ip("#","pathname","hash",i)),kr(!i.search||!i.search.includes("#"),ip("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let p=e.length-1;if(!n&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}o=p>=0?e[p]:"/"}let l=F4(i,o),u=a&&a!=="/"&&a.endsWith("/"),h=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const la=t=>t.join("/").replace(/\/\/+/g,"/"),B4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),M4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,z4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function U4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Sw=["post","put","patch","delete"];new Set(Sw);const q4=["get",...Sw];new Set(q4);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wu(){return Wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wu.apply(this,arguments)}const rg=de.createContext(null),$4=de.createContext(null),io=de.createContext(null),Wd=de.createContext(null),so=de.createContext({outlet:null,matches:[],isDataRoute:!1}),kw=de.createContext(null);function W4(t,e){let{relative:r}=e===void 0?{}:e;sc()||kr(!1);let{basename:n,navigator:i}=de.useContext(io),{hash:s,pathname:a,search:o}=Nw(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:la([n,a])),i.createHref({pathname:l,search:o,hash:s})}function sc(){return de.useContext(Wd)!=null}function Hd(){return sc()||kr(!1),de.useContext(Wd).location}function Aw(t){de.useContext(io).static||de.useLayoutEffect(t)}function ac(){let{isDataRoute:t}=de.useContext(so);return t?nS():H4()}function H4(){sc()||kr(!1);let t=de.useContext(rg),{basename:e,future:r,navigator:n}=de.useContext(io),{matches:i}=de.useContext(so),{pathname:s}=Hd(),a=JSON.stringify(xw(i,r.v7_relativeSplatPath)),o=de.useRef(!1);return Aw(()=>{o.current=!0}),de.useCallback(function(u,h){if(h===void 0&&(h={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let p=_w(u,JSON.parse(a),s,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:la([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,a,s,t])}function Nw(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=de.useContext(io),{matches:i}=de.useContext(so),{pathname:s}=Hd(),a=JSON.stringify(xw(i,n.v7_relativeSplatPath));return de.useMemo(()=>_w(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function V4(t,e){return G4(t,e)}function G4(t,e,r,n){sc()||kr(!1);let{navigator:i}=de.useContext(io),{matches:s}=de.useContext(so),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=Hd(),h;if(e){var p;let A=typeof e=="string"?wl(e):e;l==="/"||(p=A.pathname)!=null&&p.startsWith(l)||kr(!1),h=A}else h=u;let m=h.pathname||"/",f=m;if(l!=="/"){let A=l.replace(/^\//,"").split("/");f="/"+m.replace(/^\//,"").split("/").slice(A.length).join("/")}let _=w4(t,{pathname:f}),x=Q4(_&&_.map(A=>Object.assign({},A,{params:Object.assign({},o,A.params),pathname:la([l,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?l:la([l,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),s,r,n);return e&&x?de.createElement(Wd.Provider,{value:{location:Wu({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Qs.Pop}},x):x}function K4(){let t=rS(),e=U4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return de.createElement(de.Fragment,null,de.createElement("h2",null,"Unexpected Application Error!"),de.createElement("h3",{style:{fontStyle:"italic"}},e),r?de.createElement("pre",{style:i},r):null,null)}const J4=de.createElement(K4,null);class Y4 extends de.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?de.createElement(so.Provider,{value:this.props.routeContext},de.createElement(kw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function X4(t){let{routeContext:e,match:r,children:n}=t,i=de.useContext(rg);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),de.createElement(so.Provider,{value:e},n)}function Q4(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let h=a.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);h>=0||kr(!1),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:m,errors:f}=r,_=p.route.loader&&m[p.route.id]===void 0&&(!f||f[p.route.id]===void 0);if(p.route.lazy||_){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,p,m)=>{let f,_=!1,x=null,A=null;r&&(f=o&&p.route.id?o[p.route.id]:void 0,x=p.route.errorElement||J4,l&&(u<0&&m===0?(iS("route-fallback"),_=!0,A=null):u===m&&(_=!0,A=p.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,m+1)),S=()=>{let k;return f?k=x:_?k=A:p.route.Component?k=de.createElement(p.route.Component,null):p.route.element?k=p.route.element:k=h,de.createElement(X4,{match:p,routeContext:{outlet:h,matches:w,isDataRoute:r!=null},children:k})};return r&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?de.createElement(Y4,{location:r.location,revalidation:r.revalidation,component:x,error:f,children:S(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):S()},null)}var jw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(jw||{}),Ew=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ew||{});function Z4(t){let e=de.useContext(rg);return e||kr(!1),e}function eS(t){let e=de.useContext($4);return e||kr(!1),e}function tS(t){let e=de.useContext(so);return e||kr(!1),e}function Cw(t){let e=tS(),r=e.matches[e.matches.length-1];return r.route.id||kr(!1),r.route.id}function rS(){var t;let e=de.useContext(kw),r=eS(),n=Cw();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function nS(){let{router:t}=Z4(jw.UseNavigateStable),e=Cw(Ew.UseNavigateStable),r=de.useRef(!1);return Aw(()=>{r.current=!0}),de.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Wu({fromRouteId:e},s)))},[t,e])}const o2={};function iS(t,e,r){o2[t]||(o2[t]=!0)}function sS(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Mi(t){kr(!1)}function aS(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Qs.Pop,navigator:s,static:a=!1,future:o}=t;sc()&&kr(!1);let l=e.replace(/^\/*/,"/"),u=de.useMemo(()=>({basename:l,navigator:s,static:a,future:Wu({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=wl(n));let{pathname:h="/",search:p="",hash:m="",state:f=null,key:_="default"}=n,x=de.useMemo(()=>{let A=tg(h,l);return A==null?null:{location:{pathname:A,search:p,hash:m,state:f,key:_},navigationType:i}},[l,h,p,m,f,_,i]);return x==null?null:de.createElement(io.Provider,{value:u},de.createElement(Wd.Provider,{children:r,value:x}))}function oS(t){let{children:e,location:r}=t;return V4(R0(e),r)}new Promise(()=>{});function R0(t,e){e===void 0&&(e=[]);let r=[];return de.Children.forEach(t,(n,i)=>{if(!de.isValidElement(n))return;let s=[...e,i];if(n.type===de.Fragment){r.push.apply(r,R0(n.props.children,s));return}n.type!==Mi&&kr(!1),!n.props.index||!n.props.children||kr(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=R0(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function I0(){return I0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},I0.apply(this,arguments)}function lS(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function uS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function cS(t,e){return t.button===0&&(!e||e==="_self")&&!uS(t)}const hS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],dS="6";try{window.__reactRouterVersion=dS}catch{}const fS="startTransition",l2=i_[fS];function pS(t){let{basename:e,children:r,future:n,window:i}=t,s=de.useRef();s.current==null&&(s.current=m4({window:i,v5Compat:!0}));let a=s.current,[o,l]=de.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},h=de.useCallback(p=>{u&&l2?l2(()=>l(p)):l(p)},[l,u]);return de.useLayoutEffect(()=>a.listen(h),[a,h]),de.useEffect(()=>sS(n),[n]),de.createElement(aS,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const gS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pr=de.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:h,viewTransition:p}=e,m=lS(e,hS),{basename:f}=de.useContext(io),_,x=!1;if(typeof u=="string"&&mS.test(u)&&(_=u,gS))try{let k=new URL(window.location.href),E=u.startsWith("//")?new URL(k.protocol+u):new URL(u),F=tg(E.pathname,f);E.origin===k.origin&&F!=null?u=F+E.search+E.hash:x=!0}catch{}let A=W4(u,{relative:i}),w=vS(u,{replace:a,state:o,target:l,preventScrollReset:h,relative:i,viewTransition:p});function S(k){n&&n(k),k.defaultPrevented||w(k)}return de.createElement("a",I0({},m,{href:_||A,onClick:x||s?n:S,ref:r,target:l}))});var u2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(u2||(u2={}));var c2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(c2||(c2={}));function vS(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=ac(),u=Hd(),h=Nw(t,{relative:a});return de.useCallback(p=>{if(cS(p,r)){p.preventDefault();let m=n!==void 0?n:fd(u)===fd(h);l(t,{replace:m,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[u,l,h,n,i,r,t,s,a,o])}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Mt=(t,e)=>{const r=de.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...u},h)=>de.createElement("svg",{ref:h,...yS,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${wS(t)}`,o].join(" "),...u},[...e.map(([p,m])=>de.createElement(p,m)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=Mt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=Mt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=Mt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=Mt("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=Mt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=Mt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=Mt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=Mt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=Mt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=Mt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=Mt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=Mt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=Mt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=Mt("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=Mt("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=Mt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=Mt("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=Mt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=Mt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=Mt("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=Mt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=Mt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=Mt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=Mt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=Mt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=Mt("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=Mt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=Mt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=Mt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Vd(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function FS(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(h){try{u(n.next(h))}catch(p){a(p)}}function l(h){try{u(n.throw(h))}catch(p){a(p)}}function u(h){h.done?s(h.value):i(h.value).then(o,l)}u((n=n.apply(t,e||[])).next())})}const DS=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class ng extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class BS extends ng{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class p2 extends ng{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class g2 extends ng{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var F0;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(F0||(F0={}));class MS{constructor(e,{headers:r={},customFetch:n,region:i=F0.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=DS(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return FS(this,arguments,void 0,function*(r,n={}){var i;let s,a;try{const{headers:o,method:l,body:u,signal:h,timeout:p}=n;let m={},{region:f}=n;f||(f=this.region);const _=new URL(`${this.url}/${r}`);f&&f!=="any"&&(m["x-region"]=f,_.searchParams.set("forceFunctionRegion",f));let x;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",x=u):typeof u=="string"?(m["Content-Type"]="text/plain",x=u):typeof FormData<"u"&&u instanceof FormData?x=u:(m["Content-Type"]="application/json",x=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?x=JSON.stringify(u):x=u;let A=h;p&&(a=new AbortController,s=setTimeout(()=>a.abort(),p),h?(A=a.signal,h.addEventListener("abort",()=>a.abort())):A=a.signal);const w=yield this.fetch(_.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),o),body:x,signal:A}).catch(F=>{throw new BS(F)}),S=w.headers.get("x-relay-error");if(S&&S==="true")throw new p2(w);if(!w.ok)throw new g2(w);let k=((i=w.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),E;return k==="application/json"?E=yield w.json():k==="application/octet-stream"||k==="application/pdf"?E=yield w.blob():k==="text/event-stream"?E=w:k==="multipart/form-data"?E=yield w.formData():E=yield w.text(),{data:E,error:null,response:w}}catch(o){return{data:null,error:o,response:o instanceof g2||o instanceof p2?o.context:void 0}}finally{s&&clearTimeout(s)}})}}var zS=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},US=class{constructor(t){var e,r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=t.urlLengthLimit)!==null&&n!==void 0?n:8e3,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let a=null,o=null,l=null,u=s.status,h=s.statusText;if(s.ok){var p,m;if(r.method!=="HEAD"){var f;const w=await s.text();w===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((f=r.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?o=w:o=JSON.parse(w))}const x=(p=r.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),A=(m=s.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");x&&A&&A.length>1&&(l=parseInt(A[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,u=406,h="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var _;const x=await s.text();try{a=JSON.parse(x),Array.isArray(a)&&s.status===404&&(o=[],a=null,u=200,h="OK")}catch{s.status===404&&x===""?(u=204,h="No Content"):a={message:x}}if(a&&r.isMaybeSingle&&(!(a==null||(_=a.details)===null||_===void 0)&&_.includes("0 rows"))&&(a=null,u=200,h="OK"),a&&r.shouldThrowOnError)throw new zS(a)}return{error:a,data:o,count:l,status:u,statusText:h}});return this.shouldThrowOnError||(i=i.catch(s=>{var a;let o="",l="",u="";const h=s==null?void 0:s.cause;if(h){var p,m,f,_;const w=(p=h==null?void 0:h.message)!==null&&p!==void 0?p:"",S=(m=h==null?void 0:h.code)!==null&&m!==void 0?m:"";o=`${(f=s==null?void 0:s.name)!==null&&f!==void 0?f:"FetchError"}: ${s==null?void 0:s.message}`,o+=`

Caused by: ${(_=h==null?void 0:h.name)!==null&&_!==void 0?_:"Error"}: ${w}`,S&&(o+=` (${S})`),h!=null&&h.stack&&(o+=`
${h.stack}`)}else{var x;o=(x=s==null?void 0:s.stack)!==null&&x!==void 0?x:""}const A=this.url.toString().length;return(s==null?void 0:s.name)==="AbortError"||(s==null?void 0:s.code)==="ABORT_ERR"?(u="",l="Request was aborted (timeout or manual cancellation)",A>this.urlLengthLimit&&(l+=`. Note: Your request URL is ${A} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((h==null?void 0:h.name)==="HeadersOverflowError"||(h==null?void 0:h.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",l="HTTP headers exceeded server limits (typically 16KB)",A>this.urlLengthLimit&&(l+=`. Your request URL is ${A} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:o,hint:l,code:u},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},qS=class extends US{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:s="text"}={}){var a;const o=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${o};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const m2=new RegExp("[,()]");var To=class extends qS{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&m2.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&m2.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},$S=class{constructor(t,{headers:e={},schema:r,fetch:n,urlLengthLimit:i=8e3}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},i=r?"HEAD":"GET";let s=!1;const a=(t??"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",a),n&&l.append("Prefer",`count=${n}`),new To({method:i,url:o,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const i="POST",{url:s,headers:a}=this.cloneRequestState();if(e&&a.append("Prefer",`count=${e}`),r||a.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(o.length>0){const l=[...new Set(o)].map(u=>`"${u}"`);s.searchParams.set("columns",l.join(","))}}return new To({method:i,url:s,headers:a,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var s;const a="POST",{url:o,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&o.searchParams.set("on_conflict",e),n&&l.append("Prefer",`count=${n}`),i||l.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(u.length>0){const h=[...new Set(u)].map(p=>`"${p}"`);o.searchParams.set("columns",h.join(","))}}return new To({method:a,url:o,headers:l,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}update(t,{count:e}={}){var r;const n="PATCH",{url:i,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new To({method:n,url:i,headers:s,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new To({method:r,url:n,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function Hu(t){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hu(t)}function WS(t,e){if(Hu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HS(t){var e=WS(t,"string");return Hu(e)=="symbol"?e:e+""}function VS(t,e,r){return(e=HS(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v2(Object(r),!0).forEach(function(n){VS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var GS=class Iw{constructor(e,{headers:r={},schema:n,fetch:i,timeout:s,urlLengthLimit:a=8e3}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=a;const o=i??globalThis.fetch;s!==void 0&&s>0?this.fetch=(l,u)=>{const h=new AbortController,p=setTimeout(()=>h.abort(),s),m=u==null?void 0:u.signal;if(m){if(m.aborted)return clearTimeout(p),o(l,u);const f=()=>{clearTimeout(p),h.abort()};return m.addEventListener("abort",f,{once:!0}),o(l,uh(uh({},u),{},{signal:h.signal})).finally(()=>{clearTimeout(p),m.removeEventListener("abort",f)})}return o(l,uh(uh({},u),{},{signal:h.signal})).finally(()=>clearTimeout(p))}:this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new $S(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new Iw(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,r={},{head:n=!1,get:i=!1,count:s}={}){var a;let o;const l=new URL(`${this.url}/rpc/${e}`);let u;const h=f=>f!==null&&typeof f=="object"&&(!Array.isArray(f)||f.some(h)),p=n&&Object.values(r).some(h);p?(o="POST",u=r):n||i?(o=n?"HEAD":"GET",Object.entries(r).filter(([f,_])=>_!==void 0).map(([f,_])=>[f,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([f,_])=>{l.searchParams.append(f,_)})):(o="POST",u=r);const m=new Headers(this.headers);return p?m.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&m.set("Prefer",`count=${s}`),new To({method:o,url:l,headers:m,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};class KS{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const i=n.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const JS="2.95.3",YS=`realtime-js/${JS}`,XS="1.0.0",Ow="2.0.0",y2=Ow,D0=1e4,QS=1e3,ZS=100;var Vs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Vs||(Vs={}));var Tr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Tr||(Tr={}));var bi;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(bi||(bi={}));var B0;(function(t){t.websocket="websocket"})(B0||(B0={}));var Ma;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ma||(Ma={}));class e6{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,r,n){var i,s;const a=e.topic,o=(i=e.ref)!==null&&i!==void 0?i:"",l=(s=e.join_ref)!==null&&s!==void 0?s:"",u=e.payload.event,h=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},p=Object.keys(h).length===0?"":JSON.stringify(h);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const m=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+u.length+p.length,f=new ArrayBuffer(this.HEADER_LENGTH+m);let _=new DataView(f),x=0;_.setUint8(x++,this.KINDS.userBroadcastPush),_.setUint8(x++,l.length),_.setUint8(x++,o.length),_.setUint8(x++,a.length),_.setUint8(x++,u.length),_.setUint8(x++,p.length),_.setUint8(x++,r),Array.from(l,w=>_.setUint8(x++,w.charCodeAt(0))),Array.from(o,w=>_.setUint8(x++,w.charCodeAt(0))),Array.from(a,w=>_.setUint8(x++,w.charCodeAt(0))),Array.from(u,w=>_.setUint8(x++,w.charCodeAt(0))),Array.from(p,w=>_.setUint8(x++,w.charCodeAt(0)));var A=new Uint8Array(f.byteLength+n.byteLength);return A.set(new Uint8Array(f),0),A.set(new Uint8Array(n),f.byteLength),A.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,s,a,o,l]=n;return r({join_ref:i,ref:s,topic:a,event:o,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2),a=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(e.slice(l,l+i));l=l+i;const h=n.decode(e.slice(l,l+s));l=l+s;const p=n.decode(e.slice(l,l+a));l=l+a;const m=e.slice(l,e.byteLength),f=o===this.JSON_ENCODING?JSON.parse(n.decode(m)):m,_={type:this.BROADCAST_EVENT,event:h,payload:f};return a>0&&(_.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:_}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class Fw{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ht;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ht||(Ht={}));const w2=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((s,a)=>(s[a]=t6(a,t,e,i),s),{}):{}},t6=(t,e,r,n)=>{const i=e.find(o=>o.name===t),s=i==null?void 0:i.type,a=r[t];return s&&!n.includes(s)?Dw(s,a):M0(a)},Dw=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return s6(e,r)}switch(t){case Ht.bool:return r6(e);case Ht.float4:case Ht.float8:case Ht.int2:case Ht.int4:case Ht.int8:case Ht.numeric:case Ht.oid:return n6(e);case Ht.json:case Ht.jsonb:return i6(e);case Ht.timestamp:return a6(e);case Ht.abstime:case Ht.date:case Ht.daterange:case Ht.int4range:case Ht.int8range:case Ht.money:case Ht.reltime:case Ht.text:case Ht.time:case Ht.timestamptz:case Ht.timetz:case Ht.tsrange:case Ht.tstzrange:return M0(e);default:return M0(e)}},M0=t=>t,r6=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},n6=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},i6=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},s6=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const a=t.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>Dw(e,o))}return t},a6=t=>typeof t=="string"?t.replace(" ","T"):t,Bw=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class ap{constructor(e,r,n={},i=D0){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var b2;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(b2||(b2={}));class xu{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xu.syncState(this.state,i,s,a),this.pendingDiffs.forEach(l=>{this.state=xu.syncDiff(this.state,l,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=xu.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),a=this.transformState(r),o={},l={};return this.map(s,(u,h)=>{a[u]||(l[u]=h)}),this.map(a,(u,h)=>{const p=s[u];if(p){const m=h.map(A=>A.presence_ref),f=p.map(A=>A.presence_ref),_=h.filter(A=>f.indexOf(A.presence_ref)<0),x=p.filter(A=>m.indexOf(A.presence_ref)<0);_.length>0&&(o[u]=_),x.length>0&&(l[u]=x)}else o[u]=h}),this.syncDiff(s,{joins:o,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(o,l)=>{var u;const h=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(l),h.length>0){const p=e[o].map(f=>f.presence_ref),m=h.filter(f=>p.indexOf(f.presence_ref)<0);e[o].unshift(...m)}n(o,h,l)}),this.map(a,(o,l)=>{let u=e[o];if(!u)return;const h=l.map(p=>p.presence_ref);u=u.filter(p=>h.indexOf(p.presence_ref)<0),e[o]=u,i(o,u,l),u.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var x2;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(x2||(x2={}));var _u;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(_u||(_u={}));var hs;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(hs||(hs={}));class Jo{constructor(e,r={config:{}},n){var i,s;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Tr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ap(this,bi.join,this.params,this.timeout),this.rejoinTimer=new Fw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Tr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Tr.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Tr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Tr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Tr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(bi.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new xu(this),this.broadcastEndpointURL=Bw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Tr.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[_u.PRESENCE]&&this.bindings[_u.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,p={},m={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:h}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(hs.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(hs.CLOSED)),this.updateJoinPayload(Object.assign({config:m},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var _;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){e==null||e(hs.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,A=(_=x==null?void 0:x.length)!==null&&_!==void 0?_:0,w=[];for(let S=0;S<A;S++){const k=x[S],{filter:{event:E,schema:F,table:G,filter:H}}=k,z=f&&f[S];if(z&&z.event===E&&Jo.isFilterValueEqual(z.schema,F)&&Jo.isFilterValueEqual(z.table,G)&&Jo.isFilterValueEqual(z.filter,H))w.push(Object.assign(Object.assign({},k),{id:z.id}));else{this.unsubscribe(),this.state=Tr.errored,e==null||e(hs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(hs.SUBSCRIBED);return}}).receive("error",f=>{this.state=Tr.errored,e==null||e(hs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(hs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Tr.joined&&e===_u.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const u=await o.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=e,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Tr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(bi.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new ap(this,bi.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Tr.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ap(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>ZS){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:u,join:h}=bi;if(n&&[o,l,u,h].indexOf(a)>=0&&n!==this._joinRef())return;let m=this._onMessage(a,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var _,x,A;return((_=f.filter)===null||_===void 0?void 0:_.event)==="*"||((A=(x=f.filter)===null||x===void 0?void 0:x.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===a}).map(f=>f.callback(m,n)):(s=this.bindings[a])===null||s===void 0||s.filter(f=>{var _,x,A,w,S,k;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in f){const E=f.id,F=(_=f.filter)===null||_===void 0?void 0:_.event;return E&&((x=r.ids)===null||x===void 0?void 0:x.includes(E))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===((A=r.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const E=(S=(w=f==null?void 0:f.filter)===null||w===void 0?void 0:w.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return E==="*"||E===((k=r==null?void 0:r.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===a}).map(f=>{if(typeof m=="object"&&"ids"in m){const _=m.data,{schema:x,table:A,commit_timestamp:w,type:S,errors:k}=_;m=Object.assign(Object.assign({},{schema:x,table:A,commit_timestamp:w,eventType:S,new:{},old:{},errors:k}),this._getPayloadRecords(_))}f.callback(m,n)})}_isClosed(){return this.state===Tr.closed}_isJoined(){return this.state===Tr.joined}_isJoining(){return this.state===Tr.joining}_isLeaving(){return this.state===Tr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Jo.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(bi.close,{},e)}_onError(e){this._on(bi.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Tr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=w2(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=w2(e.columns,e.old_record)),r}}const op=()=>{},ch={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},o6=[1e3,2e3,5e3,1e4],l6=1e4,u6=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class c6{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=D0,this.transport=null,this.heartbeatIntervalMs=ch.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=op,this.ref=0,this.reconnectTimer=null,this.vsn=y2,this.logger=op,this.conn=null,this.sendBuffer=[],this.serializer=new e6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${B0.websocket}`,this.httpEndpoint=Bw(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=KS.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return r==="ok"&&this._remove(e),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Vs.connecting:return Ma.Connecting;case Vs.open:return Ma.Open;case Vs.closing:return Ma.Closing;default:return Ma.Closed}}isConnected(){return this.connectionState()===Ma.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new Jo(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(QS,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ch.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(h){this.log("error","error in heartbeat callback",h)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:s,ref:a}=r,o=a?`(${a})`:"",l=s.status||"";this.log("receive",`${l} ${n} ${i} ${o}`.trim(),s),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,s,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Vs.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Vs.open||this.conn.readyState===Vs.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(bi.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([u6],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const s={access_token:r,version:YS};r&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(bi.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Fw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ch.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,s,a,o,l,u,h,p,m,f;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:D0,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:ch.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:op,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:y2,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:_=>o6[_-1]||l6,this.vsn){case XS:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:(_,x)=>x(JSON.stringify(_)),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:(_,x)=>x(JSON.parse(_));break;case Ow:this.encode=(m=e==null?void 0:e.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Vu=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function h6(t,e,r){const n=new URL(e,t);if(r)for(const[i,s]of Object.entries(r))s!==void 0&&n.searchParams.set(i,s);return n.toString()}async function d6(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function f6(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:s,headers:a}){const o=h6(t.baseUrl,n,i),l=await d6(t.auth),u=await e(o,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...l,...a},body:s?JSON.stringify(s):void 0}),h=await u.text(),p=(u.headers.get("content-type")||"").includes("application/json"),m=p&&h?JSON.parse(h):h;if(!u.ok){const f=p?m:void 0,_=f==null?void 0:f.error;throw new Vu((_==null?void 0:_.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:_==null?void 0:_.type,icebergCode:_==null?void 0:_.code,details:f})}return{status:u.status,headers:u.headers,data:m}}}}function hh(t){return t.join("")}var p6=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:hh(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${hh(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hh(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${hh(t.namespace)}`}),!0}catch(e){if(e instanceof Vu&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof Vu&&r.status===409)return;throw r}}};function So(t){return t.join("")}var g6=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${So(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${So(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${So(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${So(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${So(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${So(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Vu&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof Vu&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},m6=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=f6({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new p6(this.client,e),this.tableOps=new g6(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Gd=class extends Error{constructor(t,e="storage",r,n){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function Kd(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var dh=class extends Gd{constructor(t,e,r,n="storage"){super(t,n,e,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Mw=class extends Gd{constructor(t,e,r="storage"){super(t,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const v6=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),y6=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},z0=t=>{if(Array.isArray(t))return t.map(r=>z0(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=z0(n)}),e},w6=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Gu(t){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu(t)}function b6(t,e){if(Gu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function x6(t){var e=b6(t,"string");return Gu(e)=="symbol"?e:e+""}function _6(t,e,r){return(e=x6(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_2(Object(r),!0).forEach(function(n){_6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const S2=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},S6=async(t,e,r,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const i=t,s=i.status||500;if(typeof i.json=="function")i.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||s+"";e(new dh(S2(a),s,o,n))}).catch(()=>{if(n==="vectors"){const a=s+"";e(new dh(i.statusText||`HTTP ${s} error`,s,a,n))}else{const a=s+"";e(new dh(i.statusText||`HTTP ${s} error`,s,a,n))}});else{const a=s+"";e(new dh(i.statusText||`HTTP ${s} error`,s,a,n))}}else e(new Mw(S2(t),t,n))},k6=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||t==="HEAD"||!n?nt(nt({},i),r):(y6(n)?(i.headers=nt({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),nt(nt({},i),r))};async function iu(t,e,r,n,i,s,a){return new Promise((o,l)=>{t(r,k6(e,n,i,s)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(a==="vectors"){const h=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!h||!h.includes("application/json"))return{}}return u.json()}).then(u=>o(u)).catch(u=>S6(u,l,n,a))})}function zw(t="storage"){return{get:async(e,r,n,i)=>iu(e,"GET",r,n,i,void 0,t),post:async(e,r,n,i,s)=>iu(e,"POST",r,i,s,n,t),put:async(e,r,n,i,s)=>iu(e,"PUT",r,i,s,n,t),head:async(e,r,n,i)=>iu(e,"HEAD",r,nt(nt({},n),{},{noResolveJson:!0}),i,void 0,t),remove:async(e,r,n,i,s)=>iu(e,"DELETE",r,i,s,n,t)}}const A6=zw("storage"),{get:Ku,post:yi,put:U0,head:N6,remove:ig}=A6,Bn=zw("vectors");var bl=class{constructor(t,e={},r,n="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=v6(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Kd(r))return{data:null,error:r};throw r}}},j6=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Kd(e))return{data:null,error:e};throw e}}};let Uw;Uw=Symbol.toStringTag;var E6=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Uw]="BlobDownloadBuilder",this.promise=null}asStream(){return new j6(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Kd(e))return{data:null,error:e};throw e}}};const C6={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},k2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var L6=class extends bl{constructor(t,e={},r,n){super(t,e,n,"storage"),this.bucketId=r}async uploadOrUpdate(t,e,r,n){var i=this;return i.handleOperation(async()=>{let s;const a=nt(nt({},k2),n);let o=nt(nt({},i.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",i.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),l&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(l))):(s=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!a.duplex&&(a.duplex="half")),n!=null&&n.headers&&(o=nt(nt({},o),n.headers));const u=i._removeEmptyFolders(e),h=i._getFinalPath(u),p=await(t=="PUT"?U0:yi)(i.fetch,`${i.url}/object/${h}`,s,nt({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{path:u,id:p.Id,fullPath:p.Key}})}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var i=this;const s=i._removeEmptyFolders(t),a=i._getFinalPath(s),o=new URL(i.url+`/object/upload/sign/${a}`);return o.searchParams.set("token",e),i.handleOperation(async()=>{let l;const u=nt({upsert:k2.upsert},n),h=nt(nt({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType),{path:s,fullPath:(await U0(i.fetch,o.toString(),l,{headers:h})).Key}})}async createSignedUploadUrl(t,e){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(t);const i=nt({},r.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const s=await yi(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(r.url+s.url),o=a.searchParams.get("token");if(!o)throw new Gd("No token returned by API");return{signedUrl:a.toString(),path:t,token:o}})}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;return n.handleOperation(async()=>await yi(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(t,e,r){var n=this;return n.handleOperation(async()=>({path:(await yi(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(t,e,r){var n=this;return n.handleOperation(async()=>{let i=n._getFinalPath(t),s=await yi(n.fetch,`${n.url}/object/sign/${i}`,nt({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${s.signedURL}${a}`)}})}async createSignedUrls(t,e,r){var n=this;return n.handleOperation(async()=>{const i=await yi(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i.map(a=>nt(nt({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${s}`):null}))})}download(t,e,r){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=i?`?${i}`:"",a=this._getFinalPath(t),o=()=>Ku(this.fetch,`${this.url}/${n}/${a}${s}`,{headers:this.headers,noResolveJson:!0},r);return new E6(o,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);return e.handleOperation(async()=>z0(await Ku(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})))}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await N6(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kd(n)&&n instanceof Mw){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&n.push(i);const s=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&n.push(a);let o=n.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${o}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await ig(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,r){var n=this;return n.handleOperation(async()=>{const i=nt(nt(nt({},C6),e),{},{prefix:t||""});return await yi(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r)})}async listV2(t,e){var r=this;return r.handleOperation(async()=>{const n=nt({},t);return await yi(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const P6="2.95.3",lc={"X-Client-Info":`storage-js/${P6}`};var T6=class extends bl{constructor(t,e={},r,n){const i=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const s=i.href.replace(/\/$/,""),a=nt(nt({},lc),e);super(s,a,r,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=e.listBucketOptionsToQueryString(t);return await Ku(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Ku(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var r=this;return r.handleOperation(async()=>await yi(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async updateBucket(t,e){var r=this;return r.handleOperation(async()=>await U0(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await yi(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await ig(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},R6=class extends bl{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=nt(nt({},lc),e);super(n,i,r,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await yi(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),i=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return await Ku(e.fetch,i,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await ig(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!w6(t))throw new Gd("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new m6({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,s){const a=i[s];return typeof a!="function"?a:async(...o)=>{try{return{data:await a.apply(i,o),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}},I6=class extends bl{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=nt(nt({},lc),{},{"Content-Type":"application/json"},e);super(n,i,r,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await Bn.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var r=this;return r.handleOperation(async()=>await Bn.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await Bn.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var r=this;return r.handleOperation(async()=>await Bn.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{})}},O6=class extends bl{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=nt(nt({},lc),{},{"Content-Type":"application/json"},e);super(n,i,r,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Bn.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await Bn.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await Bn.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await Bn.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Bn.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},F6=class extends bl{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=nt(nt({},lc),{},{"Content-Type":"application/json"},e);super(n,i,r,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Bn.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Bn.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await Bn.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Bn.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},D6=class extends F6{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new B6(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},B6=class extends I6{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,nt(nt({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,nt(nt({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new M6(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},M6=class extends O6{constructor(t,e,r,n,i){super(t,e,i),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,nt(nt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,nt(nt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,nt(nt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,nt(nt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,nt(nt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},z6=class extends T6{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new L6(this.url,this.headers,t,this.fetch)}get vectors(){return new D6(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new R6(this.url+"/iceberg",this.headers,this.fetch)}};const qw="2.95.3",Ro=30*1e3,q0=3,lp=q0*Ro,U6="http://localhost:9999",q6="supabase.auth.token",$6={"X-Client-Info":`gotrue-js/${qw}`},$0="X-Supabase-Api-Version",$w={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},W6=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,H6=10*60*1e3;class Ju extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ve(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class V6 extends Ju{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function G6(t){return Ve(t)&&t.name==="AuthApiError"}class za extends Ju{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class ks extends Ju{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Fn extends ks{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function up(t){return Ve(t)&&t.name==="AuthSessionMissingError"}class ko extends ks{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class fh extends ks{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ph extends ks{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function K6(t){return Ve(t)&&t.name==="AuthImplicitGrantRedirectError"}class A2 extends ks{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class J6 extends ks{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class W0 extends ks{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function cp(t){return Ve(t)&&t.name==="AuthRetryableFetchError"}class N2 extends ks{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class H0 extends ks{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const md="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),j2=` 	
\r=`.split(""),Y6=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<j2.length;e+=1)t[j2[e].charCodeAt(0)]=-2;for(let e=0;e<md.length;e+=1)t[md[e].charCodeAt(0)]=e;return t})();function E2(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(md[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(md[n]),e.queuedBits-=6}}function Ww(t,e,r){const n=Y6[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function C2(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{Z6(a,n,r)};for(let a=0;a<t.length;a+=1)Ww(t.charCodeAt(a),i,s);return e.join("")}function X6(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Q6(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}X6(n,e)}}function Z6(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function nl(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Ww(t.charCodeAt(i),r,n);return new Uint8Array(e)}function ek(t){const e=[];return Q6(t,r=>e.push(r)),new Uint8Array(e)}function Ha(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>E2(i,r,n)),E2(null,r,n),e.join("")}function tk(t){return Math.round(Date.now()/1e3)+t}function rk(){return Symbol("auth-callback")}const Jr=()=>typeof window<"u"&&typeof document<"u",Ra={tested:!1,writable:!1},Hw=()=>{if(!Jr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ra.tested)return Ra.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ra.tested=!0,Ra.writable=!0}catch{Ra.tested=!0,Ra.writable=!1}return Ra.writable};function nk(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const Vw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),ik=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Io=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Ia=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Kr=async(t,e)=>{await t.removeItem(e)};class Jd{constructor(){this.promise=new Jd.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Jd.promiseConstructor=Promise;function gh(t){const e=t.split(".");if(e.length!==3)throw new H0("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!W6.test(e[n]))throw new H0("JWT not in base64url format");return{header:JSON.parse(C2(e[0])),payload:JSON.parse(C2(e[1])),signature:nl(e[2]),raw:{header:e[0],payload:e[1]}}}async function sk(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ak(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){n(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function ok(t){return("0"+t.toString(16)).substr(-2)}function lk(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,ok).join("")}async function uk(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function ck(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await uk(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ao(t,e,r=!1){const n=lk();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Io(t,`${e}-code-verifier`,i);const s=await ck(n);return[s,n===s?"plain":"s256"]}const hk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function dk(t){const e=t.headers.get($0);if(!e||!e.match(hk))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function fk(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function pk(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const gk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function No(t){if(!gk.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function hp(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function mk(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function L2(t){return JSON.parse(JSON.stringify(t))}const Da=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),vk=[502,503,504];async function P2(t){var e;if(!ik(t))throw new W0(Da(t),0);if(vk.includes(t.status))throw new W0(Da(t),t.status);let r;try{r=await t.json()}catch(s){throw new za(Da(s),s)}let n;const i=dk(t);if(i&&i.getTime()>=$w["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new N2(Da(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Fn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new N2(Da(r),t.status,r.weak_password.reasons);throw new V6(Da(r),t.status||500,n)}const yk=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function rt(t,e,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[$0]||(s[$0]=$w["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await wk(t,e,r+o,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function wk(t,e,r,n,i,s){const a=yk(e,n,i,s);let o;try{o=await t(r,Object.assign({},a))}catch(l){throw console.error(l),new W0(Da(l),0)}if(o.ok||await P2(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await P2(l)}}function mi(t){var e;let r=null;_k(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=tk(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function T2(t){const e=mi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Js(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function bk(t){return{data:t,error:null}}function xk(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,a=Vd(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function R2(t){return t}function _k(t){return t.access_token&&t.refresh_token&&t.expires_in}const dp=["global","local","others"];class Sk{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Vw(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=dp[0]){if(dp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${dp.join(", ")}`);try{return await rt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await rt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Js})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Vd(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await rt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:xk,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ve(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await rt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Js})}catch(r){if(Ve(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},h=await rt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:R2});if(h.error)throw h.error;const p=await h.json(),m=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(l=(o=h.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(_=>{const x=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(_.split(";")[1].split("=")[1]);u[`${A}Page`]=x}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(Ve(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){No(e);try{return await rt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Js})}catch(r){if(Ve(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){No(e);try{return await rt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Js})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){No(e);try{return await rt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Js})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){No(e.userId);try{const{data:r,error:n}=await rt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async _deleteFactor(e){No(e.userId),No(e.id);try{return{data:await rt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,s,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},h=await rt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:R2});if(h.error)throw h.error;const p=await h.json(),m=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(l=(o=h.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(_=>{const x=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(_.split(";")[1].split("=")[1]);u[`${A}Page`]=x}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(Ve(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await rt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await rt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await rt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await rt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await rt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ve(r))return{data:null,error:r};throw r}}}function I2(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const jo={debug:!!(globalThis&&Hw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Gw extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class kk extends Gw{}async function Ak(t,e,r){jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),jo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new kk(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(jo.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Nk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Kw(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function jk(t){return parseInt(t,16)}function Ek(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function Ck(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:o,requestId:l,resources:u,scheme:h,uri:p,version:m}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=Kw(t.address),_=h?`${h}://${n}`:n,x=t.statement?`${t.statement}
`:"",A=`${_} wants you to sign in with your Ethereum account:
${f}

${x}`;let w=`URI: ${p}
Version: ${m}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(w+=`
Expiration Time: ${i.toISOString()}`),o&&(w+=`
Not Before: ${o.toISOString()}`),l&&(w+=`
Request ID: ${l}`),u){let S=`
Resources:`;for(const k of u){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);S+=`
- ${k}`}w+=S}return`${A}
${w}`}class _r extends Error{constructor({message:e,code:r,cause:n,name:i}){var s;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class vd extends _r{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function Lk({error:t,options:e}){var r,n,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new _r({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new _r({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new _r({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new _r({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new _r({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new _r({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new _r({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new _r({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(Jw(a)){if(s.rp.id!==a)return new _r({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new _r({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new _r({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new _r({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new _r({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Pk({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new _r({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new _r({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Jw(n)){if(r.rpId!==n)return new _r({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new _r({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new _r({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new _r({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Tk{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Rk=new Tk;function Ik(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=Vd(t,["challenge","user","excludeCredentials"]),s=nl(e).buffer,a=Object.assign(Object.assign({},r),{id:nl(r.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:s,user:a});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:nl(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function Ok(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Vd(t,["challenge","allowCredentials"]),i=nl(e).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const o=r[a];s.allowCredentials[a]=Object.assign(Object.assign({},o),{id:nl(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return s}function Fk(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ha(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ha(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Dk(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ha(new Uint8Array(i.authenticatorData)),clientDataJSON:Ha(new Uint8Array(i.clientDataJSON)),signature:Ha(new Uint8Array(i.signature)),userHandle:i.userHandle?Ha(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Jw(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function O2(){var t,e;return!!(Jr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Bk(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new vd("Browser returned unexpected credential type",e)}:{data:null,error:new vd("Empty credential response",e)}}catch(e){return{data:null,error:Lk({error:e,options:t})}}}async function Mk(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new vd("Browser returned unexpected credential type",e)}:{data:null,error:new vd("Empty credential response",e)}}catch(e){return{data:null,error:Pk({error:e,options:t})}}}const zk={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Uk={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function yd(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))n[s]=a;else if(r(a))n[s]=a;else if(e(a)){const o=n[s];e(o)?n[s]=yd(o,a):n[s]=yd(a)}else n[s]=a}return n}function qk(t,e){return yd(zk,t,e||{})}function $k(t,e){return yd(Uk,t,e||{})}class Wk{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},s){var a;try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:l};const u=i??Rk.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:h}=o.webauthn.credential_options.publicKey;if(!h.name){const p=n;if(p)h.name=`${h.id}:${p}`;else{const f=(await this.client.getUser()).data.user,_=((a=f==null?void 0:f.user_metadata)===null||a===void 0?void 0:a.name)||(f==null?void 0:f.email)||(f==null?void 0:f.id)||"User";h.name=`${h.id}:${_}`}}h.displayName||(h.displayName=h.name)}switch(o.webauthn.type){case"create":{const h=qk(o.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:p,error:m}=await Bk({publicKey:h,signal:u});return p?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}case"request":{const h=$k(o.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:p,error:m}=await Mk(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:h,signal:u}));return p?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:p}},error:null}:{data:null,error:m}}}}catch(o){return Ve(o)?{data:null,error:o}:{data:null,error:new za("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new Ju("rpId is required for WebAuthn authentication")};try{if(!O2())return{data:null,error:new za("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(a){return Ve(a)?{data:null,error:a}:{data:null,error:new za("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new Ju("rpId is required for WebAuthn registration")};try{if(!O2())return{data:null,error:new za("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(h=>{var p;return(p=h.data)===null||p===void 0?void 0:p.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===e&&m.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:o};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return Ve(a)?{data:null,error:a}:{data:null,error:new za("Unexpected error in register",a)}}}}Nk();const Hk={url:U6,storageKey:q6,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$6,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function F2(t,e,r){return await r()}const Eo={};class Yu{get jwks(){var e,r;return(r=(e=Eo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Eo[this.storageKey]=Object.assign(Object.assign({},Eo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Eo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Eo[this.storageKey]=Object.assign(Object.assign({},Eo[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},Hk),e);if(this.storageKey=s.storageKey,this.instanceID=(r=Yu.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Yu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Jr()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Sk({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Vw(s.fetch),this.lock=s.lock||F2,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&Jr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Ak:this.lock=F2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Wk(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Hw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=I2(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=I2(this.memoryStorage)),Jr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(o){this._debug("#broadcastChannel","error",o)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${qw}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Jr()&&(r=nk(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Jr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),K6(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ve(r)?this._returnResult({error:r}):this._returnResult({error:new za("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:mi}),{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(Ve(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:h,password:p,options:m}=e;let f=null,_=null;this.flowType==="pkce"&&([f,_]=await Ao(this.storage,this.storageKey)),s=await rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:h,password:p,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:f,code_challenge_method:_},xform:mi})}else if("phone"in e){const{phone:h,password:p,options:m}=e;s=await rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(i=m==null?void 0:m.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:mi})}else throw new fh("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return await Kr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(await Kr(this.storage,`${this.storageKey}-code-verifier`),Ve(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:a,options:o}=e;r=await rt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:T2})}else if("phone"in e){const{phone:s,password:a,options:o}=e;r=await rt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:T2})}else throw new fh("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new ko;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Ve(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,s,a,o,l,u,h,p,m;let f,_;if("message"in e)f=e.message,_=e.signature;else{const{chain:x,wallet:A,statement:w,options:S}=e;let k;if(Jr())if(typeof A=="object")k=A;else{const D=window;if("ethereum"in D&&typeof D.ethereum=="object"&&"request"in D.ethereum&&typeof D.ethereum.request=="function")k=D.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=A}const E=new URL((r=S==null?void 0:S.url)!==null&&r!==void 0?r:window.location.href),F=await k.request({method:"eth_requestAccounts"}).then(D=>D).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!F||F.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const G=Kw(F[0]);let H=(n=S==null?void 0:S.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!H){const D=await k.request({method:"eth_chainId"});H=jk(D)}const z={domain:E.host,address:G,statement:w,uri:E.href,version:"1",chainId:H,nonce:(i=S==null?void 0:S.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=S==null?void 0:S.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=S==null?void 0:S.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=S==null?void 0:S.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=S==null?void 0:S.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(h=S==null?void 0:S.signInWithEthereum)===null||h===void 0?void 0:h.resources};f=Ck(z),_=await k.request({method:"personal_sign",params:[Ek(f),G]})}try{const{data:x,error:A}=await rt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:_},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:mi});if(A)throw A;if(!x||!x.session||!x.user){const w=new ko;return this._returnResult({data:{user:null,session:null},error:w})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:A})}catch(x){if(Ve(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(e){var r,n,i,s,a,o,l,u,h,p,m,f;let _,x;if("message"in e)_=e.message,x=e.signature;else{const{chain:A,wallet:w,statement:S,options:k}=e;let E;if(Jr())if(typeof w=="object")E=w;else{const G=window;if("solana"in G&&typeof G.solana=="object"&&("signIn"in G.solana&&typeof G.solana.signIn=="function"||"signMessage"in G.solana&&typeof G.solana.signMessage=="function"))E=G.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=w}const F=new URL((r=k==null?void 0:k.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in E&&E.signIn){const G=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k==null?void 0:k.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),S?{statement:S}:null));let H;if(Array.isArray(G)&&G[0]&&typeof G[0]=="object")H=G[0];else if(G&&typeof G=="object"&&"signedMessage"in G&&"signature"in G)H=G;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in H&&"signature"in H&&(typeof H.signedMessage=="string"||H.signedMessage instanceof Uint8Array)&&H.signature instanceof Uint8Array)_=typeof H.signedMessage=="string"?H.signedMessage:new TextDecoder().decode(H.signedMessage),x=H.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${F.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(i=(n=k==null?void 0:k.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=k==null?void 0:k.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((a=k==null?void 0:k.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((o=k==null?void 0:k.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((l=k==null?void 0:k.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((u=k==null?void 0:k.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((p=(h=k==null?void 0:k.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...k.signInWithSolana.resources.map(H=>`- ${H}`)]:[]].join(`
`);const G=await E.signMessage(new TextEncoder().encode(_),"utf8");if(!G||!(G instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=G}}try{const{data:A,error:w}=await rt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:Ha(x)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:mi});if(w)throw w;if(!A||!A.session||!A.user){const S=new ko;return this._returnResult({data:{user:null,session:null},error:S})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:w})}catch(A){if(Ve(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async _exchangeCodeForSession(e){const r=await Ia(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new J6;const{data:s,error:a}=await rt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:mi});if(await Kr(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){const o=new ko;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(await Kr(this.storage,`${this.storageKey}-code-verifier`),Ve(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=e,o=await rt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:mi}),{data:l,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const h=new ko;return this._returnResult({data:{user:null,session:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(Ve(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,s,a;try{if("email"in e){const{email:o,options:l}=e;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await Ao(this.storage,this.storageKey));const{error:p}=await rt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in e){const{phone:o,options:l}=e,{data:u,error:h}=await rt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h})}throw new fh("You must provide either an email or phone number.")}catch(o){if(await Kr(this.storage,`${this.storageKey}-code-verifier`),Ve(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await rt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:mi});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(Ve(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,s,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await Ao(this.storage,this.storageKey));const u=await rt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:bk});return!((s=u.data)===null||s===void 0)&&s.url&&Jr()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(await Kr(this.storage,`${this.storageKey}-code-verifier`),Ve(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Fn;const{error:i}=await rt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(Ve(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:a}=await rt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:a,error:o}=await rt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new fh("You must provide either an email or phone number and a type")}catch(r){if(Ve(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Ia(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<lp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await Ia(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=hp()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=mk(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await rt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Js}):await this._useSession(async r=>{var n,i,s;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Fn}:await rt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Js})})}catch(r){if(Ve(r))return up(r)&&(await this._removeSession(),await Kr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Fn;const a=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Ao(this.storage,this.storageKey));const{data:u,error:h}=await rt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:Js});if(h)throw h;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await Kr(this.storage,`${this.storageKey}-code-verifier`),Ve(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Fn;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=gh(e.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Ve(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:o}=r;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Fn;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ve(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Jr())throw new ph("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ph(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new A2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ph("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new A2("No code detected.");const{data:S,error:k}=await this._exchangeCodeForSession(e.code);if(k)throw k;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=e;if(!s||!o||!a||!u)throw new ph("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(o);let m=h+p;l&&(m=parseInt(l));const f=m-h;f*1e3<=Ro&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${p}s`);const _=m-p;h-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,m,h):h-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,m,h);const{data:x,error:A}=await this._getUser(s);if(A)throw A;const w={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:m,refresh_token:a,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:e.type},error:null})}catch(n){if(Ve(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Ia(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s&&!up(s))return this._returnResult({error:s});const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(G6(o)&&(o.status===404||o.status===401||o.status===403)||up(o)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await Kr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=rk(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Ao(this.storage,this.storageKey,!0));try{return await rt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await Kr(this.storage,`${this.storageKey}-code-verifier`),Ve(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Ve(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,o,l,u,h;const{data:p,error:m}=s;if(m)throw m;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await rt(this.fetch,"GET",f,{headers:this.headers,jwt:(h=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return Jr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Ve(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:a,provider:o,token:l,access_token:u,nonce:h}=e,p=await rt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:u,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:mi}),{data:m,error:f}=p;return f?this._returnResult({data:{user:null,session:null},error:f}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new ko}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:f}))}catch(i){if(await Kr(this.storage,`${this.storageKey}-code-verifier`),Ve(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await rt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Ve(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await ak(async i=>(i>0&&await sk(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await rt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:mi})),(i,s)=>{const a=200*Math.pow(2,i);return s&&cp(s)&&Date.now()+a-n<Ro})}catch(n){if(this._debug(r,"error",n),Ve(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Jr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Ia(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Ia(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Io(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:hp()}else if(i&&!i.user&&!i.user){const a=await Ia(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await Kr(this.storage,this.storageKey+"-user"),await Io(this.storage,this.storageKey,i)):i.user=hp()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<lp;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${lp}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),cp(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Fn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Jd;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new Fn;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={data:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),Ve(s)){const a={data:null,error:s};return cp(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Kr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Io(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=L2(i);await Io(this.storage,this.storageKey,s)}else{const i=L2(r);await Io(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Kr(this.storage,this.storageKey),await Kr(this.storage,this.storageKey+"-code-verifier"),await Kr(this.storage,this.storageKey+"-user"),this.userStorage&&await Kr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Jr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ro);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Ro);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ro}ms, refresh threshold is ${q0} ticks`),i<=q0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Gw)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Jr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await Ao(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await rt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ve(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await rt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(Ve(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Fk(e.webauthn.credential_response):Dk(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:l}=await rt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(Ve(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=await rt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Ik(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Ok(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ve(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(e){var r,n,i,s;if(e)try{const{payload:f}=gh(e);let _=null;f.aal&&(_=f.aal);let x=_;const{data:{user:A},error:w}=await this.getUser(e);if(w)return this._returnResult({data:null,error:w});((n=(r=A==null?void 0:A.factors)===null||r===void 0?void 0:r.filter(E=>E.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(x="aal2");const k=f.amr||[];return{data:{currentLevel:_,nextLevel:x,currentAuthenticationMethods:k},error:null}}catch(f){if(Ve(f))return this._returnResult({data:null,error:f});throw f}const{data:{session:a},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=gh(a.access_token);let u=null;l.aal&&(u=l.aal);let h=u;((s=(i=a.user.factors)===null||i===void 0?void 0:i.filter(f=>f.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(h="aal2");const m=l.amr||[];return{data:{currentLevel:u,nextLevel:h,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await rt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Fn})})}catch(r){if(Ve(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Fn});const a=await rt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Jr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Ve(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Fn});const a=await rt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Jr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(Ve(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await rt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Fn})})}catch(e){if(Ve(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await rt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Fn})})}catch(r){if(Ve(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+H6>i)return n;const{data:s,error:a}=await rt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:f,error:_}=await this.getSession();if(_||!f.session)return this._returnResult({data:null,error:_});n=f.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:l}}=gh(n);r!=null&&r.allowExpired||fk(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:s,header:i,signature:a},error:null}}const h=pk(i.alg),p=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,a,ek(`${o}.${l}`)))throw new H0("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(Ve(n))return this._returnResult({data:null,error:n});throw n}}}Yu.nextInstanceID={};const Vk=Yu,Gk="2.95.3";let hu="";typeof Deno<"u"?hu="deno":typeof document<"u"?hu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hu="react-native":hu="node";const Kk={"X-Client-Info":`supabase-js-${hu}/${Gk}`},Jk={headers:Kk},Yk={schema:"public"},Xk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Qk={};function Xu(t){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(t)}function Zk(t,e){if(Xu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function e8(t){var e=Zk(t,"string");return Xu(e)=="symbol"?e:e+""}function t8(t,e,r){return(e=e8(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D2(Object(r),!0).forEach(function(n){t8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const r8=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),n8=()=>Headers,i8=(t,e,r)=>{const n=r8(r),i=n8();return async(s,a)=>{var o;const l=(o=await e())!==null&&o!==void 0?o:t;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(s,lr(lr({},a),{},{headers:u}))}};function s8(t){return t.endsWith("/")?t:t+"/"}function a8(t,e){var r,n;const{db:i,auth:s,realtime:a,global:o}=t,{db:l,auth:u,realtime:h,global:p}=e,m={db:lr(lr({},l),i),auth:lr(lr({},u),s),realtime:lr(lr({},h),a),storage:{},global:lr(lr(lr({},p),o),{},{headers:lr(lr({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function o8(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(s8(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var l8=class extends Vk{constructor(t){super(t)}},u8=class{constructor(t,e,r){var n,i;this.supabaseUrl=t,this.supabaseKey=e;const s=o8(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const a=`sb-${s.hostname.split(".")[0]}-auth-token`,o={db:Yk,realtime:Qk,auth:lr(lr({},Xk),{},{storageKey:a}),global:Jk},l=a8(r??{},o);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=i8(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(lr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new GS(new URL("rest/v1",s).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch,timeout:l.db.timeout,urlLengthLimit:l.db.urlLengthLimit}),this.storage=new z6(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new MS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:s,flowType:a,lock:o,debug:l,throwOnError:u},h,p){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new l8({url:this.authUrl.href,headers:lr(lr({},m),h),storageKey:s,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,flowType:a,lock:o,debug:l,throwOnError:u,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new c6(this.realtimeUrl.href,lr(lr({},t),{},{params:lr(lr({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const c8=(t,e,r)=>new u8(t,e,r);function h8(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}h8()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const d8="https://cwuchkahhofcdylqgolb.supabase.co",f8="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN3dWNoa2FoaG9mY2R5bHFnb2xiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzEwMzAxNDMsImV4cCI6MjA4NjYwNjE0M30.PLw0-uHNp9wwAeWFKQSYeRKIgUJkcCrGZR2xEzuvOeU",pt=c8(d8,f8),p8=({cartCount:t})=>{const[e,r]=de.useState(!1),[n,i]=de.useState(null),[s,a]=de.useState("");return de.useEffect(()=>{pt.auth.getSession().then(({data:{session:l}})=>{i(l)});const{data:{subscription:o}}=pt.auth.onAuthStateChange((l,u)=>{i(u)});return()=>o.unsubscribe()},[]),de.useEffect(()=>{var u;if(!(n!=null&&n.user)){a("");return}const o=((u=n.user.user_metadata)==null?void 0:u.name)||n.user.email||"";let l=!0;return pt.from("customers").select("name").eq("user_id",n.user.id).single().then(({data:h,error:p})=>{l&&(!p&&(h!=null&&h.name)?a(h.name):a(o))}).catch(()=>{l&&a(o)}),()=>{l=!1}},[n]),v.jsx("nav",{className:"glass-card",style:{position:"sticky",top:"1rem",zIndex:50,marginBottom:"2rem"},children:v.jsxs("div",{className:"container",children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",height:"4rem"},children:[v.jsxs(pr,{to:"/",style:{display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"bold",fontSize:"1.5rem",color:"var(--color-primary)"},children:[v.jsx(kS,{size:32}),v.jsx("span",{children:"Brasil Mais"})]}),v.jsxs("div",{style:{display:"none",gap:"2rem",alignItems:"center"},className:"desktop-menu",children:[v.jsx(pr,{to:"/",className:"nav-link",children:"Incio"}),v.jsx(pr,{to:"/catalog",className:"nav-link",children:"Catlogo"}),v.jsx(pr,{to:"/cliente",className:"nav-link",children:"rea Cliente"}),v.jsx(pr,{to:"/admin",className:"nav-link",children:"rea Admin"})]}),v.jsx("style",{children:`
            @media (min-width: 768px) {
              .desktop-menu { display: flex !important; }
              .mobile-btn { display: none !important; }
            }
          `}),v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(n==null?void 0:n.user)&&s&&v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.4rem",padding:"0.45rem 0.75rem",borderRadius:"999px",background:"rgba(0, 156, 59, 0.12)",color:"var(--color-primary)",fontSize:"0.85rem",fontWeight:"600"},children:[v.jsx(O0,{size:16}),v.jsx("span",{style:{maxWidth:"180px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:s})]}),v.jsx("button",{className:"btn btn-outline",style:{padding:"0.5rem"},children:v.jsx(Rw,{size:20})}),v.jsxs(pr,{to:"/cart",className:"btn btn-primary",style:{padding:"0.5rem 1rem",position:"relative"},children:[v.jsx(ES,{size:20}),v.jsx("span",{style:{marginLeft:"0.5rem"},children:"Carrinho"}),t>0&&v.jsx("span",{style:{position:"absolute",top:"-5px",right:"-5px",background:"var(--color-secondary)",color:"var(--color-text)",fontSize:"0.75rem",fontWeight:"bold",width:"20px",height:"20px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:t})]}),v.jsx("button",{className:"mobile-btn btn btn-outline",onClick:()=>r(!e),style:{padding:"0.5rem"},children:e?v.jsx(OS,{size:24}):v.jsx(SS,{size:24})})]})]}),e&&v.jsxs("div",{style:{padding:"1rem 0",borderTop:"1px solid var(--color-border)"},children:[(n==null?void 0:n.user)&&s&&v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 0 1rem",color:"var(--color-primary)",fontWeight:"600"},children:[v.jsx(O0,{size:18}),v.jsx("span",{children:s})]}),v.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[v.jsx(pr,{to:"/",onClick:()=>r(!1),children:"Incio"}),v.jsx(pr,{to:"/catalog",onClick:()=>r(!1),children:"Catlogo"}),v.jsx(pr,{to:"/cliente",onClick:()=>r(!1),children:"rea Cliente"}),v.jsx(pr,{to:"/admin",onClick:()=>r(!1),children:"rea Admin"})]})]})]})})},g8=()=>{const[t,e]=de.useState([]),[r,n]=de.useState(null),[i,s]=de.useState("");de.useEffect(()=>{a()},[]),de.useEffect(()=>{pt.auth.getSession().then(({data:{session:l}})=>{n(l)});const{data:{subscription:o}}=pt.auth.onAuthStateChange((l,u)=>{n(u)});return()=>o.unsubscribe()},[]),de.useEffect(()=>{var l;if(!(r!=null&&r.user)){s("");return}const o=((l=r.user.user_metadata)==null?void 0:l.name)||r.user.email||"";pt.from("customers").select("name").eq("user_id",r.user.id).single().then(({data:u,error:h})=>{!h&&(u!=null&&u.name)?s(u.name):s(o)}).catch(()=>{s(o)})},[r]);const a=async()=>{try{const{data:o,error:l}=await pt.from("medicines").select("*").limit(3);!l&&o&&e(o.map(u=>({...u,image:u.image_url,wholesalePrice:u.wholesale_price})))}catch(o){console.error("Erro ao buscar destaques:",o)}};return v.jsxs("div",{className:"container",children:[(r==null?void 0:r.user)&&i&&v.jsxs("div",{className:"glass-card fade-in",style:{marginTop:"1.5rem",marginBottom:"2rem",padding:"0.85rem 1.25rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[v.jsx("span",{style:{color:"var(--color-text-muted)",fontSize:"0.95rem"},children:"Cliente logado:"}),v.jsx("strong",{style:{color:"var(--color-primary)",fontSize:"1rem"},children:i})]}),v.jsxs("section",{style:{textAlign:"center",padding:"5rem 1rem",marginBottom:"4rem",position:"relative"},className:"fade-in",children:[v.jsx("div",{style:{position:"absolute",top:"20%",left:"50%",transform:"translate(-50%, -50%)",width:"600px",height:"600px",background:"radial-gradient(circle, rgba(0, 156, 59, 0.1) 0%, transparent 70%)",borderRadius:"50%",pointerEvents:"none",zIndex:-1}}),v.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",marginBottom:"1.5rem"},children:[v.jsx(CS,{size:24,color:"#009c3b"}),v.jsx("span",{className:"badge badge-success",children:"Distribuidora Oficial ANVISA"})]}),v.jsx("h1",{style:{fontSize:"clamp(2.5rem, 6vw, 4rem)",background:"linear-gradient(135deg, var(--color-primary), var(--color-accent))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",marginBottom:"1.5rem",fontWeight:"900",letterSpacing:"-0.02em"},children:"Distribuidora Brasil Mais"}),v.jsxs("p",{style:{fontSize:"1.35rem",color:"var(--color-text-muted)",maxWidth:"700px",margin:"0 auto 3rem",lineHeight:"1.7"},children:["A soluo completa em medicamentos para ",v.jsx("strong",{style:{color:"var(--color-primary)"},children:"farmcias, hospitais e consumidores"}),". Qualidade garantida, logstica eficiente e os melhores preos do mercado."]}),v.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",flexWrap:"wrap"},children:[v.jsxs(pr,{to:"/catalog",className:"btn btn-primary",style:{fontSize:"1.1rem",padding:"1rem 2rem"},children:["Ver Catlogo ",v.jsx(Pw,{size:20})]}),v.jsx(pr,{to:"/admin",className:"btn btn-outline",style:{fontSize:"1.1rem",padding:"1rem 2rem"},children:"rea Administrativa"})]}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"2rem",marginTop:"4rem",maxWidth:"600px",margin:"4rem auto 0"},children:[v.jsxs("div",{children:[v.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"800",color:"var(--color-primary)"},children:"500+"}),v.jsx("div",{style:{color:"var(--color-text-muted)",fontSize:"0.9rem"},children:"Medicamentos"})]}),v.jsxs("div",{children:[v.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"800",color:"var(--color-primary)"},children:"24h"}),v.jsx("div",{style:{color:"var(--color-text-muted)",fontSize:"0.9rem"},children:"Atendimento"})]}),v.jsxs("div",{children:[v.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"800",color:"var(--color-primary)"},children:"99%"}),v.jsx("div",{style:{color:"var(--color-text-muted)",fontSize:"0.9rem"},children:"Satisfao"})]})]})]}),t.length>0&&v.jsxs("section",{style:{marginBottom:"4rem"},className:"slide-in",children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"2rem"},children:[v.jsx(TS,{size:28,color:"var(--color-primary)"}),v.jsx("h2",{style:{fontSize:"2rem",fontWeight:"700"},children:"Produtos em Destaque"})]}),v.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"2rem"},children:t.map(o=>{var l;return v.jsx(pr,{to:"/catalog",style:{textDecoration:"none"},children:v.jsxs("div",{className:"glass-card",style:{overflow:"hidden",position:"relative"},children:[v.jsx("span",{className:"badge badge-warning",style:{position:"absolute",top:"1rem",right:"1rem",zIndex:1},children:" Destaque"}),v.jsx("img",{src:o.image,alt:o.name,style:{width:"100%",height:"200px",objectFit:"cover"}}),v.jsxs("div",{style:{padding:"1.5rem"},children:[v.jsx("h3",{style:{fontSize:"1.25rem",marginBottom:"0.5rem",color:"var(--color-text)"},children:o.name}),v.jsx("p",{style:{color:"var(--color-text-muted)",fontSize:"0.9rem",marginBottom:"1rem"},children:o.description}),v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[v.jsxs("span",{style:{fontSize:"1.5rem",fontWeight:"700",color:"var(--color-primary)"},children:["R$ ",(l=o.price)==null?void 0:l.toFixed(2)]}),v.jsx("span",{className:"badge badge-info",children:"Em estoque"})]})]})]})},o.id)})})]}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"2rem",marginBottom:"4rem"},children:[v.jsxs("div",{className:"glass-card",style:{padding:"2.5rem",textAlign:"center"},children:[v.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #009c3b, #007a2d)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(0, 156, 59, 0.3)"},children:v.jsx(RS,{size:40,color:"white"})}),v.jsx("h3",{style:{fontSize:"1.5rem",marginBottom:"0.75rem",fontWeight:"700"},children:"Logstica Rpida"}),v.jsx("p",{style:{color:"var(--color-text-muted)",lineHeight:"1.6"},children:"Entrega expressa para todo o Brasil com rastreamento em tempo real e garantia de qualidade."})]}),v.jsxs("div",{className:"glass-card",style:{padding:"2.5rem",textAlign:"center"},children:[v.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #002776, #001a5c)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(0, 39, 118, 0.3)"},children:v.jsx(jS,{size:40,color:"white"})}),v.jsx("h3",{style:{fontSize:"1.5rem",marginBottom:"0.75rem",fontWeight:"700"},children:"Qualidade Garantida"}),v.jsx("p",{style:{color:"var(--color-text-muted)",lineHeight:"1.6"},children:"Todos os medicamentos certificados pela ANVISA com controle rigoroso de procedncia."})]}),v.jsxs("div",{className:"glass-card",style:{padding:"2.5rem",textAlign:"center"},children:[v.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #f59e0b, #d97706)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(245, 158, 11, 0.3)"},children:v.jsx(bS,{size:40,color:"white"})}),v.jsx("h3",{style:{fontSize:"1.5rem",marginBottom:"0.75rem",fontWeight:"700"},children:"Atendimento 24h"}),v.jsx("p",{style:{color:"var(--color-text-muted)",lineHeight:"1.6"},children:"Suporte especializado para farmacuticos e parceiros comerciais a qualquer hora."})]})]})]})},m8={Analgesic:"Analgsico",Antibiotic:"Antibitico",Antiallergic:"Antialrgico",Gastric:"Gstrico","Anti-inflammatory":"Anti-inflamatrio",Controlled:"Controlado",Cardiovascular:"Cardiovascular",Supplement:"Suplemento"},wd=t=>t?m8[t]||t:"",v8=({addToCart:t})=>{const[e,r]=de.useState(""),[n,i]=de.useState("All"),[s,a]=de.useState([]),[o,l]=de.useState(!0),[u,h]=de.useState(null);de.useEffect(()=>{p()},[]);const p=async()=>{try{l(!0);const{data:x,error:A}=await pt.from("medicines").select("*").order("name");if(A)throw A;a(x.map(w=>({...w,image:w.image_url,wholesalePrice:w.wholesale_price,requiresPrescription:w.requires_prescription,promoPercent:w.promo_percent??0,promo_percent:w.promo_percent??0})))}catch(x){console.error("Erro ao buscar medicamentos:",x),h(x.message)}finally{l(!1)}},m=(x,A)=>{const w=document.getElementById(`qty-${x.id}`),S=parseInt(w==null?void 0:w.value,10);let k=Number.isFinite(S)&&S>0?S:1;A==="wholesale"&&k<10&&(k=10,w&&(w.value="10"),alert("Compra no atacado requer minimo de 10 unidades. Quantidade ajustada para 10.")),t(x,k,A)},f=s.filter(x=>{const A=x.name.toLowerCase().includes(e.toLowerCase())||x.description.toLowerCase().includes(e.toLowerCase()),w=n==="All"||x.type===n;return A&&w}),_=["All",...new Set(s.map(x=>x.type))];return v.jsxs("div",{className:"container",style:{marginTop:"2rem"},children:[v.jsx("h1",{style:{marginBottom:"2rem",fontSize:"2rem",color:"var(--color-primary-dark)"},children:"Catlogo de Medicamentos"}),u&&v.jsxs("div",{style:{padding:"1rem",background:"#fee",color:"#c00",borderRadius:"0.5rem",marginBottom:"1rem"},children:["Erro ao carregar medicamentos: ",u]}),o?v.jsx("div",{style:{textAlign:"center",padding:"4rem",color:"var(--color-text-muted)"},children:v.jsx("p",{children:"Carregando medicamentos do banco de dados..."})}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"glass-card",style:{padding:"1.5rem",marginBottom:"2rem",display:"flex",gap:"1rem",flexWrap:"wrap",alignItems:"center"},children:[v.jsxs("div",{style:{position:"relative",flex:1,minWidth:"200px"},children:[v.jsx(Rw,{size:20,style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"var(--color-text-muted)"}}),v.jsx("input",{type:"text",placeholder:"Buscar medicamentos...",value:e,onChange:x=>r(x.target.value),style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 3rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",background:"rgba(255,255,255,0.8)"}})]}),v.jsx("div",{style:{display:"flex",gap:"0.5rem",overflowX:"auto",paddingBottom:"0.5rem"},children:_.map(x=>v.jsx("button",{onClick:()=>i(x),className:`btn ${n===x?"btn-primary":"btn-outline"}`,style:{whiteSpace:"nowrap",padding:"0.5rem 1rem"},children:x==="All"?"Todos":wd(x)},x))})]}),v.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"2rem"},children:f.map(x=>{const A=Number(x.promoPercent||0),w=A>0?1-A/100:1,S=x.price,k=x.wholesalePrice,E=S*w,F=k*w;return v.jsxs("div",{className:"glass-card fade-in",style:{overflow:"hidden",display:"flex",flexDirection:"column",position:"relative"},children:[x.stock<100&&v.jsx("span",{className:"badge badge-warning",style:{position:"absolute",top:"1rem",left:"1rem",zIndex:1},children:"Estoque Baixo"}),x.stock>=100&&x.stock<500&&v.jsx("span",{className:"badge badge-info",style:{position:"absolute",top:"1rem",left:"1rem",zIndex:1},children:"Disponvel"}),x.stock>=500&&v.jsx("span",{className:"badge badge-success",style:{position:"absolute",top:"1rem",left:"1rem",zIndex:1},children:" Alto Estoque"}),A>0&&v.jsxs("span",{className:"badge badge-warning",style:{position:"absolute",top:"1rem",right:"1rem",zIndex:1},children:["Promo -",A,"%"]}),v.jsxs("div",{style:{position:"relative",height:"200px"},children:[v.jsx("img",{src:x.image,alt:x.name,style:{width:"100%",height:"100%",objectFit:"cover"}}),x.requiresPrescription&&v.jsx("div",{style:{position:"absolute",top:"1rem",right:"1rem",background:"#dc2626",color:"white",padding:"0.25rem 0.75rem",borderRadius:"1rem",fontSize:"0.75rem",fontWeight:"bold",boxShadow:"0 2px 8px rgba(220, 38, 38, 0.4)"},children:" Receita"})]}),v.jsxs("div",{style:{padding:"1.5rem",flex:1,display:"flex",flexDirection:"column"},children:[v.jsxs("div",{style:{marginBottom:"1rem",flex:1},children:[v.jsx("h3",{style:{fontSize:"1.25rem",marginBottom:"0.25rem"},children:x.name}),v.jsx("span",{style:{fontSize:"0.875rem",color:"var(--color-text-muted)",background:"#f1f5f9",padding:"0.1rem 0.5rem",borderRadius:"0.25rem"},children:x.dosage}),v.jsx("p",{style:{marginTop:"0.75rem",color:"var(--color-text-muted)",fontSize:"0.9rem"},children:x.description})]}),v.jsxs("div",{style:{marginTop:"auto"},children:[v.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:v.jsx("div",{children:A>0?v.jsxs(v.Fragment,{children:[v.jsxs("span",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"var(--color-primary)"},children:["R$ ",E.toFixed(2)]}),v.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)"},children:[v.jsxs("span",{style:{textDecoration:"line-through",marginRight:"0.5rem"},children:["R$ ",S.toFixed(2)]}),"Promoo aplicada"]}),v.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)"},children:["Atacado: R$ ",F.toFixed(2)," (10+ un.)"]})]}):v.jsxs(v.Fragment,{children:[v.jsxs("span",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"var(--color-primary)"},children:["R$ ",S.toFixed(2)]}),v.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)"},children:["Atacado: R$ ",k.toFixed(2)," (10+ un.)"]})]})})}),v.jsxs("div",{style:{display:"grid",gap:"0.75rem"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"0.75rem"},children:[v.jsx("span",{style:{fontSize:"0.8rem",color:"var(--color-text-muted)",fontWeight:600},children:"Quantidade"}),v.jsx("input",{type:"number",min:"1",defaultValue:"1",id:`qty-${x.id}`,"aria-label":`Quantidade para ${x.name}`,style:{width:"90px",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, minmax(0, 1fr))",gap:"0.5rem"},children:[v.jsxs("button",{onClick:()=>m(x,"retail"),className:"btn btn-primary",style:{width:"100%"},children:[v.jsx(f2,{size:18})," Varejo"]}),v.jsxs("button",{onClick:()=>m(x,"wholesale"),className:"btn btn-outline",style:{width:"100%",borderColor:"var(--color-primary)",color:"var(--color-primary)"},children:[v.jsx(f2,{size:18})," Atacado 10+"]})]}),v.jsx("div",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)"},children:"Varejo: preco unitario. Atacado: minimo de 10 unidades."})]})]})]})]},x.id)})}),f.length===0&&v.jsx("div",{style:{textAlign:"center",padding:"4rem",color:"var(--color-text-muted)"},children:v.jsx("p",{children:"Nenhum medicamento encontrado para os filtros selecionados."})})]})]})},y8="modulepreload",w8=function(t){return"/Antigravit_testes/"+t},B2={},fp=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=w8(l),l in B2)return;B2[l]=!0;const u=l.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":y8,u||(p.as="script"),p.crossOrigin="",p.href=l,o&&p.setAttribute("nonce",o),document.head.appendChild(p),u)return new Promise((m,f)=>{p.addEventListener("load",m),p.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function Dt(t){"@babel/helpers - typeof";return Dt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dt(t)}var Ai=Uint8Array,zn=Uint16Array,sg=Int32Array,ag=new Ai([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),og=new Ai([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),M2=new Ai([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Yw=function(t,e){for(var r=new zn(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new sg(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},Xw=Yw(ag,2),b8=Xw.b,V0=Xw.r;b8[28]=258,V0[258]=28;var x8=Yw(og,0),z2=x8.r,G0=new zn(32768);for(var Jt=0;Jt<32768;++Jt){var qs=(Jt&43690)>>1|(Jt&21845)<<1;qs=(qs&52428)>>2|(qs&13107)<<2,qs=(qs&61680)>>4|(qs&3855)<<4,G0[Jt]=((qs&65280)>>8|(qs&255)<<8)>>1}var Su=function(t,e,r){for(var n=t.length,i=0,s=new zn(e);i<n;++i)t[i]&&++s[t[i]-1];var a=new zn(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(r){o=new zn(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var u=i<<4|t[i],h=e-t[i],p=a[t[i]-1]++<<h,m=p|(1<<h)-1;p<=m;++p)o[G0[p]>>l]=u}else for(o=new zn(n),i=0;i<n;++i)t[i]&&(o[i]=G0[a[t[i]-1]++]>>15-t[i]);return o},eo=new Ai(288);for(var Jt=0;Jt<144;++Jt)eo[Jt]=8;for(var Jt=144;Jt<256;++Jt)eo[Jt]=9;for(var Jt=256;Jt<280;++Jt)eo[Jt]=7;for(var Jt=280;Jt<288;++Jt)eo[Jt]=8;var bd=new Ai(32);for(var Jt=0;Jt<32;++Jt)bd[Jt]=5;var _8=Su(eo,9,0),S8=Su(bd,5,0),Qw=function(t){return(t+7)/8|0},k8=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Ai(t.subarray(e,r))},ls=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},su=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},pp=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,s=r.slice();if(!i)return{t:eb,l:0};if(i==1){var a=new Ai(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(F,G){return F.f-G.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],u=0,h=1,p=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};h!=i-1;)o=r[r[u].f<r[p].f?u++:p++],l=r[u!=h&&r[u].f<r[p].f?u++:p++],r[h++]={s:-1,f:o.f+l.f,l:o,r:l};for(var m=s[0].s,n=1;n<i;++n)s[n].s>m&&(m=s[n].s);var f=new zn(m+1),_=K0(r[h-1],f,0);if(_>e){var n=0,x=0,A=_-e,w=1<<A;for(s.sort(function(G,H){return f[H.s]-f[G.s]||G.f-H.f});n<i;++n){var S=s[n].s;if(f[S]>e)x+=w-(1<<_-f[S]),f[S]=e;else break}for(x>>=A;x>0;){var k=s[n].s;f[k]<e?x-=1<<e-f[k]++-1:++n}for(;n>=0&&x;--n){var E=s[n].s;f[E]==e&&(--f[E],++x)}_=e}return{t:new Ai(f),l:_}},K0=function(t,e,r){return t.s==-1?Math.max(K0(t.l,e,r+1),K0(t.r,e,r+1)):e[t.s]=r},U2=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new zn(++e),n=0,i=t[0],s=1,a=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:r.subarray(0,n),n:e}},au=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},Zw=function(t,e,r){var n=r.length,i=Qw(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<n;++s)t[i+s+4]=r[s];return(i+4+n)*8},q2=function(t,e,r,n,i,s,a,o,l,u,h){ls(e,h++,r),++i[256];for(var p=pp(i,15),m=p.t,f=p.l,_=pp(s,15),x=_.t,A=_.l,w=U2(m),S=w.c,k=w.n,E=U2(x),F=E.c,G=E.n,H=new zn(19),z=0;z<S.length;++z)++H[S[z]&31];for(var z=0;z<F.length;++z)++H[F[z]&31];for(var D=pp(H,7),Z=D.t,T=D.l,M=19;M>4&&!Z[M2[M-1]];--M);var J=u+5<<3,K=au(i,eo)+au(s,bd)+a,he=au(i,m)+au(s,x)+a+14+3*M+au(H,Z)+2*H[16]+3*H[17]+7*H[18];if(l>=0&&J<=K&&J<=he)return Zw(e,h,t.subarray(l,l+u));var ge,Y,O,ne;if(ls(e,h,1+(he<K)),h+=2,he<K){ge=Su(m,f,0),Y=m,O=Su(x,A,0),ne=x;var fe=Su(Z,T,0);ls(e,h,k-257),ls(e,h+5,G-1),ls(e,h+10,M-4),h+=14;for(var z=0;z<M;++z)ls(e,h+3*z,Z[M2[z]]);h+=3*M;for(var oe=[S,F],C=0;C<2;++C)for(var $=oe[C],z=0;z<$.length;++z){var V=$[z]&31;ls(e,h,fe[V]),h+=Z[V],V>15&&(ls(e,h,$[z]>>5&127),h+=$[z]>>12)}}else ge=_8,Y=eo,O=S8,ne=bd;for(var z=0;z<o;++z){var Q=n[z];if(Q>255){var V=Q>>18&31;su(e,h,ge[V+257]),h+=Y[V+257],V>7&&(ls(e,h,Q>>23&31),h+=ag[V]);var re=Q&31;su(e,h,O[re]),h+=ne[re],re>3&&(su(e,h,Q>>5&8191),h+=og[re])}else su(e,h,ge[Q]),h+=Y[Q]}return su(e,h,ge[256]),h+Y[256]},A8=new sg([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),eb=new Ai(0),N8=function(t,e,r,n,i,s){var a=s.z||t.length,o=new Ai(n+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(n,o.length-i),u=s.l,h=(s.r||0)&7;if(e){h&&(l[0]=s.r>>3);for(var p=A8[e-1],m=p>>13,f=p&8191,_=(1<<r)-1,x=s.p||new zn(32768),A=s.h||new zn(_+1),w=Math.ceil(r/3),S=2*w,k=function(Ke){return(t[Ke]^t[Ke+1]<<w^t[Ke+2]<<S)&_},E=new sg(25e3),F=new zn(288),G=new zn(32),H=0,z=0,D=s.i||0,Z=0,T=s.w||0,M=0;D+2<a;++D){var J=k(D),K=D&32767,he=A[J];if(x[K]=he,A[J]=K,T<=D){var ge=a-D;if((H>7e3||Z>24576)&&(ge>423||!u)){h=q2(t,l,0,E,F,G,z,Z,M,D-M,h),Z=H=z=0,M=D;for(var Y=0;Y<286;++Y)F[Y]=0;for(var Y=0;Y<30;++Y)G[Y]=0}var O=2,ne=0,fe=f,oe=K-he&32767;if(ge>2&&J==k(D-oe))for(var C=Math.min(m,ge)-1,$=Math.min(32767,D),V=Math.min(258,ge);oe<=$&&--fe&&K!=he;){if(t[D+O]==t[D+O-oe]){for(var Q=0;Q<V&&t[D+Q]==t[D+Q-oe];++Q);if(Q>O){if(O=Q,ne=oe,Q>C)break;for(var re=Math.min(oe,Q-2),ae=0,Y=0;Y<re;++Y){var pe=D-oe+Y&32767,me=x[pe],ve=pe-me&32767;ve>ae&&(ae=ve,he=pe)}}}K=he,he=x[K],oe+=K-he&32767}if(ne){E[Z++]=268435456|V0[O]<<18|z2[ne];var ke=V0[O]&31,Ce=z2[ne]&31;z+=ag[ke]+og[Ce],++F[257+ke],++G[Ce],T=D+O,++H}else E[Z++]=t[D],++F[t[D]]}}for(D=Math.max(D,T);D<a;++D)E[Z++]=t[D],++F[t[D]];h=q2(t,l,u,E,F,G,z,Z,M,D-M,h),u||(s.r=h&7|l[h/8|0]<<3,h-=7,s.h=A,s.p=x,s.i=D,s.w=T)}else{for(var D=s.w||0;D<a+u;D+=65535){var Re=D+65535;Re>=a&&(l[h/8|0]=u,Re=a),h=Zw(l,h+1,t.subarray(D,Re))}s.i=a}return k8(o,0,n+Qw(h)+i)},tb=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,s=r.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=n+=r[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},j8=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Ai(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return N8(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},rb=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},E8=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=tb();i.p(e.dictionary),rb(t,2,i.d())}};function J0(t,e){e||(e={});var r=tb();r.p(t);var n=j8(t,e,e.dictionary?6:2,4);return E8(n,e),rb(n,n.length-4,r.d()),n}var C8=typeof TextDecoder<"u"&&new TextDecoder,L8=0;try{C8.decode(eb,{stream:!0}),L8=1}catch{}function P8(t){if(Array.isArray(t))return t}function T8(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function $2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function R8(t,e){if(t){if(typeof t=="string")return $2(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$2(t,e):void 0}}function I8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W2(t,e){return P8(t)||T8(t,e)||R8(t,e)||I8()}function H2(t,e="utf8"){return new TextDecoder(e).decode(t)}const O8=new TextEncoder;function F8(t){return O8.encode(t)}const D8=1024*8,B8=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),gp={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class lg{constructor(e=D8,r={}){Ft(this,"buffer");Ft(this,"byteLength");Ft(this,"byteOffset");Ft(this,"length");Ft(this,"offset");Ft(this,"lastWrittenByte");Ft(this,"littleEndian");Ft(this,"_data");Ft(this,"_mark");Ft(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,s=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof lg)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=gp[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+n);if(this.littleEndian===B8&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const l=new gp[r](o.buffer);return this.offset+=n,l.reverse(),l}const a=new gp[r](s);return this.offset+=n,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return H2(this.readBytes(e))}decodeText(e=1,r="utf8"){return H2(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(F8(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function xl(t){let e=t.length;for(;--e>=0;)t[e]=0}const M8=3,z8=258,nb=29,U8=256,q8=U8+1+nb,ib=30,$8=512,W8=new Array((q8+2)*2);xl(W8);const H8=new Array(ib*2);xl(H8);const V8=new Array($8);xl(V8);const G8=new Array(z8-M8+1);xl(G8);const K8=new Array(nb);xl(K8);const J8=new Array(ib);xl(J8);const Y8=(t,e,r,n)=>{let i=t&65535|0,s=t>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do i=i+e[n++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var Y0=Y8;const X8=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},Q8=new Uint32Array(X8()),Z8=(t,e,r,n)=>{const i=Q8,s=n+r;t^=-1;for(let a=n;a<s;a++)t=t>>>8^i[(t^e[a])&255];return t^-1};var Bi=Z8,X0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},sb={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const eA=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var tA=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)eA(r,n)&&(t[n]=r[n])}}return t},rA=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,s=t.length;n<s;n++){let a=t[n];r.set(a,i),i+=a.length}return r},ab={assign:tA,flattenChunks:rA};let ob=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ob=!1}const Qu=new Uint8Array(256);for(let t=0;t<256;t++)Qu[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Qu[254]=Qu[254]=1;var nA=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,s,a=t.length,o=0;for(i=0;i<a;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(o),s=0,i=0;s<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|r&63):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|r&63):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|r&63);return e};const iA=(t,e)=>{if(e<65534&&t.subarray&&ob)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var sA=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const s=new Array(r*2);for(i=0,n=0;n<r;){let a=t[n++];if(a<128){s[i++]=a;continue}let o=Qu[a];if(o>4){s[i++]=65533,n+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&n<r;)a=a<<6|t[n++]&63,o--;if(o>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return iA(s,i)},aA=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+Qu[t[r]]>e?r:e},Q0={string2buf:nA,buf2string:sA,utf8border:aA};function oA(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var lA=oA;const mh=16209,uA=16191;var cA=function(e,r){let n,i,s,a,o,l,u,h,p,m,f,_,x,A,w,S,k,E,F,G,H,z,D,Z;const T=e.state;n=e.next_in,D=e.input,i=n+(e.avail_in-5),s=e.next_out,Z=e.output,a=s-(r-e.avail_out),o=s+(e.avail_out-257),l=T.dmax,u=T.wsize,h=T.whave,p=T.wnext,m=T.window,f=T.hold,_=T.bits,x=T.lencode,A=T.distcode,w=(1<<T.lenbits)-1,S=(1<<T.distbits)-1;e:do{_<15&&(f+=D[n++]<<_,_+=8,f+=D[n++]<<_,_+=8),k=x[f&w];t:for(;;){if(E=k>>>24,f>>>=E,_-=E,E=k>>>16&255,E===0)Z[s++]=k&65535;else if(E&16){F=k&65535,E&=15,E&&(_<E&&(f+=D[n++]<<_,_+=8),F+=f&(1<<E)-1,f>>>=E,_-=E),_<15&&(f+=D[n++]<<_,_+=8,f+=D[n++]<<_,_+=8),k=A[f&S];r:for(;;){if(E=k>>>24,f>>>=E,_-=E,E=k>>>16&255,E&16){if(G=k&65535,E&=15,_<E&&(f+=D[n++]<<_,_+=8,_<E&&(f+=D[n++]<<_,_+=8)),G+=f&(1<<E)-1,G>l){e.msg="invalid distance too far back",T.mode=mh;break e}if(f>>>=E,_-=E,E=s-a,G>E){if(E=G-E,E>h&&T.sane){e.msg="invalid distance too far back",T.mode=mh;break e}if(H=0,z=m,p===0){if(H+=u-E,E<F){F-=E;do Z[s++]=m[H++];while(--E);H=s-G,z=Z}}else if(p<E){if(H+=u+p-E,E-=p,E<F){F-=E;do Z[s++]=m[H++];while(--E);if(H=0,p<F){E=p,F-=E;do Z[s++]=m[H++];while(--E);H=s-G,z=Z}}}else if(H+=p-E,E<F){F-=E;do Z[s++]=m[H++];while(--E);H=s-G,z=Z}for(;F>2;)Z[s++]=z[H++],Z[s++]=z[H++],Z[s++]=z[H++],F-=3;F&&(Z[s++]=z[H++],F>1&&(Z[s++]=z[H++]))}else{H=s-G;do Z[s++]=Z[H++],Z[s++]=Z[H++],Z[s++]=Z[H++],F-=3;while(F>2);F&&(Z[s++]=Z[H++],F>1&&(Z[s++]=Z[H++]))}}else if(E&64){e.msg="invalid distance code",T.mode=mh;break e}else{k=A[(k&65535)+(f&(1<<E)-1)];continue r}break}}else if(E&64)if(E&32){T.mode=uA;break e}else{e.msg="invalid literal/length code",T.mode=mh;break e}else{k=x[(k&65535)+(f&(1<<E)-1)];continue t}break}}while(n<i&&s<o);F=_>>3,n-=F,_-=F<<3,f&=(1<<_)-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=s<o?257+(o-s):257-(s-o),T.hold=f,T.bits=_};const Co=15,V2=852,G2=592,K2=0,mp=1,J2=2,hA=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),dA=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),fA=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),pA=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),gA=(t,e,r,n,i,s,a,o)=>{const l=o.bits;let u=0,h=0,p=0,m=0,f=0,_=0,x=0,A=0,w=0,S=0,k,E,F,G,H,z=null,D;const Z=new Uint16Array(Co+1),T=new Uint16Array(Co+1);let M=null,J,K,he;for(u=0;u<=Co;u++)Z[u]=0;for(h=0;h<n;h++)Z[e[r+h]]++;for(f=l,m=Co;m>=1&&Z[m]===0;m--);if(f>m&&(f=m),m===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(p=1;p<m&&Z[p]===0;p++);for(f<p&&(f=p),A=1,u=1;u<=Co;u++)if(A<<=1,A-=Z[u],A<0)return-1;if(A>0&&(t===K2||m!==1))return-1;for(T[1]=0,u=1;u<Co;u++)T[u+1]=T[u]+Z[u];for(h=0;h<n;h++)e[r+h]!==0&&(a[T[e[r+h]]++]=h);if(t===K2?(z=M=a,D=20):t===mp?(z=hA,M=dA,D=257):(z=fA,M=pA,D=0),S=0,h=0,u=p,H=s,_=f,x=0,F=-1,w=1<<f,G=w-1,t===mp&&w>V2||t===J2&&w>G2)return 1;for(;;){J=u-x,a[h]+1<D?(K=0,he=a[h]):a[h]>=D?(K=M[a[h]-D],he=z[a[h]-D]):(K=96,he=0),k=1<<u-x,E=1<<_,p=E;do E-=k,i[H+(S>>x)+E]=J<<24|K<<16|he|0;while(E!==0);for(k=1<<u-1;S&k;)k>>=1;if(k!==0?(S&=k-1,S+=k):S=0,h++,--Z[u]===0){if(u===m)break;u=e[r+a[h]]}if(u>f&&(S&G)!==F){for(x===0&&(x=f),H+=p,_=u-x,A=1<<_;_+x<m&&(A-=Z[_+x],!(A<=0));)_++,A<<=1;if(w+=1<<_,t===mp&&w>V2||t===J2&&w>G2)return 1;F=S&G,i[F]=f<<24|_<<16|H-s|0}}return S!==0&&(i[H+S]=u-x<<24|64<<16|0),o.bits=f,0};var ku=gA;const mA=0,lb=1,ub=2,{Z_FINISH:Y2,Z_BLOCK:vA,Z_TREES:vh,Z_OK:to,Z_STREAM_END:yA,Z_NEED_DICT:wA,Z_STREAM_ERROR:si,Z_DATA_ERROR:cb,Z_MEM_ERROR:hb,Z_BUF_ERROR:bA,Z_DEFLATED:X2}=sb,Yd=16180,Q2=16181,Z2=16182,ev=16183,tv=16184,rv=16185,nv=16186,iv=16187,sv=16188,av=16189,xd=16190,us=16191,vp=16192,ov=16193,yp=16194,lv=16195,uv=16196,cv=16197,hv=16198,yh=16199,wh=16200,dv=16201,fv=16202,pv=16203,gv=16204,mv=16205,wp=16206,vv=16207,yv=16208,Xt=16209,db=16210,fb=16211,xA=852,_A=592,SA=15,kA=SA,wv=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function AA(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ao=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Yd||e.mode>fb?1:0},pb=t=>{if(ao(t))return si;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Yd,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(xA),e.distcode=e.distdyn=new Int32Array(_A),e.sane=1,e.back=-1,to},gb=t=>{if(ao(t))return si;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,pb(t)},mb=(t,e)=>{let r;if(ao(t))return si;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?si:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,gb(t))},vb=(t,e)=>{if(!t)return si;const r=new AA;t.state=r,r.strm=t,r.window=null,r.mode=Yd;const n=mb(t,e);return n!==to&&(t.state=null),n},NA=t=>vb(t,kA);let bv=!0,bp,xp;const jA=t=>{if(bv){bp=new Int32Array(512),xp=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(ku(lb,t.lens,0,288,bp,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;ku(ub,t.lens,0,32,xp,0,t.work,{bits:5}),bv=!1}t.lencode=bp,t.lenbits=9,t.distcode=xp,t.distbits=5},yb=(t,e,r,n)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(e.subarray(r-n,r-n+i),s.wnext),n-=i,n?(s.window.set(e.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},EA=(t,e)=>{let r,n,i,s,a,o,l,u,h,p,m,f,_,x,A=0,w,S,k,E,F,G,H,z;const D=new Uint8Array(4);let Z,T;const M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ao(t)||!t.output||!t.input&&t.avail_in!==0)return si;r=t.state,r.mode===us&&(r.mode=vp),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,n=t.input,o=t.avail_in,u=r.hold,h=r.bits,p=o,m=l,z=to;e:for(;;)switch(r.mode){case Yd:if(r.wrap===0){r.mode=vp;break}for(;h<16;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,D[0]=u&255,D[1]=u>>>8&255,r.check=Bi(r.check,D,2,0),u=0,h=0,r.mode=Q2;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=Xt;break}if((u&15)!==X2){t.msg="unknown compression method",r.mode=Xt;break}if(u>>>=4,h-=4,H=(u&15)+8,r.wbits===0&&(r.wbits=H),H>15||H>r.wbits){t.msg="invalid window size",r.mode=Xt;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=u&512?av:us,u=0,h=0;break;case Q2:for(;h<16;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}if(r.flags=u,(r.flags&255)!==X2){t.msg="unknown compression method",r.mode=Xt;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Xt;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(D[0]=u&255,D[1]=u>>>8&255,r.check=Bi(r.check,D,2,0)),u=0,h=0,r.mode=Z2;case Z2:for(;h<32;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(D[0]=u&255,D[1]=u>>>8&255,D[2]=u>>>16&255,D[3]=u>>>24&255,r.check=Bi(r.check,D,4,0)),u=0,h=0,r.mode=ev;case ev:for(;h<16;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(D[0]=u&255,D[1]=u>>>8&255,r.check=Bi(r.check,D,2,0)),u=0,h=0,r.mode=tv;case tv:if(r.flags&1024){for(;h<16;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(D[0]=u&255,D[1]=u>>>8&255,r.check=Bi(r.check,D,2,0)),u=0,h=0}else r.head&&(r.head.extra=null);r.mode=rv;case rv:if(r.flags&1024&&(f=r.length,f>o&&(f=o),f&&(r.head&&(H=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+f),H)),r.flags&512&&r.wrap&4&&(r.check=Bi(r.check,n,f,s)),o-=f,s+=f,r.length-=f),r.length))break e;r.length=0,r.mode=nv;case nv:if(r.flags&2048){if(o===0)break e;f=0;do H=n[s+f++],r.head&&H&&r.length<65536&&(r.head.name+=String.fromCharCode(H));while(H&&f<o);if(r.flags&512&&r.wrap&4&&(r.check=Bi(r.check,n,f,s)),o-=f,s+=f,H)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=iv;case iv:if(r.flags&4096){if(o===0)break e;f=0;do H=n[s+f++],r.head&&H&&r.length<65536&&(r.head.comment+=String.fromCharCode(H));while(H&&f<o);if(r.flags&512&&r.wrap&4&&(r.check=Bi(r.check,n,f,s)),o-=f,s+=f,H)break e}else r.head&&(r.head.comment=null);r.mode=sv;case sv:if(r.flags&512){for(;h<16;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}if(r.wrap&4&&u!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Xt;break}u=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=us;break;case av:for(;h<32;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}t.adler=r.check=wv(u),u=0,h=0,r.mode=xd;case xd:if(r.havedict===0)return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=h,wA;t.adler=r.check=1,r.mode=us;case us:if(e===vA||e===vh)break e;case vp:if(r.last){u>>>=h&7,h-=h&7,r.mode=wp;break}for(;h<3;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}switch(r.last=u&1,u>>>=1,h-=1,u&3){case 0:r.mode=ov;break;case 1:if(jA(r),r.mode=yh,e===vh){u>>>=2,h-=2;break e}break;case 2:r.mode=uv;break;case 3:t.msg="invalid block type",r.mode=Xt}u>>>=2,h-=2;break;case ov:for(u>>>=h&7,h-=h&7;h<32;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Xt;break}if(r.length=u&65535,u=0,h=0,r.mode=yp,e===vh)break e;case yp:r.mode=lv;case lv:if(f=r.length,f){if(f>o&&(f=o),f>l&&(f=l),f===0)break e;i.set(n.subarray(s,s+f),a),o-=f,s+=f,l-=f,a+=f,r.length-=f;break}r.mode=us;break;case uv:for(;h<14;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}if(r.nlen=(u&31)+257,u>>>=5,h-=5,r.ndist=(u&31)+1,u>>>=5,h-=5,r.ncode=(u&15)+4,u>>>=4,h-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Xt;break}r.have=0,r.mode=cv;case cv:for(;r.have<r.ncode;){for(;h<3;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}r.lens[M[r.have++]]=u&7,u>>>=3,h-=3}for(;r.have<19;)r.lens[M[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,Z={bits:r.lenbits},z=ku(mA,r.lens,0,19,r.lencode,0,r.work,Z),r.lenbits=Z.bits,z){t.msg="invalid code lengths set",r.mode=Xt;break}r.have=0,r.mode=hv;case hv:for(;r.have<r.nlen+r.ndist;){for(;A=r.lencode[u&(1<<r.lenbits)-1],w=A>>>24,S=A>>>16&255,k=A&65535,!(w<=h);){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}if(k<16)u>>>=w,h-=w,r.lens[r.have++]=k;else{if(k===16){for(T=w+2;h<T;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}if(u>>>=w,h-=w,r.have===0){t.msg="invalid bit length repeat",r.mode=Xt;break}H=r.lens[r.have-1],f=3+(u&3),u>>>=2,h-=2}else if(k===17){for(T=w+3;h<T;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}u>>>=w,h-=w,H=0,f=3+(u&7),u>>>=3,h-=3}else{for(T=w+7;h<T;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}u>>>=w,h-=w,H=0,f=11+(u&127),u>>>=7,h-=7}if(r.have+f>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Xt;break}for(;f--;)r.lens[r.have++]=H}}if(r.mode===Xt)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Xt;break}if(r.lenbits=9,Z={bits:r.lenbits},z=ku(lb,r.lens,0,r.nlen,r.lencode,0,r.work,Z),r.lenbits=Z.bits,z){t.msg="invalid literal/lengths set",r.mode=Xt;break}if(r.distbits=6,r.distcode=r.distdyn,Z={bits:r.distbits},z=ku(ub,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,Z),r.distbits=Z.bits,z){t.msg="invalid distances set",r.mode=Xt;break}if(r.mode=yh,e===vh)break e;case yh:r.mode=wh;case wh:if(o>=6&&l>=258){t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=h,cA(t,m),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,n=t.input,o=t.avail_in,u=r.hold,h=r.bits,r.mode===us&&(r.back=-1);break}for(r.back=0;A=r.lencode[u&(1<<r.lenbits)-1],w=A>>>24,S=A>>>16&255,k=A&65535,!(w<=h);){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}if(S&&!(S&240)){for(E=w,F=S,G=k;A=r.lencode[G+((u&(1<<E+F)-1)>>E)],w=A>>>24,S=A>>>16&255,k=A&65535,!(E+w<=h);){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}u>>>=E,h-=E,r.back+=E}if(u>>>=w,h-=w,r.back+=w,r.length=k,S===0){r.mode=mv;break}if(S&32){r.back=-1,r.mode=us;break}if(S&64){t.msg="invalid literal/length code",r.mode=Xt;break}r.extra=S&15,r.mode=dv;case dv:if(r.extra){for(T=r.extra;h<T;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=fv;case fv:for(;A=r.distcode[u&(1<<r.distbits)-1],w=A>>>24,S=A>>>16&255,k=A&65535,!(w<=h);){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}if(!(S&240)){for(E=w,F=S,G=k;A=r.distcode[G+((u&(1<<E+F)-1)>>E)],w=A>>>24,S=A>>>16&255,k=A&65535,!(E+w<=h);){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}u>>>=E,h-=E,r.back+=E}if(u>>>=w,h-=w,r.back+=w,S&64){t.msg="invalid distance code",r.mode=Xt;break}r.offset=k,r.extra=S&15,r.mode=pv;case pv:if(r.extra){for(T=r.extra;h<T;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Xt;break}r.mode=gv;case gv:if(l===0)break e;if(f=m-l,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Xt;break}f>r.wnext?(f-=r.wnext,_=r.wsize-f):_=r.wnext-f,f>r.length&&(f=r.length),x=r.window}else x=i,_=a-r.offset,f=r.length;f>l&&(f=l),l-=f,r.length-=f;do i[a++]=x[_++];while(--f);r.length===0&&(r.mode=wh);break;case mv:if(l===0)break e;i[a++]=r.length,l--,r.mode=wh;break;case wp:if(r.wrap){for(;h<32;){if(o===0)break e;o--,u|=n[s++]<<h,h+=8}if(m-=l,t.total_out+=m,r.total+=m,r.wrap&4&&m&&(t.adler=r.check=r.flags?Bi(r.check,i,m,a-m):Y0(r.check,i,m,a-m)),m=l,r.wrap&4&&(r.flags?u:wv(u))!==r.check){t.msg="incorrect data check",r.mode=Xt;break}u=0,h=0}r.mode=vv;case vv:if(r.wrap&&r.flags){for(;h<32;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}if(r.wrap&4&&u!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Xt;break}u=0,h=0}r.mode=yv;case yv:z=yA;break e;case Xt:z=cb;break e;case db:return hb;case fb:default:return si}return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=h,(r.wsize||m!==t.avail_out&&r.mode<Xt&&(r.mode<wp||e!==Y2))&&yb(t,t.output,t.next_out,m-t.avail_out),p-=t.avail_in,m-=t.avail_out,t.total_in+=p,t.total_out+=m,r.total+=m,r.wrap&4&&m&&(t.adler=r.check=r.flags?Bi(r.check,i,m,t.next_out-m):Y0(r.check,i,m,t.next_out-m)),t.data_type=r.bits+(r.last?64:0)+(r.mode===us?128:0)+(r.mode===yh||r.mode===yp?256:0),(p===0&&m===0||e===Y2)&&z===to&&(z=bA),z},CA=t=>{if(ao(t))return si;let e=t.state;return e.window&&(e.window=null),t.state=null,to},LA=(t,e)=>{if(ao(t))return si;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,to):si},PA=(t,e)=>{const r=e.length;let n,i,s;return ao(t)||(n=t.state,n.wrap!==0&&n.mode!==xd)?si:n.mode===xd&&(i=1,i=Y0(i,e,r,0),i!==n.check)?cb:(s=yb(t,e,r,r),s?(n.mode=db,hb):(n.havedict=1,to))};var TA=gb,RA=mb,IA=pb,OA=NA,FA=vb,DA=EA,BA=CA,MA=LA,zA=PA,UA="pako inflate (from Nodeca project)",fs={inflateReset:TA,inflateReset2:RA,inflateResetKeep:IA,inflateInit:OA,inflateInit2:FA,inflate:DA,inflateEnd:BA,inflateGetHeader:MA,inflateSetDictionary:zA,inflateInfo:UA};function qA(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var $A=qA;const wb=Object.prototype.toString,{Z_NO_FLUSH:WA,Z_FINISH:HA,Z_OK:Zu,Z_STREAM_END:_p,Z_NEED_DICT:Sp,Z_STREAM_ERROR:VA,Z_DATA_ERROR:xv,Z_MEM_ERROR:GA}=sb;function uc(t){this.options=ab.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new lA,this.strm.avail_out=0;let r=fs.inflateInit2(this.strm,e.windowBits);if(r!==Zu)throw new Error(X0[r]);if(this.header=new $A,fs.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Q0.string2buf(e.dictionary):wb.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=fs.inflateSetDictionary(this.strm,e.dictionary),r!==Zu)))throw new Error(X0[r])}uc.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?HA:WA,wb.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=fs.inflate(r,a),s===Sp&&i&&(s=fs.inflateSetDictionary(r,i),s===Zu?s=fs.inflate(r,a):s===xv&&(s=Sp));r.avail_in>0&&s===_p&&r.state.wrap>0&&t[r.next_in]!==0;)fs.inflateReset(r),s=fs.inflate(r,a);switch(s){case VA:case xv:case Sp:case GA:return this.onEnd(s),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||s===_p))if(this.options.to==="string"){let l=Q0.utf8border(r.output,r.next_out),u=r.next_out-l,h=Q0.buf2string(r.output,l);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(l,l+u),0),this.onData(h)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===Zu&&o===0)){if(s===_p)return s=fs.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};uc.prototype.onData=function(t){this.chunks.push(t)};uc.prototype.onEnd=function(t){t===Zu&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ab.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function KA(t,e){const r=new uc(e);if(r.push(t),r.err)throw r.msg||X0[r.err];return r.result}var JA=uc,YA=KA,XA={Inflate:JA,inflate:YA};const{Inflate:QA,inflate:ZA}=XA;var _v=QA,eN=ZA;const bb=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;bb[t]=e}const Sv=4294967295;function tN(t,e,r){let n=t;for(let i=0;i<r;i++)n=bb[(n^e[i])&255]^n>>>8;return n}function rN(t,e){return(tN(Sv,t,e)^Sv)>>>0}function kv(t,e,r){const n=t.readUint32(),i=rN(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function xb(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function _b(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function Sb(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function kb(t,e,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(r[s]>>1)&255;for(;s<n;s++)e[s]=t[s]+(e[s-i]+r[s]>>1)&255}}function Ab(t,e,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+r[s]&255;for(;s<n;s++)e[s]=t[s]+nN(e[s-i],r[s],r[s-i])&255}}function nN(t,e,r){const n=t+e-r,i=Math.abs(n-t),s=Math.abs(n-e),a=Math.abs(n-r);return i<=s&&i<=a?t:s<=a?e:r}function iN(t,e,r,n,i,s){switch(t){case 0:xb(e,r,i);break;case 1:_b(e,r,i,s);break;case 2:Sb(e,r,n,i);break;case 3:kb(e,r,n,i,s);break;case 4:Ab(e,r,n,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const sN=new Uint16Array([255]),aN=new Uint8Array(sN.buffer),oN=aN[0]===255;function lN(t){const{data:e,width:r,height:n,channels:i,depth:s}=t,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,l=new Uint8Array(n*r*o);let u=0;for(let h=0;h<7;h++){const p=a[h],m=Math.ceil((r-p.x)/p.xStep),f=Math.ceil((n-p.y)/p.yStep);if(m<=0||f<=0)continue;const _=m*o,x=new Uint8Array(_);for(let A=0;A<f;A++){const w=e[u++],S=e.subarray(u,u+_);u+=_;const k=new Uint8Array(_);iN(w,S,k,x,_,o),x.set(k);for(let E=0;E<m;E++){const F=p.x+E*p.xStep,G=p.y+A*p.yStep;if(!(F>=r||G>=n))for(let H=0;H<o;H++)l[(G*r+F)*o+H]=k[E*o+H]}}}if(s===16){const h=new Uint16Array(l.buffer);if(oN)for(let p=0;p<h.length;p++)h[p]=uN(h[p]);return h}else return l}function uN(t){return(t&255)<<8|t>>8&255}const cN=new Uint16Array([255]),hN=new Uint8Array(cN.buffer),dN=hN[0]===255,fN=new Uint8Array(0);function Av(t){const{data:e,width:r,height:n,channels:i,depth:s}=t,a=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*r),l=new Uint8Array(n*o);let u=fN,h=0,p,m;for(let f=0;f<n;f++){switch(p=e.subarray(h+1,h+1+o),m=l.subarray(f*o,(f+1)*o),e[h]){case 0:xb(p,m,o);break;case 1:_b(p,m,o,a);break;case 2:Sb(p,m,u,o);break;case 3:kb(p,m,u,o,a);break;case 4:Ab(p,m,u,o,a);break;default:throw new Error(`Unsupported filter: ${e[h]}`)}u=m,h+=o+1}if(s===16){const f=new Uint16Array(l.buffer);if(dN)for(let _=0;_<f.length;_++)f[_]=pN(f[_]);return f}else return l}function pN(t){return(t&255)<<8|t>>8&255}const Dh=Uint8Array.of(137,80,78,71,13,10,26,10);function Nv(t){if(!gN(t.readBytes(Dh.length)))throw new Error("wrong PNG signature")}function gN(t){if(t.length<Dh.length)return!1;for(let e=0;e<Dh.length;e++)if(t[e]!==Dh[e])return!1;return!0}const mN="tEXt",vN=0,Nb=new TextDecoder("latin1");function yN(t){if(bN(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const wN=/^[\u0000-\u00FF]*$/;function bN(t){if(!wN.test(t))throw new Error("invalid latin1 text")}function xN(t,e,r){const n=jb(e);t[n]=_N(e,r-n.length-1)}function jb(t){for(t.mark();t.readByte()!==vN;);const e=t.offset;t.reset();const r=Nb.decode(t.readBytes(e-t.offset-1));return t.skip(1),yN(r),r}function _N(t,e){return Nb.decode(t.readBytes(e))}const On={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},kp={UNKNOWN:-1,DEFLATE:0},jv={UNKNOWN:-1,ADAPTIVE:0},Ap={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},bh={NONE:0,BACKGROUND:1,PREVIOUS:2},Np={SOURCE:0,OVER:1};class SN extends lg{constructor(r,n={}){super(r);Ft(this,"_checkCrc");Ft(this,"_inflator");Ft(this,"_png");Ft(this,"_apng");Ft(this,"_end");Ft(this,"_hasPalette");Ft(this,"_palette");Ft(this,"_hasTransparency");Ft(this,"_transparency");Ft(this,"_compressionMethod");Ft(this,"_filterMethod");Ft(this,"_interlaceMethod");Ft(this,"_colorType");Ft(this,"_isAnimated");Ft(this,"_numberOfFrames");Ft(this,"_numberOfPlays");Ft(this,"_frames");Ft(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new _v,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=kp.UNKNOWN,this._filterMethod=jv.UNKNOWN,this._interlaceMethod=Ap.UNKNOWN,this._colorType=On.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Nv(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(Nv(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case mN:xN(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?kv(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?kv(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=kN(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case On.GREYSCALE:i=1;break;case On.TRUECOLOUR:i=3;break;case On.INDEXED_COLOUR:i=1;break;case On.GREYSCALE_ALPHA:i=2;break;case On.TRUECOLOUR_ALPHA:i=4;break;case On.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==kp.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<n;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case On.GREYSCALE:case On.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case On.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case On.UNKNOWN:case On.GREYSCALE_ALPHA:case On.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=jb(this),i=this.readUint8();if(i!==kp.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:eN(s)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=Av({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const s=this._apng.frames.at(r-1);this.disposeFrame(i,s,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case bh.NONE:break;case bh.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let a=0;a<this._png.width;a++){const o=(s*r.width+a)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case bh.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,s=(a,o)=>{const l=((a+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,u=(a*n.width+o)*this._png.channels;return{index:l,frameIndex:u}};switch(n.blendOp){case Np.SOURCE:for(let a=0;a<n.height;a++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:u}=s(a,o);for(let h=0;h<this._png.channels;h++)r.data[l+h]=n.data[u+h]}break;case Np.OVER:for(let a=0;a<n.height;a++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:u}=s(a,o);for(let h=0;h<this._png.channels;h++){const p=n.data[u+this._png.channels-1]/i,m=h%(this._png.channels-1)===0?1:n.data[u+h],f=Math.floor(p*m+(1-p)*r.data[l+h]);r.data[l+h]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==jv.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Ap.NO_INTERLACE)this._png.data=Av({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Ap.ADAM7)this._png.data=lN({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:bh.NONE,blendOp:Np.SOURCE,data:r}),this._inflator=new _v,this._writingDataChunks=!1}}function kN(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var Ev;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(Ev||(Ev={}));function AN(t,e){return new SN(t,e).decode()}var it=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function jp(){it.console&&typeof it.console.log=="function"&&it.console.log.apply(it.console,arguments)}var qt={log:jp,warn:function(t){it.console&&(typeof it.console.warn=="function"?it.console.warn.apply(it.console,arguments):jp.call(null,arguments))},error:function(t){it.console&&(typeof it.console.error=="function"?it.console.error.apply(it.console,arguments):jp(t))}};function Ep(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Ba(n.response,e,r)},n.onerror=function(){qt.error("could not download file")},n.send()}function Cv(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function xh(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Ba=it.saveAs||((typeof window>"u"?"undefined":Dt(window))!=="object"||window!==it?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=it.URL||it.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?Cv(i.href)?Ep(t,e,r):xh(i,i.target="_blank"):xh(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){xh(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(Cv(t))Ep(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){xh(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Dt(s)!=="object"&&(qt.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Ep(t,e,r);var i=t.type==="application/octet-stream",s=/constructor/i.test(it.HTMLElement)||it.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":Dt(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var h=o.result;h=a?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=h:location=h,n=null},o.readAsDataURL(t)}else{var l=it.URL||it.webkitURL,u=l.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Eb(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}var Bh=it.atob.bind(it),Lv=it.btoa.bind(it);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Cp(t,e){var r=t[0],n=t[1],i=t[2],s=t[3];r=rn(r,n,i,s,e[0],7,-680876936),s=rn(s,r,n,i,e[1],12,-389564586),i=rn(i,s,r,n,e[2],17,606105819),n=rn(n,i,s,r,e[3],22,-1044525330),r=rn(r,n,i,s,e[4],7,-176418897),s=rn(s,r,n,i,e[5],12,1200080426),i=rn(i,s,r,n,e[6],17,-1473231341),n=rn(n,i,s,r,e[7],22,-45705983),r=rn(r,n,i,s,e[8],7,1770035416),s=rn(s,r,n,i,e[9],12,-1958414417),i=rn(i,s,r,n,e[10],17,-42063),n=rn(n,i,s,r,e[11],22,-1990404162),r=rn(r,n,i,s,e[12],7,1804603682),s=rn(s,r,n,i,e[13],12,-40341101),i=rn(i,s,r,n,e[14],17,-1502002290),r=nn(r,n=rn(n,i,s,r,e[15],22,1236535329),i,s,e[1],5,-165796510),s=nn(s,r,n,i,e[6],9,-1069501632),i=nn(i,s,r,n,e[11],14,643717713),n=nn(n,i,s,r,e[0],20,-373897302),r=nn(r,n,i,s,e[5],5,-701558691),s=nn(s,r,n,i,e[10],9,38016083),i=nn(i,s,r,n,e[15],14,-660478335),n=nn(n,i,s,r,e[4],20,-405537848),r=nn(r,n,i,s,e[9],5,568446438),s=nn(s,r,n,i,e[14],9,-1019803690),i=nn(i,s,r,n,e[3],14,-187363961),n=nn(n,i,s,r,e[8],20,1163531501),r=nn(r,n,i,s,e[13],5,-1444681467),s=nn(s,r,n,i,e[2],9,-51403784),i=nn(i,s,r,n,e[7],14,1735328473),r=sn(r,n=nn(n,i,s,r,e[12],20,-1926607734),i,s,e[5],4,-378558),s=sn(s,r,n,i,e[8],11,-2022574463),i=sn(i,s,r,n,e[11],16,1839030562),n=sn(n,i,s,r,e[14],23,-35309556),r=sn(r,n,i,s,e[1],4,-1530992060),s=sn(s,r,n,i,e[4],11,1272893353),i=sn(i,s,r,n,e[7],16,-155497632),n=sn(n,i,s,r,e[10],23,-1094730640),r=sn(r,n,i,s,e[13],4,681279174),s=sn(s,r,n,i,e[0],11,-358537222),i=sn(i,s,r,n,e[3],16,-722521979),n=sn(n,i,s,r,e[6],23,76029189),r=sn(r,n,i,s,e[9],4,-640364487),s=sn(s,r,n,i,e[12],11,-421815835),i=sn(i,s,r,n,e[15],16,530742520),r=an(r,n=sn(n,i,s,r,e[2],23,-995338651),i,s,e[0],6,-198630844),s=an(s,r,n,i,e[7],10,1126891415),i=an(i,s,r,n,e[14],15,-1416354905),n=an(n,i,s,r,e[5],21,-57434055),r=an(r,n,i,s,e[12],6,1700485571),s=an(s,r,n,i,e[3],10,-1894986606),i=an(i,s,r,n,e[10],15,-1051523),n=an(n,i,s,r,e[1],21,-2054922799),r=an(r,n,i,s,e[8],6,1873313359),s=an(s,r,n,i,e[15],10,-30611744),i=an(i,s,r,n,e[6],15,-1560198380),n=an(n,i,s,r,e[13],21,1309151649),r=an(r,n,i,s,e[4],6,-145523070),s=an(s,r,n,i,e[11],10,-1120210379),i=an(i,s,r,n,e[2],15,718787259),n=an(n,i,s,r,e[9],21,-343485551),t[0]=Zs(r,t[0]),t[1]=Zs(n,t[1]),t[2]=Zs(i,t[2]),t[3]=Zs(s,t[3])}function Xd(t,e,r,n,i,s){return e=Zs(Zs(e,t),Zs(n,s)),Zs(e<<i|e>>>32-i,r)}function rn(t,e,r,n,i,s,a){return Xd(e&r|~e&n,t,e,i,s,a)}function nn(t,e,r,n,i,s,a){return Xd(e&n|r&~n,t,e,i,s,a)}function sn(t,e,r,n,i,s,a){return Xd(e^r^n,t,e,i,s,a)}function an(t,e,r,n,i,s,a){return Xd(r^(e|~n),t,e,i,s,a)}function Cb(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Cp(n,NN(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Cp(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,Cp(n,i),n}function NN(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var Pv="0123456789abcdef".split("");function jN(t){for(var e="",r=0;r<4;r++)e+=Pv[t>>8*r+4&15]+Pv[t>>8*r&15];return e}function EN(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Z0(t){return Cb(t).map(EN).join("")}var CN=function(t){for(var e=0;e<t.length;e++)t[e]=jN(t[e]);return t.join("")}(Cb("hello"))!="5d41402abc4b2a76b9719d911017c592";function Zs(t,e){if(CN){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function e1(t,e){var r,n,i,s;if(t!==r){for(var a=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var h=o[l];u=(u+h+a.charCodeAt(l))%256,o[l]=o[u],o[u]=h}r=t,n=o}else o=n;var p=e.length,m=0,f=0,_="";for(l=0;l<p;l++)f=(f+(h=o[m=(m+1)%256]))%256,o[m]=o[f],o[f]=h,a=o[(o[m]+o[f])%256],_+=String.fromCharCode(e.charCodeAt(l)^a);return _}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Tv={print:4,modify:8,copy:16,"annot-forms":32};function Oo(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(Tv.perm!==void 0)throw new Error("Invalid permission: "+o);i+=Tv[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=Z0(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=e1(this.encryptionKey,this.padding)}function Fo(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function Rv(t){if(Dt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[r]){var a=e[r][s];try{a[0].apply(t,n)}catch(o){it.console&&qt.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function _d(t){if(!(this instanceof _d))return new _d(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function Lb(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Ua(t,e,r,n,i){if(!(this instanceof Ua))return new Ua(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,Lb.call(this,n,i)}function Yo(t,e,r,n,i){if(!(this instanceof Yo))return new Yo(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,Lb.call(this,n,i)}function Ge(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,u="S",h=null;Dt(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,s=t.compress||t.compressPdf||s,(h=t.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var p=t.putOnlyUsedFonts||!1,m={},f={internal:{},__private__:{}};f.__private__.PubSub=Rv;var _="1.3",x=f.__private__.getPdfVersion=function(){return _};f.__private__.setPdfVersion=function(g){_=g};var A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return A};var w=f.__private__.getPageFormat=function(g){return A[g]};i=i||"a4";var S="compat",k="advanced",E=S;function F(){this.saveGraphicsState(),B(new tt(st,0,0,-st,0,Sa()*st).toString()+" cm"),this.setFontSize(this.getFontSize()/st),u="n",E=k}function G(){this.restoreGraphicsState(),u="S",E=S}var H=f.__private__.combineFontStyleAndFontWeight=function(g,N){if(g=="bold"&&N=="normal"||g=="bold"&&N==400||g=="normal"&&N=="italic"||g=="bold"&&N=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return N&&(g=N==400||N==="normal"?g==="italic"?"italic":"normal":N!=700&&N!=="bold"||g!=="normal"?(N==700?"bold":N)+""+g:"bold"),g};f.advancedAPI=function(g){var N=E===S;return N&&F.call(this),typeof g!="function"||(g(this),N&&G.call(this)),this},f.compatAPI=function(g){var N=E===k;return N&&G.call(this),typeof g!="function"||(g(this),N&&F.call(this)),this},f.isAdvancedAPI=function(){return E===k};var z,D=function(g){if(E!==k)throw new Error(g+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Z=f.roundToPrecision=f.__private__.roundToPrecision=function(g,N){var W=e||N;if(isNaN(g)||isNaN(W))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return g.toFixed(W).replace(/0+$/,"")};z=f.hpf=f.__private__.hpf=typeof l=="number"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(g,l)}:l==="smart"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(g,g>-1&&g<1?16:5)}:function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(g,16)};var T=f.f2=f.__private__.f2=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f2");return Z(g,2)},M=f.__private__.f3=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f3");return Z(g,3)},J=f.scale=f.__private__.scale=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.scale");return E===S?g*st:E===k?g:void 0},K=function(g){return J(function(N){return E===S?Sa()-N:E===k?N:void 0}(g))};f.__private__.setPrecision=f.setPrecision=function(g){typeof parseInt(g,10)=="number"&&(e=parseInt(g,10))};var he,ge="00000000000000000000000000000000",Y=f.__private__.getFileId=function(){return ge},O=f.__private__.setFileId=function(g){return ge=g!==void 0&&/^[a-fA-F0-9]{32}$/.test(g)?g.toUpperCase():ge.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(Nr=new Oo(h.userPermissions,h.userPassword,h.ownerPassword,ge)),ge};f.setFileId=function(g){return O(g),this},f.getFileId=function(){return Y()};var ne=f.__private__.convertDateToPDFDate=function(g){var N=g.getTimezoneOffset(),W=N<0?"+":"-",X=Math.floor(Math.abs(N/60)),se=Math.abs(N%60),be=[W,V(X),"'",V(se),"'"].join("");return["D:",g.getFullYear(),V(g.getMonth()+1),V(g.getDate()),V(g.getHours()),V(g.getMinutes()),V(g.getSeconds()),be].join("")},fe=f.__private__.convertPDFDateToDate=function(g){var N=parseInt(g.substr(2,4),10),W=parseInt(g.substr(6,2),10)-1,X=parseInt(g.substr(8,2),10),se=parseInt(g.substr(10,2),10),be=parseInt(g.substr(12,2),10),_e=parseInt(g.substr(14,2),10);return new Date(N,W,X,se,be,_e,0)},oe=f.__private__.setCreationDate=function(g){var N;if(g===void 0&&(g=new Date),g instanceof Date)N=ne(g);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(g))throw new Error("Invalid argument passed to jsPDF.setCreationDate");N=g}return he=N},C=f.__private__.getCreationDate=function(g){var N=he;return g==="jsDate"&&(N=fe(he)),N};f.setCreationDate=function(g){return oe(g),this},f.getCreationDate=function(g){return C(g)};var $,V=f.__private__.padd2=function(g){return("0"+parseInt(g)).slice(-2)},Q=f.__private__.padd2Hex=function(g){return("00"+(g=g.toString())).substr(g.length)},re=0,ae=[],pe=[],me=0,ve=[],ke=[],Ce=!1,Re=pe;f.__private__.setCustomOutputDestination=function(g){Ce=!0,Re=g};var Ke=function(g){Ce||(Re=g)};f.__private__.resetCustomOutputDestination=function(){Ce=!1,Re=pe};var B=f.__private__.out=function(g){return g=g.toString(),me+=g.length+1,Re.push(g),Re},Le=f.__private__.write=function(g){return B(arguments.length===1?g.toString():Array.prototype.join.call(arguments," "))},ht=f.__private__.getArrayBuffer=function(g){for(var N=g.length,W=new ArrayBuffer(N),X=new Uint8Array(W);N--;)X[N]=g.charCodeAt(N);return W},Ze=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Ze};var Ae=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(g){return Ae=E===k?g/st:g,this};var ze,Ie=f.__private__.getFontSize=f.getFontSize=function(){return E===S?Ae:Ae*st},Ye=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(g){return Ye=g,this},f.__private__.getR2L=f.getR2L=function(){return Ye};var Xe,Ct=f.__private__.setZoomMode=function(g){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(g))ze=g;else if(isNaN(g)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(g)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+g+'" is not recognized.');ze=g}else ze=parseInt(g,10)};f.__private__.getZoomMode=function(){return ze};var yt,ot=f.__private__.setPageMode=function(g){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(g)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+g+'" is not recognized.');Xe=g};f.__private__.getPageMode=function(){return Xe};var bt=f.__private__.setLayoutMode=function(g){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(g)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+g+'" is not recognized.');yt=g};f.__private__.getLayoutMode=function(){return yt},f.__private__.setDisplayMode=f.setDisplayMode=function(g,N,W){return Ct(g),bt(N),ot(W),this};var wt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(g){if(Object.keys(wt).indexOf(g)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return wt[g]},f.__private__.getDocumentProperties=function(){return wt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(g){for(var N in wt)wt.hasOwnProperty(N)&&g[N]&&(wt[N]=g[N]);return this},f.__private__.setDocumentProperty=function(g,N){if(Object.keys(wt).indexOf(g)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return wt[g]=N};var Ue,st,qe,Zt,_t,dt={},vt={},Pt=[],Qe={},Rt={},et={},ee={},Ee=null,Te=0,De=[],St=new Rv(f),Or=t.hotfixes||[],Lt={},Ar={},un=[],tt=function g(N,W,X,se,be,_e){if(!(this instanceof g))return new g(N,W,X,se,be,_e);isNaN(N)&&(N=1),isNaN(W)&&(W=0),isNaN(X)&&(X=0),isNaN(se)&&(se=1),isNaN(be)&&(be=0),isNaN(_e)&&(_e=0),this._matrix=[N,W,X,se,be,_e]};Object.defineProperty(tt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(tt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(tt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(tt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(tt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(tt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(tt.prototype,"a",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(tt.prototype,"b",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(tt.prototype,"c",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(tt.prototype,"d",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(tt.prototype,"e",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(tt.prototype,"f",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(tt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(tt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(tt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(tt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),tt.prototype.join=function(g){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(z).join(g)},tt.prototype.multiply=function(g){var N=g.sx*this.sx+g.shy*this.shx,W=g.sx*this.shy+g.shy*this.sy,X=g.shx*this.sx+g.sy*this.shx,se=g.shx*this.shy+g.sy*this.sy,be=g.tx*this.sx+g.ty*this.shx+this.tx,_e=g.tx*this.shy+g.ty*this.sy+this.ty;return new tt(N,W,X,se,be,_e)},tt.prototype.decompose=function(){var g=this.sx,N=this.shy,W=this.shx,X=this.sy,se=this.tx,be=this.ty,_e=Math.sqrt(g*g+N*N),Me=(g/=_e)*W+(N/=_e)*X;W-=g*Me,X-=N*Me;var He=Math.sqrt(W*W+X*X);return Me/=He,g*(X/=He)<N*(W/=He)&&(g=-g,N=-N,Me=-Me,_e=-_e),{scale:new tt(_e,0,0,He,0,0),translate:new tt(1,0,0,1,se,be),rotate:new tt(g,N,-N,g,0,0),skew:new tt(1,0,Me,1,0,0)}},tt.prototype.toString=function(g){return this.join(" ")},tt.prototype.inversed=function(){var g=this.sx,N=this.shy,W=this.shx,X=this.sy,se=this.tx,be=this.ty,_e=1/(g*X-N*W),Me=X*_e,He=-N*_e,at=-W*_e,ft=g*_e;return new tt(Me,He,at,ft,-Me*se-at*be,-He*se-ft*be)},tt.prototype.applyToPoint=function(g){var N=g.x*this.sx+g.y*this.shx+this.tx,W=g.x*this.shy+g.y*this.sy+this.ty;return new Xi(N,W)},tt.prototype.applyToRectangle=function(g){var N=this.applyToPoint(g),W=this.applyToPoint(new Xi(g.x+g.w,g.y+g.h));return new Ll(N.x,N.y,W.x-N.x,W.y-N.y)},tt.prototype.clone=function(){var g=this.sx,N=this.shy,W=this.shx,X=this.sy,se=this.tx,be=this.ty;return new tt(g,N,W,X,se,be)},f.Matrix=tt;var Ei=f.matrixMult=function(g,N){return N.multiply(g)},Hn=new tt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Hn;var cn=function(g,N){if(!Rt[g]){var W=(N instanceof Ua?"Sh":"P")+(Object.keys(Qe).length+1).toString(10);N.id=W,Rt[g]=W,Qe[W]=N,St.publish("addPattern",N)}};f.ShadingPattern=Ua,f.TilingPattern=Yo,f.addShadingPattern=function(g,N){return D("addShadingPattern()"),cn(g,N),this},f.beginTilingPattern=function(g){D("beginTilingPattern()"),Pl(g.boundingBox[0],g.boundingBox[1],g.boundingBox[2]-g.boundingBox[0],g.boundingBox[3]-g.boundingBox[1],g.matrix)},f.endTilingPattern=function(g,N){D("endTilingPattern()"),N.stream=ke[$].join(`
`),cn(g,N),St.publish("endTilingPattern",N),un.pop().restore()};var Ur,ir=f.__private__.newObject=function(){var g=Fr();return qr(g,!0),g},Fr=f.__private__.newObjectDeferred=function(){return re++,ae[re]=function(){return me},re},qr=function(g,N){return N=typeof N=="boolean"&&N,ae[g]=me,N&&B(g+" 0 obj"),g},ma=f.__private__.newAdditionalObject=function(){var g={objId:Fr(),content:""};return ve.push(g),g},As=Fr(),ai=Fr(),Ci=f.__private__.decodeColorString=function(g){var N=g.split(" ");if(N.length!==2||N[1]!=="g"&&N[1]!=="G")N.length!==5||N[4]!=="k"&&N[4]!=="K"||(N=[(1-N[0])*(1-N[3]),(1-N[1])*(1-N[3]),(1-N[2])*(1-N[3]),"r"]);else{var W=parseFloat(N[0]);N=[W,W,W,"r"]}for(var X="#",se=0;se<3;se++)X+=("0"+Math.floor(255*parseFloat(N[se])).toString(16)).slice(-2);return X},oi=f.__private__.encodeColorString=function(g){var N;typeof g=="string"&&(g={ch1:g});var W=g.ch1,X=g.ch2,se=g.ch3,be=g.ch4,_e=g.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof W=="string"&&W.charAt(0)!=="#"){var Me=new Eb(W);if(Me.ok)W=Me.toHex();else if(!/^\d*\.?\d*$/.test(W))throw new Error('Invalid color "'+W+'" passed to jsPDF.encodeColorString.')}if(typeof W=="string"&&/^#[0-9A-Fa-f]{3}$/.test(W)&&(W="#"+W[1]+W[1]+W[2]+W[2]+W[3]+W[3]),typeof W=="string"&&/^#[0-9A-Fa-f]{6}$/.test(W)){var He=parseInt(W.substr(1),16);W=He>>16&255,X=He>>8&255,se=255&He}if(X===void 0||be===void 0&&W===X&&X===se)N=typeof W=="string"?W+" "+_e[0]:g.precision===2?T(W/255)+" "+_e[0]:M(W/255)+" "+_e[0];else if(be===void 0||Dt(be)==="object"){if(be&&!isNaN(be.a)&&be.a===0)return["1.","1.","1.",_e[1]].join(" ");N=typeof W=="string"?[W,X,se,_e[1]].join(" "):g.precision===2?[T(W/255),T(X/255),T(se/255),_e[1]].join(" "):[M(W/255),M(X/255),M(se/255),_e[1]].join(" ")}else N=typeof W=="string"?[W,X,se,be,_e[2]].join(" "):g.precision===2?[T(W),T(X),T(se),T(be),_e[2]].join(" "):[M(W),M(X),M(se),M(be),_e[2]].join(" ");return N},li=f.__private__.getFilters=function(){return a},Vn=f.__private__.putStream=function(g){var N=(g=g||{}).data||"",W=g.filters||li(),X=g.alreadyAppliedFilters||[],se=g.addLength1||!1,be=N.length,_e=g.objectId,Me=function(jr){return jr};if(h!==null&&_e===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Me=Nr.encryptor(_e,0));var He={};W===!0&&(W=["FlateEncode"]);var at=g.additionalKeyValues||[],ft=(He=Ge.API.processDataByFilters!==void 0?Ge.API.processDataByFilters(N,W):{data:N,reverseChain:[]}).reverseChain+(Array.isArray(X)?X.join(" "):X.toString());if(He.data.length!==0&&(at.push({key:"Length",value:He.data.length}),se===!0&&at.push({key:"Length1",value:be})),ft.length!=0)if(ft.split("/").length-1==1)at.push({key:"Filter",value:ft});else{at.push({key:"Filter",value:"["+ft+"]"});for(var Nt=0;Nt<at.length;Nt+=1)if(at[Nt].key==="DecodeParms"){for(var er=[],br=0;br<He.reverseChain.split("/").length-1;br+=1)er.push("null");er.push(at[Nt].value),at[Nt].value="["+er.join(" ")+"]"}}B("<<");for(var $t=0;$t<at.length;$t++)B("/"+at[$t].key+" "+at[$t].value);B(">>"),He.data.length!==0&&(B("stream"),B(Me(He.data)),B("endstream"))},va=f.__private__.putPage=function(g){var N=g.number,W=g.data,X=g.objId,se=g.contentsObjId;qr(X,!0),B("<</Type /Page"),B("/Parent "+g.rootDictionaryObjId+" 0 R"),B("/Resources "+g.resourceDictionaryObjId+" 0 R"),B("/MediaBox ["+parseFloat(z(g.mediaBox.bottomLeftX))+" "+parseFloat(z(g.mediaBox.bottomLeftY))+" "+z(g.mediaBox.topRightX)+" "+z(g.mediaBox.topRightY)+"]"),g.cropBox!==null&&B("/CropBox ["+z(g.cropBox.bottomLeftX)+" "+z(g.cropBox.bottomLeftY)+" "+z(g.cropBox.topRightX)+" "+z(g.cropBox.topRightY)+"]"),g.bleedBox!==null&&B("/BleedBox ["+z(g.bleedBox.bottomLeftX)+" "+z(g.bleedBox.bottomLeftY)+" "+z(g.bleedBox.topRightX)+" "+z(g.bleedBox.topRightY)+"]"),g.trimBox!==null&&B("/TrimBox ["+z(g.trimBox.bottomLeftX)+" "+z(g.trimBox.bottomLeftY)+" "+z(g.trimBox.topRightX)+" "+z(g.trimBox.topRightY)+"]"),g.artBox!==null&&B("/ArtBox ["+z(g.artBox.bottomLeftX)+" "+z(g.artBox.bottomLeftY)+" "+z(g.artBox.topRightX)+" "+z(g.artBox.topRightY)+"]"),typeof g.userUnit=="number"&&g.userUnit!==1&&B("/UserUnit "+g.userUnit),St.publish("putPage",{objId:X,pageContext:De[N],pageNumber:N,page:W}),B("/Contents "+se+" 0 R"),B(">>"),B("endobj");var be=W.join(`
`);return E===k&&(be+=`
Q`),qr(se,!0),Vn({data:be,filters:li(),objectId:se}),B("endobj"),X},Li=f.__private__.putPages=function(){var g,N,W=[];for(g=1;g<=Te;g++)De[g].objId=Fr(),De[g].contentsObjId=Fr();for(g=1;g<=Te;g++)W.push(va({number:g,data:ke[g],objId:De[g].objId,contentsObjId:De[g].contentsObjId,mediaBox:De[g].mediaBox,cropBox:De[g].cropBox,bleedBox:De[g].bleedBox,trimBox:De[g].trimBox,artBox:De[g].artBox,userUnit:De[g].userUnit,rootDictionaryObjId:As,resourceDictionaryObjId:ai}));qr(As,!0),B("<</Type /Pages");var X="/Kids [";for(N=0;N<Te;N++)X+=W[N]+" 0 R ";B(X+"]"),B("/Count "+Te),B(">>"),B("endobj"),St.publish("postPutPages")},ya=function(g){St.publish("putFont",{font:g,out:B,newObject:ir,putStream:Vn}),g.isAlreadyPutted!==!0&&(g.objectNumber=ir(),B("<<"),B("/Type /Font"),B("/BaseFont /"+Fo(g.postScriptName)),B("/Subtype /Type1"),typeof g.encoding=="string"&&B("/Encoding /"+g.encoding),B("/FirstChar 32"),B("/LastChar 255"),B(">>"),B("endobj"))},lo=function(g){g.objectNumber=ir();var N=[];N.push({key:"Type",value:"/XObject"}),N.push({key:"Subtype",value:"/Form"}),N.push({key:"BBox",value:"["+[z(g.x),z(g.y),z(g.x+g.width),z(g.y+g.height)].join(" ")+"]"}),N.push({key:"Matrix",value:"["+g.matrix.toString()+"]"});var W=g.pages[1].join(`
`);Vn({data:W,additionalKeyValues:N,objectId:g.objectNumber}),B("endobj")},uo=function(g,N){N||(N=21);var W=ir(),X=function(_e,Me){var He,at=[],ft=1/(Me-1);for(He=0;He<1;He+=ft)at.push(He);if(at.push(1),_e[0].offset!=0){var Nt={offset:0,color:_e[0].color};_e.unshift(Nt)}if(_e[_e.length-1].offset!=1){var er={offset:1,color:_e[_e.length-1].color};_e.push(er)}for(var br="",$t=0,jr=0;jr<at.length;jr++){for(He=at[jr];He>_e[$t+1].offset;)$t++;var xr=_e[$t].offset,$r=(He-xr)/(_e[$t+1].offset-xr),es=_e[$t].color,ci=_e[$t+1].color;br+=Q(Math.round((1-$r)*es[0]+$r*ci[0]).toString(16))+Q(Math.round((1-$r)*es[1]+$r*ci[1]).toString(16))+Q(Math.round((1-$r)*es[2]+$r*ci[2]).toString(16))}return br.trim()}(g.colors,N),se=[];se.push({key:"FunctionType",value:"0"}),se.push({key:"Domain",value:"[0.0 1.0]"}),se.push({key:"Size",value:"["+N+"]"}),se.push({key:"BitsPerSample",value:"8"}),se.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),se.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Vn({data:X,additionalKeyValues:se,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:W}),B("endobj"),g.objectNumber=ir(),B("<< /ShadingType "+g.type),B("/ColorSpace /DeviceRGB");var be="/Coords ["+z(parseFloat(g.coords[0]))+" "+z(parseFloat(g.coords[1]))+" ";g.type===2?be+=z(parseFloat(g.coords[2]))+" "+z(parseFloat(g.coords[3])):be+=z(parseFloat(g.coords[2]))+" "+z(parseFloat(g.coords[3]))+" "+z(parseFloat(g.coords[4]))+" "+z(parseFloat(g.coords[5])),B(be+="]"),g.matrix&&B("/Matrix ["+g.matrix.toString()+"]"),B("/Function "+W+" 0 R"),B("/Extend [true true]"),B(">>"),B("endobj")},co=function(g,N){var W=Fr(),X=ir();N.push({resourcesOid:W,objectOid:X}),g.objectNumber=X;var se=[];se.push({key:"Type",value:"/Pattern"}),se.push({key:"PatternType",value:"1"}),se.push({key:"PaintType",value:"1"}),se.push({key:"TilingType",value:"1"}),se.push({key:"BBox",value:"["+g.boundingBox.map(z).join(" ")+"]"}),se.push({key:"XStep",value:z(g.xStep)}),se.push({key:"YStep",value:z(g.yStep)}),se.push({key:"Resources",value:W+" 0 R"}),g.matrix&&se.push({key:"Matrix",value:"["+g.matrix.toString()+"]"}),Vn({data:g.stream,additionalKeyValues:se,objectId:g.objectNumber}),B("endobj")},Zd=function(g){for(var N in g.objectNumber=ir(),B("<<"),g)switch(N){case"opacity":B("/ca "+T(g[N]));break;case"stroke-opacity":B("/CA "+T(g[N]))}B(">>"),B("endobj")},_l=function(g){qr(g.resourcesOid,!0),B("<<"),B("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var N in B("/Font <<"),dt)dt.hasOwnProperty(N)&&(p===!1||p===!0&&m.hasOwnProperty(N))&&B("/"+N+" "+dt[N].objectNumber+" 0 R");B(">>")}(),function(){if(Object.keys(Qe).length>0){for(var N in B("/Shading <<"),Qe)Qe.hasOwnProperty(N)&&Qe[N]instanceof Ua&&Qe[N].objectNumber>=0&&B("/"+N+" "+Qe[N].objectNumber+" 0 R");St.publish("putShadingPatternDict"),B(">>")}}(),function(N){if(Object.keys(Qe).length>0){for(var W in B("/Pattern <<"),Qe)Qe.hasOwnProperty(W)&&Qe[W]instanceof f.TilingPattern&&Qe[W].objectNumber>=0&&Qe[W].objectNumber<N&&B("/"+W+" "+Qe[W].objectNumber+" 0 R");St.publish("putTilingPatternDict"),B(">>")}}(g.objectOid),function(){if(Object.keys(et).length>0){var N;for(N in B("/ExtGState <<"),et)et.hasOwnProperty(N)&&et[N].objectNumber>=0&&B("/"+N+" "+et[N].objectNumber+" 0 R");St.publish("putGStateDict"),B(">>")}}(),function(){for(var N in B("/XObject <<"),Lt)Lt.hasOwnProperty(N)&&Lt[N].objectNumber>=0&&B("/"+N+" "+Lt[N].objectNumber+" 0 R");St.publish("putXobjectDict"),B(">>")}(),B(">>"),B("endobj")},cc=function(g){vt[g.fontName]=vt[g.fontName]||{},vt[g.fontName][g.fontStyle]=g.id},hc=function(g,N,W,X,se){var be={id:"F"+(Object.keys(dt).length+1).toString(10),postScriptName:g,fontName:N,fontStyle:W,encoding:X,isStandardFont:se||!1,metadata:{}};return St.publish("addFont",{font:be,instance:this}),dt[be.id]=be,cc(be),be.id},Gn=f.__private__.pdfEscape=f.pdfEscape=function(g,N){return function(W,X){var se,be,_e,Me,He,at,ft,Nt,er;if(_e=(X=X||{}).sourceEncoding||"Unicode",He=X.outputEncoding,(X.autoencode||He)&&dt[Ue].metadata&&dt[Ue].metadata[_e]&&dt[Ue].metadata[_e].encoding&&(Me=dt[Ue].metadata[_e].encoding,!He&&dt[Ue].encoding&&(He=dt[Ue].encoding),!He&&Me.codePages&&(He=Me.codePages[0]),typeof He=="string"&&(He=Me[He]),He)){for(ft=!1,at=[],se=0,be=W.length;se<be;se++)(Nt=He[W.charCodeAt(se)])?at.push(String.fromCharCode(Nt)):at.push(W[se]),at[se].charCodeAt(0)>>8&&(ft=!0);W=at.join("")}for(se=W.length;ft===void 0&&se!==0;)W.charCodeAt(se-1)>>8&&(ft=!0),se--;if(!ft)return W;for(at=X.noBOM?[]:[254,255],se=0,be=W.length;se<be;se++){if((er=(Nt=W.charCodeAt(se))>>8)>>8)throw new Error("Character at position "+se+" of string '"+W+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");at.push(er),at.push(Nt-(er<<8))}return String.fromCharCode.apply(void 0,at)}(g,N).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Sl=f.__private__.beginPage=function(g){ke[++Te]=[],De[Te]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(g[0]),topRightY:Number(g[1])}},fc(Te),Ke(ke[$])},dc=function(g,N){var W,X,se;switch(r=N||r,typeof g=="string"&&(W=w(g.toLowerCase()),Array.isArray(W)&&(X=W[0],se=W[1])),Array.isArray(g)&&(X=g[0]*st,se=g[1]*st),isNaN(X)&&(X=i[0],se=i[1]),(X>14400||se>14400)&&(qt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),X=Math.min(14400,X),se=Math.min(14400,se)),i=[X,se],r.substr(0,1)){case"l":se>X&&(i=[se,X]);break;case"p":X>se&&(i=[se,X])}Sl(i),lt(Nl),B(go),El!==0&&B(El+" J"),Cl!==0&&B(Cl+" j"),St.publish("addPage",{pageNumber:Te})},kl=function(g){g>0&&g<=Te&&(ke.splice(g,1),De.splice(g,1),Te--,$>Te&&($=Te),this.setPage($))},fc=function(g){g>0&&g<=Te&&($=g)},pc=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return ke.length-1},gc=function(g,N,W){var X,se=void 0;return W=W||{},g=g!==void 0?g:dt[Ue].fontName,N=N!==void 0?N:dt[Ue].fontStyle,X=g.toLowerCase(),vt[X]!==void 0&&vt[X][N]!==void 0?se=vt[X][N]:vt[g]!==void 0&&vt[g][N]!==void 0?se=vt[g][N]:W.disableWarning===!1&&qt.warn("Unable to look up font label for font '"+g+"', '"+N+"'. Refer to getFontList() for available fonts."),se||W.noFallback||(se=vt.times[N])==null&&(se=vt.times.normal),se},Pi=f.__private__.putInfo=function(){var g=ir(),N=function(X){return X};for(var W in h!==null&&(N=Nr.encryptor(g,0)),B("<<"),B("/Producer ("+Gn(N("jsPDF "+Ge.version))+")"),wt)wt.hasOwnProperty(W)&&wt[W]&&B("/"+W.substr(0,1).toUpperCase()+W.substr(1)+" ("+Gn(N(wt[W]))+")");B("/CreationDate ("+Gn(N(he))+")"),B(">>"),B("endobj")},ho=f.__private__.putCatalog=function(g){var N=(g=g||{}).rootDictionaryObjId||As;switch(ir(),B("<<"),B("/Type /Catalog"),B("/Pages "+N+" 0 R"),ze||(ze="fullwidth"),ze){case"fullwidth":B("/OpenAction [3 0 R /FitH null]");break;case"fullheight":B("/OpenAction [3 0 R /FitV null]");break;case"fullpage":B("/OpenAction [3 0 R /Fit]");break;case"original":B("/OpenAction [3 0 R /XYZ null null 1]");break;default:var W=""+ze;W.substr(W.length-1)==="%"&&(ze=parseInt(ze)/100),typeof ze=="number"&&B("/OpenAction [3 0 R /XYZ null null "+T(ze)+"]")}switch(yt||(yt="continuous"),yt){case"continuous":B("/PageLayout /OneColumn");break;case"single":B("/PageLayout /SinglePage");break;case"two":case"twoleft":B("/PageLayout /TwoColumnLeft");break;case"tworight":B("/PageLayout /TwoColumnRight")}Xe&&B("/PageMode /"+Xe),St.publish("putCatalog"),B(">>"),B("endobj")},ef=f.__private__.putTrailer=function(){B("trailer"),B("<<"),B("/Size "+(re+1)),B("/Root "+re+" 0 R"),B("/Info "+(re-1)+" 0 R"),h!==null&&B("/Encrypt "+Nr.oid+" 0 R"),B("/ID [ <"+ge+"> <"+ge+"> ]"),B(">>")},wr=f.__private__.putHeader=function(){B("%PDF-"+_),B("%")},mc=f.__private__.putXRef=function(){var g="0000000000";B("xref"),B("0 "+(re+1)),B("0000000000 65535 f ");for(var N=1;N<=re;N++)typeof ae[N]=="function"?B((g+ae[N]()).slice(-10)+" 00000 n "):ae[N]!==void 0?B((g+ae[N]).slice(-10)+" 00000 n "):B("0000000000 00000 n ")},Ti=f.__private__.buildDocument=function(){var g;re=0,me=0,pe=[],ae=[],ve=[],As=Fr(),ai=Fr(),Ke(pe),St.publish("buildDocument"),wr(),Li(),function(){St.publish("putAdditionalObjects");for(var W=0;W<ve.length;W++){var X=ve[W];qr(X.objId,!0),B(X.content),B("endobj")}St.publish("postPutAdditionalObjects")}(),g=[],function(){for(var W in dt)dt.hasOwnProperty(W)&&(p===!1||p===!0&&m.hasOwnProperty(W))&&ya(dt[W])}(),function(){var W;for(W in et)et.hasOwnProperty(W)&&Zd(et[W])}(),function(){for(var W in Lt)Lt.hasOwnProperty(W)&&lo(Lt[W])}(),function(W){var X;for(X in Qe)Qe.hasOwnProperty(X)&&(Qe[X]instanceof Ua?uo(Qe[X]):Qe[X]instanceof Yo&&co(Qe[X],W))}(g),St.publish("putResources"),g.forEach(_l),_l({resourcesOid:ai,objectOid:Number.MAX_SAFE_INTEGER}),St.publish("postPutResources"),h!==null&&(Nr.oid=ir(),B("<<"),B("/Filter /Standard"),B("/V "+Nr.v),B("/R "+Nr.r),B("/U <"+Nr.toHexString(Nr.U)+">"),B("/O <"+Nr.toHexString(Nr.O)+">"),B("/P "+Nr.P),B(">>"),B("endobj")),Pi(),ho();var N=me;return mc(),ef(),B("startxref"),B(""+N),B("%%EOF"),Ke(ke[$]),pe.join(`
`)},fo=f.__private__.getBlob=function(g){return new Blob([ht(g)],{type:"application/pdf"})},vc=f.output=f.__private__.output=(Ur=function(g,N){switch(typeof(N=N||{})=="string"?N={filename:N}:N.filename=N.filename||"generated.pdf",g){case void 0:return Ti();case"save":f.save(N.filename);break;case"arraybuffer":return ht(Ti());case"blob":return fo(Ti());case"bloburi":case"bloburl":if(it.URL!==void 0&&typeof it.URL.createObjectURL=="function")return it.URL&&it.URL.createObjectURL(fo(Ti()))||void 0;qt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var W="",X=Ti();try{W=Lv(X)}catch{W=Lv(unescape(encodeURIComponent(X)))}return"data:application/pdf;filename="+N.filename+";base64,"+W;case"pdfobjectnewwindow":if(Object.prototype.toString.call(it)==="[object Window]"){var se="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';N.pdfObjectUrl&&(se=N.pdfObjectUrl,be="");var _e='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+se+'"'+be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(N)+");<\/script></body></html>",Me=it.open();return Me!==null&&Me.document.write(_e),Me}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(it)==="[object Window]"){var He='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(N.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+N.filename+'" width="500px" height="400px" /></body></html>',at=it.open();if(at!==null){at.document.write(He);var ft=this;at.document.documentElement.querySelector("#pdfViewer").onload=function(){at.document.title=N.filename,at.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ft.output("bloburl"))}}return at}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(it)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",N)+'"></iframe></body></html>',er=it.open();if(er!==null&&(er.document.write(Nt),er.document.title=N.filename),er||typeof safari>"u")return er;break;case"datauri":case"dataurl":return it.document.location.href=this.output("datauristring",N);default:return null}},Ur.foo=function(){try{return Ur.apply(this,arguments)}catch(W){var g=W.stack||"";~g.indexOf(" at ")&&(g=g.split(" at ")[1]);var N="Error in function "+g.split(`
`)[0].split("<")[0]+": "+W.message;if(!it.console)throw new Error(N);it.console.error(N,W),it.alert&&alert(N)}},Ur.foo.bar=Ur,Ur.foo),Kn=function(g){return Array.isArray(Or)===!0&&Or.indexOf(g)>-1};switch(n){case"pt":st=1;break;case"mm":st=72/25.4;break;case"cm":st=72/2.54;break;case"in":st=72;break;case"px":st=Kn("px_scaling")==1?.75:96/72;break;case"pc":case"em":st=12;break;case"ex":st=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);st=n}var Nr=null;oe(),O();var Gi=f.__private__.getPageInfo=f.getPageInfo=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:De[g].objId,pageNumber:g,pageContext:De[g]}},yc=f.__private__.getPageInfoByObjId=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var N in De)if(De[N].objId===g)break;return Gi(N)},tf=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:De[$].objId,pageNumber:$,pageContext:De[$]}};f.addPage=function(){return dc.apply(this,arguments),this},f.setPage=function(){return fc.apply(this,arguments),Ke.call(this,ke[$]),this},f.insertPage=function(g){return this.addPage(),this.movePage($,g),this},f.movePage=function(g,N){var W,X;if(g>N){W=ke[g],X=De[g];for(var se=g;se>N;se--)ke[se]=ke[se-1],De[se]=De[se-1];ke[N]=W,De[N]=X,this.setPage(N)}else if(g<N){W=ke[g],X=De[g];for(var be=g;be<N;be++)ke[be]=ke[be+1],De[be]=De[be+1];ke[N]=W,De[N]=X,this.setPage(N)}return this},f.deletePage=function(){return kl.apply(this,arguments),this},f.__private__.text=f.text=function(g,N,W,X,se){var be,_e,Me,He,at,ft,Nt,er,br,$t=(X=X||{}).scope||this;if(typeof g=="number"&&typeof N=="number"&&(typeof W=="string"||Array.isArray(W))){var jr=W;W=N,N=g,g=jr}if(arguments[3]instanceof tt==0?(Me=arguments[4],He=arguments[5],Dt(Nt=arguments[3])==="object"&&Nt!==null||(typeof Me=="string"&&(He=Me,Me=null),typeof Nt=="string"&&(He=Nt,Nt=null),typeof Nt=="number"&&(Me=Nt,Nt=null),X={flags:Nt,angle:Me,align:He})):(D("The transform parameter of text() with a Matrix value"),br=se),isNaN(N)||isNaN(W)||g==null)throw new Error("Invalid arguments passed to jsPDF.text");if(g.length===0)return $t;var xr,$r="",es=typeof X.lineHeightFactor=="number"?X.lineHeightFactor:ba,ci=$t.internal.scaleFactor;function ts(Tt){return Tt=Tt.split("	").join(Array(X.TabLen||9).join(" ")),Gn(Tt,Nt)}function Rl(Tt){for(var zt,hr=Tt.concat(),Er=[],is=hr.length;is--;)typeof(zt=hr.shift())=="string"?Er.push(zt):Array.isArray(Tt)&&(zt.length===1||zt[1]===void 0&&zt[2]===void 0)?Er.push(zt[0]):Er.push([zt[0],zt[1],zt[2]]);return Er}function vo(Tt,zt){var hr;if(typeof Tt=="string")hr=zt(Tt)[0];else if(Array.isArray(Tt)){for(var Er,is,$l=Tt.concat(),bo=[],Cc=$l.length;Cc--;)typeof(Er=$l.shift())=="string"?bo.push(zt(Er)[0]):Array.isArray(Er)&&typeof Er[0]=="string"&&(is=zt(Er[0],Er[1],Er[2]),bo.push([is[0],is[1],is[2]]));hr=bo}return hr}var Ns=!1,ka=!0;if(typeof g=="string")Ns=!0;else if(Array.isArray(g)){var Aa=g.concat();_e=[];for(var js,Wr=Aa.length;Wr--;)(typeof(js=Aa.shift())!="string"||Array.isArray(js)&&typeof js[0]!="string")&&(ka=!1);Ns=ka}if(Ns===!1)throw new Error('Type of text must be string or Array. "'+g+'" is not recognized.');typeof g=="string"&&(g=g.match(/[\r?\n]/)?g.split(/\r\n|\r|\n/g):[g]);var Na=Ae/$t.internal.scaleFactor,ja=Na*(es-1);switch(X.baseline){case"bottom":W-=ja;break;case"top":W+=Na-ja;break;case"hanging":W+=Na-2*ja;break;case"middle":W+=Na/2-ja}if((ft=X.maxWidth||0)>0&&(typeof g=="string"?g=$t.splitTextToSize(g,ft):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(Tt,zt){return Tt.concat($t.splitTextToSize(zt,ft))},[]))),be={text:g,x:N,y:W,options:X,mutex:{pdfEscape:Gn,activeFontKey:Ue,fonts:dt,activeFontSize:Ae}},St.publish("preProcessText",be),g=be.text,Me=(X=be.options).angle,br instanceof tt==0&&Me&&typeof Me=="number"){Me*=Math.PI/180,X.rotationDirection===0&&(Me=-Me),E===k&&(Me=-Me);var Il=Math.cos(Me),Ol=Math.sin(Me);br=new tt(Il,Ol,-Ol,Il,0,0)}else Me&&Me instanceof tt&&(br=Me);E!==k||br||(br=Hn),(at=X.charSpace||Yi)!==void 0&&($r+=z(J(at))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(er=X.horizontalScale)!==void 0&&($r+=z(100*er)+` Tz
`),X.lang;var hn=-1,rs=X.renderingMode!==void 0?X.renderingMode:X.stroke,yo=$t.internal.getCurrentPageInfo().pageContext;switch(rs){case 0:case!1:case"fill":hn=0;break;case 1:case!0:case"stroke":hn=1;break;case 2:case"fillThenStroke":hn=2;break;case 3:case"invisible":hn=3;break;case 4:case"fillAndAddForClipping":hn=4;break;case 5:case"strokeAndAddPathForClipping":hn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":hn=6;break;case 7:case"addToPathForClipping":hn=7}var jc=yo.usedRenderingMode!==void 0?yo.usedRenderingMode:-1;hn!==-1?$r+=hn+` Tr
`:jc!==-1&&($r+=`0 Tr
`),hn!==-1&&(yo.usedRenderingMode=hn),He=X.align||"left";var Jn,Ea=Ae*es,Fl=$t.internal.pageSize.getWidth(),Dl=dt[Ue];at=X.charSpace||Yi,ft=X.maxWidth||0,Nt=Object.assign({autoencode:!0,noBOM:!0},X.flags);var Es=[],Ca=function(Tt){return $t.getStringUnitWidth(Tt,{font:Dl,charSpace:at,fontSize:Ae,doKerning:!1})*Ae/ci};if(Object.prototype.toString.call(g)==="[object Array]"){var jn;_e=Rl(g),He!=="left"&&(Jn=_e.map(Ca));var En,Cs=0;if(He==="right"){N-=Jn[0],g=[],Wr=_e.length;for(var ns=0;ns<Wr;ns++)ns===0?(En=Ki(N),jn=Ji(W)):(En=J(Cs-Jn[ns]),jn=-Ea),g.push([_e[ns],En,jn]),Cs=Jn[ns]}else if(He==="center"){N-=Jn[0]/2,g=[],Wr=_e.length;for(var Ls=0;Ls<Wr;Ls++)Ls===0?(En=Ki(N),jn=Ji(W)):(En=J((Cs-Jn[Ls])/2),jn=-Ea),g.push([_e[Ls],En,jn]),Cs=Jn[Ls]}else if(He==="left"){g=[],Wr=_e.length;for(var Bl=0;Bl<Wr;Bl++)g.push(_e[Bl])}else if(He==="justify"&&Dl.encoding==="Identity-H"){g=[],Wr=_e.length,ft=ft!==0?ft:Fl;for(var wo=0,cr=0;cr<Wr;cr++)if(jn=cr===0?Ji(W):-Ea,En=cr===0?Ki(N):wo,cr<Wr-1){var Ec=J((ft-Jn[cr])/(_e[cr].split(" ").length-1)),Ii=_e[cr].split(" ");g.push([Ii[0]+" ",En,jn]),wo=0;for(var Oi=1;Oi<Ii.length;Oi++){var Ml=(Ca(Ii[Oi-1]+" "+Ii[Oi])-Ca(Ii[Oi]))*ci+Ec;Oi==Ii.length-1?g.push([Ii[Oi],Ml,0]):g.push([Ii[Oi]+" ",Ml,0]),wo-=Ml}}else g.push([_e[cr],En,jn]);g.push(["",wo,0])}else{if(He!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(g=[],Wr=_e.length,ft=ft!==0?ft:Fl,cr=0;cr<Wr;cr++){jn=cr===0?Ji(W):-Ea,En=cr===0?Ki(N):0;var zl=_e[cr].split(" ").length-1,Ul=zl>0?(ft-Jn[cr])/zl:0;cr<Wr-1?Es.push(z(J(Ul))):Es.push(0),g.push([_e[cr],En,jn])}}}(typeof X.R2L=="boolean"?X.R2L:Ye)===!0&&(g=vo(g,function(Tt,zt,hr){return[Tt.split("").reverse().join(""),zt,hr]})),be={text:g,x:N,y:W,options:X,mutex:{pdfEscape:Gn,activeFontKey:Ue,fonts:dt,activeFontSize:Ae}},St.publish("postProcessText",be),g=be.text,xr=be.mutex.isHex||!1;var ql=dt[Ue].encoding;ql!=="WinAnsiEncoding"&&ql!=="StandardEncoding"||(g=vo(g,function(Tt,zt,hr){return[ts(Tt),zt,hr]})),_e=Rl(g),g=[];for(var Ps,Ts,Rs,La=Array.isArray(_e[0])?1:0,Is="",Pa=function(Tt,zt,hr){var Er="";return hr instanceof tt?(hr=typeof X.angle=="number"?Ei(hr,new tt(1,0,0,1,Tt,zt)):Ei(new tt(1,0,0,1,Tt,zt),hr),E===k&&(hr=Ei(new tt(1,0,0,-1,0,0),hr)),Er=hr.join(" ")+` Tm
`):Er=z(Tt)+" "+z(zt)+` Td
`,Er},Yn=0;Yn<_e.length;Yn++){switch(Is="",La){case 1:Rs=(xr?"<":"(")+_e[Yn][0]+(xr?">":")"),Ps=parseFloat(_e[Yn][1]),Ts=parseFloat(_e[Yn][2]);break;case 0:Rs=(xr?"<":"(")+_e[Yn]+(xr?">":")"),Ps=Ki(N),Ts=Ji(W)}Es!==void 0&&Es[Yn]!==void 0&&(Is=Es[Yn]+` Tw
`),Yn===0?g.push(Is+Pa(Ps,Ts,br)+Rs):La===0?g.push(Is+Rs):La===1&&g.push(Is+Pa(Ps,Ts,br)+Rs)}g=La===0?g.join(` Tj
T* `):g.join(` Tj
`),g+=` Tj
`;var Fi=`BT
/`;return Fi+=Ue+" "+Ae+` Tf
`,Fi+=z(Ae*es)+` TL
`,Fi+=xa+`
`,Fi+=$r,Fi+=g,B(Fi+="ET"),m[Ue]=!0,$t};var rf=f.__private__.clip=f.clip=function(g){return B(g==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return rf("evenodd")},f.__private__.discardPath=f.discardPath=function(){return B("n"),this};var Ri=f.__private__.isValidStyle=function(g){var N=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(g)!==-1&&(N=!0),N};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(g){return Ri(g)&&(u=g),this};var wc=f.__private__.getStyle=f.getStyle=function(g){var N=u;switch(g){case"D":case"S":N="S";break;case"F":N="f";break;case"FD":case"DF":N="B";break;case"f":case"f*":case"B":case"B*":N=g}return N},bc=f.close=function(){return B("h"),this};f.stroke=function(){return B("S"),this},f.fill=function(g){return po("f",g),this},f.fillEvenOdd=function(g){return po("f*",g),this},f.fillStroke=function(g){return po("B",g),this},f.fillStrokeEvenOdd=function(g){return po("B*",g),this};var po=function(g,N){Dt(N)==="object"?sf(N,g):B(g)},wa=function(g){g===null||E===k&&g===void 0||(g=wc(g),B(g))};function nf(g,N,W,X,se){var be=new Yo(N||this.boundingBox,W||this.xStep,X||this.yStep,this.gState,se||this.matrix);be.stream=this.stream;var _e=g+"$$"+this.cloneIndex+++"$$";return cn(_e,be),be}var sf=function(g,N){var W=Rt[g.key],X=Qe[W];if(X instanceof Ua)B("q"),B(af(N)),X.gState&&f.setGState(X.gState),B(g.matrix.toString()+" cm"),B("/"+W+" sh"),B("Q");else if(X instanceof Yo){var se=new tt(1,0,0,-1,0,Sa());g.matrix&&(se=se.multiply(g.matrix||Hn),W=nf.call(X,g.key,g.boundingBox,g.xStep,g.yStep,se).id),B("q"),B("/Pattern cs"),B("/"+W+" scn"),X.gState&&f.setGState(X.gState),B(N),B("Q")}},af=function(g){switch(g){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Al=f.moveTo=function(g,N){return B(z(J(g))+" "+z(K(N))+" m"),this},xc=f.lineTo=function(g,N){return B(z(J(g))+" "+z(K(N))+" l"),this},ui=f.curveTo=function(g,N,W,X,se,be){return B([z(J(g)),z(K(N)),z(J(W)),z(K(X)),z(J(se)),z(K(be)),"c"].join(" ")),this};f.__private__.line=f.line=function(g,N,W,X,se){if(isNaN(g)||isNaN(N)||isNaN(W)||isNaN(X)||!Ri(se))throw new Error("Invalid arguments passed to jsPDF.line");return E===S?this.lines([[W-g,X-N]],g,N,[1,1],se||"S"):this.lines([[W-g,X-N]],g,N,[1,1]).stroke()},f.__private__.lines=f.lines=function(g,N,W,X,se,be){var _e,Me,He,at,ft,Nt,er,br,$t,jr,xr,$r;if(typeof g=="number"&&($r=W,W=N,N=g,g=$r),X=X||[1,1],be=be||!1,isNaN(N)||isNaN(W)||!Array.isArray(g)||!Array.isArray(X)||!Ri(se)||typeof be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Al(N,W),_e=X[0],Me=X[1],at=g.length,jr=N,xr=W,He=0;He<at;He++)(ft=g[He]).length===2?(jr=ft[0]*_e+jr,xr=ft[1]*Me+xr,xc(jr,xr)):(Nt=ft[0]*_e+jr,er=ft[1]*Me+xr,br=ft[2]*_e+jr,$t=ft[3]*Me+xr,jr=ft[4]*_e+jr,xr=ft[5]*Me+xr,ui(Nt,er,br,$t,jr,xr));return be&&bc(),wa(se),this},f.path=function(g){for(var N=0;N<g.length;N++){var W=g[N],X=W.c;switch(W.op){case"m":Al(X[0],X[1]);break;case"l":xc(X[0],X[1]);break;case"c":ui.apply(this,X);break;case"h":bc()}}return this},f.__private__.rect=f.rect=function(g,N,W,X,se){if(isNaN(g)||isNaN(N)||isNaN(W)||isNaN(X)||!Ri(se))throw new Error("Invalid arguments passed to jsPDF.rect");return E===S&&(X=-X),B([z(J(g)),z(K(N)),z(J(W)),z(J(X)),"re"].join(" ")),wa(se),this},f.__private__.triangle=f.triangle=function(g,N,W,X,se,be,_e){if(isNaN(g)||isNaN(N)||isNaN(W)||isNaN(X)||isNaN(se)||isNaN(be)||!Ri(_e))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[W-g,X-N],[se-W,be-X],[g-se,N-be]],g,N,[1,1],_e,!0),this},f.__private__.roundedRect=f.roundedRect=function(g,N,W,X,se,be,_e){if(isNaN(g)||isNaN(N)||isNaN(W)||isNaN(X)||isNaN(se)||isNaN(be)||!Ri(_e))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Me=4/3*(Math.SQRT2-1);return se=Math.min(se,.5*W),be=Math.min(be,.5*X),this.lines([[W-2*se,0],[se*Me,0,se,be-be*Me,se,be],[0,X-2*be],[0,be*Me,-se*Me,be,-se,be],[2*se-W,0],[-se*Me,0,-se,-be*Me,-se,-be],[0,2*be-X],[0,-be*Me,se*Me,-be,se,-be]],g+se,N,[1,1],_e,!0),this},f.__private__.ellipse=f.ellipse=function(g,N,W,X,se){if(isNaN(g)||isNaN(N)||isNaN(W)||isNaN(X)||!Ri(se))throw new Error("Invalid arguments passed to jsPDF.ellipse");var be=4/3*(Math.SQRT2-1)*W,_e=4/3*(Math.SQRT2-1)*X;return Al(g+W,N),ui(g+W,N-_e,g+be,N-X,g,N-X),ui(g-be,N-X,g-W,N-_e,g-W,N),ui(g-W,N+_e,g-be,N+X,g,N+X),ui(g+be,N+X,g+W,N+_e,g+W,N),wa(se),this},f.__private__.circle=f.circle=function(g,N,W,X){if(isNaN(g)||isNaN(N)||isNaN(W)||!Ri(X))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(g,N,W,W,X)},f.setFont=function(g,N,W){return W&&(N=H(N,W)),Ue=gc(g,N,{disableWarning:!1}),this};var of=f.__private__.getFont=f.getFont=function(){return dt[gc.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var g,N,W={};for(g in vt)if(vt.hasOwnProperty(g))for(N in W[g]=[],vt[g])vt[g].hasOwnProperty(N)&&W[g].push(N);return W},f.addFont=function(g,N,W,X,se){var be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&be.indexOf(arguments[3])!==-1?se=arguments[3]:arguments[3]&&be.indexOf(arguments[3])==-1&&(W=H(W,X)),hc.call(this,g,N,W,se=se||"Identity-H")};var ba,Nl=t.lineWidth||.200025,lf=f.__private__.getLineWidth=f.getLineWidth=function(){return Nl},lt=f.__private__.setLineWidth=f.setLineWidth=function(g){return Nl=g,B(z(J(g))+" w"),this};f.__private__.setLineDash=Ge.API.setLineDash=Ge.API.setLineDashPattern=function(g,N){if(g=g||[],N=N||0,isNaN(N)||!Array.isArray(g))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return g=g.map(function(W){return z(J(W))}).join(" "),N=z(J(N)),B("["+g+"] "+N+" d"),this};var uf=f.__private__.getLineHeight=f.getLineHeight=function(){return Ae*ba};f.__private__.getLineHeight=f.getLineHeight=function(){return Ae*ba};var cf=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(g){return typeof(g=g||1.15)=="number"&&(ba=g),this},hf=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return ba};cf(t.lineHeight);var Ki=f.__private__.getHorizontalCoordinate=function(g){return J(g)},Ji=f.__private__.getVerticalCoordinate=function(g){return E===k?g:De[$].mediaBox.topRightY-De[$].mediaBox.bottomLeftY-J(g)},df=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(g){return z(Ki(g))},ff=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(g){return z(Ji(g))},go=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Ci(go)},f.__private__.setStrokeColor=f.setDrawColor=function(g,N,W,X){return go=oi({ch1:g,ch2:N,ch3:W,ch4:X,pdfColorType:"draw",precision:2}),B(go),this};var jl=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Ci(jl)},f.__private__.setFillColor=f.setFillColor=function(g,N,W,X){return jl=oi({ch1:g,ch2:N,ch3:W,ch4:X,pdfColorType:"fill",precision:2}),B(jl),this};var xa=t.textColor||"0 g",pf=f.__private__.getTextColor=f.getTextColor=function(){return Ci(xa)};f.__private__.setTextColor=f.setTextColor=function(g,N,W,X){return xa=oi({ch1:g,ch2:N,ch3:W,ch4:X,pdfColorType:"text",precision:3}),this};var Yi=t.charSpace,gf=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Yi||0)};f.__private__.setCharSpace=f.setCharSpace=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Yi=g,this};var El=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(g){var N=f.CapJoinStyles[g];if(N===void 0)throw new Error("Line cap style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return El=N,B(N+" J"),this};var Cl=0;f.__private__.setLineJoin=f.setLineJoin=function(g){var N=f.CapJoinStyles[g];if(N===void 0)throw new Error("Line join style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Cl=N,B(N+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(g){if(g=g||0,isNaN(g))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return B(z(J(g))+" M"),this},f.GState=_d,f.setGState=function(g){(g=typeof g=="string"?et[ee[g]]:_c(null,g)).equals(Ee)||(B("/"+g.id+" gs"),Ee=g)};var _c=function(g,N){if(!g||!ee[g]){var W=!1;for(var X in et)if(et.hasOwnProperty(X)&&et[X].equals(N)){W=!0;break}if(W)N=et[X];else{var se="GS"+(Object.keys(et).length+1).toString(10);et[se]=N,N.id=se}return g&&(ee[g]=N.id),St.publish("addGState",N),N}};f.addGState=function(g,N){return _c(g,N),this},f.saveGraphicsState=function(){return B("q"),Pt.push({key:Ue,size:Ae,color:xa}),this},f.restoreGraphicsState=function(){B("Q");var g=Pt.pop();return Ue=g.key,Ae=g.size,xa=g.color,Ee=null,this},f.setCurrentTransformationMatrix=function(g){return B(g.toString()+" cm"),this},f.comment=function(g){return B("#"+g),this};var Xi=function(g,N){var W=g||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return W},set:function(be){isNaN(be)||(W=parseFloat(be))}});var X=N||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return X},set:function(be){isNaN(be)||(X=parseFloat(be))}});var se="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return se},set:function(be){se=be.toString()}}),this},Ll=function(g,N,W,X){Xi.call(this,g,N),this.type="rect";var se=W||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return se},set:function(_e){isNaN(_e)||(se=parseFloat(_e))}});var be=X||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return be},set:function(_e){isNaN(_e)||(be=parseFloat(_e))}}),this},mo=function(){this.page=Te,this.currentPage=$,this.pages=ke.slice(0),this.pagesContext=De.slice(0),this.x=qe,this.y=Zt,this.matrix=_t,this.width=Tl($),this.height=kc($),this.outputDestination=Re,this.id="",this.objectNumber=-1};mo.prototype.restore=function(){Te=this.page,$=this.currentPage,De=this.pagesContext,ke=this.pages,qe=this.x,Zt=this.y,_t=this.matrix,Sc($,this.width),Qi($,this.height),Re=this.outputDestination};var Pl=function(g,N,W,X,se){un.push(new mo),Te=$=0,ke=[],qe=g,Zt=N,_t=se,Sl([W,X])};for(var _a in f.beginFormObject=function(g,N,W,X,se){return Pl(g,N,W,X,se),this},f.endFormObject=function(g){return function(N){if(Ar[N])un.pop().restore();else{var W=new mo,X="Xo"+(Object.keys(Lt).length+1).toString(10);W.id=X,Ar[N]=X,Lt[X]=W,St.publish("addFormObject",W),un.pop().restore()}}(g),this},f.doFormObject=function(g,N){var W=Lt[Ar[g]];return B("q"),B(N.toString()+" cm"),B("/"+W.id+" Do"),B("Q"),this},f.getFormObject=function(g){var N=Lt[Ar[g]];return{x:N.x,y:N.y,width:N.width,height:N.height,matrix:N.matrix}},f.save=function(g,N){return g=g||"generated.pdf",(N=N||{}).returnPromise=N.returnPromise||!1,N.returnPromise===!1?(Ba(fo(Ti()),g),typeof Ba.unload=="function"&&it.setTimeout&&setTimeout(Ba.unload,911),this):new Promise(function(W,X){try{var se=Ba(fo(Ti()),g);typeof Ba.unload=="function"&&it.setTimeout&&setTimeout(Ba.unload,911),W(se)}catch(be){X(be.message)}})},Ge.API)Ge.API.hasOwnProperty(_a)&&(_a==="events"&&Ge.API.events.length?function(g,N){var W,X,se;for(se=N.length-1;se!==-1;se--)W=N[se][0],X=N[se][1],g.subscribe.apply(g,[W].concat(typeof X=="function"?[X]:X))}(St,Ge.API.events):f[_a]=Ge.API[_a]);function Tl(g){return De[g].mediaBox.topRightX-De[g].mediaBox.bottomLeftX}function Sc(g,N){De[g].mediaBox.topRightX=N+De[g].mediaBox.bottomLeftX}function kc(g){return De[g].mediaBox.topRightY-De[g].mediaBox.bottomLeftY}function Qi(g,N){De[g].mediaBox.topRightY=N+De[g].mediaBox.bottomLeftY}var Zi=f.getPageWidth=function(g){return Tl(g=g||$)/st},Ac=f.setPageWidth=function(g,N){Sc(g,N*st)},Sa=f.getPageHeight=function(g){return kc(g=g||$)/st},Nc=f.setPageHeight=function(g,N){Qi(g,N*st)};return f.internal={pdfEscape:Gn,getStyle:wc,getFont:of,getFontSize:Ie,getCharSpace:gf,getTextColor:pf,getLineHeight:uf,getLineHeightFactor:hf,getLineWidth:lf,write:Le,getHorizontalCoordinate:Ki,getVerticalCoordinate:Ji,getCoordinateString:df,getVerticalCoordinateString:ff,collections:{},newObject:ir,newAdditionalObject:ma,newObjectDeferred:Fr,newObjectDeferredBegin:qr,getFilters:li,putStream:Vn,events:St,scaleFactor:st,pageSize:{getWidth:function(){return Zi($)},setWidth:function(g){Ac($,g)},getHeight:function(){return Sa($)},setHeight:function(g){Nc($,g)}},encryptionOptions:h,encryption:Nr,getEncryptor:function(g){return h!==null?Nr.encryptor(g,0):function(N){return N}},output:vc,getNumberOfPages:pc,get pages(){return ke},out:B,f2:T,f3:M,getPageInfo:Gi,getPageInfoByObjId:yc,getCurrentPageInfo:tf,getPDFVersion:x,Point:Xi,Rectangle:Ll,Matrix:tt,hasHotfix:Kn},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Zi($)},set:function(g){Ac($,g)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Sa($)},set:function(g){Nc($,g)},enumerable:!0,configurable:!0}),(function(g){for(var N=0,W=Ze.length;N<W;N++){var X=hc.call(this,g[N][0],g[N][1],g[N][2],Ze[N][3],!0);p===!1&&(m[X]=!0);var se=g[N][0].split("-");cc({id:X,fontName:se[0],fontStyle:se[1]||""})}St.publish("addFonts",{fonts:dt,dictionary:vt})}).call(f,Ze),Ue="F1",dc(i,r),St.publish("initialized"),f}Oo.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Oo.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Oo.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Oo.prototype.processOwnerPassword=function(t,e){return e1(Z0(e).substr(0,5),t)},Oo.prototype.encryptor=function(t,e){var r=Z0(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return e1(r,n)}},_d.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Dt(t)!==Dt(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Ge.API={events:[]},Ge.version="4.1.0";var or=Ge.API,ug=1,oo=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Lo=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Sd=function(t){return t.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var r=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(r.length===1?"0"+r:r)})},ut=function(t){return t.toFixed(2)},$s=function(t){return t.toFixed(5)};or.__acroform__={};var Nn=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Iv=function(t){return t*ug},zi=function(t){var e=new Tb,r=Be.internal.getHeight(t)||0,n=Be.internal.getWidth(t)||0;return e.BBox=[0,0,Number(ut(n)),Number(ut(r))],e},LN=or.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},PN=or.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},TN=or.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},mr=or.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return TN(t,e-1)},vr=or.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return LN(t,e-1)},yr=or.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return PN(t,e-1)},RN=or.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(s+o)||0,l.upperRight_X=r(i+a)||0,l.upperRight_Y=n(s)||0,[Number(ut(l.lowerLeft_X)),Number(ut(l.lowerLeft_Y)),Number(ut(l.upperRight_X)),Number(ut(l.upperRight_Y))]},IN=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=t1(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+ut(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=zi(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},t1=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(T){return T.split(`
`)}):i.map(function(T){return[T]});var s=r,a=Be.internal.getHeight(t)||0;a=a<0?-a:a;var o=Be.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(T,M,J){if(T+1<i.length){var K=M+" "+i[T+1][0];return _h(K,t,J).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var u,h,p=_h("3",t,s).height,m=t.multiline?a-s:(a-p)/2,f=m+=2,_=0,x=0,A=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+_h(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var w="",S=0,k=0;k<i.length;k++)if(i.hasOwnProperty(k)){var E=!1;if(i[k].length!==1&&A!==i[k].length-1){if((p+2)*(S+2)+2>a)continue e;w+=i[k][A],E=!0,x=k,k--}else{w=(w+=i[k][A]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var F=parseInt(k),G=l(F,w,s),H=k>=i.length-1;if(G&&!H){w+=" ",A=0;continue}if(G||H){if(H)x=F;else if(t.multiline&&(p+2)*(S+2)+2>a)continue e}else{if(!t.multiline||(p+2)*(S+2)+2>a)continue e;x=F}}for(var z="",D=_;D<=x;D++){var Z=i[D];if(t.multiline){if(D===x){z+=Z[A]+" ",A=(A+1)%Z.length;continue}if(D===_){z+=Z[Z.length-1]+" ";continue}}z+=Z[0]+" "}switch(z=z.substr(z.length-1)==" "?z.substr(0,z.length-1):z,h=_h(z,t,s).width,t.textAlign){case"right":u=o-h-2;break;case"center":u=(o-h)/2;break;default:u=2}e+=ut(u)+" "+ut(f)+` Td
`,e+="("+oo(z)+`) Tj
`,e+=-ut(u)+` 0 Td
`,f=-(s+2),h=0,_=E?x:x+1,S++,w=""}break}return n.text=e,n.fontSize=s,n},_h=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},ON={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},FN=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},DN=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ni.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(ON)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ug=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Rb,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&FN(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],l=[],u=o.Rect;if(o.Rect&&(o.Rect=RN(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Be.createDefaultAppearanceStream(o),Dt(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var h=IN(o);l.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(o.appearanceStreamContent){var p="";for(var m in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(m)){var f=o.appearanceStreamContent[m];if(p+="/"+m+" ",p+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var a in f)if(f.hasOwnProperty(a)){var _=f[a];typeof _=="function"&&(_=_.call(i,o)),p+="/"+a+" "+_+" ",i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_)}}else typeof(_=f)=="function"&&(_=_.call(i,o)),p+="/"+a+" "+_,i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_);p+=">>"}l.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&function(x,A){for(var w in x)if(x.hasOwnProperty(w)){var S=w,k=x[w];A.internal.newObjectDeferredBegin(k.objId,!0),Dt(k)==="object"&&typeof k.putStream=="function"&&k.putStream(),delete x[S]}}(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},Pb=or.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),Dt(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)==="/"?i+="/"+Sd(t[s].substr(1)):(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+oo(n(t[s].toString()))+")")}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Lp=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+oo(n(t))+")"},$i=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};$i.prototype.toString=function(){return this.objId+" 0 R"},$i.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},$i.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:Pb(i,this.objId,this.scope)}):i instanceof $i?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var Tb=function(){$i.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Nn(Tb,$i);var Rb=function(){$i.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+oo(r(t))+")"}},set:function(r){t=r}})};Nn(Rb,$i);var Ni=function t(){$i.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!mr(e,3)},set:function(w){w?this.F=vr(e,3):this.F=yr(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');r=w}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(w){n=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(w){n[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(w){n[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(w){n[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(w){n[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof kd)return;s="FieldObject"+t.FieldNum++}var w=function(S){return S};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+oo(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/ug:u},set:function(w){u=w}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(w){h=w}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof kd||this instanceof Ka))return Lp(p,this.objId,this.scope)},set:function(w){w=w.toString(),p=w}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Mr==0?Lp(m,this.objId,this.scope):m},set:function(w){w=w.toString(),m=this instanceof Mr==0?w.substr(0,1)==="("?Lo(w.substr(1,w.length-2)):Lo(w):w}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Mr==1?Lo(m.substr(1,m.length-1)):m},set:function(w){w=w.toString(),m=this instanceof Mr==1?"/"+Sd(w):w}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Mr==0?Lp(f,this.objId,this.scope):f},set:function(w){w=w.toString(),f=this instanceof Mr==0?w.substr(0,1)==="("?Lo(w.substr(1,w.length-2)):Lo(w):w}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Mr==1?Lo(f.substr(1,f.length-1)):f},set:function(w){w=w.toString(),f=this instanceof Mr==1?"/"+Sd(w):w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var _,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(w){w=!!w,x=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(_)return _},set:function(w){_=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,1)},set:function(w){w?this.Ff=vr(this.Ff,1):this.Ff=yr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,2)},set:function(w){w?this.Ff=vr(this.Ff,2):this.Ff=yr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,3)},set:function(w){w?this.Ff=vr(this.Ff,3):this.Ff=yr(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(A!==null)return A},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');A=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(A){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:A=2;break;case"center":case 1:A=1;break;default:A=0}}})};Nn(Ni,$i);var il=function(){Ni.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Pb(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,u=[];l=a.exec(s);)u.push(l[o]);return u}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,18)},set:function(r){r?this.Ff=vr(this.Ff,18):this.Ff=yr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=vr(this.Ff,19):this.Ff=yr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,20)},set:function(r){r?(this.Ff=vr(this.Ff,20),e.sort()):this.Ff=yr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,22)},set:function(r){r?this.Ff=vr(this.Ff,22):this.Ff=yr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,23)},set:function(r){r?this.Ff=vr(this.Ff,23):this.Ff=yr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,27)},set:function(r){r?this.Ff=vr(this.Ff,27):this.Ff=yr(this.Ff,27)}}),this.hasAppearanceStream=!1};Nn(il,Ni);var sl=function(){il.call(this),this.fontName="helvetica",this.combo=!1};Nn(sl,il);var al=function(){sl.call(this),this.combo=!0};Nn(al,sl);var Mh=function(){al.call(this),this.edit=!0};Nn(Mh,al);var Mr=function(){Ni.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,15)},set:function(r){r?this.Ff=vr(this.Ff,15):this.Ff=yr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,16)},set:function(r){r?this.Ff=vr(this.Ff,16):this.Ff=yr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,17)},set:function(r){r?this.Ff=vr(this.Ff,17):this.Ff=yr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,26)},set:function(r){r?this.Ff=vr(this.Ff,26):this.Ff=yr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+oo(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Dt(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+Sd(r)}})};Nn(Mr,Ni);var zh=function(){Mr.call(this),this.pushButton=!0};Nn(zh,Mr);var ol=function(){Mr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Nn(ol,Mr);var kd=function(){var t,e;Ni.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+oo(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){Dt(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Be.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Nn(kd,Ni),ol.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},ol.prototype.createOption=function(t){var e=new kd;return e.Parent=this,e.optionName=t,this.Kids.push(e),BN.call(this.scope,e),e};var Uh=function(){Mr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Be.CheckBox.createAppearanceStream()};Nn(Uh,Mr);var Ka=function(){Ni.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,13)},set:function(e){e?this.Ff=vr(this.Ff,13):this.Ff=yr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,21)},set:function(e){e?this.Ff=vr(this.Ff,21):this.Ff=yr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,23)},set:function(e){e?this.Ff=vr(this.Ff,23):this.Ff=yr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,24)},set:function(e){e?this.Ff=vr(this.Ff,24):this.Ff=yr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,25)},set:function(e){e?this.Ff=vr(this.Ff,25):this.Ff=yr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,26)},set:function(e){e?this.Ff=vr(this.Ff,26):this.Ff=yr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Nn(Ka,Ni);var qh=function(){Ka.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,14)},set:function(t){t?this.Ff=vr(this.Ff,14):this.Ff=yr(this.Ff,14)}}),this.password=!0};Nn(qh,Ka);var Be={CheckBox:{createAppearanceStream:function(){return{N:{On:Be.CheckBox.YesNormal},D:{On:Be.CheckBox.YesPushDown,Off:Be.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=zi(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=t1(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+ut(Be.internal.getWidth(t))+" "+ut(Be.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+ut(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=zi(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],s=Be.internal.getHeight(t),a=Be.internal.getWidth(t),o=t1(t,t.caption);return i.push("1 g"),i.push("0 0 "+ut(a)+" "+ut(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+ut(a-1)+" "+ut(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+ut(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=zi(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ut(Be.internal.getWidth(t))+" "+ut(Be.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Be.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Be.RadioButton.Circle.YesNormal,e.D[t]=Be.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=zi(t);e.scope=t.scope;var r=[],n=Be.internal.getWidth(t)<=Be.internal.getHeight(t)?Be.internal.getWidth(t)/4:Be.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Be.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+$s(Be.internal.getWidth(t)/2)+" "+$s(Be.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=zi(t);e.scope=t.scope;var r=[],n=Be.internal.getWidth(t)<=Be.internal.getHeight(t)?Be.internal.getWidth(t)/4:Be.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Be.internal.Bezier_C).toFixed(5)),a=Number((n*Be.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+$s(Be.internal.getWidth(t)/2)+" "+$s(Be.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+$s(Be.internal.getWidth(t)/2)+" "+$s(Be.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=zi(t);e.scope=t.scope;var r=[],n=Be.internal.getWidth(t)<=Be.internal.getHeight(t)?Be.internal.getWidth(t)/4:Be.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Be.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+$s(Be.internal.getWidth(t)/2)+" "+$s(Be.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Be.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Be.RadioButton.Cross.YesNormal,e.D[t]=Be.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=zi(t);e.scope=t.scope;var r=[],n=Be.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+ut(Be.internal.getWidth(t)-2)+" "+ut(Be.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(ut(n.x1.x)+" "+ut(n.x1.y)+" m"),r.push(ut(n.x2.x)+" "+ut(n.x2.y)+" l"),r.push(ut(n.x4.x)+" "+ut(n.x4.y)+" m"),r.push(ut(n.x3.x)+" "+ut(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=zi(t);e.scope=t.scope;var r=Be.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+ut(Be.internal.getWidth(t))+" "+ut(Be.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+ut(Be.internal.getWidth(t)-2)+" "+ut(Be.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(ut(r.x1.x)+" "+ut(r.x1.y)+" m"),n.push(ut(r.x2.x)+" "+ut(r.x2.y)+" l"),n.push(ut(r.x4.x)+" "+ut(r.x4.y)+" m"),n.push(ut(r.x3.x)+" "+ut(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=zi(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ut(Be.internal.getWidth(t))+" "+ut(Be.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Be.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Be.internal.getWidth(t),r=Be.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Be.internal.getWidth=function(t){var e=0;return Dt(t)==="object"&&(e=Iv(t.Rect[2])),e},Be.internal.getHeight=function(t){var e=0;return Dt(t)==="object"&&(e=Iv(t.Rect[3])),e};var BN=or.addField=function(t){if(DN(this,t),!(t instanceof Ni))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};or.AcroFormChoiceField=il,or.AcroFormListBox=sl,or.AcroFormComboBox=al,or.AcroFormEditBox=Mh,or.AcroFormButton=Mr,or.AcroFormPushButton=zh,or.AcroFormRadioButton=ol,or.AcroFormCheckBox=Uh,or.AcroFormTextField=Ka,or.AcroFormPasswordField=qh,or.AcroFormAppearance=Be,or.AcroForm={ChoiceField:il,ListBox:sl,ComboBox:al,EditBox:Mh,Button:Mr,PushButton:zh,RadioButton:ol,CheckBox:Uh,TextField:Ka,PasswordField:qh,Appearance:Be},Ge.AcroForm={ChoiceField:il,ListBox:sl,ComboBox:al,EditBox:Mh,Button:Mr,PushButton:zh,RadioButton:ol,CheckBox:Uh,TextField:Ka,PasswordField:qh,Appearance:Be};Ge.AcroForm;function Ib(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(T,M){var J,K,he,ge,Y,O=r;if((M=M||r)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(G(T))for(Y in n)for(he=n[Y],J=0;J<he.length;J+=1){for(ge=!0,K=0;K<he[J].length;K+=1)if(he[J][K]!==void 0&&he[J][K]!==T[K]){ge=!1;break}if(ge===!0){O=Y;break}}else for(Y in n)for(he=n[Y],J=0;J<he.length;J+=1){for(ge=!0,K=0;K<he[J].length;K+=1)if(he[J][K]!==void 0&&he[J][K]!==T.charCodeAt(K)){ge=!1;break}if(ge===!0){O=Y;break}}return O===r&&M!==r&&(O=M),O},s=function T(M){for(var J=this.internal.write,K=this.internal.putStream,he=(0,this.internal.getFilters)();he.indexOf("FlateEncode")!==-1;)he.splice(he.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var ge=[];if(ge.push({key:"Type",value:"/XObject"}),ge.push({key:"Subtype",value:"/Image"}),ge.push({key:"Width",value:M.width}),ge.push({key:"Height",value:M.height}),M.colorSpace===w.INDEXED?ge.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(ge.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===w.DEVICE_CMYK&&ge.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ge.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&ge.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)&&M.transparency.length>0){for(var Y="",O=0,ne=M.transparency.length;O<ne;O++)Y+=M.transparency[O]+" "+M.transparency[O]+" ";ge.push({key:"Mask",value:"["+Y+"]"})}M.sMask!==void 0&&ge.push({key:"SMask",value:M.objectId+1+" 0 R"});var fe=M.filter!==void 0?["/"+M.filter]:void 0;if(K({data:M.data,additionalKeyValues:ge,alreadyAppliedFilters:fe,objectId:M.objectId}),J("endobj"),"sMask"in M&&M.sMask!==void 0){var oe,C=(oe=M.sMaskBitsPerComponent)!==null&&oe!==void 0?oe:M.bitsPerComponent,$={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:C,data:M.sMask};"filter"in M&&($.decodeParameters="/Predictor ".concat(M.predictor," /Colors 1 /BitsPerComponent ").concat(C," /Columns ").concat(M.width),$.filter=M.filter),T.call(this,$)}if(M.colorSpace===w.INDEXED){var V=this.internal.newObject();K({data:z(new Uint8Array(M.palette)),objectId:V}),J("endobj")}},a=function(){var T=this.internal.collections[e+"images"];for(var M in T)s.call(this,T[M])},o=function(){var T,M=this.internal.collections[e+"images"],J=this.internal.write;for(var K in M)J("/I"+(T=M[K]).index,T.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var T=this.internal.collections[e+"images"];return l.call(this),T},h=function(){return Object.keys(this.internal.collections[e+"images"]).length},p=function(T){return typeof t["process"+T.toUpperCase()]=="function"},m=function(T){return Dt(T)==="object"&&T.nodeType===1},f=function(T,M){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var J=""+T.getAttribute("src");if(J.indexOf("data:image/")===0)return Bh(unescape(J).split("base64,").pop());var K=t.loadFile(J,!0);if(K!==void 0)return K}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var he;switch(M){case"PNG":he="image/png";break;case"WEBP":he="image/webp";break;default:he="image/jpeg"}return Bh(T.toDataURL(he,1).split("base64,").pop())}},_=function(T){var M=this.internal.collections[e+"images"];if(M){for(var J in M)if(T===M[J].alias)return M[J]}},x=function(T,M,J){return T||M||(T=-96,M=-96),T<0&&(T=-1*J.width*72/T/this.internal.scaleFactor),M<0&&(M=-1*J.height*72/M/this.internal.scaleFactor),T===0&&(T=M*J.width/J.height),M===0&&(M=T*J.height/J.width),[T,M]},A=function(T,M,J,K,he,ge){var Y=x.call(this,J,K,he),O=this.internal.getCoordinateString,ne=this.internal.getVerticalCoordinateString,fe=u.call(this);if(J=Y[0],K=Y[1],fe[he.index]=he,ge){ge*=Math.PI/180;var oe=Math.cos(ge),C=Math.sin(ge),$=function(Q){return Q.toFixed(4)},V=[$(oe),$(C),$(-1*C),$(oe),0,0,"cm"]}this.internal.write("q"),ge?(this.internal.write([1,"0","0",1,O(T),ne(M+K),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([O(J),"0","0",O(K),"0","0","cm"].join(" "))):this.internal.write([O(J),"0","0",O(K),O(T),ne(M+K),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+he.index+" Do"),this.internal.write("Q")},w=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},k=t.__addimage__.sHashCode=function(T){var M,J,K=0;if(typeof T=="string")for(J=T.length,M=0;M<J;M++)K=(K<<5)-K+T.charCodeAt(M),K|=0;else if(G(T))for(J=T.byteLength/2,M=0;M<J;M++)K=(K<<5)-K+T[M],K|=0;return K},E=t.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var M=!0;return T.length===0&&(M=!1),T.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(M=!1),M},F=t.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var M=T.indexOf(",");return M<0?null:T.substring(0,M).trim().endsWith("base64")?T.substring(M+1):null};t.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var G=t.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},H=t.__addimage__.binaryStringToUint8Array=function(T){for(var M=T.length,J=new Uint8Array(M),K=0;K<M;K++)J[K]=T.charCodeAt(K);return J},z=t.__addimage__.arrayBufferToBinaryString=function(T){for(var M="",J=G(T)?T:new Uint8Array(T),K=0;K<J.length;K+=8192)M+=String.fromCharCode.apply(null,J.subarray(K,K+8192));return M};t.addImage=function(){var T,M,J,K,he,ge,Y,O,ne;if(typeof arguments[1]=="number"?(M=r,J=arguments[1],K=arguments[2],he=arguments[3],ge=arguments[4],Y=arguments[5],O=arguments[6],ne=arguments[7]):(M=arguments[1],J=arguments[2],K=arguments[3],he=arguments[4],ge=arguments[5],Y=arguments[6],O=arguments[7],ne=arguments[8]),Dt(T=arguments[0])==="object"&&!m(T)&&"imageData"in T){var fe=T;T=fe.imageData,M=fe.format||M||r,J=fe.x||J||0,K=fe.y||K||0,he=fe.w||fe.width||he,ge=fe.h||fe.height||ge,Y=fe.alias||Y,O=fe.compression||O,ne=fe.rotation||fe.angle||ne}var oe=this.internal.getFilters();if(O===void 0&&oe.indexOf("FlateEncode")!==-1&&(O="SLOW"),isNaN(J)||isNaN(K))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var C=D.call(this,T,M,Y,O);return A.call(this,J,K,he,ge,C,ne),this};var D=function(T,M,J,K){var he,ge,Y;if(typeof T=="string"&&i(T)===r){T=unescape(T);var O=Z(T,!1);(O!==""||(O=t.loadFile(T,!0))!==void 0)&&(T=O)}if(m(T)&&(T=f(T,M)),M=i(T,M),!p(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((Y=J)==null||Y.length===0)&&(J=function(ne){return typeof ne=="string"||G(ne)?k(ne):G(ne.data)?k(ne.data):null}(T)),(he=_.call(this,J))||(T instanceof Uint8Array||M==="RGBA"||(ge=T,T=H(T)),he=this["process"+M.toUpperCase()](T,h.call(this),J,function(ne){return ne&&typeof ne=="string"&&(ne=ne.toUpperCase()),ne in t.image_compression?ne:S.NONE}(K),ge)),!he)throw new Error("An unknown error occurred whilst processing the image.");return he},Z=t.__addimage__.convertBase64ToBinaryString=function(T,M){M=typeof M!="boolean"||M;var J,K="";if(typeof T=="string"){var he;J=(he=F(T))!==null&&he!==void 0?he:T;try{K=Bh(J)}catch(ge){if(M)throw E(J)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ge.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return K};t.getImageProperties=function(T){var M,J,K="";if(m(T)&&(T=f(T)),typeof T=="string"&&i(T)===r&&((K=Z(T,!1))===""&&(K=t.loadFile(T)||""),T=K),J=i(T),!p(J))throw new Error("addImage does not support files of type '"+J+"', please ensure that a plugin for '"+J+"' support is added.");if(T instanceof Uint8Array||(T=H(T)),!(M=this["process"+J.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=J,M}})(Ge.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Ge.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,h=!1,p=0;p<u.length&&!h;p++)switch((n=u[p]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var m=0;m<u.length;m++){n=u[m];var f=this.internal.pdfEscape,_=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),A=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(x.objId),S=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+f(w(n.contents))+")",s+=" /Popup "+A.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+f(w(S))+") >>",x.content=s;var k=x.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+k,n.open&&(s+=" /Open true"),s+=" >>",A.content=s,this.internal.write(x.objId,"0 R",A.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var E=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(_(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+E+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var F=this.annotations._nameMap[n.options.name];n.options.pageNumber=F.page,n.options.top=F.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(_(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var G=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+G+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:u(n),w:l(r+i),h:u(n+s)},options:a,type:"link"})},t.textWithLink=function(r,n,i,s){var a,o,l=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var h=this.splitTextToSize(r,o).length;a=Math.ceil(u*h)}else o=l,a=u;return this.text(r,n,i,s),i+=.2*u,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,i-u,o,a,s),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Ge.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(x){return e[x.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},o=t.__arabicParser__.isArabicEndLetter=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(x){return a(x)&&i.indexOf(x.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length>=3};var h=t.__arabicParser__.arabicLetterHasMedialForm=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length==4},p=t.__arabicParser__.resolveLigatures=function(x){var A=0,w=r,S="",k=0;for(A=0;A<x.length;A+=1)w[x.charCodeAt(A)]!==void 0?(k++,typeof(w=w[x.charCodeAt(A)])=="number"&&(S+=String.fromCharCode(w),w=r,k=0),A===x.length-1&&(w=r,S+=x.charAt(A-(k-1)),A-=k-1,k=0)):(w=r,S+=x.charAt(A-k),A-=k,k=0);return S};t.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&n[x.charCodeAt(0)]!==void 0};var m=t.__arabicParser__.getCorrectForm=function(x,A,w){return a(x)?s(x)===!1?-1:!u(x)||!a(A)&&!a(w)||!a(w)&&o(A)||o(x)&&!a(A)||o(x)&&l(A)||o(x)&&o(A)?0:h(x)&&a(A)&&!o(A)&&a(w)&&u(w)?3:o(x)||!a(w)?1:2:-1},f=function(x){var A=0,w=0,S=0,k="",E="",F="",G=(x=x||"").split("\\s+"),H=[];for(A=0;A<G.length;A+=1){for(H.push(""),w=0;w<G[A].length;w+=1)k=G[A][w],E=G[A][w-1],F=G[A][w+1],a(k)?(S=m(k,E,F),H[A]+=S!==-1?String.fromCharCode(e[k.charCodeAt(0)][S]):k):H[A]+=k;H[A]=p(H[A])}return H.join(" ")},_=t.__arabicParser__.processArabic=t.processArabic=function(){var x,A=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(A)){var S=0;for(w=[],S=0;S<A.length;S+=1)Array.isArray(A[S])?w.push([f(A[S][0]),A[S][1],A[S][2]]):w.push([f(A[S])]);x=w}else x=f(A);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};t.events.push(["preProcessText",_])}(Ge.API),Ge.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Ge.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(x){l=x}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(x){m=x}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var _=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return _},set:function(x){_=x}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){n.call(this);var h=(u=u||{}).fontSize||this.getFontSize(),p=u.font||this.getFont(),m=u.scaleFactor||this.internal.scaleFactor,f=0,_=0,x=0,A=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=u.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(k,E){return k.concat(A.splitTextToSize(E,w))},[])):l=Array.isArray(l)?l:[l];for(var S=0;S<l.length;S++)f<(x=this.getStringUnitWidth(l[S],{font:p})*h)&&(f=x);return f!==0&&(_=l.length),{w:f/=m,h:Math.max((_*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/m,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var u=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=p.top,f&&m&&(this.printHeaderRow(l.lineNumber,!0),l.y+=m[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-h,l.y+h,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+h,{align:"center",baseline:"top",maxWidth:l.width-h-h}):this.text(l.text,l.x+h,l.y+h,{align:"left",baseline:"top",maxWidth:l.width-h-h})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,h,p,m){if(n.call(this),!h)throw new Error("No data for PDF table.");var f,_,x,A,w=[],S=[],k=[],E={},F={},G=[],H=[],z=(m=m||{}).autoSize||!1,D=m.printHeaders!==!1,Z=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,T=m.margins||Object.assign({width:this.getPageWidth()},e),M=typeof m.padding=="number"?m.padding:3,J=m.headerBackgroundColor||"#c8c8c8",K=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=D,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=Z,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=J,this.internal.__cell__.headerTextColor=K,this.setFontSize(Z),p==null)S=w=Object.keys(h[0]),k=w.map(function(){return"left"});else if(Array.isArray(p)&&Dt(p[0])==="object")for(w=p.map(function(fe){return fe.name}),S=p.map(function(fe){return fe.prompt||fe.name||""}),k=p.map(function(fe){return fe.align||"left"}),f=0;f<p.length;f+=1)F[p[f].name]=.7499990551181103*p[f].width;else Array.isArray(p)&&typeof p[0]=="string"&&(S=w=p,k=w.map(function(){return"left"}));if(z||Array.isArray(p)&&typeof p[0]=="string")for(f=0;f<w.length;f+=1){for(E[A=w[f]]=h.map(function(fe){return fe[A]}),this.setFont(void 0,"bold"),G.push(this.getTextDimensions(S[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),_=E[A],this.setFont(void 0,"normal"),x=0;x<_.length;x+=1)G.push(this.getTextDimensions(_[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);F[A]=Math.max.apply(null,G)+M+M,G=[]}if(D){var he={};for(f=0;f<w.length;f+=1)he[w[f]]={},he[w[f]].text=S[f],he[w[f]].align=k[f];var ge=o.call(this,he,F);H=w.map(function(fe){return new s(l,u,F[fe],ge,he[fe].text,void 0,he[fe].align)}),this.setTableHeaderRow(H),this.printHeaderRow(1,!1)}var Y=p.reduce(function(fe,oe){return fe[oe.name]=oe.align,fe},{});for(f=0;f<h.length;f+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:f,data:h[f]},this);var O=o.call(this,h[f],F);for(x=0;x<w.length;x+=1){var ne=h[f][w[x]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:f,col:x,data:ne},this),a.call(this,new s(l,u,F[w[x]],O,ne,f+2,Y[w[x]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var h=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(l).map(function(f){var _=l[f];return this.splitTextToSize(_.hasOwnProperty("text")?_.text:_,u[f]-h-h)},this).map(function(f){return this.getLineHeightFactor()*f.length*p/m+h+h},this).reduce(function(f,_){return Math.max(f,_)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){h=this.internal.__cell__.tableHeaderRow[f].clone(),u&&(h.y=this.internal.__cell__.margins.top||0,m.push(h)),h.lineNumber=l;var _=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,h),this.setTextColor(_)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),r=!1}}(Ge.API);var Ob={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Fb=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],r1=Ib(Fb),Db=[100,200,300,400,500,600,700,800,900],MN=Ib(Db);function Pp(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return Ob[s=s||"normal"]?s:"normal"}(t.style),n=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(t.weight),i=function(s){return typeof r1[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function Ov(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var zN={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Fv={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Dv(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Bv(t){return t.trimLeft()}function UN(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function qN(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Po,Sh,Mv,zv,Uv,Tp=["times"];function qv(t,e,r,n,i){var s=4,a=Wv;switch(i){case Ge.API.image_compression.FAST:s=1,a=$v;break;case Ge.API.image_compression.MEDIUM:s=6,a=Hv;break;case Ge.API.image_compression.SLOW:s=9,a=Vv}t=function(l,u,h,p){for(var m,f=l.length/u,_=new Uint8Array(l.length+f),x=[$N,$v,Wv,Hv,Vv],A=0;A<f;A+=1){var w=A*u,S=l.subarray(w,w+u);if(p)_.set(p(S,h,m),w+A);else{for(var k=x.length,E=[],F=0;F<k;F+=1)E[F]=x[F](S,h,m);var G=HN(E.concat());_.set(E[G],w+A)}m=S}return _}(t,e,Math.ceil(r*n/8),a);var o=J0(t,{level:s});return Ge.API.__addimage__.arrayBufferToBinaryString(o)}function $N(t){var e=Array.apply([],t);return e.unshift(0),e}function $v(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var s=t[i-e]||0;n[i+1]=t[i]-s+256&255}return n}function Wv(t,e,r){var n=t.length,i=[];i[0]=2;for(var s=0;s<n;s+=1){var a=r&&r[s]||0;i[s+1]=t[s]-a+256&255}return i}function Hv(t,e,r){var n=t.length,i=[];i[0]=3;for(var s=0;s<n;s+=1){var a=t[s-e]||0,o=r&&r[s]||0;i[s+1]=t[s]+256-(a+o>>>1)&255}return i}function Vv(t,e,r){var n=t.length,i=[];i[0]=4;for(var s=0;s<n;s+=1){var a=WN(t[s-e]||0,r&&r[s]||0,r&&r[s-e]||0);i[s+1]=t[s]-a+256&255}return i}function WN(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),s=Math.abs(t+e-r-r);return n<=i&&n<=s?t:i<=s?e:r}function HN(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function Rp(t,e,r){var n=e*r,i=Math.floor(n/8),s=16-(n-8*i+r),a=(1<<r)-1;return Bb(t,i)>>s&a}function Gv(t,e,r,n){var i=r*n,s=Math.floor(i/8),a=16-(i-8*s+n),o=(1<<n)-1,l=(e&o)<<a;(function(u,h,p){if(h+1<u.byteLength)u.setUint16(h,p,!1);else{var m=p>>8&255;u.setUint8(h,m)}})(t,s,Bb(t,s)&~(o<<a)&65535|l)}function Bb(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function VN(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<1+(7&i);t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var u=!0,h=[],p=0,m=null,f=0,_=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,_=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var x=t[e++];p=t[e++]|t[e++]<<8,m=t[e++],1&x||(m=null),f=x>>2&7,e++;break;case 254:for(;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var A=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,k=t[e++]|t[e++]<<8,E=t[e++],F=E>>6&1,G=1<<1+(7&E),H=o,z=l,D=!1;E>>7&&(D=!0,H=e,z=G,e+=3*G);var Z=e;for(e++;;){var T;if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}h.push({x:A,y:w,width:S,height:k,has_local_palette:D,palette_offset:H,palette_size:z,data_offset:Z,data_length:e-Z,transparent_index:m,interlaced:!!F,delay:p,disposal:f});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return _},this.frameInfo=function(M){if(M<0||M>=h.length)throw new Error("Frame index out of range.");return h[M]},this.decodeAndBlitFrameBGRA=function(M,J){var K=this.frameInfo(M),he=K.width*K.height,ge=new Uint8Array(he);Kv(t,K.data_offset,ge,he);var Y=K.palette_offset,O=K.transparent_index;O===null&&(O=256);var ne=K.width,fe=r-ne,oe=ne,C=4*(K.y*r+K.x),$=4*((K.y+K.height)*r+K.x),V=C,Q=4*fe;K.interlaced===!0&&(Q+=4*r*7);for(var re=8,ae=0,pe=ge.length;ae<pe;++ae){var me=ge[ae];if(oe===0&&(oe=ne,(V+=Q)>=$&&(Q=4*fe+4*r*(re-1),V=C+(ne+fe)*(re<<1),re>>=1)),me===O)V+=4;else{var ve=t[Y+3*me],ke=t[Y+3*me+1],Ce=t[Y+3*me+2];J[V++]=Ce,J[V++]=ke,J[V++]=ve,J[V++]=255}--oe}},this.decodeAndBlitFrameRGBA=function(M,J){var K=this.frameInfo(M),he=K.width*K.height,ge=new Uint8Array(he);Kv(t,K.data_offset,ge,he);var Y=K.palette_offset,O=K.transparent_index;O===null&&(O=256);var ne=K.width,fe=r-ne,oe=ne,C=4*(K.y*r+K.x),$=4*((K.y+K.height)*r+K.x),V=C,Q=4*fe;K.interlaced===!0&&(Q+=4*r*7);for(var re=8,ae=0,pe=ge.length;ae<pe;++ae){var me=ge[ae];if(oe===0&&(oe=ne,(V+=Q)>=$&&(Q=4*fe+4*r*(re-1),V=C+(ne+fe)*(re<<1),re>>=1)),me===O)V+=4;else{var ve=t[Y+3*me],ke=t[Y+3*me+1],Ce=t[Y+3*me+2];J[V++]=ve,J[V++]=ke,J[V++]=Ce,J[V++]=255}--oe}}}function Kv(t,e,r,n){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,l=i+1,u=(1<<l)-1,h=0,p=0,m=0,f=t[e++],_=new Int32Array(4096),x=null;;){for(;h<16&&f!==0;)p|=t[e++]<<h,h+=8,f===1?f=t[e++]:--f;if(h<l)break;var A=p&u;if(p>>=l,h-=l,A!==s){if(A===a)break;for(var w=A<o?A:x,S=0,k=w;k>s;)k=_[k]>>8,++S;var E=k;if(m+S+(w!==A?1:0)>n)return void qt.log("Warning, gif stream longer than expected.");r[m++]=E;var F=m+=S;for(w!==A&&(r[m++]=E),k=w;S--;)k=_[k],r[--F]=255&k,k>>=8;x!==null&&o<4096&&(_[o++]=x<<8|E,o>=u+1&&l<12&&(++l,u=u<<1|1)),x=A}else o=a+1,u=(1<<(l=i+1))-1,x=null}return m!==n&&qt.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Ip(t){var e,r,n,i,s,a=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),h=new Array(64),p=new Array(65535),m=new Array(65535),f=new Array(64),_=new Array(64),x=[],A=0,w=7,S=new Array(64),k=new Array(64),E=new Array(64),F=new Array(256),G=new Array(2048),H=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],z=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],J=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],he=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ge(C,$){for(var V=0,Q=0,re=new Array,ae=1;ae<=16;ae++){for(var pe=1;pe<=C[ae];pe++)re[$[Q]]=[],re[$[Q]][0]=V,re[$[Q]][1]=ae,Q++,V++;V*=2}return re}function Y(C){for(var $=C[0],V=C[1]-1;V>=0;)$&1<<V&&(A|=1<<w),V--,--w<0&&(A==255?(O(255),O(0)):O(A),w=7,A=0)}function O(C){x.push(C)}function ne(C){O(C>>8&255),O(255&C)}function fe(C,$,V,Q,re){for(var ae,pe=re[0],me=re[240],ve=function(Ae,ze){var Ie,Ye,Xe,Ct,yt,ot,bt,wt,Ue,st,qe=0;for(Ue=0;Ue<8;++Ue){Ie=Ae[qe],Ye=Ae[qe+1],Xe=Ae[qe+2],Ct=Ae[qe+3],yt=Ae[qe+4],ot=Ae[qe+5],bt=Ae[qe+6];var Zt=Ie+(wt=Ae[qe+7]),_t=Ie-wt,dt=Ye+bt,vt=Ye-bt,Pt=Xe+ot,Qe=Xe-ot,Rt=Ct+yt,et=Ct-yt,ee=Zt+Rt,Ee=Zt-Rt,Te=dt+Pt,De=dt-Pt;Ae[qe]=ee+Te,Ae[qe+4]=ee-Te;var St=.707106781*(De+Ee);Ae[qe+2]=Ee+St,Ae[qe+6]=Ee-St;var Or=.382683433*((ee=et+Qe)-(De=vt+_t)),Lt=.5411961*ee+Or,Ar=1.306562965*De+Or,un=.707106781*(Te=Qe+vt),tt=_t+un,Ei=_t-un;Ae[qe+5]=Ei+Lt,Ae[qe+3]=Ei-Lt,Ae[qe+1]=tt+Ar,Ae[qe+7]=tt-Ar,qe+=8}for(qe=0,Ue=0;Ue<8;++Ue){Ie=Ae[qe],Ye=Ae[qe+8],Xe=Ae[qe+16],Ct=Ae[qe+24],yt=Ae[qe+32],ot=Ae[qe+40],bt=Ae[qe+48];var Hn=Ie+(wt=Ae[qe+56]),cn=Ie-wt,Ur=Ye+bt,ir=Ye-bt,Fr=Xe+ot,qr=Xe-ot,ma=Ct+yt,As=Ct-yt,ai=Hn+ma,Ci=Hn-ma,oi=Ur+Fr,li=Ur-Fr;Ae[qe]=ai+oi,Ae[qe+32]=ai-oi;var Vn=.707106781*(li+Ci);Ae[qe+16]=Ci+Vn,Ae[qe+48]=Ci-Vn;var va=.382683433*((ai=As+qr)-(li=ir+cn)),Li=.5411961*ai+va,ya=1.306562965*li+va,lo=.707106781*(oi=qr+ir),uo=cn+lo,co=cn-lo;Ae[qe+40]=co+Li,Ae[qe+24]=co-Li,Ae[qe+8]=uo+ya,Ae[qe+56]=uo-ya,qe++}for(Ue=0;Ue<64;++Ue)st=Ae[Ue]*ze[Ue],f[Ue]=st>0?st+.5|0:st-.5|0;return f}(C,$),ke=0;ke<64;++ke)_[H[ke]]=ve[ke];var Ce=_[0]-V;V=_[0],Ce==0?Y(Q[0]):(Y(Q[m[ae=32767+Ce]]),Y(p[ae]));for(var Re=63;Re>0&&_[Re]==0;)Re--;if(Re==0)return Y(pe),V;for(var Ke,B=1;B<=Re;){for(var Le=B;_[B]==0&&B<=Re;)++B;var ht=B-Le;if(ht>=16){Ke=ht>>4;for(var Ze=1;Ze<=Ke;++Ze)Y(me);ht&=15}ae=32767+_[B],Y(re[(ht<<4)+m[ae]]),Y(p[ae]),B++}return Re!=63&&Y(pe),V}function oe(C){C=Math.min(Math.max(C,1),100),s!=C&&(function($){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Q=0;Q<64;Q++){var re=a((V[Q]*$+50)/100);re=Math.min(Math.max(re,1),255),o[H[Q]]=re}for(var ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],pe=0;pe<64;pe++){var me=a((ae[pe]*$+50)/100);me=Math.min(Math.max(me,1),255),l[H[pe]]=me}for(var ve=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ke=0,Ce=0;Ce<8;Ce++)for(var Re=0;Re<8;Re++)u[ke]=1/(o[H[ke]]*ve[Ce]*ve[Re]*8),h[ke]=1/(l[H[ke]]*ve[Ce]*ve[Re]*8),ke++}(C<50?Math.floor(5e3/C):Math.floor(200-2*C)),s=C)}this.encode=function(C,$){$&&oe($),x=new Array,A=0,w=7,ne(65496),ne(65504),ne(16),O(74),O(70),O(73),O(70),O(0),O(1),O(1),O(0),ne(1),ne(1),O(0),O(0),function(){ne(65499),ne(132),O(0);for(var Ye=0;Ye<64;Ye++)O(o[Ye]);O(1);for(var Xe=0;Xe<64;Xe++)O(l[Xe])}(),function(Ye,Xe){ne(65472),ne(17),O(8),ne(Xe),ne(Ye),O(3),O(1),O(17),O(0),O(2),O(17),O(1),O(3),O(17),O(1)}(C.width,C.height),function(){ne(65476),ne(418),O(0);for(var Ye=0;Ye<16;Ye++)O(z[Ye+1]);for(var Xe=0;Xe<=11;Xe++)O(D[Xe]);O(16);for(var Ct=0;Ct<16;Ct++)O(Z[Ct+1]);for(var yt=0;yt<=161;yt++)O(T[yt]);O(1);for(var ot=0;ot<16;ot++)O(M[ot+1]);for(var bt=0;bt<=11;bt++)O(J[bt]);O(17);for(var wt=0;wt<16;wt++)O(K[wt+1]);for(var Ue=0;Ue<=161;Ue++)O(he[Ue])}(),ne(65498),ne(12),O(3),O(1),O(0),O(2),O(17),O(3),O(17),O(0),O(63),O(0);var V=0,Q=0,re=0;A=0,w=7,this.encode.displayName="_encode_";for(var ae,pe,me,ve,ke,Ce,Re,Ke,B,Le=C.data,ht=C.width,Ze=C.height,Ae=4*ht,ze=0;ze<Ze;){for(ae=0;ae<Ae;){for(ke=Ae*ze+ae,Re=-1,Ke=0,B=0;B<64;B++)Ce=ke+(Ke=B>>3)*Ae+(Re=4*(7&B)),ze+Ke>=Ze&&(Ce-=Ae*(ze+1+Ke-Ze)),ae+Re>=Ae&&(Ce-=ae+Re-Ae+4),pe=Le[Ce++],me=Le[Ce++],ve=Le[Ce++],S[B]=(G[pe]+G[me+256|0]+G[ve+512|0]>>16)-128,k[B]=(G[pe+768|0]+G[me+1024|0]+G[ve+1280|0]>>16)-128,E[B]=(G[pe+1280|0]+G[me+1536|0]+G[ve+1792|0]>>16)-128;V=fe(S,u,V,e,n),Q=fe(k,h,Q,r,i),re=fe(E,h,re,r,i),ae+=32}ze+=8}if(w>=0){var Ie=[];Ie[1]=w+1,Ie[0]=(1<<w+1)-1,Y(Ie)}return ne(65497),new Uint8Array(x)},t=t||50,function(){for(var C=String.fromCharCode,$=0;$<256;$++)F[$]=C($)}(),e=ge(z,D),r=ge(M,J),n=ge(Z,T),i=ge(K,he),function(){for(var C=1,$=2,V=1;V<=15;V++){for(var Q=C;Q<$;Q++)m[32767+Q]=V,p[32767+Q]=[],p[32767+Q][1]=V,p[32767+Q][0]=Q;for(var re=-($-1);re<=-C;re++)m[32767+re]=V,p[32767+re]=[],p[32767+re][1]=V,p[32767+re][0]=$-1+re;C<<=1,$<<=1}}(),function(){for(var C=0;C<256;C++)G[C]=19595*C,G[C+256|0]=38470*C,G[C+512|0]=7471*C+32768,G[C+768|0]=-11059*C,G[C+1024|0]=-21709*C,G[C+1280|0]=32768*C+8421375,G[C+1536|0]=-27439*C,G[C+1792|0]=-5329*C}(),oe(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function gi(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Jv(t){function e(D){if(!D)throw Error("assert :P")}function r(D,Z,T){for(var M=0;4>M;M++)if(D[Z+M]!=T.charCodeAt(M))return!0;return!1}function n(D,Z,T,M,J){for(var K=0;K<J;K++)D[Z+K]=T[M+K]}function i(D,Z,T,M){for(var J=0;J<M;J++)D[Z+J]=T}function s(D){return new Int32Array(D)}function a(D,Z){for(var T=[],M=0;M<D;M++)T.push(new Z);return T}function o(D,Z){var T=[];return function M(J,K,he){for(var ge=he[K],Y=0;Y<ge&&(J.push(he.length>K+1?[]:new Z),!(he.length<K+1));Y++)M(J[Y],K+1,he)}(T,0,D),T}var l=function(){var D=this;function Z(c,d){for(var y=1<<d-1>>>0;c&y;)y>>>=1;return y?(c&y-1)+y:c}function T(c,d,y,b,j){e(!(b%y));do c[d+(b-=y)]=j;while(0<b)}function M(c,d,y,b,j){if(e(2328>=j),512>=j)var L=s(512);else if((L=s(j))==null)return 0;return function(P,R,I,U,te,ce){var q,ie,le=R,ye=1<<I,ue=s(16),we=s(16);for(e(te!=0),e(U!=null),e(P!=null),e(0<I),ie=0;ie<te;++ie){if(15<U[ie])return 0;++ue[U[ie]]}if(ue[0]==te)return 0;for(we[1]=0,q=1;15>q;++q){if(ue[q]>1<<q)return 0;we[q+1]=we[q]+ue[q]}for(ie=0;ie<te;++ie)q=U[ie],0<U[ie]&&(ce[we[q]++]=ie);if(we[15]==1)return(U=new J).g=0,U.value=ce[0],T(P,le,1,ye,U),ye;var xe,Ne=-1,Se=ye-1,Je=0,Fe=1,gt=1,$e=1<<I;for(ie=0,q=1,te=2;q<=I;++q,te<<=1){if(Fe+=gt<<=1,0>(gt-=ue[q]))return 0;for(;0<ue[q];--ue[q])(U=new J).g=q,U.value=ce[ie++],T(P,le+Je,te,$e,U),Je=Z(Je,q)}for(q=I+1,te=2;15>=q;++q,te<<=1){if(Fe+=gt<<=1,0>(gt-=ue[q]))return 0;for(;0<ue[q];--ue[q]){if(U=new J,(Je&Se)!=Ne){for(le+=$e,xe=1<<(Ne=q)-I;15>Ne&&!(0>=(xe-=ue[Ne]));)++Ne,xe<<=1;ye+=$e=1<<(xe=Ne-I),P[R+(Ne=Je&Se)].g=xe+I,P[R+Ne].value=le-R-Ne}U.g=q-I,U.value=ce[ie++],T(P,le+(Je>>I),te,$e,U),Je=Z(Je,q)}}return Fe!=2*we[15]-1?0:ye}(c,d,y,b,j,L)}function J(){this.value=this.g=0}function K(){this.value=this.g=0}function he(){this.G=a(5,J),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Ca,K)}function ge(c,d,y,b){e(c!=null),e(d!=null),e(2147483648>b),c.Ca=254,c.I=0,c.b=-8,c.Ka=0,c.oa=d,c.pa=y,c.Jd=d,c.Yc=y+b,c.Zc=4<=b?y+b-4+1:y,pe(c)}function Y(c,d){for(var y=0;0<d--;)y|=ve(c,128)<<d;return y}function O(c,d){var y=Y(c,d);return me(c)?-y:y}function ne(c,d,y,b){var j,L=0;for(e(c!=null),e(d!=null),e(4294967288>b),c.Sb=b,c.Ra=0,c.u=0,c.h=0,4<b&&(b=4),j=0;j<b;++j)L+=d[y+j]<<8*j;c.Ra=L,c.bb=b,c.oa=d,c.pa=y}function fe(c){for(;8<=c.u&&c.bb<c.Sb;)c.Ra>>>=8,c.Ra+=c.oa[c.pa+c.bb]<<Cs-8>>>0,++c.bb,c.u-=8;Q(c)&&(c.h=1,c.u=0)}function oe(c,d){if(e(0<=d),!c.h&&d<=En){var y=V(c)&jn[d];return c.u+=d,fe(c),y}return c.h=1,c.u=0}function C(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function $(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(c){return c.Ra>>>(c.u&Cs-1)>>>0}function Q(c){return e(c.bb<=c.Sb),c.h||c.bb==c.Sb&&c.u>Cs}function re(c,d){c.u=d,c.h=Q(c)}function ae(c){c.u>=ns&&(e(c.u>=ns),fe(c))}function pe(c){e(c!=null&&c.oa!=null),c.pa<c.Zc?(c.I=(c.oa[c.pa++]|c.I<<8)>>>0,c.b+=8):(e(c!=null&&c.oa!=null),c.pa<c.Yc?(c.b+=8,c.I=c.oa[c.pa++]|c.I<<8):c.Ka?c.b=0:(c.I<<=8,c.b+=8,c.Ka=1))}function me(c){return Y(c,1)}function ve(c,d){var y=c.Ca;0>c.b&&pe(c);var b=c.b,j=y*d>>>8,L=(c.I>>>b>j)+0;for(L?(y-=j,c.I-=j+1<<b>>>0):y=j+1,b=y,j=0;256<=b;)j+=8,b>>=8;return b=7^j+Ls[b],c.b-=b,c.Ca=(y<<b)-1,L}function ke(c,d,y){c[d+0]=y>>24&255,c[d+1]=y>>16&255,c[d+2]=y>>8&255,c[d+3]=255&y}function Ce(c,d){return c[d+0]|c[d+1]<<8}function Re(c,d){return Ce(c,d)|c[d+2]<<16}function Ke(c,d){return Ce(c,d)|Ce(c,d+2)<<16}function B(c,d){var y=1<<d;return e(c!=null),e(0<d),c.X=s(y),c.X==null?0:(c.Mb=32-d,c.Xa=d,1)}function Le(c,d){e(c!=null),e(d!=null),e(c.Xa==d.Xa),n(d.X,0,c.X,0,1<<d.Xa)}function ht(){this.X=[],this.Xa=this.Mb=0}function Ze(c,d,y,b){e(y!=null),e(b!=null);var j=y[0],L=b[0];return j==0&&(j=(c*L+d/2)/d),L==0&&(L=(d*j+c/2)/c),0>=j||0>=L?0:(y[0]=j,b[0]=L,1)}function Ae(c,d){return c+(1<<d)-1>>>d}function ze(c,d){return((4278255360&c)+(4278255360&d)>>>0&4278255360)+((16711935&c)+(16711935&d)>>>0&16711935)>>>0}function Ie(c,d){D[d]=function(y,b,j,L,P,R,I){var U;for(U=0;U<P;++U){var te=D[c](R[I+U-1],j,L+U);R[I+U]=ze(y[b+U],te)}}}function Ye(){this.ud=this.hd=this.jd=0}function Xe(c,d){return((4278124286&(c^d))>>>1)+(c&d)>>>0}function Ct(c){return 0<=c&&256>c?c:0>c?0:255<c?255:void 0}function yt(c,d){return Ct(c+(c-d+.5>>1))}function ot(c,d,y){return Math.abs(d-y)-Math.abs(c-y)}function bt(c,d,y,b,j,L,P){for(b=L[P-1],y=0;y<j;++y)L[P+y]=b=ze(c[d+y],b)}function wt(c,d,y,b,j){var L;for(L=0;L<y;++L){var P=c[d+L],R=P>>8&255,I=16711935&(I=(I=16711935&P)+((R<<16)+R));b[j+L]=(4278255360&P)+I>>>0}}function Ue(c,d){d.jd=255&c,d.hd=c>>8&255,d.ud=c>>16&255}function st(c,d,y,b,j,L){var P;for(P=0;P<b;++P){var R=d[y+P],I=R>>>8,U=R,te=255&(te=(te=R>>>16)+((c.jd<<24>>24)*(I<<24>>24)>>>5));U=255&(U=(U+=(c.hd<<24>>24)*(I<<24>>24)>>>5)+((c.ud<<24>>24)*(te<<24>>24)>>>5)),j[L+P]=(4278255360&R)+(te<<16)+U}}function qe(c,d,y,b,j){D[d]=function(L,P,R,I,U,te,ce,q,ie){for(I=ce;I<q;++I)for(ce=0;ce<ie;++ce)U[te++]=j(R[b(L[P++])])},D[c]=function(L,P,R,I,U,te,ce){var q=8>>L.b,ie=L.Ea,le=L.K[0],ye=L.w;if(8>q)for(L=(1<<L.b)-1,ye=(1<<q)-1;P<R;++P){var ue,we=0;for(ue=0;ue<ie;++ue)ue&L||(we=b(I[U++])),te[ce++]=j(le[we&ye]),we>>=q}else D["VP8LMapColor"+y](I,U,le,ye,te,ce,P,R,ie)}}function Zt(c,d,y,b,j){for(y=d+y;d<y;){var L=c[d++];b[j++]=L>>16&255,b[j++]=L>>8&255,b[j++]=255&L}}function _t(c,d,y,b,j){for(y=d+y;d<y;){var L=c[d++];b[j++]=L>>16&255,b[j++]=L>>8&255,b[j++]=255&L,b[j++]=L>>24&255}}function dt(c,d,y,b,j){for(y=d+y;d<y;){var L=(P=c[d++])>>16&240|P>>12&15,P=240&P|P>>28&15;b[j++]=L,b[j++]=P}}function vt(c,d,y,b,j){for(y=d+y;d<y;){var L=(P=c[d++])>>16&248|P>>13&7,P=P>>5&224|P>>3&31;b[j++]=L,b[j++]=P}}function Pt(c,d,y,b,j){for(y=d+y;d<y;){var L=c[d++];b[j++]=255&L,b[j++]=L>>8&255,b[j++]=L>>16&255}}function Qe(c,d,y,b,j,L){if(L==0)for(y=d+y;d<y;)ke(b,((L=c[d++])[0]>>24|L[1]>>8&65280|L[2]<<8&16711680|L[3]<<24)>>>0),j+=32;else n(b,j,c,d,y)}function Rt(c,d){D[d][0]=D[c+"0"],D[d][1]=D[c+"1"],D[d][2]=D[c+"2"],D[d][3]=D[c+"3"],D[d][4]=D[c+"4"],D[d][5]=D[c+"5"],D[d][6]=D[c+"6"],D[d][7]=D[c+"7"],D[d][8]=D[c+"8"],D[d][9]=D[c+"9"],D[d][10]=D[c+"10"],D[d][11]=D[c+"11"],D[d][12]=D[c+"12"],D[d][13]=D[c+"13"],D[d][14]=D[c+"0"],D[d][15]=D[c+"0"]}function et(c){return c==yf||c==wf||c==Oc||c==bf}function ee(){this.eb=[],this.size=this.A=this.fb=0}function Ee(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Te(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ee,this.f.kb=new Ee,this.sd=null}function De(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function St(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Or(c){return alert("todo:WebPSamplerProcessPlane"),c.T}function Lt(c,d){var y=c.T,b=d.ba.f.RGBA,j=b.eb,L=b.fb+c.ka*b.A,P=Qn[d.ba.S],R=c.y,I=c.O,U=c.f,te=c.N,ce=c.ea,q=c.W,ie=d.cc,le=d.dc,ye=d.Mc,ue=d.Nc,we=c.ka,xe=c.ka+c.T,Ne=c.U,Se=Ne+1>>1;for(we==0?P(R,I,null,null,U,te,ce,q,U,te,ce,q,j,L,null,null,Ne):(P(d.ec,d.fc,R,I,ie,le,ye,ue,U,te,ce,q,j,L-b.A,j,L,Ne),++y);we+2<xe;we+=2)ie=U,le=te,ye=ce,ue=q,te+=c.Rc,q+=c.Rc,L+=2*b.A,P(R,(I+=2*c.fa)-c.fa,R,I,ie,le,ye,ue,U,te,ce,q,j,L-b.A,j,L,Ne);return I+=c.fa,c.j+xe<c.o?(n(d.ec,d.fc,R,I,Ne),n(d.cc,d.dc,U,te,Se),n(d.Mc,d.Nc,ce,q,Se),y--):1&xe||P(R,I,null,null,U,te,ce,q,U,te,ce,q,j,L+b.A,null,null,Ne),y}function Ar(c,d,y){var b=c.F,j=[c.J];if(b!=null){var L=c.U,P=d.ba.S,R=P==Ic||P==Oc;d=d.ba.f.RGBA;var I=[0],U=c.ka;I[0]=c.T,c.Kb&&(U==0?--I[0]:(--U,j[0]-=c.width),c.j+c.ka+c.T==c.o&&(I[0]=c.o-c.j-U));var te=d.eb;U=d.fb+U*d.A,c=vg(b,j[0],c.width,L,I,te,U+(R?0:3),d.A),e(y==I),c&&et(P)&&Wl(te,U,R,L,I,d.A)}return 0}function un(c){var d=c.ma,y=d.ba.S,b=11>y,j=y==Tc||y==Rc||y==Ic||y==vf||y==12||et(y);if(d.memory=null,d.Ib=null,d.Jb=null,d.Nd=null,!Fl(d.Oa,c,j?11:12))return 0;if(j&&et(y)&&Rl(),c.da)alert("todo:use_scaling");else{if(b){if(d.Ib=Or,c.Kb){if(y=c.U+1>>1,d.memory=s(c.U+2*y),d.memory==null)return 0;d.ec=d.memory,d.fc=0,d.cc=d.ec,d.dc=d.fc+c.U,d.Mc=d.cc,d.Nc=d.dc+y,d.Ib=Lt,Rl()}}else alert("todo:EmitYUV");j&&(d.Jb=Ar,b&&ci())}if(b&&!Rg){for(c=0;256>c;++c)bx[c]=89858*(c-128)+Dc>>Fc,Sx[c]=-22014*(c-128)+Dc,_x[c]=-45773*(c-128),xx[c]=113618*(c-128)+Dc>>Fc;for(c=Vl;c<Sf;++c)d=76283*(c-16)+Dc>>Fc,kx[c-Vl]=Pi(d,255),Ax[c-Vl]=Pi(d+8>>4,15);Rg=1}return 1}function tt(c){var d=c.ma,y=c.U,b=c.T;return e(!(1&c.ka)),0>=y||0>=b?0:(y=d.Ib(c,d),d.Jb!=null&&d.Jb(c,d,y),d.Dc+=y,1)}function Ei(c){c.ma.memory=null}function Hn(c,d,y,b){return oe(c,8)!=47?0:(d[0]=oe(c,14)+1,y[0]=oe(c,14)+1,b[0]=oe(c,1),oe(c,3)!=0?0:!c.h)}function cn(c,d){if(4>c)return c+1;var y=c-2>>1;return(2+(1&c)<<y)+oe(d,y)+1}function Ur(c,d){return 120<d?d-120:1<=(y=((y=ax[d-1])>>4)*c+(8-(15&y)))?y:1;var y}function ir(c,d,y){var b=V(y),j=c[d+=255&b].g-8;return 0<j&&(re(y,y.u+8),b=V(y),d+=c[d].value,d+=b&(1<<j)-1),re(y,y.u+c[d].g),c[d].value}function Fr(c,d,y){return y.g+=c.g,y.value+=c.value<<d>>>0,e(8>=y.g),c.g}function qr(c,d,y){var b=c.xc;return e((d=b==0?0:c.vc[c.md*(y>>b)+(d>>b)])<c.Wb),c.Ya[d]}function ma(c,d,y,b){var j=c.ab,L=c.c*d,P=c.C;d=P+d;var R=y,I=b;for(b=c.Ta,y=c.Ua;0<j--;){var U=c.gc[j],te=P,ce=d,q=R,ie=I,le=(I=b,R=y,U.Ea);switch(e(te<ce),e(ce<=U.nc),U.hc){case 2:cr(q,ie,(ce-te)*le,I,R);break;case 0:var ye=te,ue=ce,we=I,xe=R,Ne=($e=U).Ea;ye==0&&(Bl(q,ie,null,null,1,we,xe),bt(q,ie+1,0,0,Ne-1,we,xe+1),ie+=Ne,xe+=Ne,++ye);for(var Se=1<<$e.b,Je=Se-1,Fe=Ae(Ne,$e.b),gt=$e.K,$e=$e.w+(ye>>$e.b)*Fe;ye<ue;){var kt=gt,Cr=$e,mt=1;for(wo(q,ie,we,xe-Ne,1,we,xe);mt<Ne;){var We=(mt&~Je)+Se;We>Ne&&(We=Ne),(0,zl[kt[Cr++]>>8&15])(q,ie+ +mt,we,xe+mt-Ne,We-mt,we,xe+mt),mt=We}ie+=Ne,xe+=Ne,++ye&Je||($e+=Fe)}ce!=U.nc&&n(I,R-le,I,R+(ce-te-1)*le,le);break;case 1:for(le=q,ue=ie,Ne=(q=U.Ea)-(xe=q&~(we=(ie=1<<U.b)-1)),ye=Ae(q,U.b),Se=U.K,U=U.w+(te>>U.b)*ye;te<ce;){for(Je=Se,Fe=U,gt=new Ye,$e=ue+xe,kt=ue+q;ue<$e;)Ue(Je[Fe++],gt),Ul(gt,le,ue,ie,I,R),ue+=ie,R+=ie;ue<kt&&(Ue(Je[Fe++],gt),Ul(gt,le,ue,Ne,I,R),ue+=Ne,R+=Ne),++te&we||(U+=ye)}break;case 3:if(q==I&&ie==R&&0<U.b){for(ue=I,q=le=R+(ce-te)*le-(xe=(ce-te)*Ae(U.Ea,U.b)),ie=I,we=R,ye=[],xe=(Ne=xe)-1;0<=xe;--xe)ye[xe]=ie[we+xe];for(xe=Ne-1;0<=xe;--xe)ue[q+xe]=ye[xe];Ec(U,te,ce,I,le,I,R)}else Ec(U,te,ce,q,ie,I,R)}R=b,I=y}I!=y&&n(b,y,R,I,L)}function As(c,d){var y=c.V,b=c.Ba+c.c*c.C,j=d-c.C;if(e(d<=c.l.o),e(16>=j),0<j){var L=c.l,P=c.Ta,R=c.Ua,I=L.width;if(ma(c,j,y,b),j=R=[R],e((y=c.C)<(b=d)),e(L.v<L.va),b>L.o&&(b=L.o),y<L.j){var U=L.j-y;y=L.j,j[0]+=U*I}if(y>=b?y=0:(j[0]+=4*L.v,L.ka=y-L.j,L.U=L.va-L.v,L.T=b-y,y=1),y){if(R=R[0],11>(y=c.ca).S){var te=y.f.RGBA,ce=(b=y.S,j=L.U,L=L.T,U=te.eb,te.A),q=L;for(te=te.fb+c.Ma*te.A;0<q--;){var ie=P,le=R,ye=j,ue=U,we=te;switch(b){case Pc:ql(ie,le,ye,ue,we);break;case Tc:Ps(ie,le,ye,ue,we);break;case yf:Ps(ie,le,ye,ue,we),Wl(ue,we,0,ye,1,0);break;case kg:La(ie,le,ye,ue,we);break;case Rc:Qe(ie,le,ye,ue,we,1);break;case wf:Qe(ie,le,ye,ue,we,1),Wl(ue,we,0,ye,1,0);break;case Ic:Qe(ie,le,ye,ue,we,0);break;case Oc:Qe(ie,le,ye,ue,we,0),Wl(ue,we,1,ye,1,0);break;case vf:Ts(ie,le,ye,ue,we);break;case bf:Ts(ie,le,ye,ue,we),mg(ue,we,ye,1,0);break;case Ag:Rs(ie,le,ye,ue,we);break;default:e(0)}R+=I,te+=ce}c.Ma+=L}else alert("todo:EmitRescaledRowsYUVA");e(c.Ma<=y.height)}}c.C=d,e(c.C<=c.i)}function ai(c){var d;if(0<c.ua)return 0;for(d=0;d<c.Wb;++d){var y=c.Ya[d].G,b=c.Ya[d].H;if(0<y[1][b[1]+0].g||0<y[2][b[2]+0].g||0<y[3][b[3]+0].g)return 0}return 1}function Ci(c,d,y,b,j,L){if(c.Z!=0){var P=c.qd,R=c.rd;for(e(Fs[c.Z]!=null);d<y;++d)Fs[c.Z](P,R,b,j,b,j,L),P=b,R=j,j+=L;c.qd=P,c.rd=R}}function oi(c,d){var y=c.l.ma,b=y.Z==0||y.Z==1?c.l.j:c.C;if(b=c.C<b?b:c.C,e(d<=c.l.o),d>b){var j=c.l.width,L=y.ca,P=y.tb+j*b,R=c.V,I=c.Ba+c.c*b,U=c.gc;e(c.ab==1),e(U[0].hc==3),Oi(U[0],b,d,R,I,L,P),Ci(y,b,d,L,P,j)}c.C=c.Ma=d}function li(c,d,y,b,j,L,P){var R=c.$/b,I=c.$%b,U=c.m,te=c.s,ce=y+c.$,q=ce;j=y+b*j;var ie=y+b*L,le=280+te.ua,ye=c.Pb?R:16777216,ue=0<te.ua?te.Wa:null,we=te.wc,xe=ce<ie?qr(te,I,R):null;e(c.C<L),e(ie<=j);var Ne=!1;e:for(;;){for(;Ne||ce<ie;){var Se=0;if(R>=ye){var Je=ce-y;e((ye=c).Pb),ye.wd=ye.m,ye.xd=Je,0<ye.s.ua&&Le(ye.s.Wa,ye.s.vb),ye=R+lx}if(I&we||(xe=qr(te,I,R)),e(xe!=null),xe.Qb&&(d[ce]=xe.qb,Ne=!0),!Ne)if(ae(U),xe.jc){Se=U,Je=d;var Fe=ce,gt=xe.pd[V(Se)&Ca-1];e(xe.jc),256>gt.g?(re(Se,Se.u+gt.g),Je[Fe]=gt.value,Se=0):(re(Se,Se.u+gt.g-256),e(256<=gt.value),Se=gt.value),Se==0&&(Ne=!0)}else Se=ir(xe.G[0],xe.H[0],U);if(U.h)break;if(Ne||256>Se){if(!Ne)if(xe.nd)d[ce]=(xe.qb|Se<<8)>>>0;else{if(ae(U),Ne=ir(xe.G[1],xe.H[1],U),ae(U),Je=ir(xe.G[2],xe.H[2],U),Fe=ir(xe.G[3],xe.H[3],U),U.h)break;d[ce]=(Fe<<24|Ne<<16|Se<<8|Je)>>>0}if(Ne=!1,++ce,++I>=b&&(I=0,++R,P!=null&&R<=L&&!(R%16)&&P(c,R),ue!=null))for(;q<ce;)Se=d[q++],ue.X[(506832829*Se&4294967295)>>>ue.Mb]=Se}else if(280>Se){if(Se=cn(Se-256,U),Je=ir(xe.G[4],xe.H[4],U),ae(U),Je=Ur(b,Je=cn(Je,U)),U.h)break;if(ce-y<Je||j-ce<Se)break e;for(Fe=0;Fe<Se;++Fe)d[ce+Fe]=d[ce+Fe-Je];for(ce+=Se,I+=Se;I>=b;)I-=b,++R,P!=null&&R<=L&&!(R%16)&&P(c,R);if(e(ce<=j),I&we&&(xe=qr(te,I,R)),ue!=null)for(;q<ce;)Se=d[q++],ue.X[(506832829*Se&4294967295)>>>ue.Mb]=Se}else{if(!(Se<le))break e;for(Ne=Se-280,e(ue!=null);q<ce;)Se=d[q++],ue.X[(506832829*Se&4294967295)>>>ue.Mb]=Se;Se=ce,e(!(Ne>>>(Je=ue).Xa)),d[Se]=Je.X[Ne],Ne=!0}Ne||e(U.h==Q(U))}if(c.Pb&&U.h&&ce<j)e(c.m.h),c.a=5,c.m=c.wd,c.$=c.xd,0<c.s.ua&&Le(c.s.vb,c.s.Wa);else{if(U.h)break e;P!=null&&P(c,R>L?L:R),c.a=0,c.$=ce-y}return 1}return c.a=3,0}function Vn(c){e(c!=null),c.vc=null,c.yc=null,c.Ya=null;var d=c.Wa;d!=null&&(d.X=null),c.vb=null,e(c!=null)}function va(){var c=new at;return c==null?null:(c.a=0,c.xb=Eg,Rt("Predictor","VP8LPredictors"),Rt("Predictor","VP8LPredictors_C"),Rt("PredictorAdd","VP8LPredictorsAdd"),Rt("PredictorAdd","VP8LPredictorsAdd_C"),cr=wt,Ul=st,ql=Zt,Ps=_t,Ts=dt,Rs=vt,La=Pt,D.VP8LMapColor32b=Ii,D.VP8LMapColor8b=Ml,c)}function Li(c,d,y,b,j){var L=1,P=[c],R=[d],I=b.m,U=b.s,te=null,ce=0;e:for(;;){if(y)for(;L&&oe(I,1);){var q=P,ie=R,le=b,ye=1,ue=le.m,we=le.gc[le.ab],xe=oe(ue,2);if(le.Oc&1<<xe)L=0;else{switch(le.Oc|=1<<xe,we.hc=xe,we.Ea=q[0],we.nc=ie[0],we.K=[null],++le.ab,e(4>=le.ab),xe){case 0:case 1:we.b=oe(ue,3)+2,ye=Li(Ae(we.Ea,we.b),Ae(we.nc,we.b),0,le,we.K),we.K=we.K[0];break;case 3:var Ne,Se=oe(ue,8)+1,Je=16<Se?0:4<Se?1:2<Se?2:3;if(q[0]=Ae(we.Ea,Je),we.b=Je,Ne=ye=Li(Se,1,0,le,we.K)){var Fe,gt=Se,$e=we,kt=1<<(8>>$e.b),Cr=s(kt);if(Cr==null)Ne=0;else{var mt=$e.K[0],We=$e.w;for(Cr[0]=$e.K[0][0],Fe=1;Fe<1*gt;++Fe)Cr[Fe]=ze(mt[We+Fe],Cr[Fe-1]);for(;Fe<4*kt;++Fe)Cr[Fe]=0;$e.K[0]=null,$e.K[0]=Cr,Ne=1}}ye=Ne;break;case 2:break;default:e(0)}L=ye}}if(P=P[0],R=R[0],L&&oe(I,1)&&!(L=1<=(ce=oe(I,4))&&11>=ce)){b.a=3;break e}var Pe;if(Pe=L)t:{var dr,ct,At,Gt=b,Hr=P,dn=R,sr=ce,Zr=y,fn=Gt.m,Lr=Gt.s,jt=[null],It=1,ar=0,Ot=ox[sr];r:for(;;){if(Zr&&oe(fn,1)){var Vr=oe(fn,3)+2,di=Ae(Hr,Vr),fr=Ae(dn,Vr),wn=di*fr;if(!Li(di,fr,0,Gt,jt))break r;for(jt=jt[0],Lr.xc=Vr,dr=0;dr<wn;++dr){var Ut=jt[dr]>>8&65535;jt[dr]=Ut,Ut>=It&&(It=Ut+1)}}if(fn.h)break r;for(ct=0;5>ct;++ct){var Pr=Ng[ct];!ct&&0<sr&&(Pr+=1<<sr),ar<Pr&&(ar=Pr)}var Ln=a(It*Ot,J),pn=It,Pn=a(pn,he);if(Pn==null)var Tn=null;else e(65536>=pn),Tn=Pn;var bn=s(ar);if(Tn==null||bn==null||Ln==null){Gt.a=1;break r}var Rn=Ln;for(dr=At=0;dr<It;++dr){var Wt=Tn[dr],In=Wt.G,fi=Wt.H,Ta=0,as=1,Gr=0;for(ct=0;5>ct;++ct){Pr=Ng[ct],In[ct]=Rn,fi[ct]=At,!ct&&0<sr&&(Pr+=1<<sr);i:{var Mc,kf=Pr,zc=Gt,Gl=bn,Ex=Rn,Cx=At,Af=0,Ds=zc.m,Lx=oe(Ds,1);if(i(Gl,0,0,kf),Lx){var Px=oe(Ds,1)+1,Tx=oe(Ds,1),Fg=oe(Ds,Tx==0?1:8);Gl[Fg]=1,Px==2&&(Gl[Fg=oe(Ds,8)]=1);var Uc=1}else{var Dg=s(19),Bg=oe(Ds,4)+4;if(19<Bg){zc.a=3;var qc=0;break i}for(Mc=0;Mc<Bg;++Mc)Dg[sx[Mc]]=oe(Ds,3);var Nf=void 0,Kl=void 0,Mg=zc,Rx=Dg,$c=kf,zg=Gl,jf=0,Bs=Mg.m,Ug=8,qg=a(128,J);n:for(;M(qg,0,7,Rx,19);){if(oe(Bs,1)){var Ix=2+2*oe(Bs,3);if((Nf=2+oe(Bs,Ix))>$c)break n}else Nf=$c;for(Kl=0;Kl<$c&&Nf--;){ae(Bs);var $g=qg[0+(127&V(Bs))];re(Bs,Bs.u+$g.g);var xo=$g.value;if(16>xo)zg[Kl++]=xo,xo!=0&&(Ug=xo);else{var Ox=xo==16,Wg=xo-16,Fx=nx[Wg],Hg=oe(Bs,rx[Wg])+Fx;if(Kl+Hg>$c)break n;for(var Dx=Ox?Ug:0;0<Hg--;)zg[Kl++]=Dx}}jf=1;break n}jf||(Mg.a=3),Uc=jf}(Uc=Uc&&!Ds.h)&&(Af=M(Ex,Cx,8,Gl,kf)),Uc&&Af!=0?qc=Af:(zc.a=3,qc=0)}if(qc==0)break r;if(as&&ix[ct]==1&&(as=Rn[At].g==0),Ta+=Rn[At].g,At+=qc,3>=ct){var Jl,Ef=bn[0];for(Jl=1;Jl<Pr;++Jl)bn[Jl]>Ef&&(Ef=bn[Jl]);Gr+=Ef}}if(Wt.nd=as,Wt.Qb=0,as&&(Wt.qb=(In[3][fi[3]+0].value<<24|In[1][fi[1]+0].value<<16|In[2][fi[2]+0].value)>>>0,Ta==0&&256>In[0][fi[0]+0].value&&(Wt.Qb=1,Wt.qb+=In[0][fi[0]+0].value<<8)),Wt.jc=!Wt.Qb&&6>Gr,Wt.jc){var Wc,os=Wt;for(Wc=0;Wc<Ca;++Wc){var Ms=Wc,zs=os.pd[Ms],Hc=os.G[0][os.H[0]+Ms];256<=Hc.value?(zs.g=Hc.g+256,zs.value=Hc.value):(zs.g=0,zs.value=0,Ms>>=Fr(Hc,8,zs),Ms>>=Fr(os.G[1][os.H[1]+Ms],16,zs),Ms>>=Fr(os.G[2][os.H[2]+Ms],0,zs),Fr(os.G[3][os.H[3]+Ms],24,zs))}}}Lr.vc=jt,Lr.Wb=It,Lr.Ya=Tn,Lr.yc=Ln,Pe=1;break t}Pe=0}if(!(L=Pe)){b.a=3;break e}if(0<ce){if(U.ua=1<<ce,!B(U.Wa,ce)){b.a=1,L=0;break e}}else U.ua=0;var Cf=b,Vg=P,Bx=R,Lf=Cf.s,Pf=Lf.xc;if(Cf.c=Vg,Cf.i=Bx,Lf.md=Ae(Vg,Pf),Lf.wc=Pf==0?-1:(1<<Pf)-1,y){b.xb=gx;break e}if((te=s(P*R))==null){b.a=1,L=0;break e}L=(L=li(b,te,0,P,R,R,null))&&!I.h;break e}return L?(j!=null?j[0]=te:(e(te==null),e(y)),b.$=0,y||Vn(U)):Vn(U),L}function ya(c,d){var y=c.c*c.i,b=y+d+16*d;return e(c.c<=d),c.V=s(b),c.V==null?(c.Ta=null,c.Ua=0,c.a=1,0):(c.Ta=c.V,c.Ua=c.Ba+y+d,1)}function lo(c,d){var y=c.C,b=d-y,j=c.V,L=c.Ba+c.c*y;for(e(d<=c.l.o);0<b;){var P=16<b?16:b,R=c.l.ma,I=c.l.width,U=I*P,te=R.ca,ce=R.tb+I*y,q=c.Ta,ie=c.Ua;ma(c,P,j,L),yg(q,ie,te,ce,U),Ci(R,y,y+P,te,ce,I),b-=P,j+=P*c.c,y+=P}e(y==d),c.C=c.Ma=d}function uo(){this.ub=this.yd=this.td=this.Rb=0}function co(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Zd(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function _l(){this.Yb=function(){var c=[];return function d(y,b,j){for(var L=j[b],P=0;P<L&&(y.push(j.length>b+1?[]:0),!(j.length<b+1));P++)d(y[P],b+1,j)}(c,0,[3,11]),c}()}function cc(){this.jb=s(3),this.Wc=o([4,8],_l),this.Xc=o([4,17],_l)}function hc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Gn(){this.ld=this.La=this.dd=this.tc=0}function Sl(){this.Na=this.la=0}function dc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function kl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function fc(){this.uc=this.M=this.Nb=0,this.wa=Array(new Gn),this.Y=0,this.ya=Array(new kl),this.aa=0,this.l=new ho}function pc(){this.y=s(16),this.f=s(8),this.ea=s(8)}function gc(){this.cb=this.a=0,this.sc="",this.m=new C,this.Od=new uo,this.Kc=new co,this.ed=new hc,this.Qa=new Zd,this.Ic=this.$c=this.Aa=0,this.D=new fc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,C),this.ia=0,this.pb=a(4,dc),this.Pa=new cc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new pc),this.Hd=0,this.rb=Array(new Sl),this.sb=0,this.wa=Array(new Gn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new kl),this.L=this.aa=0,this.gd=o([4,2],Gn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Pi(c,d){return 0>c?0:c>d?d:c}function ho(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ef(){var c=new gc;return c!=null&&(c.a=0,c.sc="OK",c.cb=0,c.Xb=0,Hl||(Hl=fo)),c}function wr(c,d,y){return c.a==0&&(c.a=d,c.sc=y,c.cb=0),0}function mc(c,d,y){return 3<=y&&c[d+0]==157&&c[d+1]==1&&c[d+2]==42}function Ti(c,d){if(c==null)return 0;if(c.a=0,c.sc="OK",d==null)return wr(c,2,"null VP8Io passed to VP8GetHeaders()");var y=d.data,b=d.w,j=d.ha;if(4>j)return wr(c,7,"Truncated header.");var L=y[b+0]|y[b+1]<<8|y[b+2]<<16,P=c.Od;if(P.Rb=!(1&L),P.td=L>>1&7,P.yd=L>>4&1,P.ub=L>>5,3<P.td)return wr(c,3,"Incorrect keyframe parameters.");if(!P.yd)return wr(c,4,"Frame not displayable.");b+=3,j-=3;var R=c.Kc;if(P.Rb){if(7>j)return wr(c,7,"cannot parse picture header");if(!mc(y,b,j))return wr(c,3,"Bad code word");R.c=16383&(y[b+4]<<8|y[b+3]),R.Td=y[b+4]>>6,R.i=16383&(y[b+6]<<8|y[b+5]),R.Ud=y[b+6]>>6,b+=7,j-=7,c.za=R.c+15>>4,c.Ub=R.i+15>>4,d.width=R.c,d.height=R.i,d.Da=0,d.j=0,d.v=0,d.va=d.width,d.o=d.height,d.da=0,d.ib=d.width,d.hb=d.height,d.U=d.width,d.T=d.height,i((L=c.Pa).jb,0,255,L.jb.length),e((L=c.Qa)!=null),L.Cb=0,L.Bb=0,L.Fb=1,i(L.Zb,0,0,L.Zb.length),i(L.Lb,0,0,L.Lb)}if(P.ub>j)return wr(c,7,"bad partition length");ge(L=c.m,y,b,P.ub),b+=P.ub,j-=P.ub,P.Rb&&(R.Ld=me(L),R.Kd=me(L)),R=c.Qa;var I,U=c.Pa;if(e(L!=null),e(R!=null),R.Cb=me(L),R.Cb){if(R.Bb=me(L),me(L)){for(R.Fb=me(L),I=0;4>I;++I)R.Zb[I]=me(L)?O(L,7):0;for(I=0;4>I;++I)R.Lb[I]=me(L)?O(L,6):0}if(R.Bb)for(I=0;3>I;++I)U.jb[I]=me(L)?Y(L,8):255}else R.Bb=0;if(L.Ka)return wr(c,3,"cannot parse segment header");if((R=c.ed).zd=me(L),R.Tb=Y(L,6),R.wb=Y(L,3),R.Pc=me(L),R.Pc&&me(L)){for(U=0;4>U;++U)me(L)&&(R.vd[U]=O(L,6));for(U=0;4>U;++U)me(L)&&(R.od[U]=O(L,6))}if(c.L=R.Tb==0?0:R.zd?1:2,L.Ka)return wr(c,3,"cannot parse filter header");var te=j;if(j=I=b,b=I+te,R=te,c.Xb=(1<<Y(c.m,2))-1,te<3*(U=c.Xb))y=7;else{for(I+=3*U,R-=3*U,te=0;te<U;++te){var ce=y[j+0]|y[j+1]<<8|y[j+2]<<16;ce>R&&(ce=R),ge(c.Jc[+te],y,I,ce),I+=ce,R-=ce,j+=3}ge(c.Jc[+U],y,I,R),y=I<b?0:5}if(y!=0)return wr(c,y,"cannot parse partitions");for(y=Y(I=c.m,7),j=me(I)?O(I,4):0,b=me(I)?O(I,4):0,R=me(I)?O(I,4):0,U=me(I)?O(I,4):0,I=me(I)?O(I,4):0,te=c.Qa,ce=0;4>ce;++ce){if(te.Cb){var q=te.Zb[ce];te.Fb||(q+=y)}else{if(0<ce){c.pb[ce]=c.pb[0];continue}q=y}var ie=c.pb[ce];ie.Sc[0]=xf[Pi(q+j,127)],ie.Sc[1]=_f[Pi(q+0,127)],ie.Eb[0]=2*xf[Pi(q+b,127)],ie.Eb[1]=101581*_f[Pi(q+R,127)]>>16,8>ie.Eb[1]&&(ie.Eb[1]=8),ie.Qc[0]=xf[Pi(q+U,117)],ie.Qc[1]=_f[Pi(q+I,127)],ie.lc=q+I}if(!P.Rb)return wr(c,4,"Not a key frame.");for(me(L),P=c.Pa,y=0;4>y;++y){for(j=0;8>j;++j)for(b=0;3>b;++b)for(R=0;11>R;++R)U=ve(L,fx[y][j][b][R])?Y(L,8):hx[y][j][b][R],P.Wc[y][j].Yb[b][R]=U;for(j=0;17>j;++j)P.Xc[y][j]=P.Wc[y][px[j]]}return c.kc=me(L),c.kc&&(c.Bd=Y(L,8)),c.cb=1}function fo(c,d,y,b,j,L,P){var R=d[j].Yb[y];for(y=0;16>j;++j){if(!ve(c,R[y+0]))return j;for(;!ve(c,R[y+1]);)if(R=d[++j].Yb[0],y=0,j==16)return 16;var I=d[j+1].Yb;if(ve(c,R[y+2])){var U=c,te=0;if(ve(U,(q=R)[(ce=y)+3]))if(ve(U,q[ce+6])){for(R=0,ce=2*(te=ve(U,q[ce+8]))+(q=ve(U,q[ce+9+te])),te=0,q=ux[ce];q[R];++R)te+=te+ve(U,q[R]);te+=3+(8<<ce)}else ve(U,q[ce+7])?(te=7+2*ve(U,165),te+=ve(U,145)):te=5+ve(U,159);else te=ve(U,q[ce+4])?3+ve(U,q[ce+5]):2;R=I[2]}else te=1,R=I[1];I=P+cx[j],0>(U=c).b&&pe(U);var ce,q=U.b,ie=(ce=U.Ca>>1)-(U.I>>q)>>31;--U.b,U.Ca+=ie,U.Ca|=1,U.I-=(ce+1&ie)<<q,L[I]=((te^ie)-ie)*b[(0<j)+0]}return 16}function vc(c){var d=c.rb[c.sb-1];d.la=0,d.Na=0,i(c.zc,0,0,c.zc.length),c.ja=0}function Kn(c,d,y,b,j){j=c[d+y+32*b]+(j>>3),c[d+y+32*b]=-256&j?0>j?0:255:j}function Nr(c,d,y,b,j,L){Kn(c,d,0,y,b+j),Kn(c,d,1,y,b+L),Kn(c,d,2,y,b-L),Kn(c,d,3,y,b-j)}function Gi(c){return(20091*c>>16)+c}function yc(c,d,y,b){var j,L=0,P=s(16);for(j=0;4>j;++j){var R=c[d+0]+c[d+8],I=c[d+0]-c[d+8],U=(35468*c[d+4]>>16)-Gi(c[d+12]),te=Gi(c[d+4])+(35468*c[d+12]>>16);P[L+0]=R+te,P[L+1]=I+U,P[L+2]=I-U,P[L+3]=R-te,L+=4,d++}for(j=L=0;4>j;++j)R=(c=P[L+0]+4)+P[L+8],I=c-P[L+8],U=(35468*P[L+4]>>16)-Gi(P[L+12]),Kn(y,b,0,0,R+(te=Gi(P[L+4])+(35468*P[L+12]>>16))),Kn(y,b,1,0,I+U),Kn(y,b,2,0,I-U),Kn(y,b,3,0,R-te),L++,b+=32}function tf(c,d,y,b){var j=c[d+0]+4,L=35468*c[d+4]>>16,P=Gi(c[d+4]),R=35468*c[d+1]>>16;Nr(y,b,0,j+P,c=Gi(c[d+1]),R),Nr(y,b,1,j+L,c,R),Nr(y,b,2,j-L,c,R),Nr(y,b,3,j-P,c,R)}function rf(c,d,y,b,j){yc(c,d,y,b),j&&yc(c,d+16,y,b+4)}function Ri(c,d,y,b){Pa(c,d+0,y,b,1),Pa(c,d+32,y,b+128,1)}function wc(c,d,y,b){var j;for(c=c[d+0]+4,j=0;4>j;++j)for(d=0;4>d;++d)Kn(y,b,d,j,c)}function bc(c,d,y,b){c[d+0]&&Tt(c,d+0,y,b),c[d+16]&&Tt(c,d+16,y,b+4),c[d+32]&&Tt(c,d+32,y,b+128),c[d+48]&&Tt(c,d+48,y,b+128+4)}function po(c,d,y,b){var j,L=s(16);for(j=0;4>j;++j){var P=c[d+0+j]+c[d+12+j],R=c[d+4+j]+c[d+8+j],I=c[d+4+j]-c[d+8+j],U=c[d+0+j]-c[d+12+j];L[0+j]=P+R,L[8+j]=P-R,L[4+j]=U+I,L[12+j]=U-I}for(j=0;4>j;++j)P=(c=L[0+4*j]+3)+L[3+4*j],R=L[1+4*j]+L[2+4*j],I=L[1+4*j]-L[2+4*j],U=c-L[3+4*j],y[b+0]=P+R>>3,y[b+16]=U+I>>3,y[b+32]=P-R>>3,y[b+48]=U-I>>3,b+=64}function wa(c,d,y){var b,j=d-32,L=Cn,P=255-c[j-1];for(b=0;b<y;++b){var R,I=L,U=P+c[d-1];for(R=0;R<y;++R)c[d+R]=I[U+c[j+R]];d+=32}}function nf(c,d){wa(c,d,4)}function sf(c,d){wa(c,d,8)}function af(c,d){wa(c,d,16)}function Al(c,d){var y;for(y=0;16>y;++y)n(c,d+32*y,c,d-32,16)}function xc(c,d){var y;for(y=16;0<y;--y)i(c,d,c[d-1],16),d+=32}function ui(c,d,y){var b;for(b=0;16>b;++b)i(d,y+32*b,c,16)}function of(c,d){var y,b=16;for(y=0;16>y;++y)b+=c[d-1+32*y]+c[d+y-32];ui(b>>5,c,d)}function ba(c,d){var y,b=8;for(y=0;16>y;++y)b+=c[d-1+32*y];ui(b>>4,c,d)}function Nl(c,d){var y,b=8;for(y=0;16>y;++y)b+=c[d+y-32];ui(b>>4,c,d)}function lf(c,d){ui(128,c,d)}function lt(c,d,y){return c+2*d+y+2>>2}function uf(c,d){var y,b=d-32;for(b=new Uint8Array([lt(c[b-1],c[b+0],c[b+1]),lt(c[b+0],c[b+1],c[b+2]),lt(c[b+1],c[b+2],c[b+3]),lt(c[b+2],c[b+3],c[b+4])]),y=0;4>y;++y)n(c,d+32*y,b,0,b.length)}function cf(c,d){var y=c[d-1],b=c[d-1+32],j=c[d-1+64],L=c[d-1+96];ke(c,d+0,16843009*lt(c[d-1-32],y,b)),ke(c,d+32,16843009*lt(y,b,j)),ke(c,d+64,16843009*lt(b,j,L)),ke(c,d+96,16843009*lt(j,L,L))}function hf(c,d){var y,b=4;for(y=0;4>y;++y)b+=c[d+y-32]+c[d-1+32*y];for(b>>=3,y=0;4>y;++y)i(c,d+32*y,b,4)}function Ki(c,d){var y=c[d-1+0],b=c[d-1+32],j=c[d-1+64],L=c[d-1-32],P=c[d+0-32],R=c[d+1-32],I=c[d+2-32],U=c[d+3-32];c[d+0+96]=lt(b,j,c[d-1+96]),c[d+1+96]=c[d+0+64]=lt(y,b,j),c[d+2+96]=c[d+1+64]=c[d+0+32]=lt(L,y,b),c[d+3+96]=c[d+2+64]=c[d+1+32]=c[d+0+0]=lt(P,L,y),c[d+3+64]=c[d+2+32]=c[d+1+0]=lt(R,P,L),c[d+3+32]=c[d+2+0]=lt(I,R,P),c[d+3+0]=lt(U,I,R)}function Ji(c,d){var y=c[d+1-32],b=c[d+2-32],j=c[d+3-32],L=c[d+4-32],P=c[d+5-32],R=c[d+6-32],I=c[d+7-32];c[d+0+0]=lt(c[d+0-32],y,b),c[d+1+0]=c[d+0+32]=lt(y,b,j),c[d+2+0]=c[d+1+32]=c[d+0+64]=lt(b,j,L),c[d+3+0]=c[d+2+32]=c[d+1+64]=c[d+0+96]=lt(j,L,P),c[d+3+32]=c[d+2+64]=c[d+1+96]=lt(L,P,R),c[d+3+64]=c[d+2+96]=lt(P,R,I),c[d+3+96]=lt(R,I,I)}function df(c,d){var y=c[d-1+0],b=c[d-1+32],j=c[d-1+64],L=c[d-1-32],P=c[d+0-32],R=c[d+1-32],I=c[d+2-32],U=c[d+3-32];c[d+0+0]=c[d+1+64]=L+P+1>>1,c[d+1+0]=c[d+2+64]=P+R+1>>1,c[d+2+0]=c[d+3+64]=R+I+1>>1,c[d+3+0]=I+U+1>>1,c[d+0+96]=lt(j,b,y),c[d+0+64]=lt(b,y,L),c[d+0+32]=c[d+1+96]=lt(y,L,P),c[d+1+32]=c[d+2+96]=lt(L,P,R),c[d+2+32]=c[d+3+96]=lt(P,R,I),c[d+3+32]=lt(R,I,U)}function ff(c,d){var y=c[d+0-32],b=c[d+1-32],j=c[d+2-32],L=c[d+3-32],P=c[d+4-32],R=c[d+5-32],I=c[d+6-32],U=c[d+7-32];c[d+0+0]=y+b+1>>1,c[d+1+0]=c[d+0+64]=b+j+1>>1,c[d+2+0]=c[d+1+64]=j+L+1>>1,c[d+3+0]=c[d+2+64]=L+P+1>>1,c[d+0+32]=lt(y,b,j),c[d+1+32]=c[d+0+96]=lt(b,j,L),c[d+2+32]=c[d+1+96]=lt(j,L,P),c[d+3+32]=c[d+2+96]=lt(L,P,R),c[d+3+64]=lt(P,R,I),c[d+3+96]=lt(R,I,U)}function go(c,d){var y=c[d-1+0],b=c[d-1+32],j=c[d-1+64],L=c[d-1+96];c[d+0+0]=y+b+1>>1,c[d+2+0]=c[d+0+32]=b+j+1>>1,c[d+2+32]=c[d+0+64]=j+L+1>>1,c[d+1+0]=lt(y,b,j),c[d+3+0]=c[d+1+32]=lt(b,j,L),c[d+3+32]=c[d+1+64]=lt(j,L,L),c[d+3+64]=c[d+2+64]=c[d+0+96]=c[d+1+96]=c[d+2+96]=c[d+3+96]=L}function jl(c,d){var y=c[d-1+0],b=c[d-1+32],j=c[d-1+64],L=c[d-1+96],P=c[d-1-32],R=c[d+0-32],I=c[d+1-32],U=c[d+2-32];c[d+0+0]=c[d+2+32]=y+P+1>>1,c[d+0+32]=c[d+2+64]=b+y+1>>1,c[d+0+64]=c[d+2+96]=j+b+1>>1,c[d+0+96]=L+j+1>>1,c[d+3+0]=lt(R,I,U),c[d+2+0]=lt(P,R,I),c[d+1+0]=c[d+3+32]=lt(y,P,R),c[d+1+32]=c[d+3+64]=lt(b,y,P),c[d+1+64]=c[d+3+96]=lt(j,b,y),c[d+1+96]=lt(L,j,b)}function xa(c,d){var y;for(y=0;8>y;++y)n(c,d+32*y,c,d-32,8)}function pf(c,d){var y;for(y=0;8>y;++y)i(c,d,c[d-1],8),d+=32}function Yi(c,d,y){var b;for(b=0;8>b;++b)i(d,y+32*b,c,8)}function gf(c,d){var y,b=8;for(y=0;8>y;++y)b+=c[d+y-32]+c[d-1+32*y];Yi(b>>4,c,d)}function El(c,d){var y,b=4;for(y=0;8>y;++y)b+=c[d+y-32];Yi(b>>3,c,d)}function Cl(c,d){var y,b=4;for(y=0;8>y;++y)b+=c[d-1+32*y];Yi(b>>3,c,d)}function _c(c,d){Yi(128,c,d)}function Xi(c,d,y){var b=c[d-y],j=c[d+0],L=3*(j-b)+mf[1020+c[d-2*y]-c[d+y]],P=Lc[112+(L+4>>3)];c[d-y]=Cn[255+b+Lc[112+(L+3>>3)]],c[d+0]=Cn[255+j-P]}function Ll(c,d,y,b){var j=c[d+0],L=c[d+y];return Xn[255+c[d-2*y]-c[d-y]]>b||Xn[255+L-j]>b}function mo(c,d,y,b){return 4*Xn[255+c[d-y]-c[d+0]]+Xn[255+c[d-2*y]-c[d+y]]<=b}function Pl(c,d,y,b,j){var L=c[d-3*y],P=c[d-2*y],R=c[d-y],I=c[d+0],U=c[d+y],te=c[d+2*y],ce=c[d+3*y];return 4*Xn[255+R-I]+Xn[255+P-U]>b?0:Xn[255+c[d-4*y]-L]<=j&&Xn[255+L-P]<=j&&Xn[255+P-R]<=j&&Xn[255+ce-te]<=j&&Xn[255+te-U]<=j&&Xn[255+U-I]<=j}function _a(c,d,y,b){var j=2*b+1;for(b=0;16>b;++b)mo(c,d+b,y,j)&&Xi(c,d+b,y)}function Tl(c,d,y,b){var j=2*b+1;for(b=0;16>b;++b)mo(c,d+b*y,1,j)&&Xi(c,d+b*y,1)}function Sc(c,d,y,b){var j;for(j=3;0<j;--j)_a(c,d+=4*y,y,b)}function kc(c,d,y,b){var j;for(j=3;0<j;--j)Tl(c,d+=4,y,b)}function Qi(c,d,y,b,j,L,P,R){for(L=2*L+1;0<j--;){if(Pl(c,d,y,L,P))if(Ll(c,d,y,R))Xi(c,d,y);else{var I=c,U=d,te=y,ce=I[U-2*te],q=I[U-te],ie=I[U+0],le=I[U+te],ye=I[U+2*te],ue=27*(xe=mf[1020+3*(ie-q)+mf[1020+ce-le]])+63>>7,we=18*xe+63>>7,xe=9*xe+63>>7;I[U-3*te]=Cn[255+I[U-3*te]+xe],I[U-2*te]=Cn[255+ce+we],I[U-te]=Cn[255+q+ue],I[U+0]=Cn[255+ie-ue],I[U+te]=Cn[255+le-we],I[U+2*te]=Cn[255+ye-xe]}d+=b}}function Zi(c,d,y,b,j,L,P,R){for(L=2*L+1;0<j--;){if(Pl(c,d,y,L,P))if(Ll(c,d,y,R))Xi(c,d,y);else{var I=c,U=d,te=y,ce=I[U-te],q=I[U+0],ie=I[U+te],le=Lc[112+(4+(ye=3*(q-ce))>>3)],ye=Lc[112+(ye+3>>3)],ue=le+1>>1;I[U-2*te]=Cn[255+I[U-2*te]+ue],I[U-te]=Cn[255+ce+ye],I[U+0]=Cn[255+q-le],I[U+te]=Cn[255+ie-ue]}d+=b}}function Ac(c,d,y,b,j,L){Qi(c,d,y,1,16,b,j,L)}function Sa(c,d,y,b,j,L){Qi(c,d,1,y,16,b,j,L)}function Nc(c,d,y,b,j,L){var P;for(P=3;0<P;--P)Zi(c,d+=4*y,y,1,16,b,j,L)}function g(c,d,y,b,j,L){var P;for(P=3;0<P;--P)Zi(c,d+=4,1,y,16,b,j,L)}function N(c,d,y,b,j,L,P,R){Qi(c,d,j,1,8,L,P,R),Qi(y,b,j,1,8,L,P,R)}function W(c,d,y,b,j,L,P,R){Qi(c,d,1,j,8,L,P,R),Qi(y,b,1,j,8,L,P,R)}function X(c,d,y,b,j,L,P,R){Zi(c,d+4*j,j,1,8,L,P,R),Zi(y,b+4*j,j,1,8,L,P,R)}function se(c,d,y,b,j,L,P,R){Zi(c,d+4,1,j,8,L,P,R),Zi(y,b+4,1,j,8,L,P,R)}function be(){this.ba=new Te,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new St,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function _e(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Me(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function He(){this.ua=0,this.Wa=new ht,this.vb=new ht,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new he,this.yc=new J}function at(){this.xb=this.a=0,this.l=new ho,this.ca=new Te,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new $,this.Pb=0,this.wd=new $,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new He,this.ab=0,this.gc=a(4,Me),this.Oc=0}function ft(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ho,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Nt(c,d,y,b,j,L,P){for(c=c==null?0:c[d+0],d=0;d<P;++d)j[L+d]=c+y[b+d]&255,c=j[L+d]}function er(c,d,y,b,j,L,P){var R;if(c==null)Nt(null,null,y,b,j,L,P);else for(R=0;R<P;++R)j[L+R]=c[d+R]+y[b+R]&255}function br(c,d,y,b,j,L,P){if(c==null)Nt(null,null,y,b,j,L,P);else{var R,I=c[d+0],U=I,te=I;for(R=0;R<P;++R)U=te+(I=c[d+R])-U,te=y[b+R]+(-256&U?0>U?0:255:U)&255,U=I,j[L+R]=te}}function $t(c,d,y,b){var j=d.width,L=d.o;if(e(c!=null&&d!=null),0>y||0>=b||y+b>L)return null;if(!c.Cc){if(c.ga==null){var P;if(c.ga=new ft,(P=c.ga==null)||(P=d.width*d.o,e(c.Gb.length==0),c.Gb=s(P),c.Uc=0,c.Gb==null?P=0:(c.mb=c.Gb,c.nb=c.Uc,c.rc=null,P=1),P=!P),!P){P=c.ga;var R=c.Fa,I=c.P,U=c.qc,te=c.mb,ce=c.nb,q=I+1,ie=U-1,le=P.l;if(e(R!=null&&te!=null&&d!=null),Fs[0]=null,Fs[1]=Nt,Fs[2]=er,Fs[3]=br,P.ca=te,P.tb=ce,P.c=d.width,P.i=d.height,e(0<P.c&&0<P.i),1>=U)d=0;else if(P.$a=3&R[I+0],P.Z=R[I+0]>>2&3,P.Lc=R[I+0]>>4&3,I=R[I+0]>>6&3,0>P.$a||1<P.$a||4<=P.Z||1<P.Lc||I)d=0;else if(le.put=tt,le.ac=un,le.bc=Ei,le.ma=P,le.width=d.width,le.height=d.height,le.Da=d.Da,le.v=d.v,le.va=d.va,le.j=d.j,le.o=d.o,P.$a)e:{e(P.$a==1),d=va();t:for(;;){if(d==null){d=0;break e}if(e(P!=null),P.mc=d,d.c=P.c,d.i=P.i,d.l=P.l,d.l.ma=P,d.l.width=P.c,d.l.height=P.i,d.a=0,ne(d.m,R,q,ie),!Li(P.c,P.i,1,d,null)||(d.ab==1&&d.gc[0].hc==3&&ai(d.s)?(P.ic=1,R=d.c*d.i,d.Ta=null,d.Ua=0,d.V=s(R),d.Ba=0,d.V==null?(d.a=1,d=0):d=1):(P.ic=0,d=ya(d,P.c)),!d))break t;d=1;break e}P.mc=null,d=0}else d=ie>=P.c*P.i;P=!d}if(P)return null;c.ga.Lc!=1?c.Ga=0:b=L-y}e(c.ga!=null),e(y+b<=L);e:{if(d=(R=c.ga).c,L=R.l.o,R.$a==0){if(q=c.rc,ie=c.Vc,le=c.Fa,I=c.P+1+y*d,U=c.mb,te=c.nb+y*d,e(I<=c.P+c.qc),R.Z!=0)for(e(Fs[R.Z]!=null),P=0;P<b;++P)Fs[R.Z](q,ie,le,I,U,te,d),q=U,ie=te,te+=d,I+=d;else for(P=0;P<b;++P)n(U,te,le,I,d),q=U,ie=te,te+=d,I+=d;c.rc=q,c.Vc=ie}else{if(e(R.mc!=null),d=y+b,e((P=R.mc)!=null),e(d<=P.i),P.C>=d)d=1;else if(R.ic||ci(),R.ic){R=P.V,q=P.Ba,ie=P.c;var ye=P.i,ue=(le=1,I=P.$/ie,U=P.$%ie,te=P.m,ce=P.s,P.$),we=ie*ye,xe=ie*d,Ne=ce.wc,Se=ue<xe?qr(ce,U,I):null;e(ue<=we),e(d<=ye),e(ai(ce));t:for(;;){for(;!te.h&&ue<xe;){if(U&Ne||(Se=qr(ce,U,I)),e(Se!=null),ae(te),256>(ye=ir(Se.G[0],Se.H[0],te)))R[q+ue]=ye,++ue,++U>=ie&&(U=0,++I<=d&&!(I%16)&&oi(P,I));else{if(!(280>ye)){le=0;break t}ye=cn(ye-256,te);var Je,Fe=ir(Se.G[4],Se.H[4],te);if(ae(te),!(ue>=(Fe=Ur(ie,Fe=cn(Fe,te)))&&we-ue>=ye)){le=0;break t}for(Je=0;Je<ye;++Je)R[q+ue+Je]=R[q+ue+Je-Fe];for(ue+=ye,U+=ye;U>=ie;)U-=ie,++I<=d&&!(I%16)&&oi(P,I);ue<xe&&U&Ne&&(Se=qr(ce,U,I))}e(te.h==Q(te))}oi(P,I>d?d:I);break t}!le||te.h&&ue<we?(le=0,P.a=te.h?5:3):P.$=ue,d=le}else d=li(P,P.V,P.Ba,P.c,P.i,d,lo);if(!d){b=0;break e}}y+b>=L&&(c.Cc=1),b=1}if(!b)return null;if(c.Cc&&((b=c.ga)!=null&&(b.mc=null),c.ga=null,0<c.Ga))return alert("todo:WebPDequantizeLevels"),null}return c.nb+y*j}function jr(c,d,y,b,j,L){for(;0<j--;){var P,R=c,I=d+(y?1:0),U=c,te=d+(y?0:3);for(P=0;P<b;++P){var ce=U[te+4*P];ce!=255&&(ce*=32897,R[I+4*P+0]=R[I+4*P+0]*ce>>23,R[I+4*P+1]=R[I+4*P+1]*ce>>23,R[I+4*P+2]=R[I+4*P+2]*ce>>23)}d+=L}}function xr(c,d,y,b,j){for(;0<b--;){var L;for(L=0;L<y;++L){var P=c[d+2*L+0],R=15&(U=c[d+2*L+1]),I=4369*R,U=(240&U|U>>4)*I>>16;c[d+2*L+0]=(240&P|P>>4)*I>>16&240|(15&P|P<<4)*I>>16>>4&15,c[d+2*L+1]=240&U|R}d+=j}}function $r(c,d,y,b,j,L,P,R){var I,U,te=255;for(U=0;U<j;++U){for(I=0;I<b;++I){var ce=c[d+I];L[P+4*I]=ce,te&=ce}d+=y,P+=R}return te!=255}function es(c,d,y,b,j){var L;for(L=0;L<j;++L)y[b+L]=c[d+L]>>8}function ci(){Wl=jr,mg=xr,vg=$r,yg=es}function ts(c,d,y){D[c]=function(b,j,L,P,R,I,U,te,ce,q,ie,le,ye,ue,we,xe,Ne){var Se,Je=Ne-1>>1,Fe=R[I+0]|U[te+0]<<16,gt=ce[q+0]|ie[le+0]<<16;e(b!=null);var $e=3*Fe+gt+131074>>2;for(d(b[j+0],255&$e,$e>>16,ye,ue),L!=null&&($e=3*gt+Fe+131074>>2,d(L[P+0],255&$e,$e>>16,we,xe)),Se=1;Se<=Je;++Se){var kt=R[I+Se]|U[te+Se]<<16,Cr=ce[q+Se]|ie[le+Se]<<16,mt=Fe+kt+gt+Cr+524296,We=mt+2*(kt+gt)>>3;$e=We+Fe>>1,Fe=(mt=mt+2*(Fe+Cr)>>3)+kt>>1,d(b[j+2*Se-1],255&$e,$e>>16,ye,ue+(2*Se-1)*y),d(b[j+2*Se-0],255&Fe,Fe>>16,ye,ue+(2*Se-0)*y),L!=null&&($e=mt+gt>>1,Fe=We+Cr>>1,d(L[P+2*Se-1],255&$e,$e>>16,we,xe+(2*Se-1)*y),d(L[P+2*Se+0],255&Fe,Fe>>16,we,xe+(2*Se+0)*y)),Fe=kt,gt=Cr}1&Ne||($e=3*Fe+gt+131074>>2,d(b[j+Ne-1],255&$e,$e>>16,ye,ue+(Ne-1)*y),L!=null&&($e=3*gt+Fe+131074>>2,d(L[P+Ne-1],255&$e,$e>>16,we,xe+(Ne-1)*y)))}}function Rl(){Qn[Pc]=mx,Qn[Tc]=Cg,Qn[kg]=vx,Qn[Rc]=Lg,Qn[Ic]=Pg,Qn[vf]=Tg,Qn[Ag]=yx,Qn[yf]=Cg,Qn[wf]=Lg,Qn[Oc]=Pg,Qn[bf]=Tg}function vo(c){return c&-16384?0>c?0:255:c>>wx}function Ns(c,d){return vo((19077*c>>8)+(26149*d>>8)-14234)}function ka(c,d,y){return vo((19077*c>>8)-(6419*d>>8)-(13320*y>>8)+8708)}function Aa(c,d){return vo((19077*c>>8)+(33050*d>>8)-17685)}function js(c,d,y,b,j){b[j+0]=Ns(c,y),b[j+1]=ka(c,d,y),b[j+2]=Aa(c,d)}function Wr(c,d,y,b,j){b[j+0]=Aa(c,d),b[j+1]=ka(c,d,y),b[j+2]=Ns(c,y)}function Na(c,d,y,b,j){var L=ka(c,d,y);d=L<<3&224|Aa(c,d)>>3,b[j+0]=248&Ns(c,y)|L>>5,b[j+1]=d}function ja(c,d,y,b,j){var L=240&Aa(c,d)|15;b[j+0]=240&Ns(c,y)|ka(c,d,y)>>4,b[j+1]=L}function Il(c,d,y,b,j){b[j+0]=255,js(c,d,y,b,j+1)}function Ol(c,d,y,b,j){Wr(c,d,y,b,j),b[j+3]=255}function hn(c,d,y,b,j){js(c,d,y,b,j),b[j+3]=255}function rs(c,d,y){D[c]=function(b,j,L,P,R,I,U,te,ce){for(var q=te+(-2&ce)*y;te!=q;)d(b[j+0],L[P+0],R[I+0],U,te),d(b[j+1],L[P+0],R[I+0],U,te+y),j+=2,++P,++I,te+=2*y;1&ce&&d(b[j+0],L[P+0],R[I+0],U,te)}}function yo(c,d,y){return y==0?c==0?d==0?6:5:d==0?4:0:y}function jc(c,d,y,b,j){switch(c>>>30){case 3:Pa(d,y,b,j,0);break;case 2:Yn(d,y,b,j);break;case 1:Tt(d,y,b,j)}}function Jn(c,d){var y,b,j=d.M,L=d.Nb,P=c.oc,R=c.pc+40,I=c.oc,U=c.pc+584,te=c.oc,ce=c.pc+600;for(y=0;16>y;++y)P[R+32*y-1]=129;for(y=0;8>y;++y)I[U+32*y-1]=129,te[ce+32*y-1]=129;for(0<j?P[R-1-32]=I[U-1-32]=te[ce-1-32]=129:(i(P,R-32-1,127,21),i(I,U-32-1,127,9),i(te,ce-32-1,127,9)),b=0;b<c.za;++b){var q=d.ya[d.aa+b];if(0<b){for(y=-1;16>y;++y)n(P,R+32*y-4,P,R+32*y+12,4);for(y=-1;8>y;++y)n(I,U+32*y-4,I,U+32*y+4,4),n(te,ce+32*y-4,te,ce+32*y+4,4)}var ie=c.Gd,le=c.Hd+b,ye=q.ad,ue=q.Hc;if(0<j&&(n(P,R-32,ie[le].y,0,16),n(I,U-32,ie[le].f,0,8),n(te,ce-32,ie[le].ea,0,8)),q.Za){var we=P,xe=R-32+16;for(0<j&&(b>=c.za-1?i(we,xe,ie[le].y[15],4):n(we,xe,ie[le+1].y,0,4)),y=0;4>y;y++)we[xe+128+y]=we[xe+256+y]=we[xe+384+y]=we[xe+0+y];for(y=0;16>y;++y,ue<<=2)we=P,xe=R+Ig[y],hi[q.Ob[y]](we,xe),jc(ue,ye,16*+y,we,xe)}else if(we=yo(b,j,q.Ob[0]),Os[we](P,R),ue!=0)for(y=0;16>y;++y,ue<<=2)jc(ue,ye,16*+y,P,R+Ig[y]);for(y=q.Gc,we=yo(b,j,q.Dd),ss[we](I,U),ss[we](te,ce),ue=ye,we=I,xe=U,255&(q=0|y)&&(170&q?Fi(ue,256,we,xe):zt(ue,256,we,xe)),q=te,ue=ce,255&(y>>=8)&&(170&y?Fi(ye,320,q,ue):zt(ye,320,q,ue)),j<c.Ub-1&&(n(ie[le].y,0,P,R+480,16),n(ie[le].f,0,I,U+224,8),n(ie[le].ea,0,te,ce+224,8)),y=8*L*c.B,ie=c.sa,le=c.ta+16*b+16*L*c.R,ye=c.qa,q=c.ra+8*b+y,ue=c.Ha,we=c.Ia+8*b+y,y=0;16>y;++y)n(ie,le+y*c.R,P,R+32*y,16);for(y=0;8>y;++y)n(ye,q+y*c.B,I,U+32*y,8),n(ue,we+y*c.B,te,ce+32*y,8)}}function Ea(c,d,y,b,j,L,P,R,I){var U=[0],te=[0],ce=0,q=I!=null?I.kd:0,ie=I??new _e;if(c==null||12>y)return 7;ie.data=c,ie.w=d,ie.ha=y,d=[d],y=[y],ie.gb=[ie.gb];e:{var le=d,ye=y,ue=ie.gb;if(e(c!=null),e(ye!=null),e(ue!=null),ue[0]=0,12<=ye[0]&&!r(c,le[0],"RIFF")){if(r(c,le[0]+8,"WEBP")){ue=3;break e}var we=Ke(c,le[0]+4);if(12>we||4294967286<we){ue=3;break e}if(q&&we>ye[0]-8){ue=7;break e}ue[0]=we,le[0]+=12,ye[0]-=12}ue=0}if(ue!=0)return ue;for(we=0<ie.gb[0],y=y[0];;){e:{var xe=c;ye=d,ue=y;var Ne=U,Se=te,Je=le=[0];if(($e=ce=[ce])[0]=0,8>ue[0])ue=7;else{if(!r(xe,ye[0],"VP8X")){if(Ke(xe,ye[0]+4)!=10){ue=3;break e}if(18>ue[0]){ue=7;break e}var Fe=Ke(xe,ye[0]+8),gt=1+Re(xe,ye[0]+12);if(2147483648<=gt*(xe=1+Re(xe,ye[0]+15))){ue=3;break e}Je!=null&&(Je[0]=Fe),Ne!=null&&(Ne[0]=gt),Se!=null&&(Se[0]=xe),ye[0]+=18,ue[0]-=18,$e[0]=1}ue=0}}if(ce=ce[0],le=le[0],ue!=0)return ue;if(ye=!!(2&le),!we&&ce)return 3;if(L!=null&&(L[0]=!!(16&le)),P!=null&&(P[0]=ye),R!=null&&(R[0]=0),P=U[0],le=te[0],ce&&ye&&I==null){ue=0;break}if(4>y){ue=7;break}if(we&&ce||!we&&!ce&&!r(c,d[0],"ALPH")){y=[y],ie.na=[ie.na],ie.P=[ie.P],ie.Sa=[ie.Sa];e:{Fe=c,ue=d,we=y;var $e=ie.gb;Ne=ie.na,Se=ie.P,Je=ie.Sa,gt=22,e(Fe!=null),e(we!=null),xe=ue[0];var kt=we[0];for(e(Ne!=null),e(Je!=null),Ne[0]=null,Se[0]=null,Je[0]=0;;){if(ue[0]=xe,we[0]=kt,8>kt){ue=7;break e}var Cr=Ke(Fe,xe+4);if(4294967286<Cr){ue=3;break e}var mt=8+Cr+1&-2;if(gt+=mt,0<$e&&gt>$e){ue=3;break e}if(!r(Fe,xe,"VP8 ")||!r(Fe,xe,"VP8L")){ue=0;break e}if(kt[0]<mt){ue=7;break e}r(Fe,xe,"ALPH")||(Ne[0]=Fe,Se[0]=xe+8,Je[0]=Cr),xe+=mt,kt-=mt}}if(y=y[0],ie.na=ie.na[0],ie.P=ie.P[0],ie.Sa=ie.Sa[0],ue!=0)break}y=[y],ie.Ja=[ie.Ja],ie.xa=[ie.xa];e:if($e=c,ue=d,we=y,Ne=ie.gb[0],Se=ie.Ja,Je=ie.xa,Fe=ue[0],xe=!r($e,Fe,"VP8 "),gt=!r($e,Fe,"VP8L"),e($e!=null),e(we!=null),e(Se!=null),e(Je!=null),8>we[0])ue=7;else{if(xe||gt){if($e=Ke($e,Fe+4),12<=Ne&&$e>Ne-12){ue=3;break e}if(q&&$e>we[0]-8){ue=7;break e}Se[0]=$e,ue[0]+=8,we[0]-=8,Je[0]=gt}else Je[0]=5<=we[0]&&$e[Fe+0]==47&&!($e[Fe+4]>>5),Se[0]=we[0];ue=0}if(y=y[0],ie.Ja=ie.Ja[0],ie.xa=ie.xa[0],d=d[0],ue!=0)break;if(4294967286<ie.Ja)return 3;if(R==null||ye||(R[0]=ie.xa?2:1),P=[P],le=[le],ie.xa){if(5>y){ue=7;break}R=P,q=le,ye=L,c==null||5>y?c=0:5<=y&&c[d+0]==47&&!(c[d+4]>>5)?(we=[0],$e=[0],Ne=[0],ne(Se=new $,c,d,y),Hn(Se,we,$e,Ne)?(R!=null&&(R[0]=we[0]),q!=null&&(q[0]=$e[0]),ye!=null&&(ye[0]=Ne[0]),c=1):c=0):c=0}else{if(10>y){ue=7;break}R=le,c==null||10>y||!mc(c,d+3,y-3)?c=0:(q=c[d+0]|c[d+1]<<8|c[d+2]<<16,ye=16383&(c[d+7]<<8|c[d+6]),c=16383&(c[d+9]<<8|c[d+8]),1&q||3<(q>>1&7)||!(q>>4&1)||q>>5>=ie.Ja||!ye||!c?c=0:(P&&(P[0]=ye),R&&(R[0]=c),c=1))}if(!c||(P=P[0],le=le[0],ce&&(U[0]!=P||te[0]!=le)))return 3;I!=null&&(I[0]=ie,I.offset=d-I.w,e(4294967286>d-I.w),e(I.offset==I.ha-y));break}return ue==0||ue==7&&ce&&I==null?(L!=null&&(L[0]|=ie.na!=null&&0<ie.na.length),b!=null&&(b[0]=P),j!=null&&(j[0]=le),0):ue}function Fl(c,d,y){var b=d.width,j=d.height,L=0,P=0,R=b,I=j;if(d.Da=c!=null&&0<c.Da,d.Da&&(R=c.cd,I=c.bd,L=c.v,P=c.j,11>y||(L&=-2,P&=-2),0>L||0>P||0>=R||0>=I||L+R>b||P+I>j))return 0;if(d.v=L,d.j=P,d.va=L+R,d.o=P+I,d.U=R,d.T=I,d.da=c!=null&&0<c.da,d.da){if(!Ze(R,I,y=[c.ib],L=[c.hb]))return 0;d.ib=y[0],d.hb=L[0]}return d.ob=c!=null&&c.ob,d.Kb=c==null||!c.Sd,d.da&&(d.ob=d.ib<3*b/4&&d.hb<3*j/4,d.Kb=0),1}function Dl(c){if(c==null)return 2;if(11>c.S){var d=c.f.RGBA;d.fb+=(c.height-1)*d.A,d.A=-d.A}else d=c.f.kb,c=c.height,d.O+=(c-1)*d.fa,d.fa=-d.fa,d.N+=(c-1>>1)*d.Ab,d.Ab=-d.Ab,d.W+=(c-1>>1)*d.Db,d.Db=-d.Db,d.F!=null&&(d.J+=(c-1)*d.lb,d.lb=-d.lb);return 0}function Es(c,d,y,b){if(b==null||0>=c||0>=d)return 2;if(y!=null){if(y.Da){var j=y.cd,L=y.bd,P=-2&y.v,R=-2&y.j;if(0>P||0>R||0>=j||0>=L||P+j>c||R+L>d)return 2;c=j,d=L}if(y.da){if(!Ze(c,d,j=[y.ib],L=[y.hb]))return 2;c=j[0],d=L[0]}}b.width=c,b.height=d;e:{var I=b.width,U=b.height;if(c=b.S,0>=I||0>=U||!(c>=Pc&&13>c))c=2;else{if(0>=b.Rd&&b.sd==null){P=L=j=d=0;var te=(R=I*Og[c])*U;if(11>c||(L=(U+1)/2*(d=(I+1)/2),c==12&&(P=(j=I)*U)),(U=s(te+2*L+P))==null){c=1;break e}b.sd=U,11>c?((I=b.f.RGBA).eb=U,I.fb=0,I.A=R,I.size=te):((I=b.f.kb).y=U,I.O=0,I.fa=R,I.Fd=te,I.f=U,I.N=0+te,I.Ab=d,I.Cd=L,I.ea=U,I.W=0+te+L,I.Db=d,I.Ed=L,c==12&&(I.F=U,I.J=0+te+2*L),I.Tc=P,I.lb=j)}if(d=1,j=b.S,L=b.width,P=b.height,j>=Pc&&13>j)if(11>j)c=b.f.RGBA,d&=(R=Math.abs(c.A))*(P-1)+L<=c.size,d&=R>=L*Og[j],d&=c.eb!=null;else{c=b.f.kb,R=(L+1)/2,te=(P+1)/2,I=Math.abs(c.fa),U=Math.abs(c.Ab);var ce=Math.abs(c.Db),q=Math.abs(c.lb),ie=q*(P-1)+L;d&=I*(P-1)+L<=c.Fd,d&=U*(te-1)+R<=c.Cd,d=(d&=ce*(te-1)+R<=c.Ed)&I>=L&U>=R&ce>=R,d&=c.y!=null,d&=c.f!=null,d&=c.ea!=null,j==12&&(d&=q>=L,d&=ie<=c.Tc,d&=c.F!=null)}else d=0;c=d?0:2}}return c!=0||y!=null&&y.fd&&(c=Dl(b)),c}var Ca=64,jn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],En=24,Cs=32,ns=8,Ls=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ie("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(c){return c},D.Predictor2=function(c,d,y){return d[y+0]},D.Predictor3=function(c,d,y){return d[y+1]},D.Predictor4=function(c,d,y){return d[y-1]},D.Predictor5=function(c,d,y){return Xe(Xe(c,d[y+1]),d[y+0])},D.Predictor6=function(c,d,y){return Xe(c,d[y-1])},D.Predictor7=function(c,d,y){return Xe(c,d[y+0])},D.Predictor8=function(c,d,y){return Xe(d[y-1],d[y+0])},D.Predictor9=function(c,d,y){return Xe(d[y+0],d[y+1])},D.Predictor10=function(c,d,y){return Xe(Xe(c,d[y-1]),Xe(d[y+0],d[y+1]))},D.Predictor11=function(c,d,y){var b=d[y+0];return 0>=ot(b>>24&255,c>>24&255,(d=d[y-1])>>24&255)+ot(b>>16&255,c>>16&255,d>>16&255)+ot(b>>8&255,c>>8&255,d>>8&255)+ot(255&b,255&c,255&d)?b:c},D.Predictor12=function(c,d,y){var b=d[y+0];return(Ct((c>>24&255)+(b>>24&255)-((d=d[y-1])>>24&255))<<24|Ct((c>>16&255)+(b>>16&255)-(d>>16&255))<<16|Ct((c>>8&255)+(b>>8&255)-(d>>8&255))<<8|Ct((255&c)+(255&b)-(255&d)))>>>0},D.Predictor13=function(c,d,y){var b=d[y-1];return(yt((c=Xe(c,d[y+0]))>>24&255,b>>24&255)<<24|yt(c>>16&255,b>>16&255)<<16|yt(c>>8&255,b>>8&255)<<8|yt(255&c,255&b))>>>0};var Bl=D.PredictorAdd0;D.PredictorAdd1=bt,Ie("Predictor2","PredictorAdd2"),Ie("Predictor3","PredictorAdd3"),Ie("Predictor4","PredictorAdd4"),Ie("Predictor5","PredictorAdd5"),Ie("Predictor6","PredictorAdd6"),Ie("Predictor7","PredictorAdd7"),Ie("Predictor8","PredictorAdd8"),Ie("Predictor9","PredictorAdd9"),Ie("Predictor10","PredictorAdd10"),Ie("Predictor11","PredictorAdd11"),Ie("Predictor12","PredictorAdd12"),Ie("Predictor13","PredictorAdd13");var wo=D.PredictorAdd2;qe("ColorIndexInverseTransform","MapARGB","32b",function(c){return c>>8&255},function(c){return c}),qe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(c){return c},function(c){return c>>8&255});var cr,Ec=D.ColorIndexInverseTransform,Ii=D.MapARGB,Oi=D.VP8LColorIndexInverseTransformAlpha,Ml=D.MapAlpha,zl=D.VP8LPredictorsAdd=[];zl.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var Ul,ql,Ps,Ts,Rs,La,Is,Pa,Yn,Fi,Tt,zt,hr,Er,is,$l,bo,Cc,cg,hg,dg,fg,pg,gg,Wl,mg,vg,yg,wg=s(511),bg=s(2041),xg=s(225),_g=s(767),Sg=0,mf=bg,Lc=xg,Cn=_g,Xn=wg,Pc=0,Tc=1,kg=2,Rc=3,Ic=4,vf=5,Ag=6,yf=7,wf=8,Oc=9,bf=10,rx=[2,3,7],nx=[3,3,11],Ng=[280,256,256,256,40],ix=[0,1,1,1,0],sx=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ax=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ox=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],lx=8,xf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],_f=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Hl=null,ux=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],cx=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],jg=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],hx=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],dx=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],fx=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],px=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Os=[],hi=[],ss=[],gx=1,Eg=2,Fs=[],Qn=[];ts("UpsampleRgbLinePair",js,3),ts("UpsampleBgrLinePair",Wr,3),ts("UpsampleRgbaLinePair",hn,4),ts("UpsampleBgraLinePair",Ol,4),ts("UpsampleArgbLinePair",Il,4),ts("UpsampleRgba4444LinePair",ja,2),ts("UpsampleRgb565LinePair",Na,2);var mx=D.UpsampleRgbLinePair,vx=D.UpsampleBgrLinePair,Cg=D.UpsampleRgbaLinePair,Lg=D.UpsampleBgraLinePair,Pg=D.UpsampleArgbLinePair,Tg=D.UpsampleRgba4444LinePair,yx=D.UpsampleRgb565LinePair,Fc=16,Dc=1<<Fc-1,Vl=-227,Sf=482,wx=6,Rg=0,bx=s(256),xx=s(256),_x=s(256),Sx=s(256),kx=s(Sf-Vl),Ax=s(Sf-Vl);rs("YuvToRgbRow",js,3),rs("YuvToBgrRow",Wr,3),rs("YuvToRgbaRow",hn,4),rs("YuvToBgraRow",Ol,4),rs("YuvToArgbRow",Il,4),rs("YuvToRgba4444Row",ja,2),rs("YuvToRgb565Row",Na,2);var Ig=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Bc=[0,2,8],Nx=[8,7,6,4,4,2,2,2,1,1,1,1],jx=1;this.WebPDecodeRGBA=function(c,d,y,b,j){var L=Tc,P=new be,R=new Te;P.ba=R,R.S=L,R.width=[R.width],R.height=[R.height];var I=R.width,U=R.height,te=new De;if(te==null||c==null)var ce=2;else e(te!=null),ce=Ea(c,d,y,te.width,te.height,te.Pd,te.Qd,te.format,null);if(ce!=0?I=0:(I!=null&&(I[0]=te.width[0]),U!=null&&(U[0]=te.height[0]),I=1),I){R.width=R.width[0],R.height=R.height[0],b!=null&&(b[0]=R.width),j!=null&&(j[0]=R.height);e:{if(b=new ho,(j=new _e).data=c,j.w=d,j.ha=y,j.kd=1,d=[0],e(j!=null),((c=Ea(j.data,j.w,j.ha,null,null,null,d,null,j))==0||c==7)&&d[0]&&(c=4),(d=c)==0){if(e(P!=null),b.data=j.data,b.w=j.w+j.offset,b.ha=j.ha-j.offset,b.put=tt,b.ac=un,b.bc=Ei,b.ma=P,j.xa){if((c=va())==null){P=1;break e}if(function(q,ie){var le=[0],ye=[0],ue=[0];t:for(;;){if(q==null)return 0;if(ie==null)return q.a=2,0;if(q.l=ie,q.a=0,ne(q.m,ie.data,ie.w,ie.ha),!Hn(q.m,le,ye,ue)){q.a=3;break t}if(q.xb=Eg,ie.width=le[0],ie.height=ye[0],!Li(le[0],ye[0],1,q,null))break t;return 1}return e(q.a!=0),0}(c,b)){if(b=(d=Es(b.width,b.height,P.Oa,P.ba))==0){t:{b=c;r:for(;;){if(b==null){b=0;break t}if(e(b.s.yc!=null),e(b.s.Ya!=null),e(0<b.s.Wb),e((y=b.l)!=null),e((j=y.ma)!=null),b.xb!=0){if(b.ca=j.ba,b.tb=j.tb,e(b.ca!=null),!Fl(j.Oa,y,Rc)){b.a=2;break r}if(!ya(b,y.width)||y.da)break r;if((y.da||et(b.ca.S))&&ci(),11>b.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),b.ca.f.kb.F!=null&&ci()),b.Pb&&0<b.s.ua&&b.s.vb.X==null&&!B(b.s.vb,b.s.Wa.Xa)){b.a=1;break r}b.xb=0}if(!li(b,b.V,b.Ba,b.c,b.i,y.o,As))break r;j.Dc=b.Ma,b=1;break t}e(b.a!=0),b=0}b=!b}b&&(d=c.a)}else d=c.a}else{if((c=new ef)==null){P=1;break e}if(c.Fa=j.na,c.P=j.P,c.qc=j.Sa,Ti(c,b)){if((d=Es(b.width,b.height,P.Oa,P.ba))==0){if(c.Aa=0,y=P.Oa,e((j=c)!=null),y!=null){if(0<(I=0>(I=y.Md)?0:100<I?255:255*I/100)){for(U=te=0;4>U;++U)12>(ce=j.pb[U]).lc&&(ce.ia=I*Nx[0>ce.lc?0:ce.lc]>>3),te|=ce.ia;te&&(alert("todo:VP8InitRandom"),j.ia=1)}j.Ga=y.Id,100<j.Ga?j.Ga=100:0>j.Ga&&(j.Ga=0)}(function(q,ie){if(q==null)return 0;if(ie==null)return wr(q,2,"NULL VP8Io parameter in VP8Decode().");if(!q.cb&&!Ti(q,ie))return 0;if(e(q.cb),ie.ac==null||ie.ac(ie)){ie.ob&&(q.L=0);var le=Bc[q.L];if(q.L==2?(q.yb=0,q.zb=0):(q.yb=ie.v-le>>4,q.zb=ie.j-le>>4,0>q.yb&&(q.yb=0),0>q.zb&&(q.zb=0)),q.Va=ie.o+15+le>>4,q.Hb=ie.va+15+le>>4,q.Hb>q.za&&(q.Hb=q.za),q.Va>q.Ub&&(q.Va=q.Ub),0<q.L){var ye=q.ed;for(le=0;4>le;++le){var ue;if(q.Qa.Cb){var we=q.Qa.Lb[le];q.Qa.Fb||(we+=ye.Tb)}else we=ye.Tb;for(ue=0;1>=ue;++ue){var xe=q.gd[le][ue],Ne=we;if(ye.Pc&&(Ne+=ye.vd[0],ue&&(Ne+=ye.od[0])),0<(Ne=0>Ne?0:63<Ne?63:Ne)){var Se=Ne;0<ye.wb&&(Se=4<ye.wb?Se>>2:Se>>1)>9-ye.wb&&(Se=9-ye.wb),1>Se&&(Se=1),xe.dd=Se,xe.tc=2*Ne+Se,xe.ld=40<=Ne?2:15<=Ne?1:0}else xe.tc=0;xe.La=ue}}}le=0}else wr(q,6,"Frame setup failed"),le=q.a;if(le=le==0){if(le){q.$c=0,0<q.Aa||(q.Ic=jx);t:{le=q.Ic,ye=4*(Se=q.za);var Je=32*Se,Fe=Se+1,gt=0<q.L?Se*(0<q.Aa?2:1):0,$e=(q.Aa==2?2:1)*Se;if((xe=ye+832+(ue=3*(16*le+Bc[q.L])/2*Je)+(we=q.Fa!=null&&0<q.Fa.length?q.Kc.c*q.Kc.i:0))!=xe)le=0;else{if(xe>q.Vb){if(q.Vb=0,q.Ec=s(xe),q.Fc=0,q.Ec==null){le=wr(q,1,"no memory during frame initialization.");break t}q.Vb=xe}xe=q.Ec,Ne=q.Fc,q.Ac=xe,q.Bc=Ne,Ne+=ye,q.Gd=a(Je,pc),q.Hd=0,q.rb=a(Fe+1,Sl),q.sb=1,q.wa=gt?a(gt,Gn):null,q.Y=0,q.D.Nb=0,q.D.wa=q.wa,q.D.Y=q.Y,0<q.Aa&&(q.D.Y+=Se),e(!0),q.oc=xe,q.pc=Ne,Ne+=832,q.ya=a($e,kl),q.aa=0,q.D.ya=q.ya,q.D.aa=q.aa,q.Aa==2&&(q.D.aa+=Se),q.R=16*Se,q.B=8*Se,Se=(Je=Bc[q.L])*q.R,Je=Je/2*q.B,q.sa=xe,q.ta=Ne+Se,q.qa=q.sa,q.ra=q.ta+16*le*q.R+Je,q.Ha=q.qa,q.Ia=q.ra+8*le*q.B+Je,q.$c=0,Ne+=ue,q.mb=we?xe:null,q.nb=we?Ne:null,e(Ne+we<=q.Fc+q.Vb),vc(q),i(q.Ac,q.Bc,0,ye),le=1}}if(le){if(ie.ka=0,ie.y=q.sa,ie.O=q.ta,ie.f=q.qa,ie.N=q.ra,ie.ea=q.Ha,ie.Vd=q.Ia,ie.fa=q.R,ie.Rc=q.B,ie.F=null,ie.J=0,!Sg){for(le=-255;255>=le;++le)wg[255+le]=0>le?-le:le;for(le=-1020;1020>=le;++le)bg[1020+le]=-128>le?-128:127<le?127:le;for(le=-112;112>=le;++le)xg[112+le]=-16>le?-16:15<le?15:le;for(le=-255;510>=le;++le)_g[255+le]=0>le?0:255<le?255:le;Sg=1}Is=po,Pa=rf,Fi=Ri,Tt=wc,zt=bc,Yn=tf,hr=Ac,Er=Sa,is=N,$l=W,bo=Nc,Cc=g,cg=X,hg=se,dg=_a,fg=Tl,pg=Sc,gg=kc,hi[0]=hf,hi[1]=nf,hi[2]=uf,hi[3]=cf,hi[4]=Ki,hi[5]=df,hi[6]=Ji,hi[7]=ff,hi[8]=jl,hi[9]=go,Os[0]=of,Os[1]=af,Os[2]=Al,Os[3]=xc,Os[4]=ba,Os[5]=Nl,Os[6]=lf,ss[0]=gf,ss[1]=sf,ss[2]=xa,ss[3]=pf,ss[4]=Cl,ss[5]=El,ss[6]=_c,le=1}else le=0}le&&(le=function(kt,Cr){for(kt.M=0;kt.M<kt.Va;++kt.M){var mt,We=kt.Jc[kt.M&kt.Xb],Pe=kt.m,dr=kt;for(mt=0;mt<dr.za;++mt){var ct=Pe,At=dr,Gt=At.Ac,Hr=At.Bc+4*mt,dn=At.zc,sr=At.ya[At.aa+mt];if(At.Qa.Bb?sr.$b=ve(ct,At.Pa.jb[0])?2+ve(ct,At.Pa.jb[2]):ve(ct,At.Pa.jb[1]):sr.$b=0,At.kc&&(sr.Ad=ve(ct,At.Bd)),sr.Za=!ve(ct,145)+0,sr.Za){var Zr=sr.Ob,fn=0;for(At=0;4>At;++At){var Lr,jt=dn[0+At];for(Lr=0;4>Lr;++Lr){jt=dx[Gt[Hr+Lr]][jt];for(var It=jg[ve(ct,jt[0])];0<It;)It=jg[2*It+ve(ct,jt[It])];jt=-It,Gt[Hr+Lr]=jt}n(Zr,fn,Gt,Hr,4),fn+=4,dn[0+At]=jt}}else jt=ve(ct,156)?ve(ct,128)?1:3:ve(ct,163)?2:0,sr.Ob[0]=jt,i(Gt,Hr,jt,4),i(dn,0,jt,4);sr.Dd=ve(ct,142)?ve(ct,114)?ve(ct,183)?1:3:2:0}if(dr.m.Ka)return wr(kt,7,"Premature end-of-partition0 encountered.");for(;kt.ja<kt.za;++kt.ja){if(dr=We,ct=(Pe=kt).rb[Pe.sb-1],Gt=Pe.rb[Pe.sb+Pe.ja],mt=Pe.ya[Pe.aa+Pe.ja],Hr=Pe.kc?mt.Ad:0)ct.la=Gt.la=0,mt.Za||(ct.Na=Gt.Na=0),mt.Hc=0,mt.Gc=0,mt.ia=0;else{var ar,Ot;if(ct=Gt,Gt=dr,Hr=Pe.Pa.Xc,dn=Pe.ya[Pe.aa+Pe.ja],sr=Pe.pb[dn.$b],At=dn.ad,Zr=0,fn=Pe.rb[Pe.sb-1],jt=Lr=0,i(At,Zr,0,384),dn.Za)var Vr=0,di=Hr[3];else{It=s(16);var fr=ct.Na+fn.Na;if(fr=Hl(Gt,Hr[1],fr,sr.Eb,0,It,0),ct.Na=fn.Na=(0<fr)+0,1<fr)Is(It,0,At,Zr);else{var wn=It[0]+3>>3;for(It=0;256>It;It+=16)At[Zr+It]=wn}Vr=1,di=Hr[0]}var Ut=15&ct.la,Pr=15&fn.la;for(It=0;4>It;++It){var Ln=1&Pr;for(wn=Ot=0;4>wn;++wn)Ut=Ut>>1|(Ln=(fr=Hl(Gt,di,fr=Ln+(1&Ut),sr.Sc,Vr,At,Zr))>Vr)<<7,Ot=Ot<<2|(3<fr?3:1<fr?2:At[Zr+0]!=0),Zr+=16;Ut>>=4,Pr=Pr>>1|Ln<<7,Lr=(Lr<<8|Ot)>>>0}for(di=Ut,Vr=Pr>>4,ar=0;4>ar;ar+=2){for(Ot=0,Ut=ct.la>>4+ar,Pr=fn.la>>4+ar,It=0;2>It;++It){for(Ln=1&Pr,wn=0;2>wn;++wn)fr=Ln+(1&Ut),Ut=Ut>>1|(Ln=0<(fr=Hl(Gt,Hr[2],fr,sr.Qc,0,At,Zr)))<<3,Ot=Ot<<2|(3<fr?3:1<fr?2:At[Zr+0]!=0),Zr+=16;Ut>>=2,Pr=Pr>>1|Ln<<5}jt|=Ot<<4*ar,di|=Ut<<4<<ar,Vr|=(240&Pr)<<ar}ct.la=di,fn.la=Vr,dn.Hc=Lr,dn.Gc=jt,dn.ia=43690&jt?0:sr.ia,Hr=!(Lr|jt)}if(0<Pe.L&&(Pe.wa[Pe.Y+Pe.ja]=Pe.gd[mt.$b][mt.Za],Pe.wa[Pe.Y+Pe.ja].La|=!Hr),dr.Ka)return wr(kt,7,"Premature end-of-file encountered.")}if(vc(kt),Pe=Cr,dr=1,mt=(We=kt).D,ct=0<We.L&&We.M>=We.zb&&We.M<=We.Va,We.Aa==0)t:{if(mt.M=We.M,mt.uc=ct,Jn(We,mt),dr=1,mt=(Ot=We.D).Nb,ct=(jt=Bc[We.L])*We.R,Gt=jt/2*We.B,It=16*mt*We.R,wn=8*mt*We.B,Hr=We.sa,dn=We.ta-ct+It,sr=We.qa,At=We.ra-Gt+wn,Zr=We.Ha,fn=We.Ia-Gt+wn,Pr=(Ut=Ot.M)==0,Lr=Ut>=We.Va-1,We.Aa==2&&Jn(We,Ot),Ot.uc)for(Ln=(fr=We).D.M,e(fr.D.uc),Ot=fr.yb;Ot<fr.Hb;++Ot){Vr=Ot,di=Ln;var pn=(Pn=(Gr=fr).D).Nb;ar=Gr.R;var Pn=Pn.wa[Pn.Y+Vr],Tn=Gr.sa,bn=Gr.ta+16*pn*ar+16*Vr,Rn=Pn.dd,Wt=Pn.tc;if(Wt!=0)if(e(3<=Wt),Gr.L==1)0<Vr&&fg(Tn,bn,ar,Wt+4),Pn.La&&gg(Tn,bn,ar,Wt),0<di&&dg(Tn,bn,ar,Wt+4),Pn.La&&pg(Tn,bn,ar,Wt);else{var In=Gr.B,fi=Gr.qa,Ta=Gr.ra+8*pn*In+8*Vr,as=Gr.Ha,Gr=Gr.Ia+8*pn*In+8*Vr;pn=Pn.ld,0<Vr&&(Er(Tn,bn,ar,Wt+4,Rn,pn),$l(fi,Ta,as,Gr,In,Wt+4,Rn,pn)),Pn.La&&(Cc(Tn,bn,ar,Wt,Rn,pn),hg(fi,Ta,as,Gr,In,Wt,Rn,pn)),0<di&&(hr(Tn,bn,ar,Wt+4,Rn,pn),is(fi,Ta,as,Gr,In,Wt+4,Rn,pn)),Pn.La&&(bo(Tn,bn,ar,Wt,Rn,pn),cg(fi,Ta,as,Gr,In,Wt,Rn,pn))}}if(We.ia&&alert("todo:DitherRow"),Pe.put!=null){if(Ot=16*Ut,Ut=16*(Ut+1),Pr?(Pe.y=We.sa,Pe.O=We.ta+It,Pe.f=We.qa,Pe.N=We.ra+wn,Pe.ea=We.Ha,Pe.W=We.Ia+wn):(Ot-=jt,Pe.y=Hr,Pe.O=dn,Pe.f=sr,Pe.N=At,Pe.ea=Zr,Pe.W=fn),Lr||(Ut-=jt),Ut>Pe.o&&(Ut=Pe.o),Pe.F=null,Pe.J=null,We.Fa!=null&&0<We.Fa.length&&Ot<Ut&&(Pe.J=$t(We,Pe,Ot,Ut-Ot),Pe.F=We.mb,Pe.F==null&&Pe.F.length==0)){dr=wr(We,3,"Could not decode alpha data.");break t}Ot<Pe.j&&(jt=Pe.j-Ot,Ot=Pe.j,e(!(1&jt)),Pe.O+=We.R*jt,Pe.N+=We.B*(jt>>1),Pe.W+=We.B*(jt>>1),Pe.F!=null&&(Pe.J+=Pe.width*jt)),Ot<Ut&&(Pe.O+=Pe.v,Pe.N+=Pe.v>>1,Pe.W+=Pe.v>>1,Pe.F!=null&&(Pe.J+=Pe.v),Pe.ka=Ot-Pe.j,Pe.U=Pe.va-Pe.v,Pe.T=Ut-Ot,dr=Pe.put(Pe))}mt+1!=We.Ic||Lr||(n(We.sa,We.ta-ct,Hr,dn+16*We.R,ct),n(We.qa,We.ra-Gt,sr,At+8*We.B,Gt),n(We.Ha,We.Ia-Gt,Zr,fn+8*We.B,Gt))}if(!dr)return wr(kt,6,"Output aborted.")}return 1}(q,ie)),ie.bc!=null&&ie.bc(ie),le&=1}return le?(q.cb=0,le):0})(c,b)||(d=c.a)}}else d=c.a}d==0&&P.Oa!=null&&P.Oa.fd&&(d=Dl(P.ba))}P=d}L=P!=0?null:11>L?R.f.RGBA.eb:R.f.kb.y}else L=null;return L};var Og=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(D,Z){for(var T="",M=0;M<4;M++)T+=String.fromCharCode(D[Z++]);return T}function h(D,Z){return D[Z+0]|D[Z+1]<<8}function p(D,Z){return(D[Z+0]|D[Z+1]<<8|D[Z+2]<<16)>>>0}function m(D,Z){return(D[Z+0]|D[Z+1]<<8|D[Z+2]<<16|D[Z+3]<<24)>>>0}new l;var f=[0],_=[0],x=[],A=new l,w=t,S=function(D,Z){var T={},M=0,J=!1,K=0,he=0;if(T.frames=[],!function(C,$){for(var V=0;V<4;V++)if(C[$+V]!="RIFF".charCodeAt(V))return!0;return!1}(D,Z)){for(m(D,Z+=4),Z+=8;Z<D.length;){var ge=u(D,Z),Y=m(D,Z+=4);Z+=4;var O=Y+(1&Y);switch(ge){case"VP8 ":case"VP8L":T.frames[M]===void 0&&(T.frames[M]={}),(oe=T.frames[M]).src_off=J?he:Z-8,oe.src_size=K+Y+8,M++,J&&(J=!1,K=0,he=0);break;case"VP8X":(oe=T.header={}).feature_flags=D[Z];var ne=Z+4;oe.canvas_width=1+p(D,ne),ne+=3,oe.canvas_height=1+p(D,ne),ne+=3;break;case"ALPH":J=!0,K=O+8,he=Z-8;break;case"ANIM":(oe=T.header).bgcolor=m(D,Z),ne=Z+4,oe.loop_count=h(D,ne),ne+=2;break;case"ANMF":var fe,oe;(oe=T.frames[M]={}).offset_x=2*p(D,Z),Z+=3,oe.offset_y=2*p(D,Z),Z+=3,oe.width=1+p(D,Z),Z+=3,oe.height=1+p(D,Z),Z+=3,oe.duration=p(D,Z),Z+=3,fe=D[Z++],oe.dispose=1&fe,oe.blend=fe>>1&1}ge!="ANMF"&&(Z+=O)}return T}}(w,0);S.response=w,S.rgbaoutput=!0,S.dataurl=!1;var k=S.header?S.header:null,E=S.frames?S.frames:null;if(k){k.loop_counter=k.loop_count,f=[k.canvas_height],_=[k.canvas_width];for(var F=0;F<E.length&&E[F].blend!=0;F++);}var G=E[0],H=A.WebPDecodeRGBA(w,G.src_off,G.src_size,_,f);G.rgba=H,G.imgwidth=_[0],G.imgheight=f[0];for(var z=0;z<_[0]*f[0]*4;z++)x[z]=H[z];return this.width=_,this.height=f,this.data=x,this}/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */function GN(){var t,e=this.internal.__metadata__.metadata,r=unescape(encodeURIComponent(e));t=this.internal.__metadata__.rawXml?r:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+t.length+" >>"),this.internal.write("stream"),this.internal.write(t),this.internal.write("endstream"),this.internal.write("endobj")}function KN(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(t){var e,r,n,i,s,a,o,l,u,h=function(C){return C=C||{},this.isStrokeTransparent=C.isStrokeTransparent||!1,this.strokeOpacity=C.strokeOpacity||1,this.strokeStyle=C.strokeStyle||"#000000",this.fillStyle=C.fillStyle||"#000000",this.isFillTransparent=C.isFillTransparent||!1,this.fillOpacity=C.fillOpacity||1,this.font=C.font||"10px sans-serif",this.textBaseline=C.textBaseline||"alphabetic",this.textAlign=C.textAlign||"left",this.lineWidth=C.lineWidth||1,this.lineJoin=C.lineJoin||"miter",this.lineCap=C.lineCap||"butt",this.path=C.path||[],this.transform=C.transform!==void 0?C.transform.clone():new l,this.globalCompositeOperation=C.globalCompositeOperation||"normal",this.globalAlpha=C.globalAlpha||1,this.clip_path=C.clip_path||[],this.currentPoint=C.currentPoint||new a,this.miterLimit=C.miterLimit||10,this.lastPoint=C.lastPoint||new a,this.lineDashOffset=C.lineDashOffset||0,this.lineDash=C.lineDash||[],this.margin=C.margin||[0,0,0,0],this.prevPageLastElemOffset=C.prevPageLastElemOffset||0,this.ignoreClearRect=typeof C.ignoreClearRect!="boolean"||C.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new h}]);var p=function(C){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var $=C;Object.defineProperty(this,"pdf",{get:function(){return $}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(B){V=!!B}});var Q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Q},set:function(B){Q=!!B}});var re=0;Object.defineProperty(this,"posX",{get:function(){return re},set:function(B){isNaN(B)||(re=B)}});var ae=0;Object.defineProperty(this,"posY",{get:function(){return ae},set:function(B){isNaN(B)||(ae=B)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(B){var Le;typeof B=="number"?Le=[B,B,B,B]:((Le=new Array(4))[0]=B[0],Le[1]=B.length>=2?B[1]:Le[0],Le[2]=B.length>=3?B[2]:Le[0],Le[3]=B.length>=4?B[3]:Le[1]),u.margin=Le}});var pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return pe},set:function(B){pe=B}});var me=0;Object.defineProperty(this,"lastBreak",{get:function(){return me},set:function(B){me=B}});var ve=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ve},set:function(B){ve=B}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(B){B instanceof h&&(u=B)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(B){u.path=B}});var ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return ke},set:function(B){ke=B}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(B){var Le;Le=m(B),this.ctx.fillStyle=Le.style,this.ctx.isFillTransparent=Le.a===0,this.ctx.fillOpacity=Le.a,this.pdf.setFillColor(Le.r,Le.g,Le.b,{a:Le.a}),this.pdf.setTextColor(Le.r,Le.g,Le.b,{a:Le.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(B){var Le=m(B);this.ctx.strokeStyle=Le.style,this.ctx.isStrokeTransparent=Le.a===0,this.ctx.strokeOpacity=Le.a,Le.a===0?this.pdf.setDrawColor(255,255,255):(Le.a,this.pdf.setDrawColor(Le.r,Le.g,Le.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(B){["butt","round","square"].indexOf(B)!==-1&&(this.ctx.lineCap=B,this.pdf.setLineCap(B))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(B){isNaN(B)||(this.ctx.lineWidth=B,this.pdf.setLineWidth(B))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(B){["bevel","round","miter"].indexOf(B)!==-1&&(this.ctx.lineJoin=B,this.pdf.setLineJoin(B))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(B){isNaN(B)||(this.ctx.miterLimit=B,this.pdf.setMiterLimit(B))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(B){this.ctx.textBaseline=B}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(B){["right","end","center","left","start"].indexOf(B)!==-1&&(this.ctx.textAlign=B)}});var Ce=null,Re=null,Ke=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ke},set:function(B){Ce=null,Re=null,Ke=B}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(B){var Le;if(this.ctx.font=B,(Le=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(B))!==null){var ht=Le[1];Le[2];var Ze=Le[3],Ae=Le[4];Le[5];var ze=Le[6],Ie=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ae)[2];Ae=Math.floor(Ie==="px"?parseFloat(Ae)*this.pdf.internal.scaleFactor:Ie==="em"?parseFloat(Ae)*this.pdf.getFontSize():parseFloat(Ae)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ae);var Ye=function(qe){var Zt,_t,dt=[],vt=qe.trim();if(vt==="")return Tp;if(vt in Fv)return[Fv[vt]];for(;vt!=="";){switch(_t=null,Zt=(vt=Bv(vt)).charAt(0)){case'"':case"'":_t=UN(vt.substring(1),Zt);break;default:_t=qN(vt)}if(_t===null||(dt.push(_t[0]),(vt=Bv(_t[1]))!==""&&vt.charAt(0)!==","))return Tp;vt=vt.replace(/^,/,"")}return dt}(ze);if(this.fontFaces){var Xe=function(qe,Zt){var _t=qe.getFontList(),dt=JSON.stringify(_t);if(Ce===null||Re!==dt){var vt=function(Pt){var Qe=[];return Object.keys(Pt).forEach(function(Rt){Pt[Rt].forEach(function(et){var ee=null;switch(et){case"bold":ee={family:Rt,weight:"bold"};break;case"italic":ee={family:Rt,style:"italic"};break;case"bolditalic":ee={family:Rt,weight:"bold",style:"italic"};break;case"":case"normal":ee={family:Rt}}ee!==null&&(ee.ref={name:Rt,style:et},Qe.push(ee))})}),Qe}(_t);Ce=function(Pt){for(var Qe={},Rt=0;Rt<Pt.length;++Rt){var et=Pp(Pt[Rt]),ee=et.family,Ee=et.stretch,Te=et.style,De=et.weight;Qe[ee]=Qe[ee]||{},Qe[ee][Ee]=Qe[ee][Ee]||{},Qe[ee][Ee][Te]=Qe[ee][Ee][Te]||{},Qe[ee][Ee][Te][De]=et}return Qe}(vt.concat(Zt)),Re=dt}return Ce}(this.pdf,this.fontFaces),Ct=Ye.map(function(qe){return{family:qe,stretch:"normal",weight:Ze,style:ht}}),yt=function(qe,Zt,_t){for(var dt=(_t=_t||{}).defaultFontFamily||"times",vt=Object.assign({},zN,_t.genericFontFamilies||{}),Pt=null,Qe=null,Rt=0;Rt<Zt.length;++Rt)if(vt[(Pt=Pp(Zt[Rt])).family]&&(Pt.family=vt[Pt.family]),qe.hasOwnProperty(Pt.family)){Qe=qe[Pt.family];break}if(!(Qe=Qe||qe[dt]))throw new Error("Could not find a font-family for the rule '"+Dv(Pt)+"' and default family '"+dt+"'.");if(Qe=function(et,ee){if(ee[et])return ee[et];var Ee=r1[et],Te=Ee<=r1.normal?-1:1,De=Ov(ee,Fb,Ee,Te);if(!De)throw new Error("Could not find a matching font-stretch value for "+et);return De}(Pt.stretch,Qe),Qe=function(et,ee){if(ee[et])return ee[et];for(var Ee=Ob[et],Te=0;Te<Ee.length;++Te)if(ee[Ee[Te]])return ee[Ee[Te]];throw new Error("Could not find a matching font-style for "+et)}(Pt.style,Qe),!(Qe=function(et,ee){if(ee[et])return ee[et];if(et===400&&ee[500])return ee[500];if(et===500&&ee[400])return ee[400];var Ee=MN[et],Te=Ov(ee,Db,Ee,et<400?-1:1);if(!Te)throw new Error("Could not find a matching font-weight for value "+et);return Te}(Pt.weight,Qe)))throw new Error("Failed to resolve a font for the rule '"+Dv(Pt)+"'.");return Qe}(Xe,Ct);this.pdf.setFont(yt.ref.name,yt.ref.style)}else{var ot="";(Ze==="bold"||parseInt(Ze,10)>=700||ht==="bold")&&(ot="bold"),ht==="italic"&&(ot+="italic"),ot.length===0&&(ot="normal");for(var bt="",wt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ue=0;Ue<Ye.length;Ue++){if(this.pdf.internal.getFont(Ye[Ue],ot,{noFallback:!0,disableWarning:!0})!==void 0){bt=Ye[Ue];break}if(ot==="bolditalic"&&this.pdf.internal.getFont(Ye[Ue],"bold",{noFallback:!0,disableWarning:!0})!==void 0)bt=Ye[Ue],ot="bold";else if(this.pdf.internal.getFont(Ye[Ue],"normal",{noFallback:!0,disableWarning:!0})!==void 0){bt=Ye[Ue],ot="normal";break}}if(bt===""){for(var st=0;st<Ye.length;st++)if(wt[Ye[st]]){bt=wt[Ye[st]];break}}bt=bt===""?"Times":bt,this.pdf.setFont(bt,ot)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(B){this.ctx.globalCompositeOperation=B}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(B){this.ctx.globalAlpha=B}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(B){this.ctx.lineDashOffset=B,oe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(B){this.ctx.lineDash=B,oe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(B){this.ctx.ignoreClearRect=!!B}})};p.prototype.setLineDash=function(C){this.lineDash=C},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){E.call(this,"fill",!1)},p.prototype.stroke=function(){E.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(C,$){if(isNaN(C)||isNaN($))throw qt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new a(C,$));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new a(C,$)},p.prototype.closePath=function(){var C=new a(0,0),$=0;for($=this.path.length-1;$!==-1;$--)if(this.path[$].type==="begin"&&Dt(this.path[$+1])==="object"&&typeof this.path[$+1].x=="number"){C=new a(this.path[$+1].x,this.path[$+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(C.x,C.y)},p.prototype.lineTo=function(C,$){if(isNaN(C)||isNaN($))throw qt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new a(C,$));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new a(V.x,V.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),E.call(this,null,!0)},p.prototype.quadraticCurveTo=function(C,$,V,Q){if(isNaN(V)||isNaN(Q)||isNaN(C)||isNaN($))throw qt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var re=this.ctx.transform.applyToPoint(new a(V,Q)),ae=this.ctx.transform.applyToPoint(new a(C,$));this.path.push({type:"qct",x1:ae.x,y1:ae.y,x:re.x,y:re.y}),this.ctx.lastPoint=new a(re.x,re.y)},p.prototype.bezierCurveTo=function(C,$,V,Q,re,ae){if(isNaN(re)||isNaN(ae)||isNaN(C)||isNaN($)||isNaN(V)||isNaN(Q))throw qt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var pe=this.ctx.transform.applyToPoint(new a(re,ae)),me=this.ctx.transform.applyToPoint(new a(C,$)),ve=this.ctx.transform.applyToPoint(new a(V,Q));this.path.push({type:"bct",x1:me.x,y1:me.y,x2:ve.x,y2:ve.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new a(pe.x,pe.y)},p.prototype.arc=function(C,$,V,Q,re,ae){if(isNaN(C)||isNaN($)||isNaN(V)||isNaN(Q)||isNaN(re))throw qt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ae=!!ae,!this.ctx.transform.isIdentity){var pe=this.ctx.transform.applyToPoint(new a(C,$));C=pe.x,$=pe.y;var me=this.ctx.transform.applyToPoint(new a(0,V)),ve=this.ctx.transform.applyToPoint(new a(0,0));V=Math.sqrt(Math.pow(me.x-ve.x,2)+Math.pow(me.y-ve.y,2))}Math.abs(re-Q)>=2*Math.PI&&(Q=0,re=2*Math.PI),this.path.push({type:"arc",x:C,y:$,radius:V,startAngle:Q,endAngle:re,counterclockwise:ae})},p.prototype.arcTo=function(C,$,V,Q,re){throw new Error("arcTo not implemented.")},p.prototype.rect=function(C,$,V,Q){if(isNaN(C)||isNaN($)||isNaN(V)||isNaN(Q))throw qt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(C,$),this.lineTo(C+V,$),this.lineTo(C+V,$+Q),this.lineTo(C,$+Q),this.lineTo(C,$),this.lineTo(C+V,$),this.lineTo(C,$)},p.prototype.fillRect=function(C,$,V,Q){if(isNaN(C)||isNaN($)||isNaN(V)||isNaN(Q))throw qt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var re={};this.lineCap!=="butt"&&(re.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(re.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(C,$,V,Q),this.fill(),re.hasOwnProperty("lineCap")&&(this.lineCap=re.lineCap),re.hasOwnProperty("lineJoin")&&(this.lineJoin=re.lineJoin)}},p.prototype.strokeRect=function(C,$,V,Q){if(isNaN(C)||isNaN($)||isNaN(V)||isNaN(Q))throw qt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");_.call(this)||(this.beginPath(),this.rect(C,$,V,Q),this.stroke())},p.prototype.clearRect=function(C,$,V,Q){if(isNaN(C)||isNaN($)||isNaN(V)||isNaN(Q))throw qt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(C,$,V,Q))},p.prototype.save=function(C){C=typeof C!="boolean"||C;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage($),C){this.ctx.fontSize=this.pdf.internal.getFontSize();var Q=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Q}},p.prototype.restore=function(C){C=typeof C!="boolean"||C;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage($),C&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(C){var $,V,Q,re;if(C.isCanvasGradient===!0&&(C=C.getColor()),!C)return{r:0,g:0,b:0,a:0,style:C};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(C))$=0,V=0,Q=0,re=0;else{var ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(C);if(ae!==null)$=parseInt(ae[1]),V=parseInt(ae[2]),Q=parseInt(ae[3]),re=1;else if((ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(C))!==null)$=parseInt(ae[1]),V=parseInt(ae[2]),Q=parseInt(ae[3]),re=parseFloat(ae[4]);else{if(re=1,typeof C=="string"&&C.charAt(0)!=="#"){var pe=new Eb(C);C=pe.ok?pe.toHex():"#000000"}C.length===4?($=C.substring(1,2),$+=$,V=C.substring(2,3),V+=V,Q=C.substring(3,4),Q+=Q):($=C.substring(1,3),V=C.substring(3,5),Q=C.substring(5,7)),$=parseInt($,16),V=parseInt(V,16),Q=parseInt(Q,16)}}return{r:$,g:V,b:Q,a:re,style:C}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},_=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(C,$,V,Q){if(isNaN($)||isNaN(V)||typeof C!="string")throw qt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Q=isNaN(Q)?void 0:Q,!f.call(this)){var re=O(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;M.call(this,{text:C,x:$,y:V,scale:ae,angle:re,align:this.textAlign,maxWidth:Q})}},p.prototype.strokeText=function(C,$,V,Q){if(isNaN($)||isNaN(V)||typeof C!="string")throw qt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!_.call(this)){Q=isNaN(Q)?void 0:Q;var re=O(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;M.call(this,{text:C,x:$,y:V,scale:ae,renderingMode:"stroke",angle:re,align:this.textAlign,maxWidth:Q})}},p.prototype.measureText=function(C){if(typeof C!="string")throw qt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var $=this.pdf,V=this.pdf.internal.scaleFactor,Q=$.internal.getFontSize(),re=$.getStringUnitWidth(C)*Q/$.internal.scaleFactor;return new function(ae){var pe=(ae=ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return pe}}),this}({width:re*=Math.round(96*V/72*1e4)/1e4})},p.prototype.scale=function(C,$){if(isNaN(C)||isNaN($))throw qt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new l(C,0,0,$,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},p.prototype.rotate=function(C){if(isNaN(C))throw qt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var $=new l(Math.cos(C),Math.sin(C),-Math.sin(C),Math.cos(C),0,0);this.ctx.transform=this.ctx.transform.multiply($)},p.prototype.translate=function(C,$){if(isNaN(C)||isNaN($))throw qt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new l(1,0,0,1,C,$);this.ctx.transform=this.ctx.transform.multiply(V)},p.prototype.transform=function(C,$,V,Q,re,ae){if(isNaN(C)||isNaN($)||isNaN(V)||isNaN(Q)||isNaN(re)||isNaN(ae))throw qt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var pe=new l(C,$,V,Q,re,ae);this.ctx.transform=this.ctx.transform.multiply(pe)},p.prototype.setTransform=function(C,$,V,Q,re,ae){C=isNaN(C)?1:C,$=isNaN($)?0:$,V=isNaN(V)?0:V,Q=isNaN(Q)?1:Q,re=isNaN(re)?0:re,ae=isNaN(ae)?0:ae,this.ctx.transform=new l(C,$,V,Q,re,ae)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(C,$,V,Q,re,ae,pe,me,ve){var ke=this.pdf.getImageProperties(C),Ce=1,Re=1,Ke=1,B=1;Q!==void 0&&me!==void 0&&(Ke=me/Q,B=ve/re,Ce=ke.width/Q*me/Q,Re=ke.height/re*ve/re),ae===void 0&&(ae=$,pe=V,$=0,V=0),Q!==void 0&&me===void 0&&(me=Q,ve=re),Q===void 0&&me===void 0&&(me=ke.width,ve=ke.height);var Le=this.ctx.transform.decompose(),ht=O(Le.rotate.shx),Ze=new l,Ae=(Ze=(Ze=(Ze=Ze.multiply(Le.translate)).multiply(Le.skew)).multiply(Le.scale)).applyToRectangle(new o(ae-$*Ke,pe-V*B,Q*Ce,re*Re));if(this.autoPaging){for(var ze,Ie=A.call(this,Ae),Ye=[],Xe=0;Xe<Ie.length;Xe+=1)Ye.indexOf(Ie[Xe])===-1&&Ye.push(Ie[Xe]);k(Ye);for(var Ct=Ye[0],yt=Ye[Ye.length-1],ot=Ct;ot<yt+1;ot++){this.pdf.setPage(ot);var bt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],wt=ot===1?this.posY+this.margin[0]:this.margin[0],Ue=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],st=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qe=ot===1?0:Ue+(ot-2)*st;if(this.ctx.clip_path.length!==0){var Zt=this.path;ze=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(ze,this.posX+this.margin[3],-qe+wt+this.ctx.prevPageLastElemOffset),F.call(this,"fill",!0),this.path=Zt}var _t=JSON.parse(JSON.stringify(Ae));_t=S([_t],this.posX+this.margin[3],-qe+wt+this.ctx.prevPageLastElemOffset)[0];var dt=(ot>Ct||ot<yt)&&x.call(this);dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],bt,st,null).clip().discardPath()),this.pdf.addImage(C,"JPEG",_t.x,_t.y,_t.w,_t.h,null,null,ht),dt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(C,"JPEG",Ae.x,Ae.y,Ae.w,Ae.h,null,null,ht)};var A=function(C,$,V){var Q=[];$=$||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var re=this.posY+this.ctx.prevPageLastElemOffset;switch(C.type){default:case"mt":case"lt":Q.push(Math.floor((C.y+re)/V)+1);break;case"arc":Q.push(Math.floor((C.y+re-C.radius)/V)+1),Q.push(Math.floor((C.y+re+C.radius)/V)+1);break;case"qct":var ae=ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x,C.y);Q.push(Math.floor((ae.y+re)/V)+1),Q.push(Math.floor((ae.y+ae.h+re)/V)+1);break;case"bct":var pe=fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x2,C.y2,C.x,C.y);Q.push(Math.floor((pe.y+re)/V)+1),Q.push(Math.floor((pe.y+pe.h+re)/V)+1);break;case"rect":Q.push(Math.floor((C.y+re)/V)+1),Q.push(Math.floor((C.y+C.h+re)/V)+1)}for(var me=0;me<Q.length;me+=1)for(;this.pdf.internal.getNumberOfPages()<Q[me];)w.call(this);return Q},w=function(){var C=this.fillStyle,$=this.strokeStyle,V=this.font,Q=this.lineCap,re=this.lineWidth,ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=C,this.strokeStyle=$,this.font=V,this.lineCap=Q,this.lineWidth=re,this.lineJoin=ae},S=function(C,$,V){for(var Q=0;Q<C.length;Q++)switch(C[Q].type){case"bct":C[Q].x2+=$,C[Q].y2+=V;case"qct":C[Q].x1+=$,C[Q].y1+=V;default:C[Q].x+=$,C[Q].y+=V}return C},k=function(C){return C.sort(function($,V){return $-V})},E=function(C,$){var V=this.fillStyle,Q=this.strokeStyle,re=this.lineCap,ae=this.lineWidth,pe=Math.abs(ae*this.ctx.transform.scaleX),me=this.lineJoin;if(this.autoPaging){for(var ve,ke,Ce=JSON.parse(JSON.stringify(this.path)),Re=JSON.parse(JSON.stringify(this.path)),Ke=[],B=0;B<Re.length;B++)if(Re[B].x!==void 0)for(var Le=A.call(this,Re[B]),ht=0;ht<Le.length;ht+=1)Ke.indexOf(Le[ht])===-1&&Ke.push(Le[ht]);for(var Ze=0;Ze<Ke.length;Ze++)for(;this.pdf.internal.getNumberOfPages()<Ke[Ze];)w.call(this);k(Ke);for(var Ae=Ke[0],ze=Ke[Ke.length-1],Ie=Ae;Ie<ze+1;Ie++){this.pdf.setPage(Ie),this.fillStyle=V,this.strokeStyle=Q,this.lineCap=re,this.lineWidth=pe,this.lineJoin=me;var Ye=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xe=Ie===1?this.posY+this.margin[0]:this.margin[0],Ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=Ie===1?0:Ct+(Ie-2)*yt;if(this.ctx.clip_path.length!==0){var bt=this.path;ve=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(ve,this.posX+this.margin[3],-ot+Xe+this.ctx.prevPageLastElemOffset),F.call(this,C,!0),this.path=bt}if(ke=JSON.parse(JSON.stringify(Ce)),this.path=S(ke,this.posX+this.margin[3],-ot+Xe+this.ctx.prevPageLastElemOffset),$===!1||Ie===0){var wt=(Ie>Ae||Ie<ze)&&x.call(this);wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ye,yt,null).clip().discardPath()),F.call(this,C,$),wt&&this.pdf.restoreGraphicsState()}this.lineWidth=ae}this.path=Ce}else this.lineWidth=pe,F.call(this,C,$),this.lineWidth=ae},F=function(C,$){if((C!=="stroke"||$||!_.call(this))&&(C==="stroke"||$||!f.call(this))){for(var V,Q,re=[],ae=this.path,pe=0;pe<ae.length;pe++){var me=ae[pe];switch(me.type){case"begin":re.push({begin:!0});break;case"close":re.push({close:!0});break;case"mt":re.push({start:me,deltas:[],abs:[]});break;case"lt":var ve=re.length;if(ae[pe-1]&&!isNaN(ae[pe-1].x)&&(V=[me.x-ae[pe-1].x,me.y-ae[pe-1].y],ve>0)){for(;ve>=0;ve--)if(re[ve-1].close!==!0&&re[ve-1].begin!==!0){re[ve-1].deltas.push(V),re[ve-1].abs.push(me);break}}break;case"bct":V=[me.x1-ae[pe-1].x,me.y1-ae[pe-1].y,me.x2-ae[pe-1].x,me.y2-ae[pe-1].y,me.x-ae[pe-1].x,me.y-ae[pe-1].y],re[re.length-1].deltas.push(V);break;case"qct":var ke=ae[pe-1].x+2/3*(me.x1-ae[pe-1].x),Ce=ae[pe-1].y+2/3*(me.y1-ae[pe-1].y),Re=me.x+2/3*(me.x1-me.x),Ke=me.y+2/3*(me.y1-me.y),B=me.x,Le=me.y;V=[ke-ae[pe-1].x,Ce-ae[pe-1].y,Re-ae[pe-1].x,Ke-ae[pe-1].y,B-ae[pe-1].x,Le-ae[pe-1].y],re[re.length-1].deltas.push(V);break;case"arc":re.push({deltas:[],abs:[],arc:!0}),Array.isArray(re[re.length-1].abs)&&re[re.length-1].abs.push(me)}}Q=$?null:C==="stroke"?"stroke":"fill";for(var ht=!1,Ze=0;Ze<re.length;Ze++)if(re[Ze].arc)for(var Ae=re[Ze].abs,ze=0;ze<Ae.length;ze++){var Ie=Ae[ze];Ie.type==="arc"?z.call(this,Ie.x,Ie.y,Ie.radius,Ie.startAngle,Ie.endAngle,Ie.counterclockwise,void 0,$,!ht):J.call(this,Ie.x,Ie.y),ht=!0}else if(re[Ze].close===!0)this.pdf.internal.out("h"),ht=!1;else if(re[Ze].begin!==!0){var Ye=re[Ze].start.x,Xe=re[Ze].start.y;K.call(this,re[Ze].deltas,Ye,Xe),ht=!0}Q&&D.call(this,Q),$&&Z.call(this)}},G=function(C){var $=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=$*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return C-V;case"top":return C+$-V;case"hanging":return C+$-2*V;case"middle":return C+$/2-V;default:return C}},H=function(C){return C+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var C=function(){};return C.colorStops=[],C.addColorStop=function($,V){this.colorStops.push([$,V])},C.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},C.isCanvasGradient=!0,C},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var z=function(C,$,V,Q,re,ae,pe,me,ve){for(var ke=ge.call(this,V,Q,re,ae),Ce=0;Ce<ke.length;Ce++){var Re=ke[Ce];Ce===0&&(ve?T.call(this,Re.x1+C,Re.y1+$):J.call(this,Re.x1+C,Re.y1+$)),he.call(this,C,$,Re.x2,Re.y2,Re.x3,Re.y3,Re.x4,Re.y4)}me?Z.call(this):D.call(this,pe)},D=function(C){switch(C){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Z=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(C,$){this.pdf.internal.out(r(C)+" "+n($)+" m")},M=function(C){var $;switch(C.align){case"right":case"end":$="right";break;case"center":$="center";break;default:$="left"}var V,Q,re,ae=this.pdf.getTextDimensions(C.text),pe=G.call(this,C.y),me=H.call(this,pe)-ae.h,ve=this.ctx.transform.applyToPoint(new a(C.x,pe));if(this.autoPaging){var ke=this.ctx.transform.decompose(),Ce=new l;Ce=(Ce=(Ce=Ce.multiply(ke.translate)).multiply(ke.skew)).multiply(ke.scale);for(var Re=this.ctx.transform.applyToRectangle(new o(C.x,pe,ae.w,ae.h)),Ke=Ce.applyToRectangle(new o(C.x,me,ae.w,ae.h)),B=A.call(this,Ke),Le=[],ht=0;ht<B.length;ht+=1)Le.indexOf(B[ht])===-1&&Le.push(B[ht]);k(Le);for(var Ze=Le[0],Ae=Le[Le.length-1],ze=Ze;ze<Ae+1;ze++){this.pdf.setPage(ze);var Ie=ze===1?this.posY+this.margin[0]:this.margin[0],Ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xe=this.pdf.internal.pageSize.height-this.margin[2],Ct=Xe-this.margin[0],yt=this.pdf.internal.pageSize.width-this.margin[1],ot=yt-this.margin[3],bt=ze===1?0:Ye+(ze-2)*Ct;if(this.ctx.clip_path.length!==0){var wt=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(V,this.posX+this.margin[3],-1*bt+Ie),F.call(this,"fill",!0),this.path=wt}var Ue=S([JSON.parse(JSON.stringify(Ke))],this.posX+this.margin[3],-bt+Ie+this.ctx.prevPageLastElemOffset)[0];C.scale>=.01&&(Q=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Q*C.scale),re=this.lineWidth,this.lineWidth=re*C.scale);var st=this.autoPaging!=="text";if(st||Ue.y+Ue.h<=Xe){if(st||Ue.y>=Ie&&Ue.x<=yt){var qe=st?C.text:this.pdf.splitTextToSize(C.text,C.maxWidth||yt-Ue.x)[0],Zt=S([JSON.parse(JSON.stringify(Re))],this.posX+this.margin[3],-bt+Ie+this.ctx.prevPageLastElemOffset)[0],_t=st&&(ze>Ze||ze<Ae)&&x.call(this);_t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,Ct,null).clip().discardPath()),this.pdf.text(qe,Zt.x,Zt.y,{angle:C.angle,align:$,renderingMode:C.renderingMode}),_t&&this.pdf.restoreGraphicsState()}}else Ue.y<Xe&&(this.ctx.prevPageLastElemOffset+=Xe-Ue.y);C.scale>=.01&&(this.pdf.setFontSize(Q),this.lineWidth=re)}}else C.scale>=.01&&(Q=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Q*C.scale),re=this.lineWidth,this.lineWidth=re*C.scale),this.pdf.text(C.text,ve.x+this.posX,ve.y+this.posY,{angle:C.angle,align:$,renderingMode:C.renderingMode,maxWidth:C.maxWidth}),C.scale>=.01&&(this.pdf.setFontSize(Q),this.lineWidth=re)},J=function(C,$,V,Q){V=V||0,Q=Q||0,this.pdf.internal.out(r(C+V)+" "+n($+Q)+" l")},K=function(C,$,V){return this.pdf.lines(C,$,V,null,null)},he=function(C,$,V,Q,re,ae,pe,me){this.pdf.internal.out([e(i(V+C)),e(s(Q+$)),e(i(re+C)),e(s(ae+$)),e(i(pe+C)),e(s(me+$)),"c"].join(" "))},ge=function(C,$,V,Q){for(var re=2*Math.PI,ae=Math.PI/2;$>V;)$-=re;var pe=Math.abs(V-$);pe<re&&Q&&(pe=re-pe);for(var me=[],ve=Q?-1:1,ke=$;pe>1e-5;){var Ce=ke+ve*Math.min(pe,ae);me.push(Y.call(this,C,ke,Ce)),pe-=Math.abs(Ce-ke),ke=Ce}return me},Y=function(C,$,V){var Q=(V-$)/2,re=C*Math.cos(Q),ae=C*Math.sin(Q),pe=re,me=-ae,ve=pe*pe+me*me,ke=ve+pe*re+me*ae,Ce=4/3*(Math.sqrt(2*ve*ke)-ke)/(pe*ae-me*re),Re=pe-Ce*me,Ke=me+Ce*pe,B=Re,Le=-Ke,ht=Q+$,Ze=Math.cos(ht),Ae=Math.sin(ht);return{x1:C*Math.cos($),y1:C*Math.sin($),x2:Re*Ze-Ke*Ae,y2:Re*Ae+Ke*Ze,x3:B*Ze-Le*Ae,y3:B*Ae+Le*Ze,x4:C*Math.cos(V),y4:C*Math.sin(V)}},O=function(C){return 180*C/Math.PI},ne=function(C,$,V,Q,re,ae){var pe=C+.5*(V-C),me=$+.5*(Q-$),ve=re+.5*(V-re),ke=ae+.5*(Q-ae),Ce=Math.min(C,re,pe,ve),Re=Math.max(C,re,pe,ve),Ke=Math.min($,ae,me,ke),B=Math.max($,ae,me,ke);return new o(Ce,Ke,Re-Ce,B-Ke)},fe=function(C,$,V,Q,re,ae,pe,me){var ve,ke,Ce,Re,Ke,B,Le,ht,Ze,Ae,ze,Ie,Ye,Xe,Ct=V-C,yt=Q-$,ot=re-V,bt=ae-Q,wt=pe-re,Ue=me-ae;for(ke=0;ke<41;ke++)Ze=(Le=(Ce=C+(ve=ke/40)*Ct)+ve*((Ke=V+ve*ot)-Ce))+ve*(Ke+ve*(re+ve*wt-Ke)-Le),Ae=(ht=(Re=$+ve*yt)+ve*((B=Q+ve*bt)-Re))+ve*(B+ve*(ae+ve*Ue-B)-ht),ke==0?(ze=Ze,Ie=Ae,Ye=Ze,Xe=Ae):(ze=Math.min(ze,Ze),Ie=Math.min(Ie,Ae),Ye=Math.max(Ye,Ze),Xe=Math.max(Xe,Ae));return new o(Math.round(ze),Math.round(Ie),Math.round(Ye-ze),Math.round(Xe-Ie))},oe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var C,$,V=(C=this.ctx.lineDash,$=this.ctx.lineDashOffset,JSON.stringify({lineDash:C,lineDashOffset:$}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(Ge.API),function(t){var e=function(a){var o,l,u,h,p,m,f,_,x,A;for(l=[],u=0,h=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;h>u;u+=4)(p=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(m=(p=((p=((p=((p=(p-(A=p%85))/85)-(x=p%85))/85)-(_=p%85))/85)-(f=p%85))/85)%85,l.push(m+33,f+33,_+33,x+33,A+33)):l.push(122);return function(w,S){for(var k=S;k>0;k--)w.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(a){var o,l,u,h,p,m=String,f="length",_=255,x="charCodeAt",A="slice",w="replace";for(a[A](-2),a=a[A](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),u=[],h=0,p=(a+=o="uuuuu"[A](a[f]%5||5))[f];p>h;h+=5)l=52200625*(a[x](h)-33)+614125*(a[x](h+1)-33)+7225*(a[x](h+2)-33)+85*(a[x](h+3)-33)+(a[x](h+4)-33),u.push(_&l>>24,_&l>>16,_&l>>8,_&l);return function(S,k){for(var E=k;E>0;E--)S.pop()}(u,o[f]),m.fromCharCode.apply(m,u)},n=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",u=0;u<a.length;u+=2)l+=String.fromCharCode("0x"+(a[u]+a[u+1]));return l},s=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return(o=J0(o)).reduce(function(u,h){return u+String.fromCharCode(h)},"")};t.processDataByFilters=function(a,o){var l=0,u=a||"",h=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:u,reverseChain:h.reverse().join(" ")}}}(Ge.API),function(t){t.loadFile=function(e,r,n){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,u,h){var p=new XMLHttpRequest,m=0,f=function(_){var x=_.length,A=[],w=String.fromCharCode;for(m=0;m<x;m+=1)A.push(w(255&_.charCodeAt(m)));return A.join("")};if(p.open("GET",l,!u),p.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(p.onload=function(){p.status===200?h(f(this.responseText)):h(void 0)}),p.send(null),u&&p.status===200)return f(p.responseText)}(i,s,a)}catch{}return o}(e,r,n)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile}(Ge.API),function(t){function e(){return(it.html2canvas?Promise.resolve(it.html2canvas):fp(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(it.DOMPurify?Promise.resolve(it.DOMPurify):fp(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=Dt(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var u=document.createElement(o);for(var h in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[h]=l.style[h];return u},s=function o(l,u){for(var h=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),p=l.firstChild;p;p=p.nextSibling)u!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||h.appendChild(o(p,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(h.width=l.width,h.height=l.height,h.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(h.value=l.value),h.addEventListener("load",function(){h.scrollTop=l.scrollTop,h.scrollLeft=l.scrollLeft},!0)),h},a=function o(l){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),h=o.convert(Promise.resolve(),u);return(h=h.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(r).then(function(u){return this.set({src:i("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=this.opt.jsPDF,h=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=h,h)for(var f=0;f<h.length;++f){var _=h[f],x=_.src.find(function(A){return A.format==="truetype"});x&&u.addFont(x.url,_.ref.name,_.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,u.context2d.save(!0),l(this.prop.container,m)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(u){if(u in a.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var u=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(u):u})},a.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(u,h){return Math.floor(u*h/72*96)}return this.then(function(){(o=o||Ge.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,u,h){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,u,h){return this.setProgress(o?this.progress.val+o:null,l||null,u?this.progress.n+u:null,h?this.progress.stack.concat(h):null)},a.prototype.then=function(o,l){var u=this;return this.thenCore(o,l,function(h,p){return u.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(m){return u.updateProgress(null,h),m}).then(h,p).then(function(m){return u.updateProgress(1),m})})},a.prototype.thenCore=function(o,l,u){u=u||Promise.prototype.then;var h=this;o&&(o=o.bind(h)),l&&(l=l.bind(h));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:a.convert(Object.assign({},h),Promise.prototype),m=u.call(p,o,l);return a.convert(m,h.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(u){l=l.thenCore(u)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Ge.getPageSize=function(o,l,u){if(Dt(o)==="object"){var h=o;o=h.orientation,l=h.unit||l,u=h.format||u}l=l||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var p,m=(""+u).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+l}var _,x=0,A=0;if(f.hasOwnProperty(m))x=f[m][1]/p,A=f[m][0]/p;else try{x=u[1],A=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",A>x&&(_=A,A=x,x=_);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",x>A&&(_=A,A=x,x=_)}return{width:A,height:x,unit:l,k:p,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Pp):null;var u=new a(l);return l.worker?u:u.from(o).doCallback()}}(Ge.API),Ge.API.addJS=function(t){var e,r,n=t;return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+n+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&r!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=n.exec(a);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,h=[];for(s=0;s<u;s++){var p=r.internal.newObject();h.push(p);var m=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<h.length;s++)r.internal.write("(page_"+(s+1)+")"+h[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(Ge.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,s,a,o){var l,u=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(p){for(var m,f=256*p.charCodeAt(4)+p.charCodeAt(5),_=p.length,x={width:0,height:0,numcomponents:1},A=4;A<_;A+=2){if(A+=f,e.indexOf(p.charCodeAt(A+1))!==-1){m=256*p.charCodeAt(A+5)+p.charCodeAt(A+6),x={width:256*p.charCodeAt(A+7)+p.charCodeAt(A+8),height:m,numcomponents:p.charCodeAt(A+9)};break}f=256*p.charCodeAt(A+2)+p.charCodeAt(A+3)}return x}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}h={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:i}}return h}}(Ge.API),Ge.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=AN(t,{checkCrc:!0}),a=s.width,o=s.height,l=s.channels,u=s.palette,h=s.depth;i=u&&l===1?function(z){for(var D=z.width,Z=z.height,T=z.data,M=z.palette,J=z.depth,K=!1,he=[],ge=[],Y=void 0,O=!1,ne=0,fe=0;fe<M.length;fe++){var oe=W2(M[fe],4),C=oe[0],$=oe[1],V=oe[2],Q=oe[3];he.push(C,$,V),Q!=null&&(Q===0?(ne++,ge.length<1&&ge.push(fe)):Q<255&&(O=!0))}if(O||ne>1){K=!0,ge=void 0;var re=D*Z;Y=new Uint8Array(re);for(var ae=new DataView(T.buffer),pe=0;pe<re;pe++){var me=Rp(ae,pe,J),ve=W2(M[me],4)[3];Y[pe]=ve}}else ne===0&&(ge=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:K?8:void 0,colorBytes:T,alphaBytes:Y,needSMask:K,palette:he,mask:ge}}(s):l===2||l===4?function(z){for(var D=z.data,Z=z.width,T=z.height,M=z.channels,J=z.depth,K=M===2?"DeviceGray":"DeviceRGB",he=M-1,ge=Z*T,Y=he,O=ge*Y,ne=1*ge,fe=Math.ceil(O*J/8),oe=Math.ceil(ne*J/8),C=new Uint8Array(fe),$=new Uint8Array(oe),V=new DataView(D.buffer),Q=new DataView(C.buffer),re=new DataView($.buffer),ae=!1,pe=0;pe<ge;pe++){for(var me=pe*M,ve=0;ve<Y;ve++)Gv(Q,Rp(V,me+ve,J),pe*Y+ve,J);var ke=Rp(V,me+Y,J);ke<(1<<J)-1&&(ae=!0),Gv(re,ke,1*pe,J)}return{colorSpace:K,colorsPerPixel:he,sMaskBitsPerComponent:ae?J:void 0,colorBytes:C,alphaBytes:$,needSMask:ae}}(s):function(z){var D=z.data,Z=z.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:Z,colorsPerPixel:Z==="DeviceGray"?1:3,colorBytes:D instanceof Uint16Array?function(T){for(var M=T.length,J=new Uint8Array(2*M),K=new DataView(J.buffer,J.byteOffset,J.byteLength),he=0;he<M;he++)K.setUint16(2*he,T[he],!1);return J}(D):D,needSMask:!1}}(s);var p,m,f,_=i,x=_.colorSpace,A=_.colorsPerPixel,w=_.sMaskBitsPerComponent,S=_.colorBytes,k=_.alphaBytes,E=_.needSMask,F=_.palette,G=_.mask,H=null;return n!==Ge.API.image_compression.NONE&&typeof J0=="function"?(H=function(z){var D;switch(z){case Ge.API.image_compression.FAST:D=11;break;case Ge.API.image_compression.MEDIUM:D=13;break;case Ge.API.image_compression.SLOW:D=14;break;default:D=12}return D}(n),p=this.decode.FLATE_DECODE,m="/Predictor ".concat(H," /Colors ").concat(A," /BitsPerComponent ").concat(h," /Columns ").concat(a),t=qv(S,Math.ceil(a*A*h/8),A,h,n),E&&(f=qv(k,Math.ceil(a*w/8),1,w,n))):(p=void 0,m=void 0,t=S,E&&(f=k)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:r,data:t,index:e,filter:p,decodeParameters:m,transparency:G,palette:F,sMask:f,predictor:H,width:a,height:o,bitsPerComponent:h,sMaskBitsPerComponent:w,colorSpace:x}}},function(t){t.processGIF89A=function(e,r,n,i){var s=new VN(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:a,height:o},h=new Ip(100).encode(u,100);return t.processJPEG.call(this,h,r,n,i)},t.processGIF87A=t.processGIF89A}(Ge.API),gi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},gi.prototype.parseBGR=function(){this.pos=this.offset;var t="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[t]()}catch(r){qt.log("bit decode error:"+r)}},gi.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}r!==0&&(this.pos+=4-r)}},gi.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,o=s>>4,l=15&s,u=this.palette[o];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},gi.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},gi.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,h=n*this.width*4+4*i;this.data[h]=l,this.data[h+1]=o,this.data[h+2]=a,this.data[h+3]=u}this.pos+=t}},gi.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&r)/r*255|0,u=(a>>11)/e*255|0,h=i*this.width*4+4*s;this.data[h]=u,this.data[h+1]=l,this.data[h+2]=o,this.data[h+3]=255}this.pos+=t}},gi.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},gi.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=a}},gi.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var s=new gi(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new Ip(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}}(Ge.API),Jv.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var s=new Jv(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new Ip(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}}(Ge.API),Ge.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,u=0;u<i;u+=4){var h=n[u],p=n[u+1],m=n[u+2],f=n[u+3];s[o++]=h,s[o++]=p,s[o++]=m,a[l++]=f}var _=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:_,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Ge.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Po=Ge.API,Sh=Po.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,h=u.fof?u.fof:1,p=e.doKerning!==!1,m=0,f=t.length,_=0,x=o[0]||l,A=[];for(r=0;r<f;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?A.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(m=p&&Dt(u[n])==="object"&&!isNaN(parseInt(u[n][_],10))?u[n][_]/h:0,A.push((o[n]||x)/l+m)),_=n;return A},Mv=Po.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Po.processArabic&&(t=Po.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:Sh.apply(this,arguments).reduce(function(s,a){return s+a},0)},zv=function(t,e,r,n){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<r;)o+=e[s],s++;i.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>n&&(i.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},Uv=function(t,e,r){r||(r={});var n,i,s,a,o,l,u,h=[],p=[h],m=r.textIndent||0,f=0,_=0,x=t.split(" "),A=Sh.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?x[0].length+2:r.lineIndent||0){var w=Array(l).join(" "),S=[];x.map(function(E){(E=E.split(/\s*\n/)).length>1?S=S.concat(E.map(function(F,G){return(G&&F.length?`
`:"")+F})):S.push(E[0])}),x=S,l=Mv.apply(this,[w,r])}for(s=0,a=x.length;s<a;s++){var k=0;if(n=x[s],l&&n[0]==`
`&&(n=n.substr(1),k=1),m+f+(_=(i=Sh.apply(this,[n,r])).reduce(function(E,F){return E+F},0))>e||k){if(_>e){for(o=zv.apply(this,[n,i,e-(m+f),e]),h.push(o.shift()),h=[o.pop()];o.length;)p.push([o.shift()]);_=i.slice(n.length-(h[0]?h[0].length:0)).reduce(function(E,F){return E+F},0)}else h=[n];p.push(h),m=_+l,f=A}else h.push(n),m+=f+_,f=A}return u=l?function(E,F){return(F?w:"")+E.join(" ")}:function(E){return E.join(" ")},p.map(u)},Po.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var p=this.internal.getFont(h.fontName,h.fontStyle),m="Unicode";return p.metadata[m]?{widths:p.metadata[m].widths||{0:1},kerning:p.metadata[m].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var o,l,u=[];for(o=0,l=n.length;o<l;o++)u=u.concat(Uv.apply(this,[n[o],a,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},s=0;s<16;s++)n[r[s]]=e[s],i[e[s]]=r[s];var a=function(m){return"0x"+parseInt(m,10).toString(16)},o=t.__fontmetrics__.compress=function(m){var f,_,x,A,w=["{"];for(var S in m){if(f=m[S],isNaN(parseInt(S,10))?_="'"+S+"'":(S=parseInt(S,10),_=(_=a(S).slice(2)).slice(0,-1)+i[_.slice(-1)]),typeof f=="number")f<0?(x=a(f).slice(3),A="-"):(x=a(f).slice(2),A=""),x=A+x.slice(0,-1)+i[x.slice(-1)];else{if(Dt(f)!=="object")throw new Error("Don't know what to do with value type "+Dt(f)+".");x=o(f)}w.push(_+x)}return w.push("}"),w.join("")},l=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,_,x,A,w={},S=1,k=w,E=[],F="",G="",H=m.length-1,z=1;z<H;z+=1)(A=m[z])=="'"?f?(x=f.join(""),f=void 0):f=[]:f?f.push(A):A=="{"?(E.push([k,x]),k={},x=void 0):A=="}"?((_=E.pop())[0][_[1]]=k,x=void 0,k=_[0]):A=="-"?S=-1:x===void 0?n.hasOwnProperty(A)?(F+=n[A],x=parseInt(F,16)*S,S=1,F=""):F+=A:n.hasOwnProperty(A)?(G+=n[A],k[x]=parseInt(G,16)*S,S=1,x=void 0,G=""):G+=A;return w},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},p={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var f=m.font,_=p.Unicode[f.postScriptName];_&&(f.metadata.Unicode={},f.metadata.Unicode.widths=_.widths,f.metadata.Unicode.kerning=_.kerning);var x=h.Unicode[f.postScriptName];x&&(f.metadata.Unicode.encoding=x,f.encoding=x.codePages[0])}])}(Ge.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(Bh(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])}(Ge),Ge.API.addSvgAsImage=function(t,e,r,n,i,s,a,o){if(isNaN(e)||isNaN(r))throw qt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw qt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(it.canvg?Promise.resolve(it.canvg):fp(()=>import("./index.es-BPWQFMqf.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(u,t,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(h)}).then(function(){p.addImage(l.toDataURL("image/jpeg",1),e,r,n,i,a,o)})},Ge.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},Ge.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],u=0,h=0,p=0;function m(_,x){var A,w=!1;for(A=0;A<_.length;A+=1)_[A]===x&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=o.length;for(p=0;p<f;p+=1)r[o[p]].value=r[o[p]].defaultValue,r[o[p]].explicitSet=!1}if(Dt(t)==="object"){for(i in t)if(s=t[i],m(o,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&m(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(h=0;h<s[u].length;h+=1)typeof s[u][h]!="number"&&(n=!1);n===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var _,x=[];for(_ in r)r[_].explicitSet===!0&&(r[_].type==="name"?x.push("/"+_+" /"+r[_].value):x.push("/"+_+" "+r[_].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},Ge.API.addMetadata=function(t,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:t,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",KN),this.internal.events.subscribe("postPutResources",GN)),this},function(t){var e=t.API,r=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,u=["","0","00","000","0000"],h=[""],p=0,m=s.length;p<m;++p){if(o=a.metadata.characterToGlyph(s.charCodeAt(p)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(p),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return h.join("");o=o.toString(16),h.push(u[4-o.length],o)}return h.join("")},n=function(s){var a,o,l,u,h,p,m;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],p=0,m=(o=Object.keys(s).sort(function(f,_){return f-_})).length;p<m;p++)a=o[p],l.length>=100&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(u=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+u+">"));return l.length&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,h=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var p=o.metadata.Unicode.widths,m=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),f="",_=0;_<m.length;_++)f+=String.fromCharCode(m[_]);var x=u();h({data:f,addLength1:!0,objectId:x}),l("endobj");var A=u();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:A}),l("endobj");var w=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Fo(o.fontName)),l("/FontFile2 "+x+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var S=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Fo(o.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+t.API.PDFObject.convert(p)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+A+" 0 R"),l("/BaseFont /"+Fo(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+S+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,h=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var p=o.metadata.rawData,m="",f=0;f<p.length;f++)m+=String.fromCharCode(p[f]);var _=u();h({data:m,addLength1:!0,objectId:_}),l("endobj");var x=u();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var A=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+_+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Fo(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var w=0;w<o.metadata.hmtx.widths.length;w++)o.metadata.hmtx.widths[w]=parseInt(o.metadata.hmtx.widths[w]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+Fo(o.fontName)+"/FontDescriptor "+A+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,u=s.y,h=s.options||{},p=s.mutex||{},m=p.pdfEscape,f=p.activeFontKey,_=p.fonts,x=f,A="",w=0,S="",k=_[x].encoding;if(_[x].encoding!=="Identity-H")return{text:o,x:l,y:u,options:h,mutex:p};for(S=o,x=f,Array.isArray(o)&&(S=o[0]),w=0;w<S.length;w+=1)_[x].metadata.hasOwnProperty("cmap")&&(a=_[x].metadata.cmap.unicode.codeMap[S[w].charCodeAt(0)]),a||S[w].charCodeAt(0)<256&&_[x].metadata.hasOwnProperty("Unicode")?A+=S[w]:A+="";var E="";return parseInt(x.slice(1))<14||k==="WinAnsiEncoding"?E=m(A,x).split("").map(function(F){return F.charCodeAt(0).toString(16)}).join(""):k==="Identity-H"&&(E=r(A,_[x])),p.isHex=!0,{text:E,x:l,y:u,options:h,mutex:p}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?o.push([i(Object.assign({},l,{text:a[u][0]})).text,a[u][1],a[u][2]]):o.push(i(Object.assign({},l,{text:a[u]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(Ge),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Ge.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,s,a,o,l,u,h,p=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],_={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},A=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),S=!1,k=0;this.__bidiEngine__={};var E=function(T){var M=T.charCodeAt(),J=M>>8,K=x[J];return K!==void 0?p[256*K+(255&M)]:J===252||J===253?"AL":w.test(J)?"L":J===8?"R":"N"},F=function(T){for(var M,J=0;J<T.length;J++){if((M=E(T.charAt(J)))==="L")return!1;if(M==="R")return!0}return!1},G=function(T,M,J,K){var he,ge,Y,O,ne=M[K];switch(ne){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":S=!1;break;case"N":case"AN":break;case"EN":S&&(ne="AN");break;case"AL":S=!0,ne="R";break;case"WS":case"BN":ne="N";break;case"CS":K<1||K+1>=M.length||(he=J[K-1])!=="EN"&&he!=="AN"||(ge=M[K+1])!=="EN"&&ge!=="AN"?ne="N":S&&(ge="AN"),ne=ge===he?ge:"N";break;case"ES":ne=(he=K>0?J[K-1]:"B")==="EN"&&K+1<M.length&&M[K+1]==="EN"?"EN":"N";break;case"ET":if(K>0&&J[K-1]==="EN"){ne="EN";break}if(S){ne="N";break}for(Y=K+1,O=M.length;Y<O&&M[Y]==="ET";)Y++;ne=Y<O&&M[Y]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(O=M.length,Y=K+1;Y<O&&M[Y]==="NSM";)Y++;if(Y<O){var fe=T[K],oe=fe>=1425&&fe<=2303||fe===64286;if(he=M[Y],oe&&(he==="R"||he==="AL")){ne="R";break}}}ne=K<1||(he=M[K-1])==="B"?"N":J[K-1];break;case"B":S=!1,i=!0,ne=k;break;case"S":s=!0,ne="N"}return ne},H=function(T,M,J){var K=T.split("");return J&&z(K,J,{hiLevel:k}),K.reverse(),M&&M.reverse(),K.join("")},z=function(T,M,J){var K,he,ge,Y,O,ne=-1,fe=T.length,oe=0,C=[],$=k?f:m,V=[];for(S=!1,i=!1,s=!1,he=0;he<fe;he++)V[he]=E(T[he]);for(ge=0;ge<fe;ge++){if(O=oe,C[ge]=G(T,V,C,ge),K=240&(oe=$[O][_[C[ge]]]),oe&=15,M[ge]=Y=$[oe][5],K>0)if(K===16){for(he=ne;he<ge;he++)M[he]=1;ne=-1}else ne=-1;if($[oe][6])ne===-1&&(ne=ge);else if(ne>-1){for(he=ne;he<ge;he++)M[he]=Y;ne=-1}V[ge]==="B"&&(M[ge]=0),J.hiLevel|=Y}s&&function(Q,re,ae){for(var pe=0;pe<ae;pe++)if(Q[pe]==="S"){re[pe]=k;for(var me=pe-1;me>=0&&Q[me]==="WS";me--)re[me]=k}}(V,M,fe)},D=function(T,M,J,K,he){if(!(he.hiLevel<T)){if(T===1&&k===1&&!i)return M.reverse(),void(J&&J.reverse());for(var ge,Y,O,ne,fe=M.length,oe=0;oe<fe;){if(K[oe]>=T){for(O=oe+1;O<fe&&K[O]>=T;)O++;for(ne=oe,Y=O-1;ne<Y;ne++,Y--)ge=M[ne],M[ne]=M[Y],M[Y]=ge,J&&(ge=J[ne],J[ne]=J[Y],J[Y]=ge);oe=O}oe++}}},Z=function(T,M,J){var K=T.split(""),he={hiLevel:k};return J||(J=[]),z(K,J,he),function(ge,Y,O){if(O.hiLevel!==0&&h)for(var ne,fe=0;fe<ge.length;fe++)Y[fe]===1&&(ne=A.indexOf(ge[fe]))>=0&&(ge[fe]=A[ne+1])}(K,J,he),D(2,K,M,J,he),D(1,K,M,J,he),K.join("")};return this.__bidiEngine__.doBidiReorder=function(T,M,J){if(function(he,ge){if(ge)for(var Y=0;Y<he.length;Y++)ge[Y]=Y;o===void 0&&(o=F(he)),u===void 0&&(u=F(he))}(T,M),a||!l||u)if(a&&l&&o^u)k=o?1:0,T=H(T,M,J);else if(!a&&l&&u)k=o?1:0,T=Z(T,M,J),T=H(T,M);else if(!a||o||l||u){if(a&&!l&&o^u)T=H(T,M),o?(k=0,T=Z(T,M,J)):(k=1,T=Z(T,M,J),T=H(T,M));else if(a&&o&&!l&&u)k=1,T=Z(T,M,J),T=H(T,M);else if(!a&&!l&&o^u){var K=h;o?(k=1,T=Z(T,M,J),k=0,h=!1,T=Z(T,M,J),h=K):(k=0,T=Z(T,M,J),T=H(T,M),k=1,h=!1,T=Z(T,M,J),h=K,T=H(T,M))}}else k=0,T=Z(T,M,J);else k=o?1:0,T=Z(T,M,J);return T},this.__bidiEngine__.setOptions=function(T){T&&(a=T.isInputVisual,l=T.isOutputVisual,o=T.isInputRtl,u=T.isOutputRtl,h=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([r.doBidiReorder(i[o])]);n.text=a}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(Ge),Ge.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new da(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new u7(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new JN(this.contents),this.head=new XN(this),this.name=new r7(this),this.cmap=new Mb(this),this.toUnicode={},this.hhea=new QN(this),this.maxp=new n7(this),this.hmtx=new i7(this),this.post=new e7(this),this.os2=new ZN(this),this.loca=new l7(this),this.glyf=new s7(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,u;for(u=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return a*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var ji,da=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,s,a,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)r=e[n],s.push(this.writeByte(r));return s},t}(),JN=function(){var t;function e(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,s,a,o,l,u,h,p,m,f,_,x;for(x in f=Object.keys(r).length,l=Math.log(2),p=16*Math.floor(Math.log(f)/l),a=Math.floor(p/l),h=16*f-p,(i=new da).writeInt(this.scalarType),i.writeShort(f),i.writeShort(p),i.writeShort(a),i.writeShort(h),s=16*f,u=i.pos+s,o=null,_=[],r)for(m=r[x],i.writeString(x),i.writeInt(t(m)),i.writeInt(u),i.writeInt(m.length),_=_.concat(m),x==="head"&&(o=u),u+=m.length;u%4;)_.push(0),u++;return i.write(_),n=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(n),i.data},t=function(r){var n,i,s,a;for(r=zb.call(r);r.length%4;)r.push(0);for(s=new da(r),i=0,n=0,a=r.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},e}(),YN={}.hasOwnProperty,Vi=function(t,e){for(var r in e)YN.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};ji=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var XN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,ji),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new da).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),Yv=function(){function t(e,r){var n,i,s,a,o,l,u,h,p,m,f,_,x,A,w,S,k;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),m=f/2,e.pos+=6,s=function(){var E,F;for(F=[],l=E=0;0<=m?E<m:E>m;l=0<=m?++E:--E)F.push(e.readUInt16());return F}(),e.pos+=2,x=function(){var E,F;for(F=[],l=E=0;0<=m?E<m:E>m;l=0<=m?++E:--E)F.push(e.readUInt16());return F}(),u=function(){var E,F;for(F=[],l=E=0;0<=m?E<m:E>m;l=0<=m?++E:--E)F.push(e.readUInt16());return F}(),h=function(){var E,F;for(F=[],l=E=0;0<=m?E<m:E>m;l=0<=m?++E:--E)F.push(e.readUInt16());return F}(),i=(this.length-e.pos+this.offset)/2,o=function(){var E,F;for(F=[],l=E=0;0<=i?E<i:E>i;l=0<=i?++E:--E)F.push(e.readUInt16());return F}(),l=w=0,k=s.length;w<k;l=++w)for(A=s[l],n=S=_=x[l];_<=A?S<=A:S>=A;n=_<=A?++S:--S)h[l]===0?a=n+u[l]:(a=o[h[l]/2+(n-_)-(m-l)]||0)!==0&&(a+=u[l]),this.codeMap[n]=65535&a}e.pos=p}return t.encode=function(e,r){var n,i,s,a,o,l,u,h,p,m,f,_,x,A,w,S,k,E,F,G,H,z,D,Z,T,M,J,K,he,ge,Y,O,ne,fe,oe,C,$,V,Q,re,ae,pe,me,ve,ke,Ce;switch(K=new da,a=Object.keys(e).sort(function(Re,Ke){return Re-Ke}),r){case"macroman":for(x=0,A=function(){var Re=[];for(_=0;_<256;++_)Re.push(0);return Re}(),S={0:0},s={},he=0,ne=a.length;he<ne;he++)S[me=e[i=a[he]]]==null&&(S[me]=++x),s[i]={old:e[i],new:S[e[i]]},A[i]=S[e[i]];return K.writeUInt16(1),K.writeUInt16(0),K.writeUInt32(12),K.writeUInt16(0),K.writeUInt16(262),K.writeUInt16(0),K.write(A),{charMap:s,subtable:K.data,maxGlyphID:x+1};case"unicode":for(M=[],p=[],k=0,S={},n={},w=u=null,ge=0,fe=a.length;ge<fe;ge++)S[F=e[i=a[ge]]]==null&&(S[F]=++k),n[i]={old:F,new:S[F]},o=S[F]-i,w!=null&&o===u||(w&&p.push(w),M.push(i),u=o),w=i;for(w&&p.push(w),p.push(65535),M.push(65535),Z=2*(D=M.length),z=2*Math.pow(Math.log(D)/Math.LN2,2),m=Math.log(z/2)/Math.LN2,H=2*D-z,l=[],G=[],f=[],_=Y=0,oe=M.length;Y<oe;_=++Y){if(T=M[_],h=p[_],T===65535){l.push(0),G.push(0);break}if(T-(J=n[T].new)>=32768)for(l.push(0),G.push(2*(f.length+D-_)),i=O=T;T<=h?O<=h:O>=h;i=T<=h?++O:--O)f.push(n[i].new);else l.push(J-T),G.push(0)}for(K.writeUInt16(3),K.writeUInt16(1),K.writeUInt32(12),K.writeUInt16(4),K.writeUInt16(16+8*D+2*f.length),K.writeUInt16(0),K.writeUInt16(Z),K.writeUInt16(z),K.writeUInt16(m),K.writeUInt16(H),ae=0,C=p.length;ae<C;ae++)i=p[ae],K.writeUInt16(i);for(K.writeUInt16(0),pe=0,$=M.length;pe<$;pe++)i=M[pe],K.writeUInt16(i);for(ve=0,V=l.length;ve<V;ve++)o=l[ve],K.writeUInt16(o);for(ke=0,Q=G.length;ke<Q;ke++)E=G[ke],K.writeUInt16(E);for(Ce=0,re=f.length;Ce<re;Ce++)x=f[Ce],K.writeUInt16(x);return{charMap:n,subtable:K.data,maxGlyphID:k+1}}},t}(),Mb=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,ji),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new Yv(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=Yv.encode(e,r),(i=new da).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t}(),QN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,ji),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),ZN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,ji),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),e7=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,ji),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var a,o,l;for(l=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)l.push(e.readUInt32());return l}).call(this)}},t}(),t7=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},r7=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,ji),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,s,a,o,l,u,h,p,m;for(e.pos=this.offset,e.readShort(),r=e.readShort(),o=e.readShort(),n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},s=h=0,p=n.length;h<p;s=++h)i=n[s],e.pos=i.offset,u=e.readString(i.length),a=new t7(u,i),l[m=i.nameID]==null&&(l[m]=[]),l[i.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),n7=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,ji),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),i7=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,ji),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,s,a,o,l;for(e.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,h;for(h=[],r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u)h.push(e.readInt16());return h}(),this.widths=(function(){var u,h,p,m;for(m=[],u=0,h=(p=this.metrics).length;u<h;u++)s=p[u],m.push(s.advance);return m}).call(this),n=this.widths[this.widths.length-1],l=[],r=a=0;0<=i?a<i:a>i;r=0<=i?++a:--a)l.push(this.widths.push(n));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),zb=[].slice,s7=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,ji),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,s,a,o,l,u,h,p;return e in this.cache?this.cache[e]:(s=this.file.loca,r=this.file.contents,n=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,a=(o=new da(r.read(i))).readShort(),u=o.readShort(),p=o.readShort(),l=o.readShort(),h=o.readShort(),this.cache[e]=a===-1?new o7(o,u,p,l,h):new a7(o,a,u,p,l,h),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,s,a,o,l;for(a=[],s=[],o=0,l=r.length;o<l;o++)i=e[r[o]],s.push(a.length),i&&(a=a.concat(i.encode(n)));return s.push(a.length),{table:a,offsets:s}},t}(),a7=function(){function t(e,r,n,i,s,a){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),o7=function(){function t(e,r,n,i,s){var a,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new da(zb.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),l7=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,ji),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<n.length;++a)if(n[a]=i,s<r.length&&r[s]==a){++s,n[a]=i;var o=this.offsets[a],l=this.offsets[a+1]-o;l>0&&(i+=l)}for(var u=new Array(4*n.length),h=0;h<n.length;++h)u[4*h+3]=255&n[h],u[4*h+2]=(65280&n[h])>>8,u[4*h+1]=(16711680&n[h])>>16,u[4*h]=(4278190080&n[h])>>24;return u},t}(),u7=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in l=this.glyphsFor(r))n=l[s],i[s]=n;return i},t.prototype.encode=function(e,r){var n,i,s,a,o,l,u,h,p,m,f,_,x,A,w;for(i in n=Mb.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),f={0:0},w=n.charMap)f[(l=w[i]).old]=l.new;for(_ in m=n.maxGlyphID,a)_ in f||(f[_]=m++);return h=function(S){var k,E;for(k in E={},S)E[S[k]]=k;return E}(f),p=Object.keys(h).sort(function(S,k){return S-k}),x=function(){var S,k,E;for(E=[],S=0,k=p.length;S<k;S++)o=p[S],E.push(h[o]);return E}(),s=this.font.glyf.encode(a,x,f),u=this.font.loca.encode(s.offsets,x),A={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(A["OS/2"]=this.font.os2.raw()),this.font.directory.encode(A)},t}();Ge.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,s,a;if(Array.isArray(r))return"["+function(){var o,l,u;for(u=[],o=0,l=r.length;o<l;o++)n=r[o],u.push(e.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)a=r[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+r},e}();function Ub(t,e,r,n,i){n=n||{};var s=1.15,a=i.internal.scaleFactor,o=i.internal.getFontSize()/a,l=i.getLineHeightFactor?i.getLineHeightFactor():s,u=o*l,h=/\r\n|\r|\n/g,p="",m=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(p=typeof t=="string"?t.split(h):t,m=p.length||1),r+=o*(2-s),n.valign==="middle"?r-=m/2*u:n.valign==="bottom"&&(r-=m*u),n.halign==="center"||n.halign==="right"){var f=o;if(n.halign==="center"&&(f*=.5),p&&m>=1){for(var _=0;_<p.length;_++)i.text(p[_],e-i.getStringUnitWidth(p[_])*f,r),r+=u;return i}e-=i.getStringUnitWidth(t)*f}return n.halign==="justify"?i.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(t,e,r),i}var Xv={},ll=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:Xv=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,i,s;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var a=this.jsPDFDocument.internal.getFont(),o=a.fontStyle,l=a.fontName;if(e.font&&(l=e.font),e.fontStyle){o=e.fontStyle;var u=this.getFontList()[l];u&&u.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),o=u[0])}if(this.jsPDFDocument.setFont(l,o),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var h=t.unifyColor(e.fillColor);h&&(n=this.jsPDFDocument).setFillColor.apply(n,h),h=t.unifyColor(e.textColor),h&&(i=this.jsPDFDocument).setTextColor.apply(i,h),h=t.unifyColor(e.lineColor),h&&(s=this.jsPDFDocument).setDrawColor.apply(s,h),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,i,s){return this.jsPDFDocument.rect(e,r,n,i,s)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return Xv||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),n1=function(t,e){return n1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},n1(t,e)};function qb(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var $b=function(t){qb(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e}(Array);function c7(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function h7(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function Ad(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],i=n.map(function(s){return r.getTextWidth(s)}).reduce(function(s,a){return Math.max(s,a)},0);return i}function Wb(t,e,r,n){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:s});var a=Hb(i,!1);a&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,a)}function Hb(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function Qd(t,e){var r,n,i,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(s=t.bottom)!==null&&s!==void 0?s:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function Vb(t,e){var r=Qd(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function d7(t,e,r,n,i){var s={},a=1.3333333333333333,o=Op(e,function(k){return i.getComputedStyle(k).backgroundColor});o!=null&&(s.fillColor=o);var l=Op(e,function(k){return i.getComputedStyle(k).color});l!=null&&(s.textColor=l);var u=p7(n,r);u&&(s.cellPadding=u);var h="borderTopColor",p=a*r,m=n.borderTopWidth;if(n.borderBottomWidth===m&&n.borderRightWidth===m&&n.borderLeftWidth===m){var f=(parseFloat(m)||0)/p;f&&(s.lineWidth=f)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/p,right:(parseFloat(n.borderRightWidth)||0)/p,bottom:(parseFloat(n.borderBottomWidth)||0)/p,left:(parseFloat(n.borderLeftWidth)||0)/p},s.lineWidth.top||(s.lineWidth.right?h="borderRightColor":s.lineWidth.bottom?h="borderBottomColor":s.lineWidth.left&&(h="borderLeftColor"));var _=Op(e,function(k){return i.getComputedStyle(k)[h]});_!=null&&(s.lineColor=_);var x=["left","right","center","justify"];x.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),x=["middle","bottom","top"],x.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var A=parseInt(n.fontSize||"");isNaN(A)||(s.fontSize=A/a);var w=f7(n);w&&(s.fontStyle=w);var S=(n.fontFamily||"").toLowerCase();return t.indexOf(S)!==-1&&(s.font=S),s}function f7(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function Op(t,e){var r=Gb(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function Gb(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:Gb(t.parentElement,e):r}function p7(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=r.map(function(o){return parseInt(o||"0")/n}),a=Qd(s,0);return i>a.top&&(a.top=i),i>a.bottom&&(a.bottom=i),a}function Kb(t,e,r,n,i){var s,a;n===void 0&&(n=!1),i===void 0&&(i=!1);var o;typeof e=="string"?o=r.document.querySelector(e):o=e;var l=Object.keys(t.getFontList()),u=t.scaleFactor(),h=[],p=[],m=[];if(!o)return console.error("Html table could not be found with input: ",e),{head:h,body:p,foot:m};for(var f=0;f<o.rows.length;f++){var _=o.rows[f],x=(a=(s=_==null?void 0:_.parentElement)===null||s===void 0?void 0:s.tagName)===null||a===void 0?void 0:a.toLowerCase(),A=g7(l,u,r,_,n,i);A&&(x==="thead"?h.push(A):x==="tfoot"?m.push(A):p.push(A))}return{head:h,body:p,foot:m}}function g7(t,e,r,n,i,s){for(var a=new $b(n),o=0;o<n.cells.length;o++){var l=n.cells[o],u=r.getComputedStyle(l);if(i||u.display!=="none"){var h=void 0;s&&(h=d7(t,l,e,u,r)),a.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:h,_element:l,content:m7(l)})}}var p=r.getComputedStyle(n);if(a.length>0&&(i||p.display!=="none"))return a}function m7(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function v7(t,e,r){for(var n=0,i=[t,e,r];n<i.length;n++){var s=i[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function ms(t,e,r,n,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),a=1;a<arguments.length;a++){var o=arguments[a];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])}return s}function Jb(t,e){var r=new ll(t),n=r.getDocumentOptions(),i=r.getGlobalOptions();v7(i,n,e);var s=ms({},i,n,e),a;typeof window<"u"&&(a=window);var o=y7(i,n,e),l=w7(i,n,e),u=b7(r,s),h=_7(r,s,a);return{id:e.tableId,content:h,hooks:l,styles:o,settings:u}}function y7(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var u=t[l],h=e[l],p=r[l];n.columnStyles=ms({},u,h,p)}else{var m=[t,e,r],f=m.map(function(_){return _[l]||{}});n[l]=ms({},f[0],f[1],f[2])}},s=0,a=Object.keys(n);s<a.length;s++){var o=a[s];i(o)}return n}function w7(t,e,r){for(var n=[t,e,r],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,a=n;s<a.length;s++){var o=a[s];o.didParseCell&&i.didParseCell.push(o.didParseCell),o.willDrawCell&&i.willDrawCell.push(o.willDrawCell),o.didDrawCell&&i.didDrawCell.push(o.didDrawCell),o.willDrawPage&&i.willDrawPage.push(o.willDrawPage),o.didDrawPage&&i.didDrawPage.push(o.didDrawPage)}return i}function b7(t,e){var r,n,i,s,a,o,l,u,h,p,m,f,_=Qd(e.margin,40/t.scaleFactor()),x=(r=x7(t,e.startY))!==null&&r!==void 0?r:_.top,A;e.showFoot===!0?A="everyPage":e.showFoot===!1?A="never":A=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var w;e.showHead===!0?w="everyPage":e.showHead===!1?w="never":w=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var S=(s=e.useCss)!==null&&s!==void 0?s:!1,k=e.theme||(S?"plain":"striped"),E=!!e.horizontalPageBreak,F=(a=e.horizontalPageBreakRepeat)!==null&&a!==void 0?a:null;return{includeHiddenHtml:(o=e.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:S,theme:k,startY:x,margin:_,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(h=e.tableWidth)!==null&&h!==void 0?h:"auto",showHead:w,showFoot:A,tableLineWidth:(p=e.tableLineWidth)!==null&&p!==void 0?p:0,tableLineColor:(m=e.tableLineColor)!==null&&m!==void 0?m:200,horizontalPageBreak:E,horizontalPageBreakRepeat:F,horizontalPageBreakBehaviour:(f=e.horizontalPageBreakBehaviour)!==null&&f!==void 0?f:"afterAllRows"}}function x7(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),i=t.pageNumber(),s=!1;if(r&&r.startPageNumber){var a=r.startPageNumber+r.pageNumber-1;s=a===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function _7(t,e,r){var n=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var a=e.includeHiddenHtml;if(r){var o=Kb(t,e.html,r,a,e.useCss)||{};n=o.head||n,i=o.body||n,s=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=e.columns||S7(n,i,s);return{columns:l,head:n,body:i,foot:s}}function S7(t,e,r){var n=t[0]||e[0]||r[0]||[],i=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var a=1,o;Array.isArray(n)?o=n[parseInt(s)]:o=n[s],typeof o=="object"&&!Array.isArray(o)&&(a=(o==null?void 0:o.colSpan)||1);for(var l=0;l<a;l++){var u=void 0;Array.isArray(n)?u=i.length:u=s+(l>0?"_".concat(l):"");var h={dataKey:u};i.push(h)}}),i}var i1=function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t}(),k7=function(t){qb(e,t);function e(r,n,i,s,a,o){var l=t.call(this,r,n,o)||this;return l.cell=i,l.row=s,l.column=a,l.section=s.section,l}return e}(i1),A7=function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,i,s,a){for(var o=0,l=r;o<l.length;o++){var u=l[o],h=new k7(e,this,n,i,s,a),p=u(h)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],p)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var s=i[n];s(new i1(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var s=i[n];s(new i1(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t}(),Yb=function(){function t(e,r,n,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof $b&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=i,this.spansMultiplePages=s}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,i){var s;return Math.max(n,((s=r.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var i=r.cells[n.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(i,s){var a=n.cells[s.index];if(!a)return 0;var o=r.getLineHeight(a.styles.fontSize),l=a.padding("vertical"),u=l+o;return u>i?u:i},0)},t}(),Xb=function(){function t(e,r,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var a=s!=null?""+s:"",o=/\r\n|\r|\n/g;this.text=a.split(o)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*r,s=n*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=Qd(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t}(),N7=function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,i=e.allRows();n<i.length;n++){var s=i[n],a=s.cells[this.index];a&&typeof a.styles.cellWidth=="number"&&(r=Math.max(r,a.styles.cellWidth))}return r},t}();function j7(t,e){E7(t,e);var r=[],n=0;e.columns.forEach(function(s){var a=s.getMaxCustomCellWidth(e);a?s.width=a:(s.width=s.wrappedWidth,r.push(s)),n+=s.width});var i=e.getWidth(t.pageSize().width)-n;i&&(i=s1(r,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=s1(r,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.log("Of the table content, ".concat(i," units width could not fit page"))),L7(e),P7(e,t),C7(e)}function E7(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,i=Vb(t,e);e.allRows().forEach(function(s){for(var a=0,o=e.columns;a<o.length;a++){var l=o[a],u=s.cells[l.index];if(u){var h=e.hooks.didParseCell;e.callCellHooks(t,h,u,s,l,null);var p=u.padding("horizontal");u.contentWidth=Ad(u.text,u.styles,t)+p;var m=Ad(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=m+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var f=10/r;u.minWidth=u.styles.minCellWidth||f,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(s){for(var a=0,o=e.columns;a<o.length;a++){var l=o[a],u=s.cells[l.index];if(u&&u.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,u.wrappedWidth),l.minWidth=Math.max(l.minWidth,u.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,u.minReadableWidth);else{var h=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},p=h.cellWidth||h.minCellWidth;p&&typeof p=="number"&&(l.minWidth=p,l.wrappedWidth=p)}u&&(u.colSpan>1&&!l.minWidth&&(l.minWidth=u.minWidth),u.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=u.minWidth))}})}function s1(t,e,r){for(var n=e,i=t.reduce(function(f,_){return f+_.wrappedWidth},0),s=0;s<t.length;s++){var a=t[s],o=a.wrappedWidth/i,l=n*o,u=a.width+l,h=r(a),p=u<h?h:u;e-=p-a.width,a.width=p}if(e=Math.round(e*1e10)/1e10,e){var m=t.filter(function(f){return e<0?f.width>r(f):!0});m.length&&(e=s1(m,e,r))}return e}function C7(t){for(var e={},r=1,n=t.allRows(),i=0;i<n.length;i++)for(var s=n[i],a=0,o=t.columns;a<o.length;a++){var l=o[a],u=e[l.index];if(r>1)r--,delete s.cells[l.index];else if(u)u.cell.height+=s.height,r=u.cell.colSpan,delete s.cells[l.index],u.left--,u.left<=1&&delete e[l.index];else{var h=s.cells[l.index];if(!h)continue;if(h.height=s.height,h.rowSpan>1){var p=n.length-i,m=h.rowSpan>p?p:h.rowSpan;e[l.index]={cell:h,left:m,row:s}}}}}function L7(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],i=null,s=0,a=0,o=0;o<t.columns.length;o++){var l=t.columns[o];if(a-=1,a>1&&t.columns[o+1])s+=l.width,delete n.cells[l.index];else if(i){var u=i;delete n.cells[l.index],i=null,u.width=l.width+s}else{var u=n.cells[l.index];if(!u)continue;if(a=u.colSpan,s=0,u.colSpan>1){i=u,s+=l.width;continue}u.width=l.width+s}}}function P7(t,e){for(var r={count:0,height:0},n=0,i=t.allRows();n<i.length;n++){for(var s=i[n],a=0,o=t.columns;a<o.length;a++){var l=o[a],u=s.cells[l.index];if(u){e.applyStyles(u.styles,!0);var h=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,h+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=Qv(u.text,h,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=Qv(u.text,h,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var p=u.styles.overflow(u.text,h);typeof p=="string"?u.text=[p]:u.text=p}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var m=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<m*u.rowSpan?r={height:m,count:u.rowSpan}:r&&r.count>0&&r.height>m&&(m=r.height),m>s.height&&(s.height=m)}}r.count--}}function Qv(t,e,r,n,i){return t.map(function(s){return T7(s,e,r,n,i)})}function T7(t,e,r,n,i){var s=1e4*n.scaleFactor();if(e=Math.ceil(e*s)/s,e>=Ad(t,r,n))return t;for(;e<Ad(t+i,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function Qb(t,e){var r=new ll(t),n=R7(e,r.scaleFactor()),i=new A7(e,n);return j7(r,i),r.applyStyles(r.userStyles),i}function R7(t,e){var r=t.content,n=O7(r.columns);if(r.head.length===0){var i=Zv(n,"head");i&&r.head.push(i)}if(r.foot.length===0){var i=Zv(n,"foot");i&&r.foot.push(i)}var s=t.settings.theme,a=t.styles;return{columns:n,head:Fp("head",r.head,n,a,s,e),body:Fp("body",r.body,n,a,s,e),foot:Fp("foot",r.foot,n,a,s,e)}}function Fp(t,e,r,n,i,s){var a={},o=e.map(function(l,u){for(var h=0,p={},m=0,f=0,_=0,x=r;_<x.length;_++){var A=x[_];if(a[A.index]==null||a[A.index].left===0)if(f===0){var w=void 0;Array.isArray(l)?w=l[A.index-m-h]:w=l[A.dataKey];var S={};typeof w=="object"&&!Array.isArray(w)&&(S=(w==null?void 0:w.styles)||{});var k=F7(t,A,u,i,n,s,S),E=new Xb(w,k,t);p[A.dataKey]=E,p[A.index]=E,f=E.colSpan-1,a[A.index]={left:E.rowSpan-1,times:f}}else f--,m++;else a[A.index].left--,f=a[A.index].times,h++}return new Yb(l,u,t,p)});return o}function Zv(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var i=I7(e,n.raw);i!=null&&(r[n.dataKey]=i)}}),Object.keys(r).length>0?r:null}function I7(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function O7(t){return t.map(function(e,r){var n,i;return typeof e=="object"?i=(n=e.dataKey)!==null&&n!==void 0?n:r:i=r,new N7(i,e,r)})}function F7(t,e,r,n,i,s,a){var o=h7(n),l;t==="head"?l=i.headStyles:t==="body"?l=i.bodyStyles:t==="foot"&&(l=i.footStyles);var u=ms({},o.table,o[t],i.styles,l),h=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},p=t==="body"?h:{},m=t==="body"&&r%2===0?ms({},o.alternateRow,i.alternateRowStyles):{},f=c7(s),_=ms({},f,u,m,p);return ms(_,a)}function D7(t,e,r){var n;r===void 0&&(r={});var i=Vb(t,e),s=new Map,a=[],o=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(m){var f=e.columns.find(function(_){return _.dataKey===m||_.index===m});f&&!s.has(f.index)&&(s.set(f.index,!0),a.push(f.index),o.push(e.columns[f.index]),i-=f.wrappedWidth)});for(var u=!0,h=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;h<e.columns.length;){if(s.has(h)){h++;continue}var p=e.columns[h].wrappedWidth;if(u||i>=p)u=!1,a.push(h),o.push(e.columns[h]),i-=p;else break;h++}return{colIndexes:a,columns:o,lastIndex:h-1}}function B7(t,e){for(var r=[],n=0;n<e.columns.length;n++){var i=D7(t,e,{start:n});i.columns.length&&(r.push(i),n=i.lastIndex)}return r}function Zb(t,e){var r=e.settings,n=r.startY,i=r.margin,s={x:i.left,y:n},a=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),o=n+i.bottom+a;if(r.pageBreak==="avoid"){var l=e.body,u=l.reduce(function(m,f){return m+f.height},0);o+=u}var h=new ll(t);(r.pageBreak==="always"||r.startY!=null&&o>h.pageSize().height)&&(tx(h),s.y=i.top),e.callWillDrawPageHooks(h,s);var p=ms({},s);e.startPageNumber=h.pageNumber(),r.horizontalPageBreak?M7(h,e,p,s):(h.applyStyles(h.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(m){return _s(h,e,m,s,e.columns)}),h.applyStyles(h.userStyles),e.body.forEach(function(m,f){var _=f===e.body.length-1;Nd(h,e,m,_,p,s,e.columns)}),h.applyStyles(h.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(m){return _s(h,e,m,s,e.columns)})),Wb(h,e,p,s),e.callEndPageHooks(h,s),e.finalY=s.y,t.lastAutoTable=e,h.applyStyles(h.userStyles)}function M7(t,e,r,n){var i=B7(t,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,h){t.applyStyles(t.userStyles),h>0?Au(t,e,r,n,u.columns,!0):e5(t,e,n,u.columns),z7(t,e,r,n,u.columns),Dp(t,e,n,u.columns)});else for(var a=-1,o=i[0],l=function(){var u=a;if(o){t.applyStyles(t.userStyles);var h=o.columns;a>=0?Au(t,e,r,n,h,!0):e5(t,e,n,h),u=t5(t,e,a+1,n,h),Dp(t,e,n,h)}var p=u-a;i.slice(1).forEach(function(m){t.applyStyles(t.userStyles),Au(t,e,r,n,m.columns,!0),t5(t,e,a+1,n,m.columns,p),Dp(t,e,n,m.columns)}),a=u};a<e.body.length-1;)l()}function e5(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return _s(t,e,s,r,n)})}function z7(t,e,r,n,i){t.applyStyles(t.userStyles),e.body.forEach(function(s,a){var o=a===e.body.length-1;Nd(t,e,s,o,r,n,i)})}function t5(t,e,r,n,i,s){t.applyStyles(t.userStyles),s=s??e.body.length;var a=Math.min(r+s,e.body.length),o=-1;return e.body.slice(r,a).forEach(function(l,u){var h=r+u===e.body.length-1,p=ex(t,e,h,n);l.canEntireRowFit(p,i)&&(_s(t,e,l,n,i),o=r+u)}),o}function Dp(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return _s(t,e,s,r,n)})}function U7(t,e,r){var n=r.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),s=Math.floor((e-i)/n);return Math.max(0,s)}function q7(t,e,r,n){var i={};t.spansMultiplePages=!0,t.height=0;for(var s=0,a=0,o=r.columns;a<o.length;a++){var l=o[a],u=t.cells[l.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var h=new Xb(u.raw,u.styles,u.section);h=ms(h,u),h.text=[];var p=U7(u,e,n);u.text.length>p&&(h.text=u.text.splice(p,u.text.length));var m=n.scaleFactor(),f=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(m,f),u.contentHeight>=e&&(u.contentHeight=e,h.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),h.contentHeight=h.getContentHeight(m,f),h.contentHeight>s&&(s=h.contentHeight),i[l.index]=h}}var _=new Yb(t.raw,-1,t.section,i,!0);_.height=s;for(var x=0,A=r.columns;x<A.length;x++){var l=A[x],h=_.cells[l.index];h&&(h.height=_.height);var u=t.cells[l.index];u&&(u.height=t.height)}return _}function $7(t,e,r,n){var i=t.pageSize().height,s=n.settings.margin,a=s.top+s.bottom,o=i-a;e.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=e.getMinimumRowHeight(n.columns,t),u=l<r;if(l>o)return console.log("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var h=e.hasRowSpan(n.columns),p=e.getMaxCellHeight(n.columns)>o;return p?(h&&console.log("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(h||n.settings.rowPageBreak==="avoid")}function Nd(t,e,r,n,i,s,a){var o=ex(t,e,n,s);if(r.canEntireRowFit(o,a))_s(t,e,r,s,a);else if($7(t,r,o,e)){var l=q7(r,o,e,t);_s(t,e,r,s,a),Au(t,e,i,s,a),Nd(t,e,l,n,i,s,a)}else Au(t,e,i,s,a),Nd(t,e,r,n,i,s,a)}function _s(t,e,r,n,i){n.x=e.settings.margin.left;for(var s=0,a=i;s<a.length;s++){var o=a[s],l=r.cells[o.index];if(!l){n.x+=o.width;continue}t.applyStyles(l.styles),l.x=n.x,l.y=n.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,l,r,o,n);if(u===!1){n.x+=o.width;continue}W7(t,l,n);var h=l.getTextPos();Ub(l.text,h.x,h.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,r,o,n),n.x+=o.width}n.y+=r.height}function W7(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=Hb(n.lineWidth,n.fillColor);i&&t.rect(e.x,r.y,e.width,e.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),H7(t,e,r,n.lineWidth))}function H7(t,e,r,n){var i,s,a,o;n.top&&(i=r.x,s=r.y,a=r.x+e.width,o=r.y,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),l(n.top,i,s,a,o)),n.bottom&&(i=r.x,s=r.y+e.height,a=r.x+e.width,o=r.y+e.height,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),l(n.bottom,i,s,a,o)),n.left&&(i=r.x,s=r.y,a=r.x,o=r.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,i,s,a,o)),n.right&&(i=r.x+e.width,s=r.y,a=r.x+e.width,o=r.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,i,s,a,o));function l(u,h,p,m,f){t.getDocument().setLineWidth(u),t.getDocument().line(h,p,m,f,"S")}}function ex(t,e,r,n){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&r)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-i}function Au(t,e,r,n,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(o){return _s(t,e,o,n,i)}),e.callEndPageHooks(t,n);var a=e.settings.margin;Wb(t,e,r,n),tx(t),e.pageNumber++,n.x=a.left,n.y=a.top,r.y=a.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(o){return _s(t,e,o,n,i)}),t.applyStyles(t.userStyles))}function tx(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function V7(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],i=Jb(this,n),s=Qb(this,i);return Zb(this,s),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,i){Ub(e,r,n,i,this)},t.API.autoTableSetDefaults=function(e){return ll.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){ll.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new ll(this),s=Kb(i,e,window,r,!1),a=s.head,o=s.body,l=((n=a[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:l,rows:o,data:o}}}var Bp;function jd(t,e){var r=Jb(t,e),n=Qb(t,r);Zb(t,n)}try{if(typeof window<"u"&&window){var r5=window,n5=r5.jsPDF||((Bp=r5.jspdf)===null||Bp===void 0?void 0:Bp.jsPDF);n5&&V7(n5)}}catch(t){console.error("Could not apply autoTable plugin",t)}const G7=t=>{if(!t)return"-";const e=new Date(`${t}T00:00:00`);return Number.isNaN(e.getTime())?t:e.toLocaleDateString("pt-BR")},Dr=t=>{if(t==null)return 0;const e=typeof t=="string"?t.replace(",","."):t,r=Number(e);return Number.isFinite(r)?r:0},i5=t=>{if(!t)return null;const e=new Date(`${t}T00:00:00`);if(Number.isNaN(e.getTime()))return null;const r=new Date;r.setHours(0,0,0,0);const n=e.getTime()-r.getTime();return Math.ceil(n/(1e3*60*60*24))},s5=(t,e,r,n,i,s,a)=>{const o=Math.max(...s.map(m=>m.value),1),l=r+8,u=i-16,h=n,p=s.length?h/s.length:h;if(t.setFontSize(11),t.setTextColor(0),t.text(a,e,r+4),t.setDrawColor(226,232,240),t.rect(e,l,h,u),!s.length){t.setFontSize(9),t.setTextColor(120),t.text("Sem dados",e+6,l+u/2);return}s.forEach((m,f)=>{const _=m.value/o*(u-12),x=e+f*p+6,A=l+u-_-4,w=Math.max(6,p-12);t.setFillColor(m.color[0],m.color[1],m.color[2]),t.rect(x,A,w,_,"F"),t.setFontSize(8),t.setTextColor(60),t.text(String(m.value),x,A-2);const S=m.label.length>10?`${m.label.slice(0,10)}...`:m.label;t.text(S,x,l+u+6)})},K7=t=>{var E;const e=new Ge;e.setFontSize(20),e.setTextColor(0,156,59),e.text("Brasil Mais Distribuidora",105,20,{align:"center"}),e.setFontSize(16),e.setTextColor(0,0,0),e.text("Relatrio de Estoque",105,30,{align:"center"}),e.setFontSize(10),e.setTextColor(100);const r=new Date().toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"});e.text(`Gerado em: ${r}`,105,38,{align:"center"});const n=100,i=30,s=t.length,a=t.reduce((F,G)=>F+Dr(G.stock),0),o=t.reduce((F,G)=>F+Dr(G.price)*Dr(G.stock),0),l=t.filter(F=>Dr(F.stock)<n).length,u=t.filter(F=>{const G=i5(F.expiration_date);return G!==null&&G>=0&&G<=i}).length;e.setFontSize(11),e.setTextColor(0),e.text(`Total de Produtos: ${s}`,20,50),e.text(`Estoque Total: ${a} unidades`,20,57),e.text(`Valor Total: R$ ${o.toFixed(2)}`,20,64),e.text(`Produtos em Estoque Critico: ${l}`,20,71),e.text(`Vencendo em ${i} dias: ${u}`,20,78);let h=86;const p=e.internal.pageSize.getHeight(),m=F=>{h+F>p-20&&(e.addPage(),h=20)},f=[{label:"Baixo",value:t.filter(F=>Dr(F.stock)<n).length,color:[239,68,68]},{label:"Normal",value:t.filter(F=>Dr(F.stock)>=n&&Dr(F.stock)<500).length,color:[59,130,246]},{label:"Alto",value:t.filter(F=>Dr(F.stock)>=500).length,color:[16,185,129]}],_=t.reduce((F,G)=>{const H=wd(G.type);return F[H]=(F[H]||0)+Dr(G.stock),F},{}),x=Object.entries(_).sort((F,G)=>G[1]-F[1]).slice(0,5).map(([F,G],H)=>({label:F,value:G,color:[[0,156,59],[0,119,255],[245,158,11],[148,163,184],[124,58,237]][H%5]}));if(m(60),s5(e,20,h,80,50,f,"Status do estoque"),s5(e,115,h,80,50,x,"Estoque por categoria"),h+=60,typeof jd!="function")return e.setFontSize(10),e.setTextColor(120),e.text("Tabela nao disponivel (plugin autoTable nao carregado).",20,h),e;const A=t.map(F=>{const G=Dr(F.price),H=Dr(F.wholesale_price),z=Dr(F.stock);return[F.name,F.dosage,wd(F.type),z,G7(F.expiration_date),`${Dr(F.promo_percent).toFixed(0)}%`,`R$ ${G.toFixed(2)}`,`R$ ${H.toFixed(2)}`,`R$ ${(G*z).toFixed(2)}`,z>=500?"Alto":z>=n?"Normal":"Baixo"]});jd(e,{head:[["Produto","Dosagem","Categoria","Qtd","Validade","Promo","Preo Un.","Preo Atacado","Valor Total","Status"]],body:A,startY:h,styles:{fontSize:7,cellPadding:3},headStyles:{fillColor:[0,156,59],textColor:255,fontStyle:"bold"},columnStyles:{3:{halign:"center"},4:{halign:"center"},5:{halign:"center"},6:{halign:"right"},7:{halign:"right"},8:{halign:"right"},9:{halign:"center"}},didParseCell:function(F){if(F.section==="body"&&F.column.index===9){const G=F.cell.raw;G==="Baixo"?(F.cell.styles.textColor=[220,38,38],F.cell.styles.fontStyle="bold"):G==="Alto"&&(F.cell.styles.textColor=[16,185,129])}}}),h=(((E=e.lastAutoTable)==null?void 0:E.finalY)||h)+10,m(60),e.setFontSize(12),e.setTextColor(0),e.text("Sugestoes de reposicao",20,h),h+=6;const w=t.filter(F=>Dr(F.stock)<n);w.length===0?(e.setFontSize(10),e.setTextColor(90),e.text("- Nenhum produto abaixo do limite de estoque.",20,h),h+=6):(e.setFontSize(10),e.setTextColor(60),w.slice(0,8).forEach(F=>{const G=Math.max(0,n-Dr(F.stock));e.text(`- Repor ${F.name}: falta ${G} un. para atingir ${n}.`,20,h),h+=5}),w.length>8&&(e.text(`- ... e mais ${w.length-8} produtos.`,20,h),h+=5)),t.filter(F=>{const G=i5(F.expiration_date);return G!==null&&G>=0&&G<=i}).length>0&&(e.text(`- Produtos vencendo em ate ${i} dias: aplicar promocao e revisar estoque.`,20,h),h+=5);const k=e.internal.getNumberOfPages();e.setFontSize(8),e.setTextColor(150);for(let F=1;F<=k;F++)e.setPage(F),e.text(`Pgina ${F} de ${k}`,e.internal.pageSize.getWidth()/2,e.internal.pageSize.getHeight()-10,{align:"center"});return e},J7=t=>{const e=t.filter(s=>Dr(s.stock)<100),r=new Ge;r.setFontSize(20),r.setTextColor(220,38,38),r.text("Brasil Mais Distribuidora",105,20,{align:"center"}),r.setFontSize(16),r.setTextColor(0,0,0),r.text("Relatrio de Estoque Crtico",105,30,{align:"center"}),r.setFontSize(10),r.setTextColor(100);const n=new Date().toLocaleDateString("pt-BR");r.text(`Gerado em: ${n}`,105,38,{align:"center"}),r.setFontSize(12),r.setTextColor(220,38,38),r.text(` ${e.length} produtos precisam de reposio urgente`,20,50);const i=e.map(s=>{const a=Dr(s.price),o=Dr(s.stock);return[s.name,s.dosage,o,`R$ ${a.toFixed(2)}`,o<50?"CRTICO":"BAIXO"]});return typeof jd!="function"?(r.setFontSize(10),r.setTextColor(120),r.text("Tabela nao disponivel (plugin autoTable nao carregado).",20,60),r):(jd(r,{head:[["Produto","Dosagem","Qtd Atual","Preo","Prioridade"]],body:i,startY:60,headStyles:{fillColor:[220,38,38],textColor:255},didParseCell:function(s){s.section==="body"&&s.column.index===4&&s.cell.raw==="CRTICO"&&(s.cell.styles.fillColor=[254,226,226],s.cell.styles.textColor=[153,27,27],s.cell.styles.fontStyle="bold")}}),r)},Y7=()=>{console.log(" Renderizando AdminDashboard");const[t,e]=de.useState(null),[r,n]=de.useState(!0),[i,s]=de.useState([]),[a,o]=de.useState("stock"),[l,u]=de.useState([]),[h,p]=de.useState(!1),[m,f]=de.useState(""),[_,x]=de.useState(""),[A,w]=de.useState(""),[S,k]=de.useState(""),[E,F]=de.useState(""),[G,H]=de.useState(!1),[z,D]=de.useState(100),[Z,T]=de.useState(30),M=()=>({name:"",dosage:"",type:"",stock:"",price:"",wholesale_price:"",description:"",image_url:"",expiration_date:"",requires_prescription:!1}),[J,K]=de.useState(!1),[he,ge]=de.useState(!1),[Y,O]=de.useState(""),[ne,fe]=de.useState(null),[oe,C]=de.useState(M()),[$,V]=de.useState(null),[Q,re]=de.useState(""),ae=de.useRef(null),pe="medicine-images",me=5*1024*1024,ve={width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",fontSize:"0.95rem"},ke={display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"};de.useEffect(()=>{pt.auth.getSession().then(({data:{session:Ee}})=>{e(Ee),n(!1)});const{data:{subscription:ee}}=pt.auth.onAuthStateChange((Ee,Te)=>{e(Te)});return()=>ee.unsubscribe()},[]),de.useEffect(()=>{t&&Ce()},[t]),de.useEffect(()=>{t&&a==="customers"&&Re()},[t,a]);const Ce=async()=>{try{const{data:ee,error:Ee}=await pt.from("medicines").select("*").order("name");if(Ee)throw Ee;s(ee||[])}catch(ee){console.error("Erro ao buscar medicamentos:",ee)}},Re=async()=>{f(""),p(!0);try{const{data:ee,error:Ee}=await pt.from("customers").select("id, name, email, cpf_cnpj, phone1, municipio, estado, created_at").order("created_at",{ascending:!1});if(Ee)throw Ee;u(ee||[])}catch(ee){console.error("Erro ao buscar clientes:",ee);const Ee=ee.message||"Erro ao buscar clientes.";Ee.toLowerCase().includes("permission")?f("Sem permissao para listar clientes. Verifique se o email esta cadastrado na tabela admins e se as politicas foram aplicadas."):f(Ee)}finally{p(!1)}},Ke=ee=>{ee&&ee.startsWith("blob:")&&URL.revokeObjectURL(ee)},B=()=>{ae.current&&(ae.current.value="")},Le=(ee="")=>{Ke(Q),B(),V(null),re(ee||"")},ht=()=>{fe(null),O(""),C(M()),Le(""),K(!0)},Ze=ee=>{fe(ee),O(""),C({name:ee.name||"",dosage:ee.dosage||"",type:ee.type||"",stock:ee.stock??"",price:ee.price??"",wholesale_price:ee.wholesale_price??"",description:ee.description||"",image_url:ee.image_url||"",expiration_date:ee.expiration_date||"",requires_prescription:!!ee.requires_prescription}),Le(ee.image_url||""),K(!0)},Ae=()=>{K(!1),fe(null),O(""),Le("")},ze=(ee,Ee)=>{C(Te=>({...Te,[ee]:Ee}))},Ie=ee=>{O("");const Ee=ee.target.files&&ee.target.files[0];if(!Ee){Le((ne==null?void 0:ne.image_url)||oe.image_url||"");return}if(!Ee.type.startsWith("image/")){O("Selecione um arquivo de imagem valido."),ee.target.value="";return}if(Ee.size>me){O("Imagem muito grande. Maximo 5MB."),ee.target.value="";return}Ke(Q);const Te=URL.createObjectURL(Ee);V(Ee),re(Te)},Ye=ee=>Number(String(ee).replace(",",".")),Xe=async ee=>{var Or;if(ee.preventDefault(),O(""),!oe.name.trim()||!oe.dosage.trim()||!oe.type.trim()){O("Preencha nome, dosagem e tipo.");return}if(oe.price===""||oe.wholesale_price===""||oe.stock===""){O("Preco, preco atacado e estoque sao obrigatorios.");return}const Ee=Ye(oe.price),Te=Ye(oe.wholesale_price),De=Ye(oe.stock);if(!Number.isFinite(Ee)||Ee<0){O("Preco invalido.");return}if(!Number.isFinite(Te)||Te<0){O("Preco atacado invalido.");return}if(!Number.isFinite(De)||De<0){O("Estoque invalido.");return}let St=oe.image_url.trim()?oe.image_url.trim():null;ge(!0);try{if($){const un=$.name.includes(".")?$.name.split(".").pop():"jpg",tt=`${Date.now()}-${Math.random().toString(36).slice(2)}`,Hn=`${((Or=t==null?void 0:t.user)==null?void 0:Or.id)||"public"}/${tt}.${un}`,{error:cn}=await pt.storage.from(pe).upload(Hn,$,{cacheControl:"3600",upsert:!0,contentType:$.type});if(cn)throw cn;const{data:Ur}=pt.storage.from(pe).getPublicUrl(Hn);if(!(Ur!=null&&Ur.publicUrl))throw new Error("Nao foi possivel obter a URL da imagem.");St=Ur.publicUrl}const Lt={name:oe.name.trim(),dosage:oe.dosage.trim(),type:oe.type.trim(),stock:Math.trunc(De),price:Ee,wholesale_price:Te,description:oe.description.trim()?oe.description.trim():null,image_url:St,expiration_date:oe.expiration_date?oe.expiration_date:null,requires_prescription:!!oe.requires_prescription};let Ar;if(ne?{error:Ar}=await pt.from("medicines").update(Lt).eq("id",ne.id):{error:Ar}=await pt.from("medicines").insert([Lt]),Ar)throw Ar;await Ce(),Ae()}catch(Lt){console.error("Erro ao salvar medicamento:",Lt);let Ar=Lt.message||"Erro ao salvar medicamento.";const un=Ar.toLowerCase();(un.includes("bucket")||un.includes("storage"))&&(Ar=`${Ar} Verifique o bucket ${pe} e as politicas no Supabase.`),O(Ar)}finally{ge(!1)}},Ct=async ee=>{ee.preventDefault(),F(""),H(!0);try{const{data:Ee,error:Te}=await pt.auth.signInWithPassword({email:A,password:S});if(Te)throw Te}catch(Ee){console.error("Erro no login:",Ee),F(Ee.message||"Erro ao fazer login. Verifique suas credenciais.")}finally{H(!1)}},yt=async()=>{try{await pt.auth.signOut()}catch(ee){console.error("Erro ao fazer logout:",ee)}},ot=()=>{try{K7(i).save(`Estoque_BrasilMais_${new Date().toLocaleDateString("pt-BR").replace(/\//g,"-")}.pdf`)}catch(ee){console.error("Erro ao gerar relatrio completo:",ee),alert("Nao foi possivel gerar o relatorio. Verifique os dados do estoque e tente novamente.")}},bt=()=>{try{J7(i).save(`Estoque_Critico_${new Date().toLocaleDateString("pt-BR").replace(/\//g,"-")}.pdf`)}catch(ee){console.error("Erro ao gerar relatrio crtico:",ee),alert("Nao foi possivel gerar o relatorio crtico. Verifique os dados do estoque e tente novamente.")}},wt=()=>{window.print()},Ue=ee=>{if(!ee)return"-";const Ee=new Date(`${ee}T00:00:00`);return Number.isNaN(Ee.getTime())?ee:Ee.toLocaleDateString("pt-BR")},st=ee=>{if(!ee)return null;const Ee=new Date(`${ee}T00:00:00`);if(Number.isNaN(Ee.getTime()))return null;const Te=new Date;Te.setHours(0,0,0,0);const De=Ee.getTime()-Te.getTime();return Math.ceil(De/(1e3*60*60*24))},qe=async(ee,Ee)=>{const Te=Math.max(0,(ee.stock??0)+Ee);try{const{error:De}=await pt.from("medicines").update({stock:Te}).eq("id",ee.id);if(De)throw De;await Ce()}catch(De){console.error("Erro ao ajustar estoque:",De),alert(De.message||"Erro ao ajustar estoque.")}},Zt=async ee=>{if(window.confirm(`Remover o produto "${ee.name}"? Essa ao no pode ser desfeita.`))try{const{error:Te}=await pt.from("medicines").delete().eq("id",ee.id);if(Te)throw Te;await Ce()}catch(Te){console.error("Erro ao remover produto:",Te),alert(Te.message||"Erro ao remover produto.")}},_t=async(ee,Ee=10)=>{try{const{error:Te}=await pt.from("medicines").update({promo_percent:Ee}).eq("id",ee.id);if(Te)throw Te;await Ce()}catch(Te){console.error("Erro ao aplicar promoo:",Te),alert(Te.message||"Erro ao aplicar promoo.")}},dt=async ee=>{try{const{error:Ee}=await pt.from("medicines").update({promo_percent:0}).eq("id",ee.id);if(Ee)throw Ee;await Ce()}catch(Ee){console.error("Erro ao remover promoo:",Ee),alert(Ee.message||"Erro ao remover promoo.")}},Pt=(()=>{const ee=i.length,Ee=i.reduce((Or,Lt)=>Or+Lt.stock,0),Te=i.reduce((Or,Lt)=>Or+Lt.price*Lt.stock,0),De=i.filter(Or=>Or.stock<z).length,St=i.filter(Or=>{const Lt=st(Or.expiration_date);return Lt!==null&&Lt>=0&&Lt<=Z}).length;return{totalProducts:ee,totalStock:Ee,totalValue:Te,criticalStock:De,expiringSoon:St}})(),Qe=i.map(ee=>{const Ee=st(ee.expiration_date);return{...ee,daysUntil:Ee}}).filter(ee=>ee.daysUntil!==null&&ee.daysUntil>=0&&ee.daysUntil<=Z).sort((ee,Ee)=>(ee.daysUntil??0)-(Ee.daysUntil??0)),Rt=i.filter(ee=>ee.stock<z),et=l.filter(ee=>{const Ee=_.trim().toLowerCase();return Ee?[ee.name,ee.email,ee.cpf_cnpj,ee.phone1,ee.municipio,ee.estado].filter(Boolean).some(Te=>Te.toString().toLowerCase().includes(Ee)):!0});return r?v.jsx("div",{style:{display:"flex",minHeight:"calc(100vh - 80px)",alignItems:"center",justifyContent:"center"},children:v.jsx(ua,{size:48,color:"var(--color-primary)",style:{animation:"spin 1s linear infinite"}})}):t?v.jsxs("div",{className:"container",style:{display:"flex",gap:"2rem",marginTop:"2rem",flexWrap:"wrap"},children:[v.jsxs("aside",{className:"glass-card fade-in",style:{width:"250px",padding:"1.5rem",height:"fit-content"},children:[v.jsxs("div",{style:{marginBottom:"2rem"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--color-primary)",fontWeight:"bold",marginBottom:"0.5rem"},children:[v.jsx(h2,{size:24}),v.jsx("span",{children:"Painel Admin"})]}),v.jsx("p",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)"},children:t.user.email})]}),v.jsxs("nav",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[v.jsxs("button",{className:`btn ${a==="stock"?"btn-primary":"btn-outline"}`,style:{justifyContent:"flex-start",width:"100%"},onClick:()=>o("stock"),children:[v.jsx(d2,{size:18})," Estoque"]}),v.jsxs("button",{className:`btn ${a==="customers"?"btn-primary":"btn-outline"}`,style:{justifyContent:"flex-start",width:"100%"},onClick:()=>o("customers"),children:[v.jsx(IS,{size:18})," Clientes"]}),v.jsxs("button",{className:`btn ${a==="settings"?"btn-primary":"btn-outline"}`,style:{justifyContent:"flex-start",width:"100%"},onClick:()=>o("settings"),children:[v.jsx(NS,{size:18})," Configuraes"]})]}),v.jsx("div",{style:{marginTop:"4rem",paddingTop:"1rem",borderTop:"1px solid var(--color-border)"},children:v.jsxs("button",{onClick:yt,className:"btn btn-outline",style:{width:"100%",color:"#dc2626",borderColor:"#dc2626"},children:[v.jsx(Tw,{size:18})," Sair"]})})]}),v.jsxs("main",{style:{flex:1,minWidth:"300px"},className:"slide-in",children:[a==="stock"&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[v.jsxs("div",{className:"glass-card",style:{padding:"1.5rem"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.75rem"},children:[v.jsx("span",{style:{fontSize:"0.875rem",color:"var(--color-text-muted)"},children:"Total de Produtos"}),v.jsx(d2,{size:20,color:"var(--color-primary)"})]}),v.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",color:"var(--color-primary)"},children:Pt.totalProducts})]}),v.jsxs("div",{className:"glass-card",style:{padding:"1.5rem"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.75rem"},children:[v.jsx("span",{style:{fontSize:"0.875rem",color:"var(--color-text-muted)"},children:"Unidades em Estoque"}),v.jsx(PS,{size:20,color:"#3b82f6"})]}),v.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#3b82f6"},children:Pt.totalStock.toLocaleString()})]}),v.jsxs("div",{className:"glass-card",style:{padding:"1.5rem"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.75rem"},children:[v.jsx("span",{style:{fontSize:"0.875rem",color:"var(--color-text-muted)"},children:"Valor Total"}),v.jsx(xS,{size:20,color:"#10b981"})]}),v.jsxs("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#10b981"},children:["R$ ",Pt.totalValue.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),v.jsxs("div",{className:"glass-card",style:{padding:"1.5rem"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.75rem"},children:[v.jsx("span",{style:{fontSize:"0.875rem",color:"var(--color-text-muted)"},children:"Estoque Crtico"}),v.jsx(sp,{size:20,color:"#ef4444"})]}),v.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#ef4444"},children:Pt.criticalStock})]}),v.jsxs("div",{className:"glass-card",style:{padding:"1.5rem"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.75rem"},children:[v.jsxs("span",{style:{fontSize:"0.875rem",color:"var(--color-text-muted)"},children:["Vencendo em ",Z," dias"]}),v.jsx(sp,{size:20,color:"#f59e0b"})]}),v.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#f59e0b"},children:Pt.expiringSoon})]})]}),v.jsx("div",{className:"glass-card",style:{padding:"2rem",marginBottom:"2rem"},children:v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[v.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"700"},children:"Relatrios"}),v.jsxs("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap"},children:[v.jsxs("button",{onClick:ot,className:"btn btn-outline",style:{fontSize:"0.9rem"},children:[v.jsx(_S,{size:18})," Baixar Relatrio Completo"]}),v.jsxs("button",{onClick:bt,className:"btn btn-outline",style:{fontSize:"0.9rem"},children:[v.jsx(sp,{size:18})," Produtos Crticos"]}),v.jsxs("button",{onClick:wt,className:"btn btn-outline",style:{fontSize:"0.9rem"},children:[v.jsx(AS,{size:18})," Imprimir"]})]})]})}),v.jsxs("div",{className:"glass-card",style:{padding:"2rem",marginBottom:"2rem"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem",gap:"1rem",flexWrap:"wrap"},children:[v.jsxs("div",{children:[v.jsxs("h3",{style:{fontSize:"1.1rem",fontWeight:"700"},children:["Prximos do vencimento (",Z," dias)"]}),v.jsxs("p",{style:{color:"var(--color-text-muted)",fontSize:"0.85rem"},children:["Produtos que vencem em at ",Z," dias."]})]}),v.jsx("button",{type:"button",className:"btn btn-outline",onClick:Ce,children:"Atualizar lista"})]}),Qe.length===0?v.jsx("p",{style:{color:"var(--color-text-muted)"},children:"Nenhum produto vencendo em breve."}):v.jsx("div",{style:{display:"grid",gap:"0.75rem"},children:Qe.map(ee=>v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem 1rem",border:"1px solid var(--color-border)",borderRadius:"0.75rem",gap:"1rem",flexWrap:"wrap"},children:[v.jsxs("div",{children:[v.jsx("strong",{children:ee.name}),v.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--color-text-muted)"},children:["Vence em ",ee.daysUntil," dias - ",Ue(ee.expiration_date)]})]}),v.jsx("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center",flexWrap:"wrap"},children:(ee.promo_percent??0)>0?v.jsxs(v.Fragment,{children:[v.jsxs("span",{className:"badge badge-success",children:["Promoo ",ee.promo_percent,"%"]}),v.jsx("button",{type:"button",className:"btn btn-outline",onClick:()=>dt(ee),children:"Remover promo"})]}):v.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>_t(ee,10),children:"Aplicar -10%"})})]},ee.id))})]}),v.jsxs("div",{className:"glass-card",style:{padding:"2rem",marginBottom:"2rem"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem",gap:"1rem",flexWrap:"wrap"},children:[v.jsxs("div",{children:[v.jsxs("h3",{style:{fontSize:"1.1rem",fontWeight:"700"},children:["Estoque baixo (abaixo de ",z,")"]}),v.jsx("p",{style:{color:"var(--color-text-muted)",fontSize:"0.85rem"},children:"Produtos que precisam de reposio."})]}),v.jsx("button",{type:"button",className:"btn btn-outline",onClick:Ce,children:"Atualizar lista"})]}),Rt.length===0?v.jsx("p",{style:{color:"var(--color-text-muted)"},children:"Nenhum produto com estoque baixo."}):v.jsx("div",{style:{display:"grid",gap:"0.75rem"},children:Rt.map(ee=>v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem 1rem",border:"1px solid var(--color-border)",borderRadius:"0.75rem",gap:"1rem",flexWrap:"wrap"},children:[v.jsxs("div",{children:[v.jsx("strong",{children:ee.name}),v.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--color-text-muted)"},children:["Estoque atual: ",ee.stock]})]}),v.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center",flexWrap:"wrap"},children:[v.jsx("button",{type:"button",className:"btn btn-outline",onClick:()=>qe(ee,10),children:"+10"}),v.jsx("button",{type:"button",className:"btn btn-outline",onClick:()=>qe(ee,50),children:"+50"}),v.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>Ze(ee),children:"Editar"})]})]},ee.id))})]}),v.jsxs("div",{className:"glass-card",style:{padding:"2rem"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",gap:"1rem",flexWrap:"wrap"},children:[v.jsx("h2",{children:"Gesto de Estoque"}),v.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"center",flexWrap:"wrap"},children:[v.jsx("button",{type:"button",onClick:ht,className:"btn btn-primary",style:{fontSize:"0.9rem"},children:"Adicionar Produto"}),v.jsxs("span",{className:"badge badge-info",children:[i.length," produtos"]})]})]}),v.jsx("div",{style:{overflowX:"auto"},children:v.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",textAlign:"left"},children:[v.jsx("thead",{children:v.jsxs("tr",{style:{borderBottom:"2px solid var(--color-border)"},children:[v.jsx("th",{style:{padding:"1rem"},children:"Produto"}),v.jsx("th",{style:{padding:"1rem"},children:"Tipo"}),v.jsx("th",{style:{padding:"1rem"},children:"Qtd."}),v.jsx("th",{style:{padding:"1rem"},children:"Validade"}),v.jsx("th",{style:{padding:"1rem"},children:"Status"}),v.jsx("th",{style:{padding:"1rem"},children:"Promoo"}),v.jsx("th",{style:{padding:"1rem"},children:"Aes"})]})}),v.jsx("tbody",{children:i.map(ee=>{const Ee=Number(ee.promo_percent||0),Te=st(ee.expiration_date);return v.jsxs("tr",{style:{borderBottom:"1px solid var(--color-border)"},children:[v.jsxs("td",{style:{padding:"1rem",fontWeight:"500"},children:[ee.name," ",v.jsxs("span",{style:{fontSize:"0.8rem",color:"gray"},children:["(",ee.dosage,")"]})]}),v.jsx("td",{style:{padding:"1rem"},children:wd(ee.type)}),v.jsx("td",{style:{padding:"1rem"},children:ee.stock}),v.jsx("td",{style:{padding:"1rem"},children:ee.expiration_date?v.jsxs("div",{children:[v.jsx("div",{children:Ue(ee.expiration_date)}),Te!==null&&v.jsx("div",{style:{fontSize:"0.75rem",color:Te<=Z?"#f59e0b":"var(--color-text-muted)"},children:Te<0?`Vencido h ${Math.abs(Te)} dias`:`Faltam ${Te} dias`})]}):"-"}),v.jsx("td",{style:{padding:"1rem"},children:v.jsx("span",{className:`badge ${ee.stock>=500?"badge-success":ee.stock>=z?"badge-info":"badge-warning"}`,children:ee.stock>=500?"Alto":ee.stock>=z?"Normal":"Baixo"})}),v.jsx("td",{style:{padding:"1rem"},children:Ee>0?v.jsxs("span",{className:"badge badge-success",children:[Ee,"%"]}):v.jsx("span",{className:"badge badge-info",children:"-"})}),v.jsx("td",{style:{padding:"1rem"},children:v.jsxs("div",{style:{display:"flex",gap:"0.4rem",flexWrap:"wrap"},children:[v.jsx("button",{type:"button",onClick:()=>Ze(ee),className:"btn btn-outline",style:{padding:"0.25rem 0.5rem",fontSize:"0.8rem"},children:"Editar"}),v.jsx("button",{type:"button",onClick:()=>qe(ee,10),className:"btn btn-outline",style:{padding:"0.25rem 0.5rem",fontSize:"0.8rem"},children:"+10"}),v.jsx("button",{type:"button",onClick:()=>qe(ee,-10),className:"btn btn-outline",style:{padding:"0.25rem 0.5rem",fontSize:"0.8rem"},children:"-10"}),Ee>0?v.jsx("button",{type:"button",onClick:()=>dt(ee),className:"btn btn-outline",style:{padding:"0.25rem 0.5rem",fontSize:"0.8rem"},children:"Remover Promo"}):v.jsx("button",{type:"button",onClick:()=>_t(ee,10),className:"btn btn-primary",style:{padding:"0.25rem 0.5rem",fontSize:"0.8rem"},children:"Promo -10%"}),v.jsx("button",{type:"button",onClick:()=>Zt(ee),className:"btn btn-outline",style:{padding:"0.25rem 0.5rem",fontSize:"0.8rem",color:"#dc2626",borderColor:"#dc2626"},children:"Remover"})]})})]},ee.id)})})]})})]})]}),a==="customers"&&v.jsxs("div",{className:"glass-card",style:{padding:"2rem"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",gap:"1rem",flexWrap:"wrap"},children:[v.jsxs("div",{children:[v.jsx("h2",{children:"Clientes Cadastrados"}),v.jsxs("p",{style:{color:"var(--color-text-muted)",fontSize:"0.9rem"},children:[l.length," clientes registrados."]})]}),v.jsxs("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap",alignItems:"center"},children:[v.jsx("input",{type:"text",value:_,onChange:ee=>x(ee.target.value),placeholder:"Buscar por nome, email, CPF...",style:{padding:"0.65rem 0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",minWidth:"220px"}}),v.jsx("button",{type:"button",className:"btn btn-outline",onClick:Re,children:"Atualizar"})]})]}),m&&v.jsx("div",{style:{padding:"0.75rem 1rem",background:"#fee2e2",color:"#991b1b",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.9rem"},children:m}),h?v.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"2rem"},children:v.jsx(ua,{size:32,color:"var(--color-primary)",style:{animation:"spin 1s linear infinite"}})}):v.jsx("div",{style:{overflowX:"auto"},children:v.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",textAlign:"left"},children:[v.jsx("thead",{children:v.jsxs("tr",{style:{borderBottom:"2px solid var(--color-border)"},children:[v.jsx("th",{style:{padding:"0.85rem"},children:"Nome"}),v.jsx("th",{style:{padding:"0.85rem"},children:"Email"}),v.jsx("th",{style:{padding:"0.85rem"},children:"CPF/CNPJ"}),v.jsx("th",{style:{padding:"0.85rem"},children:"Telefone"}),v.jsx("th",{style:{padding:"0.85rem"},children:"Cidade/UF"}),v.jsx("th",{style:{padding:"0.85rem"},children:"Cadastro"})]})}),v.jsxs("tbody",{children:[et.map(ee=>v.jsxs("tr",{style:{borderBottom:"1px solid var(--color-border)"},children:[v.jsx("td",{style:{padding:"0.85rem",fontWeight:"600"},children:ee.name}),v.jsx("td",{style:{padding:"0.85rem"},children:ee.email}),v.jsx("td",{style:{padding:"0.85rem"},children:ee.cpf_cnpj}),v.jsx("td",{style:{padding:"0.85rem"},children:ee.phone1}),v.jsxs("td",{style:{padding:"0.85rem"},children:[ee.municipio,"/",ee.estado]}),v.jsx("td",{style:{padding:"0.85rem"},children:ee.created_at?new Date(ee.created_at).toLocaleDateString("pt-BR"):"-"})]},ee.id)),!et.length&&v.jsx("tr",{children:v.jsx("td",{colSpan:"6",style:{padding:"1rem",textAlign:"center",color:"var(--color-text-muted)"},children:"Nenhum cliente encontrado."})})]})]})})]}),a==="settings"&&v.jsxs("div",{className:"glass-card",style:{padding:"2rem"},children:[v.jsx("h2",{style:{marginBottom:"1rem"},children:"Configuraes de Estoque"}),v.jsx("p",{style:{color:"var(--color-text-muted)",marginBottom:"1.5rem"},children:"Ajuste parmetros usados para alertas e validaes internas."}),v.jsxs("div",{style:{display:"grid",gap:"1rem",maxWidth:"420px"},children:[v.jsxs("div",{children:[v.jsx("label",{style:ke,children:"Limite de estoque baixo"}),v.jsx("input",{type:"number",min:"1",value:z,onChange:ee=>D(Number(ee.target.value)||0),style:ve})]}),v.jsxs("div",{children:[v.jsx("label",{style:ke,children:"Dias para alerta de vencimento"}),v.jsx("input",{type:"number",min:"1",value:Z,onChange:ee=>T(Number(ee.target.value)||0),style:ve})]}),v.jsx("div",{style:{fontSize:"0.85rem",color:"var(--color-text-muted)"},children:"Esses valores afetam as listas de estoque baixo e produtos prximos ao vencimento."})]})]})]}),J&&v.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(15, 23, 42, 0.45)",display:"flex",alignItems:"center",justifyContent:"center",padding:"1.5rem",zIndex:50},children:v.jsxs("div",{className:"glass-card",style:{width:"100%",maxWidth:"760px",padding:"2rem"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"1rem",marginBottom:"1rem"},children:[v.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"700"},children:ne?"Editar Produto":"Adicionar Produto"}),v.jsx("button",{type:"button",onClick:Ae,className:"btn btn-outline",style:{padding:"0.5rem 0.75rem"},children:"Fechar"})]}),Y&&v.jsx("div",{style:{padding:"0.75rem 1rem",background:"#fee2e2",color:"#991b1b",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.9rem"},children:Y}),v.jsxs("form",{onSubmit:Xe,style:{display:"grid",gap:"1rem"},children:[v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[v.jsxs("div",{children:[v.jsx("label",{style:ke,children:"Nome"}),v.jsx("input",{type:"text",value:oe.name,onChange:ee=>ze("name",ee.target.value),style:ve,required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{style:ke,children:"Dosagem"}),v.jsx("input",{type:"text",value:oe.dosage,onChange:ee=>ze("dosage",ee.target.value),style:ve,required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{style:ke,children:"Tipo"}),v.jsx("input",{type:"text",value:oe.type,onChange:ee=>ze("type",ee.target.value),style:ve,required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{style:ke,children:"Estoque"}),v.jsx("input",{type:"number",min:"0",step:"1",value:oe.stock,onChange:ee=>ze("stock",ee.target.value),style:ve,required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{style:ke,children:"Preco"}),v.jsx("input",{type:"number",min:"0",step:"0.01",value:oe.price,onChange:ee=>ze("price",ee.target.value),style:ve,required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{style:ke,children:"Preco Atacado"}),v.jsx("input",{type:"number",min:"0",step:"0.01",value:oe.wholesale_price,onChange:ee=>ze("wholesale_price",ee.target.value),style:ve,required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{style:ke,children:"Validade"}),v.jsx("input",{type:"date",value:oe.expiration_date||"",onChange:ee=>ze("expiration_date",ee.target.value),style:ve})]}),v.jsxs("div",{children:[v.jsx("label",{style:ke,children:"Imagem local"}),v.jsx("input",{ref:ae,type:"file",accept:"image/*",onChange:Ie,style:ve}),v.jsx("div",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)",marginTop:"0.35rem"},children:"JPG/PNG ate 5MB. Se selecionar arquivo, ele substitui a URL."})]}),v.jsxs("div",{children:[v.jsx("label",{style:ke,children:"URL da Imagem (opcional)"}),v.jsx("input",{type:"url",value:oe.image_url,onChange:ee=>{ze("image_url",ee.target.value),$||re(ee.target.value)},style:ve,placeholder:"https://"})]})]}),Q&&v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",flexWrap:"wrap"},children:[v.jsx("img",{src:Q,alt:"Preview da imagem",style:{width:"120px",height:"120px",objectFit:"cover",borderRadius:"0.75rem",border:"1px solid var(--color-border)"}}),$&&v.jsx("button",{type:"button",className:"btn btn-outline",onClick:()=>Le(oe.image_url||""),children:"Remover imagem local"})]}),v.jsxs("div",{children:[v.jsx("label",{style:ke,children:"Descricao"}),v.jsx("textarea",{value:oe.description,onChange:ee=>ze("description",ee.target.value),style:{...ve,minHeight:"90px",resize:"vertical"}})]}),v.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem"},children:[v.jsx("input",{type:"checkbox",checked:oe.requires_prescription,onChange:ee=>ze("requires_prescription",ee.target.checked)}),"Requer receita"]}),v.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.75rem",flexWrap:"wrap"},children:[v.jsx("button",{type:"button",className:"btn btn-outline",onClick:Ae,children:"Cancelar"}),v.jsx("button",{type:"submit",className:"btn btn-primary",disabled:he,children:he?"Salvando...":ne?"Salvar":"Adicionar"})]})]})]})})]}):v.jsx("div",{style:{display:"flex",minHeight:"calc(100vh - 80px)",alignItems:"center",justifyContent:"center"},children:v.jsxs("div",{className:"glass-card fade-in",style:{padding:"2.5rem",width:"100%",maxWidth:"420px"},children:[v.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[v.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #009c3b, #007a2d)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(0, 156, 59, 0.3)"},children:v.jsx(h2,{size:40,color:"white"})}),v.jsx("h2",{style:{fontSize:"1.75rem",color:"var(--color-primary)",marginBottom:"0.5rem"},children:"rea Administrativa"}),v.jsx("p",{style:{color:"var(--color-text-muted)"},children:"Brasil Mais Distribuidora"})]}),E&&v.jsx("div",{style:{padding:"1rem",background:"#fee2e2",color:"#991b1b",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.9rem"},children:E}),v.jsxs("form",{onSubmit:Ct,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Email"}),v.jsx("input",{type:"email",value:A,onChange:ee=>w(ee.target.value),required:!0,style:{width:"100%",padding:"0.875rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",fontSize:"1rem"},placeholder:"seu@email.com"})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Senha"}),v.jsx("input",{type:"password",value:S,onChange:ee=>k(ee.target.value),required:!0,style:{width:"100%",padding:"0.875rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",fontSize:"1rem"},placeholder:""})]}),v.jsx("button",{type:"submit",className:"btn btn-primary",disabled:G,style:{marginTop:"1rem",padding:"1rem",fontSize:"1rem"},children:G?v.jsxs(v.Fragment,{children:[v.jsx(ua,{size:20,style:{animation:"spin 1s linear infinite"}}),"Entrando..."]}):"Entrar"})]}),v.jsx("div",{style:{marginTop:"1.5rem",textAlign:"center"},children:v.jsx(pr,{to:"/admin/forgot-password",style:{color:"var(--color-primary)",fontSize:"0.9rem",textDecoration:"underline"},children:"Esqueci minha senha"})})]})})},X7=()=>{const[t,e]=de.useState(""),[r,n]=de.useState(!1),[i,s]=de.useState(!1),[a,o]=de.useState(""),l=async u=>{u.preventDefault(),n(!0),o("");try{const{error:h}=await pt.auth.resetPasswordForEmail(t,{redirectTo:`${window.location.origin}/Antigravit_testes/admin/reset-password`});if(h)throw h;s(!0)}catch(h){console.error("Erro ao enviar email:",h),o(h.message||"Erro ao enviar email de recuperao.")}finally{n(!1)}};return i?v.jsx("div",{style:{display:"flex",minHeight:"calc(100vh - 80px)",alignItems:"center",justifyContent:"center"},children:v.jsxs("div",{className:"glass-card fade-in",style:{padding:"2.5rem",width:"100%",maxWidth:"420px",textAlign:"center"},children:[v.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #10b981, #059669)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(16, 185, 129, 0.3)"},children:v.jsx(oc,{size:40,color:"white"})}),v.jsx("h2",{style:{fontSize:"1.75rem",color:"var(--color-primary)",marginBottom:"0.75rem"},children:"Email Enviado!"}),v.jsxs("p",{style:{color:"var(--color-text-muted)",marginBottom:"2rem",lineHeight:"1.6"},children:["Verifique sua caixa de entrada em ",v.jsx("strong",{children:t})," e siga as instrues para redefinir sua senha."]}),v.jsx(pr,{to:"/admin",className:"btn btn-primary",style:{width:"100%"},children:"Voltar ao Login"})]})}):v.jsx("div",{style:{display:"flex",minHeight:"calc(100vh - 80px)",alignItems:"center",justifyContent:"center"},children:v.jsxs("div",{className:"glass-card fade-in",style:{padding:"2.5rem",width:"100%",maxWidth:"420px"},children:[v.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[v.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #3b82f6, #2563eb)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(59, 130, 246, 0.3)"},children:v.jsx(gd,{size:40,color:"white"})}),v.jsx("h2",{style:{fontSize:"1.75rem",color:"var(--color-primary)",marginBottom:"0.5rem"},children:"Esqueceu a Senha?"}),v.jsx("p",{style:{color:"var(--color-text-muted)"},children:"Enviaremos instrues para redefinir sua senha"})]}),a&&v.jsx("div",{style:{padding:"1rem",background:"#fee2e2",color:"#991b1b",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.9rem"},children:a}),v.jsxs("form",{onSubmit:l,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Email"}),v.jsx("input",{type:"email",value:t,onChange:u=>e(u.target.value),required:!0,style:{width:"100%",padding:"0.875rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",fontSize:"1rem"},placeholder:"seu@email.com"})]}),v.jsx("button",{type:"submit",className:"btn btn-primary",disabled:r,style:{marginTop:"1rem",padding:"1rem",fontSize:"1rem"},children:r?v.jsxs(v.Fragment,{children:[v.jsx(ua,{size:20,style:{animation:"spin 1s linear infinite"}}),"Enviando..."]}):v.jsxs(v.Fragment,{children:[v.jsx(gd,{size:20}),"Enviar Link de Recuperao"]})})]}),v.jsx("div",{style:{marginTop:"1.5rem",textAlign:"center"},children:v.jsxs(pr,{to:"/admin",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",color:"var(--color-primary)",fontSize:"0.9rem"},children:[v.jsx(Lw,{size:16}),"Voltar ao Login"]})})]})})},Q7=()=>{const t=ac(),[e,r]=de.useState(""),[n,i]=de.useState(""),[s,a]=de.useState(!1),[o,l]=de.useState(!1),[u,h]=de.useState(""),p=async m=>{if(m.preventDefault(),h(""),e!==n){h("As senhas no coincidem.");return}if(e.length<6){h("A senha deve ter pelo menos 6 caracteres.");return}a(!0);try{const{error:f}=await pt.auth.updateUser({password:e});if(f)throw f;l(!0),setTimeout(()=>{t("/admin")},2e3)}catch(f){console.error("Erro ao redefinir senha:",f),h(f.message||"Erro ao redefinir senha.")}finally{a(!1)}};return o?v.jsx("div",{style:{display:"flex",minHeight:"calc(100vh - 80px)",alignItems:"center",justifyContent:"center"},children:v.jsxs("div",{className:"glass-card fade-in",style:{padding:"2.5rem",width:"100%",maxWidth:"420px",textAlign:"center"},children:[v.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #10b981, #059669)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(16, 185, 129, 0.3)"},children:v.jsx(oc,{size:40,color:"white"})}),v.jsx("h2",{style:{fontSize:"1.75rem",color:"var(--color-primary)",marginBottom:"0.75rem"},children:"Senha Atualizada!"}),v.jsx("p",{style:{color:"var(--color-text-muted)",lineHeight:"1.6"},children:"Sua senha foi redefinida com sucesso. Redirecionando para o login..."})]})}):v.jsx("div",{style:{display:"flex",minHeight:"calc(100vh - 80px)",alignItems:"center",justifyContent:"center"},children:v.jsxs("div",{className:"glass-card fade-in",style:{padding:"2.5rem",width:"100%",maxWidth:"420px"},children:[v.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[v.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #009c3b, #007a2d)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(0, 156, 59, 0.3)"},children:v.jsx(pd,{size:40,color:"white"})}),v.jsx("h2",{style:{fontSize:"1.75rem",color:"var(--color-primary)",marginBottom:"0.5rem"},children:"Nova Senha"}),v.jsx("p",{style:{color:"var(--color-text-muted)"},children:"Crie uma senha forte e segura"})]}),u&&v.jsx("div",{style:{padding:"1rem",background:"#fee2e2",color:"#991b1b",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.9rem"},children:u}),v.jsxs("form",{onSubmit:p,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Nova Senha"}),v.jsx("input",{type:"password",value:e,onChange:m=>r(m.target.value),required:!0,style:{width:"100%",padding:"0.875rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",fontSize:"1rem"},placeholder:""})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Confirmar Senha"}),v.jsx("input",{type:"password",value:n,onChange:m=>i(m.target.value),required:!0,style:{width:"100%",padding:"0.875rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",fontSize:"1rem"},placeholder:""})]}),v.jsx("button",{type:"submit",className:"btn btn-primary",disabled:s,style:{marginTop:"1rem",padding:"1rem",fontSize:"1rem"},children:s?v.jsxs(v.Fragment,{children:[v.jsx(ua,{size:20,style:{animation:"spin 1s linear infinite"}}),"Atualizando..."]}):v.jsxs(v.Fragment,{children:[v.jsx(pd,{size:20}),"Redefinir Senha"]})})]})]})})},kh=()=>({name:"",email:"",cpf_cnpj:"",phone1:"",phone2:"",cep:"",address:"",address_number:"",address_type:"Casa",municipio:"",estado:"",reference:""}),Z7=()=>{var he,ge;const[t,e]=de.useState(null),[r,n]=de.useState(!0),[i,s]=de.useState("login"),[a,o]=de.useState(""),[l,u]=de.useState(""),[h,p]=de.useState({...kh(),password:"",confirmPassword:""}),[m,f]=de.useState(kh()),[_,x]=de.useState(!1),[A,w]=de.useState(""),[S,k]=de.useState(""),[E,F]=de.useState(!1),G=ac(),H="/Antigravit_testes/";de.useEffect(()=>{pt.auth.getSession().then(({data:{session:O}})=>{e(O),n(!1)});const{data:{subscription:Y}}=pt.auth.onAuthStateChange((O,ne)=>{e(ne)});return()=>Y.unsubscribe()},[]),de.useEffect(()=>{t?z():(x(!1),f(kh()))},[t]);const z=async()=>{w("");try{const{data:Y,error:O}=await pt.from("customers").select("*").eq("user_id",t.user.id).single();if(O&&O.code!=="PGRST116")throw O;if(Y){f({name:Y.name||"",email:Y.email||t.user.email||"",cpf_cnpj:Y.cpf_cnpj||"",phone1:Y.phone1||"",phone2:Y.phone2||"",cep:Y.cep||"",address:Y.address||"",address_number:Y.address_number||"",address_type:Y.address_type||"Casa",municipio:Y.municipio||"",estado:Y.estado||"",reference:Y.reference||""}),x(!0);return}f(ne=>({...ne,email:t.user.email||""})),x(!1)}catch(Y){console.error("Erro ao buscar perfil:",Y),w(Y.message||"Erro ao buscar perfil.")}},D=Y=>/^\d{6}$/.test(Y),Z=async Y=>{Y.preventDefault(),w(""),k("");const O=a.trim();if(!O){w("Informe email ou CPF/CNPJ.");return}if(!D(l)){w("A senha deve ter 6 numeros.");return}try{let ne=O;if(!O.includes("@")){const{data:oe,error:C}=await pt.rpc("get_email_by_cpf",{p_cpf:O});if(C)throw C;if(!oe){w("CPF/CNPJ nao encontrado.");return}ne=oe}const{error:fe}=await pt.auth.signInWithPassword({email:ne,password:l});if(fe)throw fe;k("Login realizado com sucesso. Redirecionando para o catalogo..."),setTimeout(()=>{G("/catalog",{replace:!0})},700)}catch(ne){console.error("Erro no login:",ne),w(ne.message||"Erro ao entrar.")}},T=()=>[h.name,h.email,h.cpf_cnpj,h.phone1,h.cep,h.address,h.address_number,h.address_type,h.municipio,h.estado].some(O=>!O||!O.toString().trim())?"Preencha todos os campos obrigatorios.":D(h.password)?h.password!==h.confirmPassword?"As senhas nao coincidem.":"":"A senha deve ter exatamente 6 numeros.",M=async Y=>{var ne,fe,oe;Y.preventDefault(),w(""),k("");const O=T();if(O){w(O);return}F(!0);try{const C=h.email.trim(),$={name:h.name.trim(),cpf_cnpj:h.cpf_cnpj.trim(),phone1:h.phone1.trim(),phone2:h.phone2.trim()||null,cep:h.cep.trim(),address:h.address.trim(),address_number:h.address_number.trim(),address_type:h.address_type.trim(),municipio:h.municipio.trim(),estado:h.estado.trim(),reference:h.reference.trim()||null},{data:V,error:Q}=await pt.auth.signUp({email:C,password:h.password,options:{emailRedirectTo:`${window.location.origin}${H}cliente`,data:$}});if(Q)throw Q;const re=((fe=(ne=V.session)==null?void 0:ne.user)==null?void 0:fe.id)??((oe=V.user)==null?void 0:oe.id)??null;if(V.session&&re){const{error:ae}=await pt.from("customers").upsert([{user_id:re,email:C,...$}],{onConflict:"user_id"});if(ae)throw ae;k("Cadastro criado com sucesso! Redirecionando para o catlogo..."),s("login"),setTimeout(()=>{G("/catalog",{replace:!0})},1500),p({...kh(),password:"",confirmPassword:""})}else k("Cadastro criado. Confirme o email para entrar."),s("login")}catch(C){console.error("Erro ao cadastrar:",C),w(C.message||"Erro ao cadastrar.")}finally{F(!1)}},J=async Y=>{if(Y.preventDefault(),w(""),k(""),[m.name,m.cpf_cnpj,m.phone1,m.cep,m.address,m.address_number,m.address_type,m.municipio,m.estado].some(ne=>!ne||!ne.toString().trim())){w("Preencha todos os campos obrigatorios.");return}F(!0);try{const ne={user_id:t.user.id,name:m.name.trim(),email:m.email.trim(),cpf_cnpj:m.cpf_cnpj.trim(),phone1:m.phone1.trim(),phone2:m.phone2.trim()||null,cep:m.cep.trim(),address:m.address.trim(),address_number:m.address_number.trim(),address_type:m.address_type.trim(),municipio:m.municipio.trim(),estado:m.estado.trim(),reference:m.reference.trim()||null},{error:fe}=await pt.from("customers").upsert([ne],{onConflict:"user_id"});if(fe){const oe=(fe.message||"").toLowerCase();if(fe.code==="23505"||oe.includes("customers_cpf_cnpj_key")||oe.includes("customers_email_key")||oe.includes("duplicate key")){const{data:$,error:V}=await pt.rpc("claim_customer_profile",{p_email:ne.email,p_cpf:ne.cpf_cnpj,p_payload:ne});if(V)throw V;if($){k("Cadastro vinculado com sucesso."),x(!0);return}w("CPF/CNPJ ja cadastrado em outra conta. Use o email original do cadastro.");return}throw fe}k("Dados atualizados com sucesso."),x(!0)}catch(ne){console.error("Erro ao salvar perfil:",ne),w(ne.message||"Erro ao salvar perfil.")}finally{F(!1)}},K=async()=>{await pt.auth.signOut()};return r?v.jsx("div",{style:{display:"flex",minHeight:"calc(100vh - 80px)",alignItems:"center",justifyContent:"center"},children:v.jsx(ua,{size:48,color:"var(--color-primary)",style:{animation:"spin 1s linear infinite"}})}):t?v.jsx("div",{style:{display:"flex",minHeight:"calc(100vh - 80px)",alignItems:"center",justifyContent:"center"},children:v.jsxs("div",{className:"glass-card fade-in",style:{padding:"2.5rem",width:"100%",maxWidth:"760px"},children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"1rem",marginBottom:"1.5rem"},children:[v.jsxs("div",{children:[v.jsx("h2",{style:{fontSize:"1.75rem",color:"var(--color-primary)",marginBottom:"0.25rem"},children:"Area do Cliente"}),v.jsx("p",{style:{color:"var(--color-text)"},children:((he=m.name)==null?void 0:he.trim())||((ge=t.user.user_metadata)==null?void 0:ge.name)||t.user.email}),v.jsx("p",{style:{color:"var(--color-text-muted)",fontSize:"0.85rem"},children:t.user.email})]}),v.jsxs("button",{onClick:K,className:"btn btn-outline",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem"},children:[v.jsx(Tw,{size:18})," Sair"]})]}),A&&v.jsx("div",{style:{padding:"1rem",background:"#fee2e2",color:"#991b1b",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.9rem"},children:A}),S&&v.jsx("div",{style:{padding:"1rem",background:"#dcfce7",color:"#166534",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.9rem"},children:S}),!_&&v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem",color:"var(--color-text-muted)"},children:[v.jsx(oc,{size:18}),"Complete seu cadastro para finalizar pedidos."]}),v.jsxs("form",{onSubmit:J,style:{display:"grid",gap:"1rem"},children:[v.jsxs("div",{style:{display:"grid",gap:"1rem",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:[v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Nome"}),v.jsx("input",{type:"text",value:m.name,onChange:Y=>f(O=>({...O,name:Y.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Email"}),v.jsx("input",{type:"email",value:m.email,onChange:Y=>f(O=>({...O,email:Y.target.value})),required:!0,readOnly:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",background:"#f8fafc"}})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"CPF/CNPJ"}),v.jsx("input",{type:"text",value:m.cpf_cnpj,onChange:Y=>f(O=>({...O,cpf_cnpj:Y.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Telefone 1"}),v.jsx("input",{type:"text",value:m.phone1,onChange:Y=>f(O=>({...O,phone1:Y.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Telefone 2"}),v.jsx("input",{type:"text",value:m.phone2,onChange:Y=>f(O=>({...O,phone2:Y.target.value})),style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"CEP"}),v.jsx("input",{type:"text",value:m.cep,onChange:Y=>f(O=>({...O,cep:Y.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Endereco"}),v.jsx("input",{type:"text",value:m.address,onChange:Y=>f(O=>({...O,address:Y.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Numero"}),v.jsx("input",{type:"text",value:m.address_number,onChange:Y=>f(O=>({...O,address_number:Y.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Casa ou apartamento"}),v.jsxs("select",{value:m.address_type,onChange:Y=>f(O=>({...O,address_type:Y.target.value})),style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",background:"white"},children:[v.jsx("option",{value:"Casa",children:"Casa"}),v.jsx("option",{value:"Apartamento",children:"Apartamento"})]})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Municipio"}),v.jsx("input",{type:"text",value:m.municipio,onChange:Y=>f(O=>({...O,municipio:Y.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Estado"}),v.jsx("input",{type:"text",value:m.estado,onChange:Y=>f(O=>({...O,estado:Y.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Referencia"}),v.jsx("input",{type:"text",value:m.reference,onChange:Y=>f(O=>({...O,reference:Y.target.value})),style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]})]}),v.jsx("button",{type:"submit",className:"btn btn-primary",disabled:E,children:E?"Salvando...":"Salvar dados"})]})]})}):v.jsx("div",{style:{display:"flex",minHeight:"calc(100vh - 80px)",alignItems:"center",justifyContent:"center"},children:v.jsxs("div",{className:"glass-card fade-in",style:{padding:"2.5rem",width:"100%",maxWidth:"640px"},children:[v.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[v.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #009c3b, #007a2d)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(0, 156, 59, 0.3)"},children:v.jsx(O0,{size:40,color:"white"})}),v.jsx("h2",{style:{fontSize:"1.75rem",color:"var(--color-primary)",marginBottom:"0.5rem"},children:"Area do Cliente"}),v.jsx("p",{style:{color:"var(--color-text-muted)"},children:"Entre ou crie seu cadastro para finalizar pedidos."})]}),v.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem"},children:[v.jsx("button",{type:"button",className:`btn ${i==="login"?"btn-primary":"btn-outline"}`,style:{flex:1},onClick:()=>s("login"),children:"Entrar"}),v.jsx("button",{type:"button",className:`btn ${i==="register"?"btn-primary":"btn-outline"}`,style:{flex:1},onClick:()=>s("register"),children:"Cadastro"})]}),A&&v.jsx("div",{style:{padding:"1rem",background:"#fee2e2",color:"#991b1b",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.9rem"},children:A}),S&&v.jsx("div",{style:{padding:"1rem",background:"#dcfce7",color:"#166534",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.9rem"},children:S}),i==="login"?v.jsxs("form",{onSubmit:Z,style:{display:"grid",gap:"1rem"},children:[v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Email ou CPF/CNPJ"}),v.jsx("input",{type:"text",value:a,onChange:Y=>o(Y.target.value),required:!0,style:{width:"100%",padding:"0.875rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",fontSize:"1rem"},placeholder:"email@exemplo.com ou CPF"})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Senha (6 numeros)"}),v.jsx("input",{type:"password",value:l,onChange:Y=>u(Y.target.value),required:!0,style:{width:"100%",padding:"0.875rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",fontSize:"1rem"},placeholder:"******"})]}),v.jsx("button",{type:"submit",className:"btn btn-primary",style:{marginTop:"0.5rem"},children:"Entrar"}),v.jsx("div",{style:{textAlign:"center"},children:v.jsx(pr,{to:"/cliente/forgot-password",style:{color:"var(--color-primary)",fontSize:"0.9rem",textDecoration:"underline"},children:"Esqueci minha senha"})})]}):v.jsxs("form",{onSubmit:M,style:{display:"grid",gap:"1rem"},children:[v.jsxs("div",{style:{display:"grid",gap:"1rem",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:[v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Nome"}),v.jsx("input",{type:"text",value:h.name,onChange:Y=>p(O=>({...O,name:Y.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Email"}),v.jsx("input",{type:"email",value:h.email,onChange:Y=>p(O=>({...O,email:Y.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"CPF/CNPJ"}),v.jsx("input",{type:"text",value:h.cpf_cnpj,onChange:Y=>p(O=>({...O,cpf_cnpj:Y.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Telefone 1"}),v.jsx("input",{type:"text",value:h.phone1,onChange:Y=>p(O=>({...O,phone1:Y.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Telefone 2"}),v.jsx("input",{type:"text",value:h.phone2,onChange:Y=>p(O=>({...O,phone2:Y.target.value})),style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"CEP"}),v.jsx("input",{type:"text",value:h.cep,onChange:Y=>p(O=>({...O,cep:Y.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Endereco"}),v.jsx("input",{type:"text",value:h.address,onChange:Y=>p(O=>({...O,address:Y.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Numero"}),v.jsx("input",{type:"text",value:h.address_number,onChange:Y=>p(O=>({...O,address_number:Y.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Casa ou apartamento"}),v.jsxs("select",{value:h.address_type,onChange:Y=>p(O=>({...O,address_type:Y.target.value})),style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",background:"white"},children:[v.jsx("option",{value:"Casa",children:"Casa"}),v.jsx("option",{value:"Apartamento",children:"Apartamento"})]})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Municipio"}),v.jsx("input",{type:"text",value:h.municipio,onChange:Y=>p(O=>({...O,municipio:Y.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Estado"}),v.jsx("input",{type:"text",value:h.estado,onChange:Y=>p(O=>({...O,estado:Y.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Referencia"}),v.jsx("input",{type:"text",value:h.reference,onChange:Y=>p(O=>({...O,reference:Y.target.value})),style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]})]}),v.jsxs("div",{style:{display:"grid",gap:"1rem",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:[v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Senha (6 numeros)"}),v.jsx("input",{type:"password",value:h.password,onChange:Y=>p(O=>({...O,password:Y.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Confirmar senha"}),v.jsx("input",{type:"password",value:h.confirmPassword,onChange:Y=>p(O=>({...O,confirmPassword:Y.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]})]}),v.jsx("button",{type:"submit",className:"btn btn-primary",disabled:E,children:E?"Salvando...":"Criar cadastro"})]})]})})},ej=()=>{const[t,e]=de.useState(""),[r,n]=de.useState(!1),[i,s]=de.useState(!1),[a,o]=de.useState(""),l="/Antigravit_testes/",u=async h=>{h.preventDefault(),n(!0),o("");try{const{error:p}=await pt.auth.resetPasswordForEmail(t,{redirectTo:`${window.location.origin}${l}cliente/reset-password`});if(p)throw p;s(!0)}catch(p){console.error("Erro ao enviar email:",p),o(p.message||"Erro ao enviar email de recuperacao.")}finally{n(!1)}};return i?v.jsx("div",{style:{display:"flex",minHeight:"calc(100vh - 80px)",alignItems:"center",justifyContent:"center"},children:v.jsxs("div",{className:"glass-card fade-in",style:{padding:"2.5rem",width:"100%",maxWidth:"420px",textAlign:"center"},children:[v.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #10b981, #059669)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(16, 185, 129, 0.3)"},children:v.jsx(oc,{size:40,color:"white"})}),v.jsx("h2",{style:{fontSize:"1.75rem",color:"var(--color-primary)",marginBottom:"0.75rem"},children:"Email Enviado!"}),v.jsxs("p",{style:{color:"var(--color-text-muted)",marginBottom:"2rem",lineHeight:"1.6"},children:["Verifique sua caixa de entrada em ",v.jsx("strong",{children:t})," e siga as instrucoes para redefinir sua senha."]}),v.jsx(pr,{to:"/cliente",className:"btn btn-primary",style:{width:"100%"},children:"Voltar ao Login"})]})}):v.jsx("div",{style:{display:"flex",minHeight:"calc(100vh - 80px)",alignItems:"center",justifyContent:"center"},children:v.jsxs("div",{className:"glass-card fade-in",style:{padding:"2.5rem",width:"100%",maxWidth:"420px"},children:[v.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[v.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #3b82f6, #2563eb)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(59, 130, 246, 0.3)"},children:v.jsx(gd,{size:40,color:"white"})}),v.jsx("h2",{style:{fontSize:"1.75rem",color:"var(--color-primary)",marginBottom:"0.5rem"},children:"Esqueceu a senha?"}),v.jsx("p",{style:{color:"var(--color-text-muted)"},children:"Enviaremos instrucoes para redefinir sua senha"})]}),a&&v.jsx("div",{style:{padding:"1rem",background:"#fee2e2",color:"#991b1b",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.9rem"},children:a}),v.jsxs("form",{onSubmit:u,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Email"}),v.jsx("input",{type:"email",value:t,onChange:h=>e(h.target.value),required:!0,style:{width:"100%",padding:"0.875rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",fontSize:"1rem"},placeholder:"seu@email.com"})]}),v.jsx("button",{type:"submit",className:"btn btn-primary",disabled:r,style:{marginTop:"1rem",padding:"1rem",fontSize:"1rem"},children:r?v.jsxs(v.Fragment,{children:[v.jsx(ua,{size:20,style:{animation:"spin 1s linear infinite"}}),"Enviando..."]}):v.jsxs(v.Fragment,{children:[v.jsx(gd,{size:20}),"Enviar Link"]})})]}),v.jsx("div",{style:{marginTop:"1.5rem",textAlign:"center"},children:v.jsxs(pr,{to:"/cliente",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",color:"var(--color-primary)",fontSize:"0.9rem"},children:[v.jsx(Lw,{size:16}),"Voltar ao Login"]})})]})})},tj=()=>{const t=ac(),[e,r]=de.useState(""),[n,i]=de.useState(""),[s,a]=de.useState(!1),[o,l]=de.useState(!1),[u,h]=de.useState(""),p=f=>/^\d{6}$/.test(f),m=async f=>{if(f.preventDefault(),h(""),e!==n){h("As senhas nao coincidem.");return}if(!p(e)){h("A senha deve ter exatamente 6 numeros.");return}a(!0);try{const{error:_}=await pt.auth.updateUser({password:e});if(_)throw _;l(!0),setTimeout(()=>{t("/cliente")},2e3)}catch(_){console.error("Erro ao redefinir senha:",_),h(_.message||"Erro ao redefinir senha.")}finally{a(!1)}};return o?v.jsx("div",{style:{display:"flex",minHeight:"calc(100vh - 80px)",alignItems:"center",justifyContent:"center"},children:v.jsxs("div",{className:"glass-card fade-in",style:{padding:"2.5rem",width:"100%",maxWidth:"420px",textAlign:"center"},children:[v.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #10b981, #059669)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(16, 185, 129, 0.3)"},children:v.jsx(oc,{size:40,color:"white"})}),v.jsx("h2",{style:{fontSize:"1.75rem",color:"var(--color-primary)",marginBottom:"0.75rem"},children:"Senha Atualizada!"}),v.jsx("p",{style:{color:"var(--color-text-muted)",lineHeight:"1.6"},children:"Sua senha foi redefinida. Redirecionando para o login..."})]})}):v.jsx("div",{style:{display:"flex",minHeight:"calc(100vh - 80px)",alignItems:"center",justifyContent:"center"},children:v.jsxs("div",{className:"glass-card fade-in",style:{padding:"2.5rem",width:"100%",maxWidth:"420px"},children:[v.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[v.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #009c3b, #007a2d)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(0, 156, 59, 0.3)"},children:v.jsx(pd,{size:40,color:"white"})}),v.jsx("h2",{style:{fontSize:"1.75rem",color:"var(--color-primary)",marginBottom:"0.5rem"},children:"Nova Senha"}),v.jsx("p",{style:{color:"var(--color-text-muted)"},children:"Crie uma senha de 6 numeros"})]}),u&&v.jsx("div",{style:{padding:"1rem",background:"#fee2e2",color:"#991b1b",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.9rem"},children:u}),v.jsxs("form",{onSubmit:m,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Nova senha"}),v.jsx("input",{type:"password",value:e,onChange:f=>r(f.target.value),required:!0,style:{width:"100%",padding:"0.875rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",fontSize:"1rem"},placeholder:"******"})]}),v.jsxs("div",{children:[v.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Confirmar senha"}),v.jsx("input",{type:"password",value:n,onChange:f=>i(f.target.value),required:!0,style:{width:"100%",padding:"0.875rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",fontSize:"1rem"},placeholder:"******"})]}),v.jsx("button",{type:"submit",className:"btn btn-primary",disabled:s,style:{marginTop:"1rem",padding:"1rem",fontSize:"1rem"},children:s?v.jsxs(v.Fragment,{children:[v.jsx(ua,{size:20,style:{animation:"spin 1s linear infinite"}}),"Atualizando..."]}):v.jsxs(v.Fragment,{children:[v.jsx(pd,{size:20}),"Redefinir Senha"]})})]})]})})},rj=({cartItems:t,setCartItems:e})=>{const[r,n]=de.useState(null),[i,s]=de.useState(null),[a,o]=de.useState(!0),[l,u]=de.useState(""),[h,p]=de.useState(""),[m,f]=de.useState(!1),_=ac(),x=H=>Number(H.promoPercent??H.promo_percent??0),A=(H,z)=>{const D=x(z);return!D||D<=0?H:H*(1-D/100)},w=H=>{let z;return H.priceType==="wholesale"?z=H.wholesalePrice:H.priceType==="retail"?z=H.price:z=H.quantity>=10?H.wholesalePrice:H.price,A(z,H)},S=H=>H.priceType==="wholesale"?"Atacado":H.priceType==="retail"?"Varejo":H.quantity>=10?"Atacado":"Varejo",E=t.reduce((H,z)=>{const D=w(z);return H+D*z.quantity},0),F=H=>{const z=[...t];z.splice(H,1),e(z)};de.useEffect(()=>{pt.auth.getSession().then(({data:{session:z}})=>{n(z),o(!1)});const{data:{subscription:H}}=pt.auth.onAuthStateChange((z,D)=>{n(D)});return()=>H.unsubscribe()},[]),de.useEffect(()=>{if(!r){s(null);return}(async()=>{const{data:z,error:D}=await pt.from("customers").select("id").eq("user_id",r.user.id).single();if(D&&D.code!=="PGRST116"){console.error("Erro ao buscar perfil:",D);return}s(z||null)})()},[r]);const G=async()=>{if(u(""),p(""),!r){u("Faa login para finalizar a compra.");return}if(!i){u("Complete seu cadastro antes de finalizar a compra.");return}if(t.length!==0){f(!0);try{const{data:H,error:z}=await pt.from("orders").insert([{user_id:r.user.id,total:E,status:"pending"}]).select("id").single();if(z)throw z;const D=t.map(T=>({order_id:H.id,medicine_id:T.id,quantity:T.quantity,unit_price:w(T)})),{error:Z}=await pt.from("order_items").insert(D);if(Z)throw Z;try{const{error:T}=await pt.functions.invoke("send-order-email",{body:{order_id:H.id}});T?(console.warn("Erro ao enviar email do pedido:",T),p("Pedido registrado! O email de confirmacao sera enviado em instantes.")):p("Pedido registrado! Enviamos a confirmacao para seu email.")}catch(T){console.warn("Falha ao chamar funcao de email:",T),p("Pedido registrado! O email de confirmacao sera enviado em instantes.")}e([]),p("Pedido confirmado! Em instantes voce sera redirecionado para o catalogo."),setTimeout(()=>{_("/catalog",{replace:!0})},2e3)}catch(H){console.error("Erro ao finalizar compra:",H),u(H.message||"Erro ao finalizar a compra.")}finally{f(!1)}}};return v.jsxs("div",{className:"container",style:{marginTop:"2rem"},children:[v.jsx("h1",{style:{marginBottom:"2rem",fontSize:"2rem",color:"var(--color-primary-dark)"},children:"Seu Carrinho"}),v.jsxs("div",{style:{display:"flex",gap:"2rem",flexWrap:"wrap"},children:[v.jsx("div",{style:{flex:2,minWidth:"300px"},children:t.length===0?v.jsx("div",{className:"glass-card",style:{padding:"3rem",textAlign:"center",color:"var(--color-text-muted)"},children:v.jsx("p",{children:"Seu carrinho est vazio."})}):v.jsx("div",{className:"glass-card",style:{padding:"1.5rem"},children:t.map((H,z)=>{const D=w(H),Z=S(H),T=x(H);return v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",borderBottom:z<t.length-1?"1px solid var(--color-border)":"none"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[v.jsx("img",{src:H.image,alt:H.name,style:{width:"60px",height:"60px",objectFit:"cover",borderRadius:"0.5rem"}}),v.jsxs("div",{children:[v.jsx("h3",{style:{fontSize:"1.1rem"},children:H.name}),v.jsx("p",{style:{color:"var(--color-text-muted)",fontSize:"0.9rem"},children:H.dosage}),T>0&&v.jsxs("span",{style:{fontSize:"0.75rem",color:"#f59e0b",fontWeight:"bold"},children:["Promoo -",T,"%"]}),Z==="Atacado"&&v.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-primary)",fontWeight:"bold"},children:"Preo de Atacado aplicado!"}),Z==="Varejo"&&v.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)"},children:"Preo de Varejo"})]})]}),v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1.5rem"},children:[v.jsxs("div",{style:{textAlign:"right"},children:[v.jsxs("div",{style:{fontWeight:"bold"},children:["R$ ",D.toFixed(2)]}),v.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--color-text-muted)"},children:["x ",H.quantity," un."]})]}),v.jsx("button",{onClick:()=>F(z),style:{background:"none",border:"none",color:"#dc2626",cursor:"pointer"},children:v.jsx(LS,{size:20})})]})]},z)})})}),v.jsx("div",{style:{flex:1,minWidth:"250px"},children:v.jsxs("div",{className:"glass-card",style:{padding:"1.5rem",position:"sticky",top:"6rem"},children:[v.jsx("h3",{style:{fontSize:"1.25rem",marginBottom:"1.5rem"},children:"Resumo do Pedido"}),!a&&!r&&v.jsxs("div",{style:{padding:"0.75rem 1rem",background:"#fff7ed",border:"1px solid #fed7aa",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.85rem"},children:["Para finalizar, faca login na ",v.jsx(pr,{to:"/cliente",style:{color:"var(--color-primary)",textDecoration:"underline"},children:"Area do Cliente"}),"."]}),!a&&r&&!i&&v.jsxs("div",{style:{padding:"0.75rem 1rem",background:"#fef9c3",border:"1px solid #fde68a",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.85rem"},children:["Complete seu cadastro na ",v.jsx(pr,{to:"/cliente",style:{color:"var(--color-primary)",textDecoration:"underline"},children:"Area do Cliente"})," para finalizar."]}),l&&v.jsx("div",{style:{padding:"0.75rem 1rem",background:"#fee2e2",color:"#991b1b",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.85rem"},children:l}),h&&v.jsx("div",{style:{padding:"0.75rem 1rem",background:"#dcfce7",color:"#166534",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.85rem"},children:h}),v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",color:"var(--color-text-muted)"},children:[v.jsx("span",{children:"Subtotal"}),v.jsxs("span",{children:["R$ ",E.toFixed(2)]})]}),v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1.5rem",color:"var(--color-text-muted)"},children:[v.jsx("span",{children:"Frete"}),v.jsx("span",{children:"Grtis"})]}),v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1.5rem",fontSize:"1.25rem",fontWeight:"bold"},children:[v.jsx("span",{children:"Total"}),v.jsxs("span",{children:["R$ ",E.toFixed(2)]})]}),v.jsx("button",{onClick:G,disabled:t.length===0||!r||!i||m,className:"btn btn-primary",style:{width:"100%",opacity:t.length===0||!r||!i||m?.5:1},children:m?"Finalizando...":v.jsxs(v.Fragment,{children:["Finalizar Compra ",v.jsx(Pw,{size:20})]})})]})})]})]})};function nj(){const[t,e]=de.useState([]);console.log(" App carregado. Base URL:","/Antigravit_testes/");const r=(n,i=1,s="retail")=>{const a=s==="wholesale"?"wholesale":"retail",o=t.findIndex(l=>l.id===n.id&&l.priceType===a);if(o>-1){const l=[...t];l[o].quantity+=i,e(l),alert(`Quantidade atualizada: ${l[o].quantity} un. de ${n.name} (${a==="wholesale"?"atacado":"varejo"})`)}else e([...t,{...n,quantity:i,priceType:a}]),alert(`${i}x ${n.name} adicionado ao carrinho (${a==="wholesale"?"atacado":"varejo"})!`)};return v.jsx(pS,{basename:"/Antigravit_testes/",children:v.jsxs("div",{style:{minHeight:"100vh",paddingBottom:"2rem"},children:[v.jsx(p8,{cartCount:t.length}),v.jsxs(oS,{children:[v.jsx(Mi,{path:"/",element:v.jsx(g8,{})}),v.jsx(Mi,{path:"/catalog",element:v.jsx(v8,{addToCart:r})}),v.jsx(Mi,{path:"/cart",element:v.jsx(rj,{cartItems:t,setCartItems:e})}),v.jsx(Mi,{path:"/admin",element:v.jsx(Y7,{})}),v.jsx(Mi,{path:"/admin/forgot-password",element:v.jsx(X7,{})}),v.jsx(Mi,{path:"/admin/reset-password",element:v.jsx(Q7,{})}),v.jsx(Mi,{path:"/cliente",element:v.jsx(Z7,{})}),v.jsx(Mi,{path:"/cliente/forgot-password",element:v.jsx(ej,{})}),v.jsx(Mi,{path:"/cliente/reset-password",element:v.jsx(tj,{})})]})]})})}Mp.createRoot(document.getElementById("root")).render(v.jsx(m5.StrictMode,{children:v.jsx(nj,{})}));export{Dt as _,sj as c,qx as g};
