var zx=Object.defineProperty;var Ux=(t,e,r)=>e in t?zx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Dt=(t,e,r)=>Ux(t,typeof e!="symbol"?e+"":e,r);function qx(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var sj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $x(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var o5={exports:{}},Ed={},l5={exports:{}},_t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ec=Symbol.for("react.element"),Wx=Symbol.for("react.portal"),Hx=Symbol.for("react.fragment"),Vx=Symbol.for("react.strict_mode"),Gx=Symbol.for("react.profiler"),Kx=Symbol.for("react.provider"),Jx=Symbol.for("react.context"),Yx=Symbol.for("react.forward_ref"),Xx=Symbol.for("react.suspense"),Qx=Symbol.for("react.memo"),Zx=Symbol.for("react.lazy"),Gg=Symbol.iterator;function e_(t){return t===null||typeof t!="object"?null:(t=Gg&&t[Gg]||t["@@iterator"],typeof t=="function"?t:null)}var u5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},c5=Object.assign,h5={};function ml(t,e,r){this.props=t,this.context=e,this.refs=h5,this.updater=r||u5}ml.prototype.isReactComponent={};ml.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ml.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function d5(){}d5.prototype=ml.prototype;function a1(t,e,r){this.props=t,this.context=e,this.refs=h5,this.updater=r||u5}var o1=a1.prototype=new d5;o1.constructor=a1;c5(o1,ml.prototype);o1.isPureReactComponent=!0;var Kg=Array.isArray,f5=Object.prototype.hasOwnProperty,l1={current:null},p5={key:!0,ref:!0,__self:!0,__source:!0};function g5(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)f5.call(e,n)&&!p5.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:ec,type:t,key:s,ref:a,props:i,_owner:l1.current}}function t_(t,e){return{$$typeof:ec,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function u1(t){return typeof t=="object"&&t!==null&&t.$$typeof===ec}function r_(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Jg=/\/+/g;function Tf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?r_(""+t.key):e.toString(36)}function Ah(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case ec:case Wx:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+Tf(a,0):n,Kg(i)?(r="",t!=null&&(r=t.replace(Jg,"$&/")+"/"),Ah(i,e,r,"",function(u){return u})):i!=null&&(u1(i)&&(i=t_(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Jg,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",Kg(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+Tf(s,o);a+=Ah(s,e,r,l,i)}else if(l=e_(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+Tf(s,o++),a+=Ah(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Vc(t,e,r){if(t==null)return t;var n=[],i=0;return Ah(t,n,"","",function(s){return e.call(r,s,i++)}),n}function n_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vn={current:null},Nh={transition:null},i_={ReactCurrentDispatcher:vn,ReactCurrentBatchConfig:Nh,ReactCurrentOwner:l1};function m5(){throw Error("act(...) is not supported in production builds of React.")}_t.Children={map:Vc,forEach:function(t,e,r){Vc(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Vc(t,function(){e++}),e},toArray:function(t){return Vc(t,function(e){return e})||[]},only:function(t){if(!u1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_t.Component=ml;_t.Fragment=Hx;_t.Profiler=Gx;_t.PureComponent=a1;_t.StrictMode=Vx;_t.Suspense=Xx;_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i_;_t.act=m5;_t.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=c5({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=l1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)f5.call(e,l)&&!p5.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:ec,type:t.type,key:i,ref:s,props:n,_owner:a}};_t.createContext=function(t){return t={$$typeof:Jx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Kx,_context:t},t.Consumer=t};_t.createElement=g5;_t.createFactory=function(t){var e=g5.bind(null,t);return e.type=t,e};_t.createRef=function(){return{current:null}};_t.forwardRef=function(t){return{$$typeof:Yx,render:t}};_t.isValidElement=u1;_t.lazy=function(t){return{$$typeof:Zx,_payload:{_status:-1,_result:t},_init:n_}};_t.memo=function(t,e){return{$$typeof:Qx,type:t,compare:e===void 0?null:e}};_t.startTransition=function(t){var e=Nh.transition;Nh.transition={};try{t()}finally{Nh.transition=e}};_t.unstable_act=m5;_t.useCallback=function(t,e){return vn.current.useCallback(t,e)};_t.useContext=function(t){return vn.current.useContext(t)};_t.useDebugValue=function(){};_t.useDeferredValue=function(t){return vn.current.useDeferredValue(t)};_t.useEffect=function(t,e){return vn.current.useEffect(t,e)};_t.useId=function(){return vn.current.useId()};_t.useImperativeHandle=function(t,e,r){return vn.current.useImperativeHandle(t,e,r)};_t.useInsertionEffect=function(t,e){return vn.current.useInsertionEffect(t,e)};_t.useLayoutEffect=function(t,e){return vn.current.useLayoutEffect(t,e)};_t.useMemo=function(t,e){return vn.current.useMemo(t,e)};_t.useReducer=function(t,e,r){return vn.current.useReducer(t,e,r)};_t.useRef=function(t){return vn.current.useRef(t)};_t.useState=function(t){return vn.current.useState(t)};_t.useSyncExternalStore=function(t,e,r){return vn.current.useSyncExternalStore(t,e,r)};_t.useTransition=function(){return vn.current.useTransition()};_t.version="18.3.1";l5.exports=_t;var he=l5.exports;const v5=$x(he),s_=qx({__proto__:null,default:v5},[he]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_=he,o_=Symbol.for("react.element"),l_=Symbol.for("react.fragment"),u_=Object.prototype.hasOwnProperty,c_=a_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h_={key:!0,ref:!0,__self:!0,__source:!0};function y5(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)u_.call(e,n)&&!h_.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:o_,type:t,key:s,ref:a,props:i,_owner:c_.current}}Ed.Fragment=l_;Ed.jsx=y5;Ed.jsxs=y5;o5.exports=Ed;var g=o5.exports,Mp={},w5={exports:{}},Gn={},b5={exports:{}},x5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,ie){var fe=O.length;O.push(ie);e:for(;0<fe;){var pe=fe-1>>>1,C=O[pe];if(0<i(C,ie))O[pe]=ie,O[fe]=C,fe=pe;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var ie=O[0],fe=O.pop();if(fe!==ie){O[0]=fe;e:for(var pe=0,C=O.length,W=C>>>1;pe<W;){var H=2*(pe+1)-1,Q=O[H],ne=H+1,re=O[ne];if(0>i(Q,fe))ne<C&&0>i(re,Q)?(O[pe]=re,O[ne]=fe,pe=ne):(O[pe]=Q,O[H]=fe,pe=H);else if(ne<C&&0>i(re,fe))O[pe]=re,O[ne]=fe,pe=ne;else break e}}return ie}function i(O,ie){var fe=O.sortIndex-ie.sortIndex;return fe!==0?fe:O.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],h=1,p=null,v=3,f=!1,_=!1,x=!1,A=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(O){for(var ie=r(u);ie!==null;){if(ie.callback===null)n(u);else if(ie.startTime<=O)n(u),ie.sortIndex=ie.expirationTime,e(l,ie);else break;ie=r(u)}}function E(O){if(x=!1,k(O),!_)if(r(l)!==null)_=!0,de(F);else{var ie=r(u);ie!==null&&X(E,ie.startTime-O)}}function F(O,ie){_=!1,x&&(x=!1,w(z),z=-1),f=!0;var fe=v;try{for(k(ie),p=r(l);p!==null&&(!(p.expirationTime>ie)||O&&!T());){var pe=p.callback;if(typeof pe=="function"){p.callback=null,v=p.priorityLevel;var C=pe(p.expirationTime<=ie);ie=t.unstable_now(),typeof C=="function"?p.callback=C:p===r(l)&&n(l),k(ie)}else n(l);p=r(l)}if(p!==null)var W=!0;else{var H=r(u);H!==null&&X(E,H.startTime-ie),W=!1}return W}finally{p=null,v=fe,f=!1}}var J=!1,V=null,z=-1,D=5,ee=-1;function T(){return!(t.unstable_now()-ee<D)}function B(){if(V!==null){var O=t.unstable_now();ee=O;var ie=!0;try{ie=V(!0,O)}finally{ie?Y():(J=!1,V=null)}}else J=!1}var Y;if(typeof S=="function")Y=function(){S(B)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ce=G.port2;G.port1.onmessage=B,Y=function(){ce.postMessage(null)}}else Y=function(){A(B,0)};function de(O){V=O,J||(J=!0,Y())}function X(O,ie){z=A(function(){O(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){_||f||(_=!0,de(F))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(O){switch(v){case 1:case 2:case 3:var ie=3;break;default:ie=v}var fe=v;v=ie;try{return O()}finally{v=fe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,ie){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var fe=v;v=O;try{return ie()}finally{v=fe}},t.unstable_scheduleCallback=function(O,ie,fe){var pe=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?pe+fe:pe):fe=pe,O){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=fe+C,O={id:h++,callback:ie,priorityLevel:O,startTime:fe,expirationTime:C,sortIndex:-1},fe>pe?(O.sortIndex=fe,e(u,O),r(l)===null&&O===r(u)&&(x?(w(z),z=-1):x=!0,X(E,fe-pe))):(O.sortIndex=C,e(l,O),_||f||(_=!0,de(F))),O},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(O){var ie=v;return function(){var fe=v;v=ie;try{return O.apply(this,arguments)}finally{v=fe}}}})(x5);b5.exports=x5;var d_=b5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_=he,Vn=d_;function je(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _5=new Set,Nu={};function ro(t,e){ul(t,e),ul(t+"Capture",e)}function ul(t,e){for(Nu[t]=e,t=0;t<e.length;t++)_5.add(e[t])}var xs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zp=Object.prototype.hasOwnProperty,p_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yg={},Xg={};function g_(t){return zp.call(Xg,t)?!0:zp.call(Yg,t)?!1:p_.test(t)?Xg[t]=!0:(Yg[t]=!0,!1)}function m_(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function v_(t,e,r,n){if(e===null||typeof e>"u"||m_(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function yn(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Zr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Zr[t]=new yn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Zr[e]=new yn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Zr[t]=new yn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Zr[t]=new yn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Zr[t]=new yn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Zr[t]=new yn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Zr[t]=new yn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Zr[t]=new yn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Zr[t]=new yn(t,5,!1,t.toLowerCase(),null,!1,!1)});var c1=/[\-:]([a-z])/g;function h1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(c1,h1);Zr[e]=new yn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(c1,h1);Zr[e]=new yn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(c1,h1);Zr[e]=new yn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Zr[t]=new yn(t,1,!1,t.toLowerCase(),null,!1,!1)});Zr.xlinkHref=new yn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Zr[t]=new yn(t,1,!1,t.toLowerCase(),null,!0,!0)});function d1(t,e,r,n){var i=Zr.hasOwnProperty(e)?Zr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(v_(e,r,i,n)&&(r=null),n||i===null?g_(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ns=f_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gc=Symbol.for("react.element"),Do=Symbol.for("react.portal"),Bo=Symbol.for("react.fragment"),f1=Symbol.for("react.strict_mode"),Up=Symbol.for("react.profiler"),S5=Symbol.for("react.provider"),k5=Symbol.for("react.context"),p1=Symbol.for("react.forward_ref"),qp=Symbol.for("react.suspense"),$p=Symbol.for("react.suspense_list"),g1=Symbol.for("react.memo"),Vs=Symbol.for("react.lazy"),A5=Symbol.for("react.offscreen"),Qg=Symbol.iterator;function Yl(t){return t===null||typeof t!="object"?null:(t=Qg&&t[Qg]||t["@@iterator"],typeof t=="function"?t:null)}var lr=Object.assign,Rf;function ou(t){if(Rf===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Rf=e&&e[1]||""}return`
`+Rf+t}var If=!1;function Of(t,e){if(!t||If)return"";If=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{If=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ou(t):""}function y_(t){switch(t.tag){case 5:return ou(t.type);case 16:return ou("Lazy");case 13:return ou("Suspense");case 19:return ou("SuspenseList");case 0:case 2:case 15:return t=Of(t.type,!1),t;case 11:return t=Of(t.type.render,!1),t;case 1:return t=Of(t.type,!0),t;default:return""}}function Wp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bo:return"Fragment";case Do:return"Portal";case Up:return"Profiler";case f1:return"StrictMode";case qp:return"Suspense";case $p:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case k5:return(t.displayName||"Context")+".Consumer";case S5:return(t._context.displayName||"Context")+".Provider";case p1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case g1:return e=t.displayName||null,e!==null?e:Wp(t.type)||"Memo";case Vs:e=t._payload,t=t._init;try{return Wp(t(e))}catch{}}return null}function w_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wp(e);case 8:return e===f1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ha(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function N5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function b_(t){var e=N5(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Kc(t){t._valueTracker||(t._valueTracker=b_(t))}function j5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=N5(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function $h(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Hp(t,e){var r=e.checked;return lr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Zg(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ha(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function E5(t,e){e=e.checked,e!=null&&d1(t,"checked",e,!1)}function Vp(t,e){E5(t,e);var r=ha(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Gp(t,e.type,r):e.hasOwnProperty("defaultValue")&&Gp(t,e.type,ha(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function em(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Gp(t,e,r){(e!=="number"||$h(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var lu=Array.isArray;function Xo(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ha(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Kp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(je(91));return lr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function tm(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(je(92));if(lu(r)){if(1<r.length)throw Error(je(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ha(r)}}function C5(t,e){var r=ha(e.value),n=ha(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function rm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function L5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?L5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Jc,P5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Jc=Jc||document.createElement("div"),Jc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Jc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ju(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var du={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},x_=["Webkit","ms","Moz","O"];Object.keys(du).forEach(function(t){x_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),du[e]=du[t]})});function T5(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||du.hasOwnProperty(t)&&du[t]?(""+e).trim():e+"px"}function R5(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=T5(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var __=lr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yp(t,e){if(e){if(__[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(je(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(je(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(je(61))}if(e.style!=null&&typeof e.style!="object")throw Error(je(62))}}function Xp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qp=null;function m1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zp=null,Qo=null,Zo=null;function nm(t){if(t=nc(t)){if(typeof Zp!="function")throw Error(je(280));var e=t.stateNode;e&&(e=Rd(e),Zp(t.stateNode,t.type,e))}}function I5(t){Qo?Zo?Zo.push(t):Zo=[t]:Qo=t}function O5(){if(Qo){var t=Qo,e=Zo;if(Zo=Qo=null,nm(t),e)for(t=0;t<e.length;t++)nm(e[t])}}function F5(t,e){return t(e)}function D5(){}var Ff=!1;function B5(t,e,r){if(Ff)return t(e,r);Ff=!0;try{return F5(t,e,r)}finally{Ff=!1,(Qo!==null||Zo!==null)&&(D5(),O5())}}function Eu(t,e){var r=t.stateNode;if(r===null)return null;var n=Rd(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(je(231,e,typeof r));return r}var e0=!1;if(xs)try{var Xl={};Object.defineProperty(Xl,"passive",{get:function(){e0=!0}}),window.addEventListener("test",Xl,Xl),window.removeEventListener("test",Xl,Xl)}catch{e0=!1}function S_(t,e,r,n,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(h){this.onError(h)}}var fu=!1,Wh=null,Hh=!1,t0=null,k_={onError:function(t){fu=!0,Wh=t}};function A_(t,e,r,n,i,s,a,o,l){fu=!1,Wh=null,S_.apply(k_,arguments)}function N_(t,e,r,n,i,s,a,o,l){if(A_.apply(this,arguments),fu){if(fu){var u=Wh;fu=!1,Wh=null}else throw Error(je(198));Hh||(Hh=!0,t0=u)}}function no(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function M5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function im(t){if(no(t)!==t)throw Error(je(188))}function j_(t){var e=t.alternate;if(!e){if(e=no(t),e===null)throw Error(je(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return im(i),t;if(s===n)return im(i),e;s=s.sibling}throw Error(je(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(je(189))}}if(r.alternate!==n)throw Error(je(190))}if(r.tag!==3)throw Error(je(188));return r.stateNode.current===r?t:e}function z5(t){return t=j_(t),t!==null?U5(t):null}function U5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=U5(t);if(e!==null)return e;t=t.sibling}return null}var q5=Vn.unstable_scheduleCallback,sm=Vn.unstable_cancelCallback,E_=Vn.unstable_shouldYield,C_=Vn.unstable_requestPaint,wr=Vn.unstable_now,L_=Vn.unstable_getCurrentPriorityLevel,v1=Vn.unstable_ImmediatePriority,$5=Vn.unstable_UserBlockingPriority,Vh=Vn.unstable_NormalPriority,P_=Vn.unstable_LowPriority,W5=Vn.unstable_IdlePriority,Cd=null,Vi=null;function T_(t){if(Vi&&typeof Vi.onCommitFiberRoot=="function")try{Vi.onCommitFiberRoot(Cd,t,void 0,(t.current.flags&128)===128)}catch{}}var Ai=Math.clz32?Math.clz32:O_,R_=Math.log,I_=Math.LN2;function O_(t){return t>>>=0,t===0?32:31-(R_(t)/I_|0)|0}var Yc=64,Xc=4194304;function uu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gh(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=uu(o):(s&=a,s!==0&&(n=uu(s)))}else a=r&~i,a!==0?n=uu(a):s!==0&&(n=uu(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ai(e),i=1<<r,n|=t[r],e&=~i;return n}function F_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function D_(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Ai(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=F_(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function r0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function H5(){var t=Yc;return Yc<<=1,!(Yc&4194240)&&(Yc=64),t}function Df(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function tc(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ai(e),t[e]=r}function B_(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Ai(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function y1(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ai(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Mt=0;function V5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var G5,w1,K5,J5,Y5,n0=!1,Qc=[],ra=null,na=null,ia=null,Cu=new Map,Lu=new Map,Js=[],M_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function am(t,e){switch(t){case"focusin":case"focusout":ra=null;break;case"dragenter":case"dragleave":na=null;break;case"mouseover":case"mouseout":ia=null;break;case"pointerover":case"pointerout":Cu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lu.delete(e.pointerId)}}function Ql(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=nc(e),e!==null&&w1(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function z_(t,e,r,n,i){switch(e){case"focusin":return ra=Ql(ra,t,e,r,n,i),!0;case"dragenter":return na=Ql(na,t,e,r,n,i),!0;case"mouseover":return ia=Ql(ia,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Cu.set(s,Ql(Cu.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Lu.set(s,Ql(Lu.get(s)||null,t,e,r,n,i)),!0}return!1}function X5(t){var e=qa(t.target);if(e!==null){var r=no(e);if(r!==null){if(e=r.tag,e===13){if(e=M5(r),e!==null){t.blockedOn=e,Y5(t.priority,function(){K5(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=i0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Qp=n,r.target.dispatchEvent(n),Qp=null}else return e=nc(r),e!==null&&w1(e),t.blockedOn=r,!1;e.shift()}return!0}function om(t,e,r){jh(t)&&r.delete(e)}function U_(){n0=!1,ra!==null&&jh(ra)&&(ra=null),na!==null&&jh(na)&&(na=null),ia!==null&&jh(ia)&&(ia=null),Cu.forEach(om),Lu.forEach(om)}function Zl(t,e){t.blockedOn===e&&(t.blockedOn=null,n0||(n0=!0,Vn.unstable_scheduleCallback(Vn.unstable_NormalPriority,U_)))}function Pu(t){function e(i){return Zl(i,t)}if(0<Qc.length){Zl(Qc[0],t);for(var r=1;r<Qc.length;r++){var n=Qc[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ra!==null&&Zl(ra,t),na!==null&&Zl(na,t),ia!==null&&Zl(ia,t),Cu.forEach(e),Lu.forEach(e),r=0;r<Js.length;r++)n=Js[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Js.length&&(r=Js[0],r.blockedOn===null);)X5(r),r.blockedOn===null&&Js.shift()}var el=Ns.ReactCurrentBatchConfig,Kh=!0;function q_(t,e,r,n){var i=Mt,s=el.transition;el.transition=null;try{Mt=1,b1(t,e,r,n)}finally{Mt=i,el.transition=s}}function $_(t,e,r,n){var i=Mt,s=el.transition;el.transition=null;try{Mt=4,b1(t,e,r,n)}finally{Mt=i,el.transition=s}}function b1(t,e,r,n){if(Kh){var i=i0(t,e,r,n);if(i===null)Gf(t,e,n,Jh,r),am(t,n);else if(z_(i,t,e,r,n))n.stopPropagation();else if(am(t,n),e&4&&-1<M_.indexOf(t)){for(;i!==null;){var s=nc(i);if(s!==null&&G5(s),s=i0(t,e,r,n),s===null&&Gf(t,e,n,Jh,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Gf(t,e,n,null,r)}}var Jh=null;function i0(t,e,r,n){if(Jh=null,t=m1(n),t=qa(t),t!==null)if(e=no(t),e===null)t=null;else if(r=e.tag,r===13){if(t=M5(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Jh=t,null}function Q5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(L_()){case v1:return 1;case $5:return 4;case Vh:case P_:return 16;case W5:return 536870912;default:return 16}default:return 16}}var Qs=null,x1=null,Eh=null;function Z5(){if(Eh)return Eh;var t,e=x1,r=e.length,n,i="value"in Qs?Qs.value:Qs.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return Eh=i.slice(t,1<n?1-n:void 0)}function Ch(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zc(){return!0}function lm(){return!1}function Kn(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Zc:lm,this.isPropagationStopped=lm,this}return lr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Zc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Zc)},persist:function(){},isPersistent:Zc}),e}var vl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_1=Kn(vl),rc=lr({},vl,{view:0,detail:0}),W_=Kn(rc),Bf,Mf,eu,Ld=lr({},rc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:S1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==eu&&(eu&&t.type==="mousemove"?(Bf=t.screenX-eu.screenX,Mf=t.screenY-eu.screenY):Mf=Bf=0,eu=t),Bf)},movementY:function(t){return"movementY"in t?t.movementY:Mf}}),um=Kn(Ld),H_=lr({},Ld,{dataTransfer:0}),V_=Kn(H_),G_=lr({},rc,{relatedTarget:0}),zf=Kn(G_),K_=lr({},vl,{animationName:0,elapsedTime:0,pseudoElement:0}),J_=Kn(K_),Y_=lr({},vl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),X_=Kn(Y_),Q_=lr({},vl,{data:0}),cm=Kn(Q_),Z_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},e3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},t3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function r3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=t3[t])?!!e[t]:!1}function S1(){return r3}var n3=lr({},rc,{key:function(t){if(t.key){var e=Z_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ch(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?e3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:S1,charCode:function(t){return t.type==="keypress"?Ch(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ch(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),i3=Kn(n3),s3=lr({},Ld,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hm=Kn(s3),a3=lr({},rc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:S1}),o3=Kn(a3),l3=lr({},vl,{propertyName:0,elapsedTime:0,pseudoElement:0}),u3=Kn(l3),c3=lr({},Ld,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),h3=Kn(c3),d3=[9,13,27,32],k1=xs&&"CompositionEvent"in window,pu=null;xs&&"documentMode"in document&&(pu=document.documentMode);var f3=xs&&"TextEvent"in window&&!pu,ey=xs&&(!k1||pu&&8<pu&&11>=pu),dm=" ",fm=!1;function ty(t,e){switch(t){case"keyup":return d3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ry(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mo=!1;function p3(t,e){switch(t){case"compositionend":return ry(e);case"keypress":return e.which!==32?null:(fm=!0,dm);case"textInput":return t=e.data,t===dm&&fm?null:t;default:return null}}function g3(t,e){if(Mo)return t==="compositionend"||!k1&&ty(t,e)?(t=Z5(),Eh=x1=Qs=null,Mo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ey&&e.locale!=="ko"?null:e.data;default:return null}}var m3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!m3[t.type]:e==="textarea"}function ny(t,e,r,n){I5(n),e=Yh(e,"onChange"),0<e.length&&(r=new _1("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var gu=null,Tu=null;function v3(t){py(t,0)}function Pd(t){var e=qo(t);if(j5(e))return t}function y3(t,e){if(t==="change")return e}var iy=!1;if(xs){var Uf;if(xs){var qf="oninput"in document;if(!qf){var gm=document.createElement("div");gm.setAttribute("oninput","return;"),qf=typeof gm.oninput=="function"}Uf=qf}else Uf=!1;iy=Uf&&(!document.documentMode||9<document.documentMode)}function mm(){gu&&(gu.detachEvent("onpropertychange",sy),Tu=gu=null)}function sy(t){if(t.propertyName==="value"&&Pd(Tu)){var e=[];ny(e,Tu,t,m1(t)),B5(v3,e)}}function w3(t,e,r){t==="focusin"?(mm(),gu=e,Tu=r,gu.attachEvent("onpropertychange",sy)):t==="focusout"&&mm()}function b3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pd(Tu)}function x3(t,e){if(t==="click")return Pd(e)}function _3(t,e){if(t==="input"||t==="change")return Pd(e)}function S3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ji=typeof Object.is=="function"?Object.is:S3;function Ru(t,e){if(ji(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!zp.call(e,i)||!ji(t[i],e[i]))return!1}return!0}function vm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ym(t,e){var r=vm(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vm(r)}}function ay(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ay(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function oy(){for(var t=window,e=$h();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=$h(t.document)}return e}function A1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function k3(t){var e=oy(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&ay(r.ownerDocument.documentElement,r)){if(n!==null&&A1(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=ym(r,s);var a=ym(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var A3=xs&&"documentMode"in document&&11>=document.documentMode,zo=null,s0=null,mu=null,a0=!1;function wm(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;a0||zo==null||zo!==$h(n)||(n=zo,"selectionStart"in n&&A1(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),mu&&Ru(mu,n)||(mu=n,n=Yh(s0,"onSelect"),0<n.length&&(e=new _1("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=zo)))}function eh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Uo={animationend:eh("Animation","AnimationEnd"),animationiteration:eh("Animation","AnimationIteration"),animationstart:eh("Animation","AnimationStart"),transitionend:eh("Transition","TransitionEnd")},$f={},ly={};xs&&(ly=document.createElement("div").style,"AnimationEvent"in window||(delete Uo.animationend.animation,delete Uo.animationiteration.animation,delete Uo.animationstart.animation),"TransitionEvent"in window||delete Uo.transitionend.transition);function Td(t){if($f[t])return $f[t];if(!Uo[t])return t;var e=Uo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in ly)return $f[t]=e[r];return t}var uy=Td("animationend"),cy=Td("animationiteration"),hy=Td("animationstart"),dy=Td("transitionend"),fy=new Map,bm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pa(t,e){fy.set(t,e),ro(e,[t])}for(var Wf=0;Wf<bm.length;Wf++){var Hf=bm[Wf],N3=Hf.toLowerCase(),j3=Hf[0].toUpperCase()+Hf.slice(1);pa(N3,"on"+j3)}pa(uy,"onAnimationEnd");pa(cy,"onAnimationIteration");pa(hy,"onAnimationStart");pa("dblclick","onDoubleClick");pa("focusin","onFocus");pa("focusout","onBlur");pa(dy,"onTransitionEnd");ul("onMouseEnter",["mouseout","mouseover"]);ul("onMouseLeave",["mouseout","mouseover"]);ul("onPointerEnter",["pointerout","pointerover"]);ul("onPointerLeave",["pointerout","pointerover"]);ro("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ro("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ro("onBeforeInput",["compositionend","keypress","textInput","paste"]);ro("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ro("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ro("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E3=new Set("cancel close invalid load scroll toggle".split(" ").concat(cu));function xm(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,N_(n,e,void 0,t),t.currentTarget=null}function py(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;xm(i,o,u),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;xm(i,o,u),s=l}}}if(Hh)throw t=t0,Hh=!1,t0=null,t}function Zt(t,e){var r=e[h0];r===void 0&&(r=e[h0]=new Set);var n=t+"__bubble";r.has(n)||(gy(e,t,2,!1),r.add(n))}function Vf(t,e,r){var n=0;e&&(n|=4),gy(r,t,n,e)}var th="_reactListening"+Math.random().toString(36).slice(2);function Iu(t){if(!t[th]){t[th]=!0,_5.forEach(function(r){r!=="selectionchange"&&(E3.has(r)||Vf(r,!1,t),Vf(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[th]||(e[th]=!0,Vf("selectionchange",!1,e))}}function gy(t,e,r,n){switch(Q5(e)){case 1:var i=q_;break;case 4:i=$_;break;default:i=b1}r=i.bind(null,e,r,t),i=void 0,!e0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Gf(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=qa(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}B5(function(){var u=s,h=m1(r),p=[];e:{var v=fy.get(t);if(v!==void 0){var f=_1,_=t;switch(t){case"keypress":if(Ch(r)===0)break e;case"keydown":case"keyup":f=i3;break;case"focusin":_="focus",f=zf;break;case"focusout":_="blur",f=zf;break;case"beforeblur":case"afterblur":f=zf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=um;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=V_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=o3;break;case uy:case cy:case hy:f=J_;break;case dy:f=u3;break;case"scroll":f=W_;break;case"wheel":f=h3;break;case"copy":case"cut":case"paste":f=X_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=hm}var x=(e&4)!==0,A=!x&&t==="scroll",w=x?v!==null?v+"Capture":null:v;x=[];for(var S=u,k;S!==null;){k=S;var E=k.stateNode;if(k.tag===5&&E!==null&&(k=E,w!==null&&(E=Eu(S,w),E!=null&&x.push(Ou(S,E,k)))),A)break;S=S.return}0<x.length&&(v=new f(v,_,null,r,h),p.push({event:v,listeners:x}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",v&&r!==Qp&&(_=r.relatedTarget||r.fromElement)&&(qa(_)||_[_s]))break e;if((f||v)&&(v=h.window===h?h:(v=h.ownerDocument)?v.defaultView||v.parentWindow:window,f?(_=r.relatedTarget||r.toElement,f=u,_=_?qa(_):null,_!==null&&(A=no(_),_!==A||_.tag!==5&&_.tag!==6)&&(_=null)):(f=null,_=u),f!==_)){if(x=um,E="onMouseLeave",w="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(x=hm,E="onPointerLeave",w="onPointerEnter",S="pointer"),A=f==null?v:qo(f),k=_==null?v:qo(_),v=new x(E,S+"leave",f,r,h),v.target=A,v.relatedTarget=k,E=null,qa(h)===u&&(x=new x(w,S+"enter",_,r,h),x.target=k,x.relatedTarget=A,E=x),A=E,f&&_)t:{for(x=f,w=_,S=0,k=x;k;k=_o(k))S++;for(k=0,E=w;E;E=_o(E))k++;for(;0<S-k;)x=_o(x),S--;for(;0<k-S;)w=_o(w),k--;for(;S--;){if(x===w||w!==null&&x===w.alternate)break t;x=_o(x),w=_o(w)}x=null}else x=null;f!==null&&_m(p,v,f,x,!1),_!==null&&A!==null&&_m(p,A,_,x,!0)}}e:{if(v=u?qo(u):window,f=v.nodeName&&v.nodeName.toLowerCase(),f==="select"||f==="input"&&v.type==="file")var F=y3;else if(pm(v))if(iy)F=_3;else{F=b3;var J=w3}else(f=v.nodeName)&&f.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(F=x3);if(F&&(F=F(t,u))){ny(p,F,r,h);break e}J&&J(t,v,u),t==="focusout"&&(J=v._wrapperState)&&J.controlled&&v.type==="number"&&Gp(v,"number",v.value)}switch(J=u?qo(u):window,t){case"focusin":(pm(J)||J.contentEditable==="true")&&(zo=J,s0=u,mu=null);break;case"focusout":mu=s0=zo=null;break;case"mousedown":a0=!0;break;case"contextmenu":case"mouseup":case"dragend":a0=!1,wm(p,r,h);break;case"selectionchange":if(A3)break;case"keydown":case"keyup":wm(p,r,h)}var V;if(k1)e:{switch(t){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else Mo?ty(t,r)&&(z="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(z="onCompositionStart");z&&(ey&&r.locale!=="ko"&&(Mo||z!=="onCompositionStart"?z==="onCompositionEnd"&&Mo&&(V=Z5()):(Qs=h,x1="value"in Qs?Qs.value:Qs.textContent,Mo=!0)),J=Yh(u,z),0<J.length&&(z=new cm(z,t,null,r,h),p.push({event:z,listeners:J}),V?z.data=V:(V=ry(r),V!==null&&(z.data=V)))),(V=f3?p3(t,r):g3(t,r))&&(u=Yh(u,"onBeforeInput"),0<u.length&&(h=new cm("onBeforeInput","beforeinput",null,r,h),p.push({event:h,listeners:u}),h.data=V))}py(p,e)})}function Ou(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Yh(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Eu(t,r),s!=null&&n.unshift(Ou(t,s,i)),s=Eu(t,e),s!=null&&n.push(Ou(t,s,i))),t=t.return}return n}function _o(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _m(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=Eu(r,s),l!=null&&a.unshift(Ou(r,l,o))):i||(l=Eu(r,s),l!=null&&a.push(Ou(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var C3=/\r\n?/g,L3=/\u0000|\uFFFD/g;function Sm(t){return(typeof t=="string"?t:""+t).replace(C3,`
`).replace(L3,"")}function rh(t,e,r){if(e=Sm(e),Sm(t)!==e&&r)throw Error(je(425))}function Xh(){}var o0=null,l0=null;function u0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var c0=typeof setTimeout=="function"?setTimeout:void 0,P3=typeof clearTimeout=="function"?clearTimeout:void 0,km=typeof Promise=="function"?Promise:void 0,T3=typeof queueMicrotask=="function"?queueMicrotask:typeof km<"u"?function(t){return km.resolve(null).then(t).catch(R3)}:c0;function R3(t){setTimeout(function(){throw t})}function Kf(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Pu(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Pu(e)}function sa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Am(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var yl=Math.random().toString(36).slice(2),Wi="__reactFiber$"+yl,Fu="__reactProps$"+yl,_s="__reactContainer$"+yl,h0="__reactEvents$"+yl,I3="__reactListeners$"+yl,O3="__reactHandles$"+yl;function qa(t){var e=t[Wi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[_s]||r[Wi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Am(t);t!==null;){if(r=t[Wi])return r;t=Am(t)}return e}t=r,r=t.parentNode}return null}function nc(t){return t=t[Wi]||t[_s],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function qo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(je(33))}function Rd(t){return t[Fu]||null}var d0=[],$o=-1;function ga(t){return{current:t}}function tr(t){0>$o||(t.current=d0[$o],d0[$o]=null,$o--)}function Xt(t,e){$o++,d0[$o]=t.current,t.current=e}var da={},cn=ga(da),kn=ga(!1),Ja=da;function cl(t,e){var r=t.type.contextTypes;if(!r)return da;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function An(t){return t=t.childContextTypes,t!=null}function Qh(){tr(kn),tr(cn)}function Nm(t,e,r){if(cn.current!==da)throw Error(je(168));Xt(cn,e),Xt(kn,r)}function my(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(je(108,w_(t)||"Unknown",i));return lr({},r,n)}function Zh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||da,Ja=cn.current,Xt(cn,t),Xt(kn,kn.current),!0}function jm(t,e,r){var n=t.stateNode;if(!n)throw Error(je(169));r?(t=my(t,e,Ja),n.__reactInternalMemoizedMergedChildContext=t,tr(kn),tr(cn),Xt(cn,t)):tr(kn),Xt(kn,r)}var ps=null,Id=!1,Jf=!1;function vy(t){ps===null?ps=[t]:ps.push(t)}function F3(t){Id=!0,vy(t)}function ma(){if(!Jf&&ps!==null){Jf=!0;var t=0,e=Mt;try{var r=ps;for(Mt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ps=null,Id=!1}catch(i){throw ps!==null&&(ps=ps.slice(t+1)),q5(v1,ma),i}finally{Mt=e,Jf=!1}}return null}var Wo=[],Ho=0,ed=null,td=0,si=[],ai=0,Ya=null,ms=1,vs="";function Oa(t,e){Wo[Ho++]=td,Wo[Ho++]=ed,ed=t,td=e}function yy(t,e,r){si[ai++]=ms,si[ai++]=vs,si[ai++]=Ya,Ya=t;var n=ms;t=vs;var i=32-Ai(n)-1;n&=~(1<<i),r+=1;var s=32-Ai(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,ms=1<<32-Ai(e)+i|r<<i|n,vs=s+t}else ms=1<<s|r<<i|n,vs=t}function N1(t){t.return!==null&&(Oa(t,1),yy(t,1,0))}function j1(t){for(;t===ed;)ed=Wo[--Ho],Wo[Ho]=null,td=Wo[--Ho],Wo[Ho]=null;for(;t===Ya;)Ya=si[--ai],si[ai]=null,vs=si[--ai],si[ai]=null,ms=si[--ai],si[ai]=null}var Hn=null,$n=null,nr=!1,ki=null;function wy(t,e){var r=oi(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Em(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Hn=t,$n=sa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Hn=t,$n=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ya!==null?{id:ms,overflow:vs}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=oi(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Hn=t,$n=null,!0):!1;default:return!1}}function f0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function p0(t){if(nr){var e=$n;if(e){var r=e;if(!Em(t,e)){if(f0(t))throw Error(je(418));e=sa(r.nextSibling);var n=Hn;e&&Em(t,e)?wy(n,r):(t.flags=t.flags&-4097|2,nr=!1,Hn=t)}}else{if(f0(t))throw Error(je(418));t.flags=t.flags&-4097|2,nr=!1,Hn=t}}}function Cm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Hn=t}function nh(t){if(t!==Hn)return!1;if(!nr)return Cm(t),nr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!u0(t.type,t.memoizedProps)),e&&(e=$n)){if(f0(t))throw by(),Error(je(418));for(;e;)wy(t,e),e=sa(e.nextSibling)}if(Cm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(je(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){$n=sa(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}$n=null}}else $n=Hn?sa(t.stateNode.nextSibling):null;return!0}function by(){for(var t=$n;t;)t=sa(t.nextSibling)}function hl(){$n=Hn=null,nr=!1}function E1(t){ki===null?ki=[t]:ki.push(t)}var D3=Ns.ReactCurrentBatchConfig;function tu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(je(309));var n=r.stateNode}if(!n)throw Error(je(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(je(284));if(!r._owner)throw Error(je(290,t))}return t}function ih(t,e){throw t=Object.prototype.toString.call(e),Error(je(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Lm(t){var e=t._init;return e(t._payload)}function xy(t){function e(w,S){if(t){var k=w.deletions;k===null?(w.deletions=[S],w.flags|=16):k.push(S)}}function r(w,S){if(!t)return null;for(;S!==null;)e(w,S),S=S.sibling;return null}function n(w,S){for(w=new Map;S!==null;)S.key!==null?w.set(S.key,S):w.set(S.index,S),S=S.sibling;return w}function i(w,S){return w=ua(w,S),w.index=0,w.sibling=null,w}function s(w,S,k){return w.index=k,t?(k=w.alternate,k!==null?(k=k.index,k<S?(w.flags|=2,S):k):(w.flags|=2,S)):(w.flags|=1048576,S)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function o(w,S,k,E){return S===null||S.tag!==6?(S=rp(k,w.mode,E),S.return=w,S):(S=i(S,k),S.return=w,S)}function l(w,S,k,E){var F=k.type;return F===Bo?h(w,S,k.props.children,E,k.key):S!==null&&(S.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Vs&&Lm(F)===S.type)?(E=i(S,k.props),E.ref=tu(w,S,k),E.return=w,E):(E=Fh(k.type,k.key,k.props,null,w.mode,E),E.ref=tu(w,S,k),E.return=w,E)}function u(w,S,k,E){return S===null||S.tag!==4||S.stateNode.containerInfo!==k.containerInfo||S.stateNode.implementation!==k.implementation?(S=np(k,w.mode,E),S.return=w,S):(S=i(S,k.children||[]),S.return=w,S)}function h(w,S,k,E,F){return S===null||S.tag!==7?(S=Ga(k,w.mode,E,F),S.return=w,S):(S=i(S,k),S.return=w,S)}function p(w,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return S=rp(""+S,w.mode,k),S.return=w,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Gc:return k=Fh(S.type,S.key,S.props,null,w.mode,k),k.ref=tu(w,null,S),k.return=w,k;case Do:return S=np(S,w.mode,k),S.return=w,S;case Vs:var E=S._init;return p(w,E(S._payload),k)}if(lu(S)||Yl(S))return S=Ga(S,w.mode,k,null),S.return=w,S;ih(w,S)}return null}function v(w,S,k,E){var F=S!==null?S.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return F!==null?null:o(w,S,""+k,E);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Gc:return k.key===F?l(w,S,k,E):null;case Do:return k.key===F?u(w,S,k,E):null;case Vs:return F=k._init,v(w,S,F(k._payload),E)}if(lu(k)||Yl(k))return F!==null?null:h(w,S,k,E,null);ih(w,k)}return null}function f(w,S,k,E,F){if(typeof E=="string"&&E!==""||typeof E=="number")return w=w.get(k)||null,o(S,w,""+E,F);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Gc:return w=w.get(E.key===null?k:E.key)||null,l(S,w,E,F);case Do:return w=w.get(E.key===null?k:E.key)||null,u(S,w,E,F);case Vs:var J=E._init;return f(w,S,k,J(E._payload),F)}if(lu(E)||Yl(E))return w=w.get(k)||null,h(S,w,E,F,null);ih(S,E)}return null}function _(w,S,k,E){for(var F=null,J=null,V=S,z=S=0,D=null;V!==null&&z<k.length;z++){V.index>z?(D=V,V=null):D=V.sibling;var ee=v(w,V,k[z],E);if(ee===null){V===null&&(V=D);break}t&&V&&ee.alternate===null&&e(w,V),S=s(ee,S,z),J===null?F=ee:J.sibling=ee,J=ee,V=D}if(z===k.length)return r(w,V),nr&&Oa(w,z),F;if(V===null){for(;z<k.length;z++)V=p(w,k[z],E),V!==null&&(S=s(V,S,z),J===null?F=V:J.sibling=V,J=V);return nr&&Oa(w,z),F}for(V=n(w,V);z<k.length;z++)D=f(V,w,z,k[z],E),D!==null&&(t&&D.alternate!==null&&V.delete(D.key===null?z:D.key),S=s(D,S,z),J===null?F=D:J.sibling=D,J=D);return t&&V.forEach(function(T){return e(w,T)}),nr&&Oa(w,z),F}function x(w,S,k,E){var F=Yl(k);if(typeof F!="function")throw Error(je(150));if(k=F.call(k),k==null)throw Error(je(151));for(var J=F=null,V=S,z=S=0,D=null,ee=k.next();V!==null&&!ee.done;z++,ee=k.next()){V.index>z?(D=V,V=null):D=V.sibling;var T=v(w,V,ee.value,E);if(T===null){V===null&&(V=D);break}t&&V&&T.alternate===null&&e(w,V),S=s(T,S,z),J===null?F=T:J.sibling=T,J=T,V=D}if(ee.done)return r(w,V),nr&&Oa(w,z),F;if(V===null){for(;!ee.done;z++,ee=k.next())ee=p(w,ee.value,E),ee!==null&&(S=s(ee,S,z),J===null?F=ee:J.sibling=ee,J=ee);return nr&&Oa(w,z),F}for(V=n(w,V);!ee.done;z++,ee=k.next())ee=f(V,w,z,ee.value,E),ee!==null&&(t&&ee.alternate!==null&&V.delete(ee.key===null?z:ee.key),S=s(ee,S,z),J===null?F=ee:J.sibling=ee,J=ee);return t&&V.forEach(function(B){return e(w,B)}),nr&&Oa(w,z),F}function A(w,S,k,E){if(typeof k=="object"&&k!==null&&k.type===Bo&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Gc:e:{for(var F=k.key,J=S;J!==null;){if(J.key===F){if(F=k.type,F===Bo){if(J.tag===7){r(w,J.sibling),S=i(J,k.props.children),S.return=w,w=S;break e}}else if(J.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Vs&&Lm(F)===J.type){r(w,J.sibling),S=i(J,k.props),S.ref=tu(w,J,k),S.return=w,w=S;break e}r(w,J);break}else e(w,J);J=J.sibling}k.type===Bo?(S=Ga(k.props.children,w.mode,E,k.key),S.return=w,w=S):(E=Fh(k.type,k.key,k.props,null,w.mode,E),E.ref=tu(w,S,k),E.return=w,w=E)}return a(w);case Do:e:{for(J=k.key;S!==null;){if(S.key===J)if(S.tag===4&&S.stateNode.containerInfo===k.containerInfo&&S.stateNode.implementation===k.implementation){r(w,S.sibling),S=i(S,k.children||[]),S.return=w,w=S;break e}else{r(w,S);break}else e(w,S);S=S.sibling}S=np(k,w.mode,E),S.return=w,w=S}return a(w);case Vs:return J=k._init,A(w,S,J(k._payload),E)}if(lu(k))return _(w,S,k,E);if(Yl(k))return x(w,S,k,E);ih(w,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,S!==null&&S.tag===6?(r(w,S.sibling),S=i(S,k),S.return=w,w=S):(r(w,S),S=rp(k,w.mode,E),S.return=w,w=S),a(w)):r(w,S)}return A}var dl=xy(!0),_y=xy(!1),rd=ga(null),nd=null,Vo=null,C1=null;function L1(){C1=Vo=nd=null}function P1(t){var e=rd.current;tr(rd),t._currentValue=e}function g0(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function tl(t,e){nd=t,C1=Vo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Sn=!0),t.firstContext=null)}function ui(t){var e=t._currentValue;if(C1!==t)if(t={context:t,memoizedValue:e,next:null},Vo===null){if(nd===null)throw Error(je(308));Vo=t,nd.dependencies={lanes:0,firstContext:t}}else Vo=Vo.next=t;return e}var $a=null;function T1(t){$a===null?$a=[t]:$a.push(t)}function Sy(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,T1(e)):(r.next=i.next,i.next=r),e.interleaved=r,Ss(t,n)}function Ss(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Gs=!1;function R1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ky(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function bs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function aa(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Lt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Ss(t,r)}return i=n.interleaved,i===null?(e.next=e,T1(n)):(e.next=i.next,i.next=e),n.interleaved=e,Ss(t,r)}function Lh(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,y1(t,r)}}function Pm(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function id(t,e,r,n){var i=t.updateQueue;Gs=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=l))}if(s!==null){var p=i.baseState;a=0,h=u=l=null,o=s;do{var v=o.lane,f=o.eventTime;if((n&v)===v){h!==null&&(h=h.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var _=t,x=o;switch(v=e,f=r,x.tag){case 1:if(_=x.payload,typeof _=="function"){p=_.call(f,p,v);break e}p=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=x.payload,v=typeof _=="function"?_.call(f,p,v):_,v==null)break e;p=lr({},p,v);break e;case 2:Gs=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,v=i.effects,v===null?i.effects=[o]:v.push(o))}else f={eventTime:f,lane:v,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=f,l=p):h=h.next=f,a|=v;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;v=o,o=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(!0);if(h===null&&(l=p),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Qa|=a,t.lanes=a,t.memoizedState=p}}function Tm(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(je(191,i));i.call(n)}}}var ic={},Gi=ga(ic),Du=ga(ic),Bu=ga(ic);function Wa(t){if(t===ic)throw Error(je(174));return t}function I1(t,e){switch(Xt(Bu,e),Xt(Du,t),Xt(Gi,ic),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Jp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Jp(e,t)}tr(Gi),Xt(Gi,e)}function fl(){tr(Gi),tr(Du),tr(Bu)}function Ay(t){Wa(Bu.current);var e=Wa(Gi.current),r=Jp(e,t.type);e!==r&&(Xt(Du,t),Xt(Gi,r))}function O1(t){Du.current===t&&(tr(Gi),tr(Du))}var ar=ga(0);function sd(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yf=[];function F1(){for(var t=0;t<Yf.length;t++)Yf[t]._workInProgressVersionPrimary=null;Yf.length=0}var Ph=Ns.ReactCurrentDispatcher,Xf=Ns.ReactCurrentBatchConfig,Xa=0,or=null,Dr=null,zr=null,ad=!1,vu=!1,Mu=0,B3=0;function rn(){throw Error(je(321))}function D1(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ji(t[r],e[r]))return!1;return!0}function B1(t,e,r,n,i,s){if(Xa=s,or=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ph.current=t===null||t.memoizedState===null?q3:$3,t=r(n,i),vu){s=0;do{if(vu=!1,Mu=0,25<=s)throw Error(je(301));s+=1,zr=Dr=null,e.updateQueue=null,Ph.current=W3,t=r(n,i)}while(vu)}if(Ph.current=od,e=Dr!==null&&Dr.next!==null,Xa=0,zr=Dr=or=null,ad=!1,e)throw Error(je(300));return t}function M1(){var t=Mu!==0;return Mu=0,t}function $i(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zr===null?or.memoizedState=zr=t:zr=zr.next=t,zr}function ci(){if(Dr===null){var t=or.alternate;t=t!==null?t.memoizedState:null}else t=Dr.next;var e=zr===null?or.memoizedState:zr.next;if(e!==null)zr=e,Dr=t;else{if(t===null)throw Error(je(310));Dr=t,t={memoizedState:Dr.memoizedState,baseState:Dr.baseState,baseQueue:Dr.baseQueue,queue:Dr.queue,next:null},zr===null?or.memoizedState=zr=t:zr=zr.next=t}return zr}function zu(t,e){return typeof e=="function"?e(t):e}function Qf(t){var e=ci(),r=e.queue;if(r===null)throw Error(je(311));r.lastRenderedReducer=t;var n=Dr,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,u=s;do{var h=u.lane;if((Xa&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var p={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=p,a=n):l=l.next=p,or.lanes|=h,Qa|=h}u=u.next}while(u!==null&&u!==s);l===null?a=n:l.next=o,ji(n,e.memoizedState)||(Sn=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,or.lanes|=s,Qa|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Zf(t){var e=ci(),r=e.queue;if(r===null)throw Error(je(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);ji(s,e.memoizedState)||(Sn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function Ny(){}function jy(t,e){var r=or,n=ci(),i=e(),s=!ji(n.memoizedState,i);if(s&&(n.memoizedState=i,Sn=!0),n=n.queue,z1(Ly.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||zr!==null&&zr.memoizedState.tag&1){if(r.flags|=2048,Uu(9,Cy.bind(null,r,n,i,e),void 0,null),qr===null)throw Error(je(349));Xa&30||Ey(r,e,i)}return i}function Ey(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=or.updateQueue,e===null?(e={lastEffect:null,stores:null},or.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Cy(t,e,r,n){e.value=r,e.getSnapshot=n,Py(e)&&Ty(t)}function Ly(t,e,r){return r(function(){Py(e)&&Ty(t)})}function Py(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ji(t,r)}catch{return!0}}function Ty(t){var e=Ss(t,1);e!==null&&Ni(e,t,1,-1)}function Rm(t){var e=$i();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zu,lastRenderedState:t},e.queue=t,t=t.dispatch=U3.bind(null,or,t),[e.memoizedState,t]}function Uu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=or.updateQueue,e===null?(e={lastEffect:null,stores:null},or.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Ry(){return ci().memoizedState}function Th(t,e,r,n){var i=$i();or.flags|=t,i.memoizedState=Uu(1|e,r,void 0,n===void 0?null:n)}function Od(t,e,r,n){var i=ci();n=n===void 0?null:n;var s=void 0;if(Dr!==null){var a=Dr.memoizedState;if(s=a.destroy,n!==null&&D1(n,a.deps)){i.memoizedState=Uu(e,r,s,n);return}}or.flags|=t,i.memoizedState=Uu(1|e,r,s,n)}function Im(t,e){return Th(8390656,8,t,e)}function z1(t,e){return Od(2048,8,t,e)}function Iy(t,e){return Od(4,2,t,e)}function Oy(t,e){return Od(4,4,t,e)}function Fy(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Dy(t,e,r){return r=r!=null?r.concat([t]):null,Od(4,4,Fy.bind(null,e,t),r)}function U1(){}function By(t,e){var r=ci();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&D1(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function My(t,e){var r=ci();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&D1(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function zy(t,e,r){return Xa&21?(ji(r,e)||(r=H5(),or.lanes|=r,Qa|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Sn=!0),t.memoizedState=r)}function M3(t,e){var r=Mt;Mt=r!==0&&4>r?r:4,t(!0);var n=Xf.transition;Xf.transition={};try{t(!1),e()}finally{Mt=r,Xf.transition=n}}function Uy(){return ci().memoizedState}function z3(t,e,r){var n=la(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},qy(t))$y(e,r);else if(r=Sy(t,e,r,n),r!==null){var i=mn();Ni(r,t,n,i),Wy(r,e,n)}}function U3(t,e,r){var n=la(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(qy(t))$y(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,ji(o,a)){var l=e.interleaved;l===null?(i.next=i,T1(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=Sy(t,e,i,n),r!==null&&(i=mn(),Ni(r,t,n,i),Wy(r,e,n))}}function qy(t){var e=t.alternate;return t===or||e!==null&&e===or}function $y(t,e){vu=ad=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Wy(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,y1(t,r)}}var od={readContext:ui,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useInsertionEffect:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useMutableSource:rn,useSyncExternalStore:rn,useId:rn,unstable_isNewReconciler:!1},q3={readContext:ui,useCallback:function(t,e){return $i().memoizedState=[t,e===void 0?null:e],t},useContext:ui,useEffect:Im,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Th(4194308,4,Fy.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Th(4194308,4,t,e)},useInsertionEffect:function(t,e){return Th(4,2,t,e)},useMemo:function(t,e){var r=$i();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=$i();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=z3.bind(null,or,t),[n.memoizedState,t]},useRef:function(t){var e=$i();return t={current:t},e.memoizedState=t},useState:Rm,useDebugValue:U1,useDeferredValue:function(t){return $i().memoizedState=t},useTransition:function(){var t=Rm(!1),e=t[0];return t=M3.bind(null,t[1]),$i().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=or,i=$i();if(nr){if(r===void 0)throw Error(je(407));r=r()}else{if(r=e(),qr===null)throw Error(je(349));Xa&30||Ey(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,Im(Ly.bind(null,n,s,t),[t]),n.flags|=2048,Uu(9,Cy.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=$i(),e=qr.identifierPrefix;if(nr){var r=vs,n=ms;r=(n&~(1<<32-Ai(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Mu++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=B3++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$3={readContext:ui,useCallback:By,useContext:ui,useEffect:z1,useImperativeHandle:Dy,useInsertionEffect:Iy,useLayoutEffect:Oy,useMemo:My,useReducer:Qf,useRef:Ry,useState:function(){return Qf(zu)},useDebugValue:U1,useDeferredValue:function(t){var e=ci();return zy(e,Dr.memoizedState,t)},useTransition:function(){var t=Qf(zu)[0],e=ci().memoizedState;return[t,e]},useMutableSource:Ny,useSyncExternalStore:jy,useId:Uy,unstable_isNewReconciler:!1},W3={readContext:ui,useCallback:By,useContext:ui,useEffect:z1,useImperativeHandle:Dy,useInsertionEffect:Iy,useLayoutEffect:Oy,useMemo:My,useReducer:Zf,useRef:Ry,useState:function(){return Zf(zu)},useDebugValue:U1,useDeferredValue:function(t){var e=ci();return Dr===null?e.memoizedState=t:zy(e,Dr.memoizedState,t)},useTransition:function(){var t=Zf(zu)[0],e=ci().memoizedState;return[t,e]},useMutableSource:Ny,useSyncExternalStore:jy,useId:Uy,unstable_isNewReconciler:!1};function bi(t,e){if(t&&t.defaultProps){e=lr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function m0(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:lr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Fd={isMounted:function(t){return(t=t._reactInternals)?no(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=mn(),i=la(t),s=bs(n,i);s.payload=e,r!=null&&(s.callback=r),e=aa(t,s,i),e!==null&&(Ni(e,t,i,n),Lh(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=mn(),i=la(t),s=bs(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=aa(t,s,i),e!==null&&(Ni(e,t,i,n),Lh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=mn(),n=la(t),i=bs(r,n);i.tag=2,e!=null&&(i.callback=e),e=aa(t,i,n),e!==null&&(Ni(e,t,n,r),Lh(e,t,n))}};function Om(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Ru(r,n)||!Ru(i,s):!0}function Hy(t,e,r){var n=!1,i=da,s=e.contextType;return typeof s=="object"&&s!==null?s=ui(s):(i=An(e)?Ja:cn.current,n=e.contextTypes,s=(n=n!=null)?cl(t,i):da),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fd,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Fm(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Fd.enqueueReplaceState(e,e.state,null)}function v0(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},R1(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ui(s):(s=An(e)?Ja:cn.current,i.context=cl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(m0(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Fd.enqueueReplaceState(i,i.state,null),id(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function pl(t,e){try{var r="",n=e;do r+=y_(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function ep(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function y0(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var H3=typeof WeakMap=="function"?WeakMap:Map;function Vy(t,e,r){r=bs(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ud||(ud=!0,E0=n),y0(t,e)},r}function Gy(t,e,r){r=bs(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){y0(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){y0(t,e),typeof n!="function"&&(oa===null?oa=new Set([this]):oa.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function Dm(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new H3;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=s4.bind(null,t,e,r),e.then(t,t))}function Bm(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Mm(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=bs(-1,1),e.tag=2,aa(r,e,1))),r.lanes|=1),t)}var V3=Ns.ReactCurrentOwner,Sn=!1;function gn(t,e,r,n){e.child=t===null?_y(e,null,r,n):dl(e,t.child,r,n)}function zm(t,e,r,n,i){r=r.render;var s=e.ref;return tl(e,i),n=B1(t,e,r,n,s,i),r=M1(),t!==null&&!Sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ks(t,e,i)):(nr&&r&&N1(e),e.flags|=1,gn(t,e,n,i),e.child)}function Um(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!J1(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,Ky(t,e,s,n,i)):(t=Fh(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Ru,r(a,n)&&t.ref===e.ref)return ks(t,e,i)}return e.flags|=1,t=ua(s,n),t.ref=e.ref,t.return=e,e.child=t}function Ky(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Ru(s,n)&&t.ref===e.ref)if(Sn=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Sn=!0);else return e.lanes=t.lanes,ks(t,e,i)}return w0(t,e,r,n,i)}function Jy(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xt(Ko,Un),Un|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Xt(Ko,Un),Un|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Xt(Ko,Un),Un|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Xt(Ko,Un),Un|=n;return gn(t,e,i,r),e.child}function Yy(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function w0(t,e,r,n,i){var s=An(r)?Ja:cn.current;return s=cl(e,s),tl(e,i),r=B1(t,e,r,n,s,i),n=M1(),t!==null&&!Sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ks(t,e,i)):(nr&&n&&N1(e),e.flags|=1,gn(t,e,r,i),e.child)}function qm(t,e,r,n,i){if(An(r)){var s=!0;Zh(e)}else s=!1;if(tl(e,i),e.stateNode===null)Rh(t,e),Hy(e,r,n),v0(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=ui(u):(u=An(r)?Ja:cn.current,u=cl(e,u));var h=r.getDerivedStateFromProps,p=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&Fm(e,a,n,u),Gs=!1;var v=e.memoizedState;a.state=v,id(e,n,a,i),l=e.memoizedState,o!==n||v!==l||kn.current||Gs?(typeof h=="function"&&(m0(e,r,h,n),l=e.memoizedState),(o=Gs||Om(e,r,o,n,v,l,u))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,ky(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:bi(e.type,o),a.props=u,p=e.pendingProps,v=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=ui(l):(l=An(r)?Ja:cn.current,l=cl(e,l));var f=r.getDerivedStateFromProps;(h=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==p||v!==l)&&Fm(e,a,n,l),Gs=!1,v=e.memoizedState,a.state=v,id(e,n,a,i);var _=e.memoizedState;o!==p||v!==_||kn.current||Gs?(typeof f=="function"&&(m0(e,r,f,n),_=e.memoizedState),(u=Gs||Om(e,r,u,n,v,_,l)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,_,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,_,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=_),a.props=n,a.state=_,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),n=!1)}return b0(t,e,r,n,s,i)}function b0(t,e,r,n,i,s){Yy(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&jm(e,r,!1),ks(t,e,s);n=e.stateNode,V3.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=dl(e,t.child,null,s),e.child=dl(e,null,o,s)):gn(t,e,o,s),e.memoizedState=n.state,i&&jm(e,r,!0),e.child}function Xy(t){var e=t.stateNode;e.pendingContext?Nm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Nm(t,e.context,!1),I1(t,e.containerInfo)}function $m(t,e,r,n,i){return hl(),E1(i),e.flags|=256,gn(t,e,r,n),e.child}var x0={dehydrated:null,treeContext:null,retryLane:0};function _0(t){return{baseLanes:t,cachePool:null,transitions:null}}function Qy(t,e,r){var n=e.pendingProps,i=ar.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Xt(ar,i&1),t===null)return p0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Md(a,n,0,null),t=Ga(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=_0(r),e.memoizedState=x0,t):q1(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return G3(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=ua(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=ua(o,s):(s=Ga(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?_0(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=x0,n}return s=t.child,t=s.sibling,n=ua(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function q1(t,e){return e=Md({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function sh(t,e,r,n){return n!==null&&E1(n),dl(e,t.child,null,r),t=q1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function G3(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=ep(Error(je(422))),sh(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Md({mode:"visible",children:n.children},i,0,null),s=Ga(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&dl(e,t.child,null,a),e.child.memoizedState=_0(a),e.memoizedState=x0,s);if(!(e.mode&1))return sh(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(je(419)),n=ep(s,n,void 0),sh(t,e,a,n)}if(o=(a&t.childLanes)!==0,Sn||o){if(n=qr,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ss(t,i),Ni(n,t,i,-1))}return K1(),n=ep(Error(je(421))),sh(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=a4.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,$n=sa(i.nextSibling),Hn=e,nr=!0,ki=null,t!==null&&(si[ai++]=ms,si[ai++]=vs,si[ai++]=Ya,ms=t.id,vs=t.overflow,Ya=e),e=q1(e,n.children),e.flags|=4096,e)}function Wm(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),g0(t.return,e,r)}function tp(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function Zy(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(gn(t,e,n.children,r),n=ar.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wm(t,r,e);else if(t.tag===19)Wm(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Xt(ar,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&sd(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),tp(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&sd(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}tp(e,!0,r,null,s);break;case"together":tp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Rh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ks(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Qa|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(je(153));if(e.child!==null){for(t=e.child,r=ua(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ua(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function K3(t,e,r){switch(e.tag){case 3:Xy(e),hl();break;case 5:Ay(e);break;case 1:An(e.type)&&Zh(e);break;case 4:I1(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Xt(rd,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Xt(ar,ar.current&1),e.flags|=128,null):r&e.child.childLanes?Qy(t,e,r):(Xt(ar,ar.current&1),t=ks(t,e,r),t!==null?t.sibling:null);Xt(ar,ar.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Zy(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Xt(ar,ar.current),n)break;return null;case 22:case 23:return e.lanes=0,Jy(t,e,r)}return ks(t,e,r)}var ew,S0,tw,rw;ew=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};S0=function(){};tw=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Wa(Gi.current);var s=null;switch(r){case"input":i=Hp(t,i),n=Hp(t,n),s=[];break;case"select":i=lr({},i,{value:void 0}),n=lr({},n,{value:void 0}),s=[];break;case"textarea":i=Kp(t,i),n=Kp(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Xh)}Yp(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Nu.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Nu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Zt("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};rw=function(t,e,r,n){r!==n&&(e.flags|=4)};function ru(t,e){if(!nr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function nn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function J3(t,e,r){var n=e.pendingProps;switch(j1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(e),null;case 1:return An(e.type)&&Qh(),nn(e),null;case 3:return n=e.stateNode,fl(),tr(kn),tr(cn),F1(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(nh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ki!==null&&(P0(ki),ki=null))),S0(t,e),nn(e),null;case 5:O1(e);var i=Wa(Bu.current);if(r=e.type,t!==null&&e.stateNode!=null)tw(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(je(166));return nn(e),null}if(t=Wa(Gi.current),nh(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Wi]=e,n[Fu]=s,t=(e.mode&1)!==0,r){case"dialog":Zt("cancel",n),Zt("close",n);break;case"iframe":case"object":case"embed":Zt("load",n);break;case"video":case"audio":for(i=0;i<cu.length;i++)Zt(cu[i],n);break;case"source":Zt("error",n);break;case"img":case"image":case"link":Zt("error",n),Zt("load",n);break;case"details":Zt("toggle",n);break;case"input":Zg(n,s),Zt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Zt("invalid",n);break;case"textarea":tm(n,s),Zt("invalid",n)}Yp(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&rh(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&rh(n.textContent,o,t),i=["children",""+o]):Nu.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Zt("scroll",n)}switch(r){case"input":Kc(n),em(n,s,!0);break;case"textarea":Kc(n),rm(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Xh)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=L5(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Wi]=e,t[Fu]=n,ew(t,e,!1,!1),e.stateNode=t;e:{switch(a=Xp(r,n),r){case"dialog":Zt("cancel",t),Zt("close",t),i=n;break;case"iframe":case"object":case"embed":Zt("load",t),i=n;break;case"video":case"audio":for(i=0;i<cu.length;i++)Zt(cu[i],t);i=n;break;case"source":Zt("error",t),i=n;break;case"img":case"image":case"link":Zt("error",t),Zt("load",t),i=n;break;case"details":Zt("toggle",t),i=n;break;case"input":Zg(t,n),i=Hp(t,n),Zt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=lr({},n,{value:void 0}),Zt("invalid",t);break;case"textarea":tm(t,n),i=Kp(t,n),Zt("invalid",t);break;default:i=n}Yp(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?R5(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&P5(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ju(t,l):typeof l=="number"&&ju(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Nu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Zt("scroll",t):l!=null&&d1(t,s,l,a))}switch(r){case"input":Kc(t),em(t,n,!1);break;case"textarea":Kc(t),rm(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ha(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Xo(t,!!n.multiple,s,!1):n.defaultValue!=null&&Xo(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Xh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return nn(e),null;case 6:if(t&&e.stateNode!=null)rw(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(je(166));if(r=Wa(Bu.current),Wa(Gi.current),nh(e)){if(n=e.stateNode,r=e.memoizedProps,n[Wi]=e,(s=n.nodeValue!==r)&&(t=Hn,t!==null))switch(t.tag){case 3:rh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&rh(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Wi]=e,e.stateNode=n}return nn(e),null;case 13:if(tr(ar),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(nr&&$n!==null&&e.mode&1&&!(e.flags&128))by(),hl(),e.flags|=98560,s=!1;else if(s=nh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(je(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(je(317));s[Wi]=e}else hl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;nn(e),s=!1}else ki!==null&&(P0(ki),ki=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ar.current&1?Br===0&&(Br=3):K1())),e.updateQueue!==null&&(e.flags|=4),nn(e),null);case 4:return fl(),S0(t,e),t===null&&Iu(e.stateNode.containerInfo),nn(e),null;case 10:return P1(e.type._context),nn(e),null;case 17:return An(e.type)&&Qh(),nn(e),null;case 19:if(tr(ar),s=e.memoizedState,s===null)return nn(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)ru(s,!1);else{if(Br!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=sd(t),a!==null){for(e.flags|=128,ru(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Xt(ar,ar.current&1|2),e.child}t=t.sibling}s.tail!==null&&wr()>gl&&(e.flags|=128,n=!0,ru(s,!1),e.lanes=4194304)}else{if(!n)if(t=sd(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ru(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!nr)return nn(e),null}else 2*wr()-s.renderingStartTime>gl&&r!==1073741824&&(e.flags|=128,n=!0,ru(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=wr(),e.sibling=null,r=ar.current,Xt(ar,n?r&1|2:r&1),e):(nn(e),null);case 22:case 23:return G1(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Un&1073741824&&(nn(e),e.subtreeFlags&6&&(e.flags|=8192)):nn(e),null;case 24:return null;case 25:return null}throw Error(je(156,e.tag))}function Y3(t,e){switch(j1(e),e.tag){case 1:return An(e.type)&&Qh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fl(),tr(kn),tr(cn),F1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return O1(e),null;case 13:if(tr(ar),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(je(340));hl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return tr(ar),null;case 4:return fl(),null;case 10:return P1(e.type._context),null;case 22:case 23:return G1(),null;case 24:return null;default:return null}}var ah=!1,un=!1,X3=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function Go(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){fr(t,e,n)}else r.current=null}function k0(t,e,r){try{r()}catch(n){fr(t,e,n)}}var Hm=!1;function Q3(t,e){if(o0=Kh,t=oy(),A1(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,u=0,h=0,p=t,v=null;t:for(;;){for(var f;p!==r||i!==0&&p.nodeType!==3||(o=a+i),p!==s||n!==0&&p.nodeType!==3||(l=a+n),p.nodeType===3&&(a+=p.nodeValue.length),(f=p.firstChild)!==null;)v=p,p=f;for(;;){if(p===t)break t;if(v===r&&++u===i&&(o=a),v===s&&++h===n&&(l=a),(f=p.nextSibling)!==null)break;p=v,v=p.parentNode}p=f}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(l0={focusedElem:t,selectionRange:r},Kh=!1,Oe=e;Oe!==null;)if(e=Oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Oe=t;else for(;Oe!==null;){e=Oe;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var x=_.memoizedProps,A=_.memoizedState,w=e.stateNode,S=w.getSnapshotBeforeUpdate(e.elementType===e.type?x:bi(e.type,x),A);w.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(je(163))}}catch(E){fr(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,Oe=t;break}Oe=e.return}return _=Hm,Hm=!1,_}function yu(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&k0(e,r,s)}i=i.next}while(i!==n)}}function Dd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function A0(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function nw(t){var e=t.alternate;e!==null&&(t.alternate=null,nw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Wi],delete e[Fu],delete e[h0],delete e[I3],delete e[O3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function iw(t){return t.tag===5||t.tag===3||t.tag===4}function Vm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||iw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function N0(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Xh));else if(n!==4&&(t=t.child,t!==null))for(N0(t,e,r),t=t.sibling;t!==null;)N0(t,e,r),t=t.sibling}function j0(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(j0(t,e,r),t=t.sibling;t!==null;)j0(t,e,r),t=t.sibling}var Xr=null,_i=!1;function $s(t,e,r){for(r=r.child;r!==null;)sw(t,e,r),r=r.sibling}function sw(t,e,r){if(Vi&&typeof Vi.onCommitFiberUnmount=="function")try{Vi.onCommitFiberUnmount(Cd,r)}catch{}switch(r.tag){case 5:un||Go(r,e);case 6:var n=Xr,i=_i;Xr=null,$s(t,e,r),Xr=n,_i=i,Xr!==null&&(_i?(t=Xr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Xr.removeChild(r.stateNode));break;case 18:Xr!==null&&(_i?(t=Xr,r=r.stateNode,t.nodeType===8?Kf(t.parentNode,r):t.nodeType===1&&Kf(t,r),Pu(t)):Kf(Xr,r.stateNode));break;case 4:n=Xr,i=_i,Xr=r.stateNode.containerInfo,_i=!0,$s(t,e,r),Xr=n,_i=i;break;case 0:case 11:case 14:case 15:if(!un&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&k0(r,e,a),i=i.next}while(i!==n)}$s(t,e,r);break;case 1:if(!un&&(Go(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){fr(r,e,o)}$s(t,e,r);break;case 21:$s(t,e,r);break;case 22:r.mode&1?(un=(n=un)||r.memoizedState!==null,$s(t,e,r),un=n):$s(t,e,r);break;default:$s(t,e,r)}}function Gm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new X3),e.forEach(function(n){var i=o4.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function vi(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Xr=o.stateNode,_i=!1;break e;case 3:Xr=o.stateNode.containerInfo,_i=!0;break e;case 4:Xr=o.stateNode.containerInfo,_i=!0;break e}o=o.return}if(Xr===null)throw Error(je(160));sw(s,a,i),Xr=null,_i=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){fr(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)aw(e,t),e=e.sibling}function aw(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vi(e,t),Mi(t),n&4){try{yu(3,t,t.return),Dd(3,t)}catch(x){fr(t,t.return,x)}try{yu(5,t,t.return)}catch(x){fr(t,t.return,x)}}break;case 1:vi(e,t),Mi(t),n&512&&r!==null&&Go(r,r.return);break;case 5:if(vi(e,t),Mi(t),n&512&&r!==null&&Go(r,r.return),t.flags&32){var i=t.stateNode;try{ju(i,"")}catch(x){fr(t,t.return,x)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&E5(i,s),Xp(o,a);var u=Xp(o,s);for(a=0;a<l.length;a+=2){var h=l[a],p=l[a+1];h==="style"?R5(i,p):h==="dangerouslySetInnerHTML"?P5(i,p):h==="children"?ju(i,p):d1(i,h,p,u)}switch(o){case"input":Vp(i,s);break;case"textarea":C5(i,s);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Xo(i,!!s.multiple,f,!1):v!==!!s.multiple&&(s.defaultValue!=null?Xo(i,!!s.multiple,s.defaultValue,!0):Xo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Fu]=s}catch(x){fr(t,t.return,x)}}break;case 6:if(vi(e,t),Mi(t),n&4){if(t.stateNode===null)throw Error(je(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){fr(t,t.return,x)}}break;case 3:if(vi(e,t),Mi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Pu(e.containerInfo)}catch(x){fr(t,t.return,x)}break;case 4:vi(e,t),Mi(t);break;case 13:vi(e,t),Mi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(H1=wr())),n&4&&Gm(t);break;case 22:if(h=r!==null&&r.memoizedState!==null,t.mode&1?(un=(u=un)||h,vi(e,t),un=u):vi(e,t),Mi(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(Oe=t,h=t.child;h!==null;){for(p=Oe=h;Oe!==null;){switch(v=Oe,f=v.child,v.tag){case 0:case 11:case 14:case 15:yu(4,v,v.return);break;case 1:Go(v,v.return);var _=v.stateNode;if(typeof _.componentWillUnmount=="function"){n=v,r=v.return;try{e=n,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(x){fr(n,r,x)}}break;case 5:Go(v,v.return);break;case 22:if(v.memoizedState!==null){Jm(p);continue}}f!==null?(f.return=v,Oe=f):Jm(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{i=p.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=p.stateNode,l=p.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=T5("display",a))}catch(x){fr(t,t.return,x)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(x){fr(t,t.return,x)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:vi(e,t),Mi(t),n&4&&Gm(t);break;case 21:break;default:vi(e,t),Mi(t)}}function Mi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(iw(r)){var n=r;break e}r=r.return}throw Error(je(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ju(i,""),n.flags&=-33);var s=Vm(t);j0(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=Vm(t);N0(t,o,a);break;default:throw Error(je(161))}}catch(l){fr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Z3(t,e,r){Oe=t,ow(t)}function ow(t,e,r){for(var n=(t.mode&1)!==0;Oe!==null;){var i=Oe,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||ah;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||un;o=ah;var u=un;if(ah=a,(un=l)&&!u)for(Oe=i;Oe!==null;)a=Oe,l=a.child,a.tag===22&&a.memoizedState!==null?Ym(i):l!==null?(l.return=a,Oe=l):Ym(i);for(;s!==null;)Oe=s,ow(s),s=s.sibling;Oe=i,ah=o,un=u}Km(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Oe=s):Km(t)}}function Km(t){for(;Oe!==null;){var e=Oe;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:un||Dd(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!un)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:bi(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Tm(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Tm(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&Pu(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(je(163))}un||e.flags&512&&A0(e)}catch(v){fr(e,e.return,v)}}if(e===t){Oe=null;break}if(r=e.sibling,r!==null){r.return=e.return,Oe=r;break}Oe=e.return}}function Jm(t){for(;Oe!==null;){var e=Oe;if(e===t){Oe=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Oe=r;break}Oe=e.return}}function Ym(t){for(;Oe!==null;){var e=Oe;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Dd(4,e)}catch(l){fr(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){fr(e,i,l)}}var s=e.return;try{A0(e)}catch(l){fr(e,s,l)}break;case 5:var a=e.return;try{A0(e)}catch(l){fr(e,a,l)}}}catch(l){fr(e,e.return,l)}if(e===t){Oe=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Oe=o;break}Oe=e.return}}var e4=Math.ceil,ld=Ns.ReactCurrentDispatcher,$1=Ns.ReactCurrentOwner,li=Ns.ReactCurrentBatchConfig,Lt=0,qr=null,jr=null,Qr=0,Un=0,Ko=ga(0),Br=0,qu=null,Qa=0,Bd=0,W1=0,wu=null,_n=null,H1=0,gl=1/0,ds=null,ud=!1,E0=null,oa=null,oh=!1,Zs=null,cd=0,bu=0,C0=null,Ih=-1,Oh=0;function mn(){return Lt&6?wr():Ih!==-1?Ih:Ih=wr()}function la(t){return t.mode&1?Lt&2&&Qr!==0?Qr&-Qr:D3.transition!==null?(Oh===0&&(Oh=H5()),Oh):(t=Mt,t!==0||(t=window.event,t=t===void 0?16:Q5(t.type)),t):1}function Ni(t,e,r,n){if(50<bu)throw bu=0,C0=null,Error(je(185));tc(t,r,n),(!(Lt&2)||t!==qr)&&(t===qr&&(!(Lt&2)&&(Bd|=r),Br===4&&Ys(t,Qr)),Nn(t,n),r===1&&Lt===0&&!(e.mode&1)&&(gl=wr()+500,Id&&ma()))}function Nn(t,e){var r=t.callbackNode;D_(t,e);var n=Gh(t,t===qr?Qr:0);if(n===0)r!==null&&sm(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&sm(r),e===1)t.tag===0?F3(Xm.bind(null,t)):vy(Xm.bind(null,t)),T3(function(){!(Lt&6)&&ma()}),r=null;else{switch(V5(n)){case 1:r=v1;break;case 4:r=$5;break;case 16:r=Vh;break;case 536870912:r=W5;break;default:r=Vh}r=gw(r,lw.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function lw(t,e){if(Ih=-1,Oh=0,Lt&6)throw Error(je(327));var r=t.callbackNode;if(rl()&&t.callbackNode!==r)return null;var n=Gh(t,t===qr?Qr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=hd(t,n);else{e=n;var i=Lt;Lt|=2;var s=cw();(qr!==t||Qr!==e)&&(ds=null,gl=wr()+500,Va(t,e));do try{n4();break}catch(o){uw(t,o)}while(!0);L1(),ld.current=s,Lt=i,jr!==null?e=0:(qr=null,Qr=0,e=Br)}if(e!==0){if(e===2&&(i=r0(t),i!==0&&(n=i,e=L0(t,i))),e===1)throw r=qu,Va(t,0),Ys(t,n),Nn(t,wr()),r;if(e===6)Ys(t,n);else{if(i=t.current.alternate,!(n&30)&&!t4(i)&&(e=hd(t,n),e===2&&(s=r0(t),s!==0&&(n=s,e=L0(t,s))),e===1))throw r=qu,Va(t,0),Ys(t,n),Nn(t,wr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(je(345));case 2:Fa(t,_n,ds);break;case 3:if(Ys(t,n),(n&130023424)===n&&(e=H1+500-wr(),10<e)){if(Gh(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){mn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=c0(Fa.bind(null,t,_n,ds),e);break}Fa(t,_n,ds);break;case 4:if(Ys(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-Ai(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=wr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*e4(n/1960))-n,10<n){t.timeoutHandle=c0(Fa.bind(null,t,_n,ds),n);break}Fa(t,_n,ds);break;case 5:Fa(t,_n,ds);break;default:throw Error(je(329))}}}return Nn(t,wr()),t.callbackNode===r?lw.bind(null,t):null}function L0(t,e){var r=wu;return t.current.memoizedState.isDehydrated&&(Va(t,e).flags|=256),t=hd(t,e),t!==2&&(e=_n,_n=r,e!==null&&P0(e)),t}function P0(t){_n===null?_n=t:_n.push.apply(_n,t)}function t4(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!ji(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ys(t,e){for(e&=~W1,e&=~Bd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ai(e),n=1<<r;t[r]=-1,e&=~n}}function Xm(t){if(Lt&6)throw Error(je(327));rl();var e=Gh(t,0);if(!(e&1))return Nn(t,wr()),null;var r=hd(t,e);if(t.tag!==0&&r===2){var n=r0(t);n!==0&&(e=n,r=L0(t,n))}if(r===1)throw r=qu,Va(t,0),Ys(t,e),Nn(t,wr()),r;if(r===6)throw Error(je(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fa(t,_n,ds),Nn(t,wr()),null}function V1(t,e){var r=Lt;Lt|=1;try{return t(e)}finally{Lt=r,Lt===0&&(gl=wr()+500,Id&&ma())}}function Za(t){Zs!==null&&Zs.tag===0&&!(Lt&6)&&rl();var e=Lt;Lt|=1;var r=li.transition,n=Mt;try{if(li.transition=null,Mt=1,t)return t()}finally{Mt=n,li.transition=r,Lt=e,!(Lt&6)&&ma()}}function G1(){Un=Ko.current,tr(Ko)}function Va(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,P3(r)),jr!==null)for(r=jr.return;r!==null;){var n=r;switch(j1(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Qh();break;case 3:fl(),tr(kn),tr(cn),F1();break;case 5:O1(n);break;case 4:fl();break;case 13:tr(ar);break;case 19:tr(ar);break;case 10:P1(n.type._context);break;case 22:case 23:G1()}r=r.return}if(qr=t,jr=t=ua(t.current,null),Qr=Un=e,Br=0,qu=null,W1=Bd=Qa=0,_n=wu=null,$a!==null){for(e=0;e<$a.length;e++)if(r=$a[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}$a=null}return t}function uw(t,e){do{var r=jr;try{if(L1(),Ph.current=od,ad){for(var n=or.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ad=!1}if(Xa=0,zr=Dr=or=null,vu=!1,Mu=0,$1.current=null,r===null||r.return===null){Br=1,qu=e,jr=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=Qr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=o,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var v=h.alternate;v?(h.updateQueue=v.updateQueue,h.memoizedState=v.memoizedState,h.lanes=v.lanes):(h.updateQueue=null,h.memoizedState=null)}var f=Bm(a);if(f!==null){f.flags&=-257,Mm(f,a,o,s,e),f.mode&1&&Dm(s,u,e),e=f,l=u;var _=e.updateQueue;if(_===null){var x=new Set;x.add(l),e.updateQueue=x}else _.add(l);break e}else{if(!(e&1)){Dm(s,u,e),K1();break e}l=Error(je(426))}}else if(nr&&o.mode&1){var A=Bm(a);if(A!==null){!(A.flags&65536)&&(A.flags|=256),Mm(A,a,o,s,e),E1(pl(l,o));break e}}s=l=pl(l,o),Br!==4&&(Br=2),wu===null?wu=[s]:wu.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=Vy(s,l,e);Pm(s,w);break e;case 1:o=l;var S=s.type,k=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(oa===null||!oa.has(k)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=Gy(s,o,e);Pm(s,E);break e}}s=s.return}while(s!==null)}dw(r)}catch(F){e=F,jr===r&&r!==null&&(jr=r=r.return);continue}break}while(!0)}function cw(){var t=ld.current;return ld.current=od,t===null?od:t}function K1(){(Br===0||Br===3||Br===2)&&(Br=4),qr===null||!(Qa&268435455)&&!(Bd&268435455)||Ys(qr,Qr)}function hd(t,e){var r=Lt;Lt|=2;var n=cw();(qr!==t||Qr!==e)&&(ds=null,Va(t,e));do try{r4();break}catch(i){uw(t,i)}while(!0);if(L1(),Lt=r,ld.current=n,jr!==null)throw Error(je(261));return qr=null,Qr=0,Br}function r4(){for(;jr!==null;)hw(jr)}function n4(){for(;jr!==null&&!E_();)hw(jr)}function hw(t){var e=pw(t.alternate,t,Un);t.memoizedProps=t.pendingProps,e===null?dw(t):jr=e,$1.current=null}function dw(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Y3(r,e),r!==null){r.flags&=32767,jr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Br=6,jr=null;return}}else if(r=J3(r,e,Un),r!==null){jr=r;return}if(e=e.sibling,e!==null){jr=e;return}jr=e=t}while(e!==null);Br===0&&(Br=5)}function Fa(t,e,r){var n=Mt,i=li.transition;try{li.transition=null,Mt=1,i4(t,e,r,n)}finally{li.transition=i,Mt=n}return null}function i4(t,e,r,n){do rl();while(Zs!==null);if(Lt&6)throw Error(je(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(je(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(B_(t,s),t===qr&&(jr=qr=null,Qr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||oh||(oh=!0,gw(Vh,function(){return rl(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=li.transition,li.transition=null;var a=Mt;Mt=1;var o=Lt;Lt|=4,$1.current=null,Q3(t,r),aw(r,t),k3(l0),Kh=!!o0,l0=o0=null,t.current=r,Z3(r),C_(),Lt=o,Mt=a,li.transition=s}else t.current=r;if(oh&&(oh=!1,Zs=t,cd=i),s=t.pendingLanes,s===0&&(oa=null),T_(r.stateNode),Nn(t,wr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(ud)throw ud=!1,t=E0,E0=null,t;return cd&1&&t.tag!==0&&rl(),s=t.pendingLanes,s&1?t===C0?bu++:(bu=0,C0=t):bu=0,ma(),null}function rl(){if(Zs!==null){var t=V5(cd),e=li.transition,r=Mt;try{if(li.transition=null,Mt=16>t?16:t,Zs===null)var n=!1;else{if(t=Zs,Zs=null,cd=0,Lt&6)throw Error(je(331));var i=Lt;for(Lt|=4,Oe=t.current;Oe!==null;){var s=Oe,a=s.child;if(Oe.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Oe=u;Oe!==null;){var h=Oe;switch(h.tag){case 0:case 11:case 15:yu(8,h,s)}var p=h.child;if(p!==null)p.return=h,Oe=p;else for(;Oe!==null;){h=Oe;var v=h.sibling,f=h.return;if(nw(h),h===u){Oe=null;break}if(v!==null){v.return=f,Oe=v;break}Oe=f}}}var _=s.alternate;if(_!==null){var x=_.child;if(x!==null){_.child=null;do{var A=x.sibling;x.sibling=null,x=A}while(x!==null)}}Oe=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Oe=a;else e:for(;Oe!==null;){if(s=Oe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:yu(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,Oe=w;break e}Oe=s.return}}var S=t.current;for(Oe=S;Oe!==null;){a=Oe;var k=a.child;if(a.subtreeFlags&2064&&k!==null)k.return=a,Oe=k;else e:for(a=S;Oe!==null;){if(o=Oe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Dd(9,o)}}catch(F){fr(o,o.return,F)}if(o===a){Oe=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,Oe=E;break e}Oe=o.return}}if(Lt=i,ma(),Vi&&typeof Vi.onPostCommitFiberRoot=="function")try{Vi.onPostCommitFiberRoot(Cd,t)}catch{}n=!0}return n}finally{Mt=r,li.transition=e}}return!1}function Qm(t,e,r){e=pl(r,e),e=Vy(t,e,1),t=aa(t,e,1),e=mn(),t!==null&&(tc(t,1,e),Nn(t,e))}function fr(t,e,r){if(t.tag===3)Qm(t,t,r);else for(;e!==null;){if(e.tag===3){Qm(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(oa===null||!oa.has(n))){t=pl(r,t),t=Gy(e,t,1),e=aa(e,t,1),t=mn(),e!==null&&(tc(e,1,t),Nn(e,t));break}}e=e.return}}function s4(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=mn(),t.pingedLanes|=t.suspendedLanes&r,qr===t&&(Qr&r)===r&&(Br===4||Br===3&&(Qr&130023424)===Qr&&500>wr()-H1?Va(t,0):W1|=r),Nn(t,e)}function fw(t,e){e===0&&(t.mode&1?(e=Xc,Xc<<=1,!(Xc&130023424)&&(Xc=4194304)):e=1);var r=mn();t=Ss(t,e),t!==null&&(tc(t,e,r),Nn(t,r))}function a4(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),fw(t,r)}function o4(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(je(314))}n!==null&&n.delete(e),fw(t,r)}var pw;pw=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||kn.current)Sn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Sn=!1,K3(t,e,r);Sn=!!(t.flags&131072)}else Sn=!1,nr&&e.flags&1048576&&yy(e,td,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Rh(t,e),t=e.pendingProps;var i=cl(e,cn.current);tl(e,r),i=B1(null,e,n,t,i,r);var s=M1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,An(n)?(s=!0,Zh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,R1(e),i.updater=Fd,e.stateNode=i,i._reactInternals=e,v0(e,n,t,r),e=b0(null,e,n,!0,s,r)):(e.tag=0,nr&&s&&N1(e),gn(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Rh(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=u4(n),t=bi(n,t),i){case 0:e=w0(null,e,n,t,r);break e;case 1:e=qm(null,e,n,t,r);break e;case 11:e=zm(null,e,n,t,r);break e;case 14:e=Um(null,e,n,bi(n.type,t),r);break e}throw Error(je(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:bi(n,i),w0(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:bi(n,i),qm(t,e,n,i,r);case 3:e:{if(Xy(e),t===null)throw Error(je(387));n=e.pendingProps,s=e.memoizedState,i=s.element,ky(t,e),id(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=pl(Error(je(423)),e),e=$m(t,e,n,r,i);break e}else if(n!==i){i=pl(Error(je(424)),e),e=$m(t,e,n,r,i);break e}else for($n=sa(e.stateNode.containerInfo.firstChild),Hn=e,nr=!0,ki=null,r=_y(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(hl(),n===i){e=ks(t,e,r);break e}gn(t,e,n,r)}e=e.child}return e;case 5:return Ay(e),t===null&&p0(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,u0(n,i)?a=null:s!==null&&u0(n,s)&&(e.flags|=32),Yy(t,e),gn(t,e,a,r),e.child;case 6:return t===null&&p0(e),null;case 13:return Qy(t,e,r);case 4:return I1(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=dl(e,null,n,r):gn(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:bi(n,i),zm(t,e,n,i,r);case 7:return gn(t,e,e.pendingProps,r),e.child;case 8:return gn(t,e,e.pendingProps.children,r),e.child;case 12:return gn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Xt(rd,n._currentValue),n._currentValue=a,s!==null)if(ji(s.value,a)){if(s.children===i.children&&!kn.current){e=ks(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=bs(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),g0(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(je(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),g0(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}gn(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,tl(e,r),i=ui(i),n=n(i),e.flags|=1,gn(t,e,n,r),e.child;case 14:return n=e.type,i=bi(n,e.pendingProps),i=bi(n.type,i),Um(t,e,n,i,r);case 15:return Ky(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:bi(n,i),Rh(t,e),e.tag=1,An(n)?(t=!0,Zh(e)):t=!1,tl(e,r),Hy(e,n,i),v0(e,n,i,r),b0(null,e,n,!0,t,r);case 19:return Zy(t,e,r);case 22:return Jy(t,e,r)}throw Error(je(156,e.tag))};function gw(t,e){return q5(t,e)}function l4(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oi(t,e,r,n){return new l4(t,e,r,n)}function J1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function u4(t){if(typeof t=="function")return J1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===p1)return 11;if(t===g1)return 14}return 2}function ua(t,e){var r=t.alternate;return r===null?(r=oi(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Fh(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")J1(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Bo:return Ga(r.children,i,s,e);case f1:a=8,i|=8;break;case Up:return t=oi(12,r,e,i|2),t.elementType=Up,t.lanes=s,t;case qp:return t=oi(13,r,e,i),t.elementType=qp,t.lanes=s,t;case $p:return t=oi(19,r,e,i),t.elementType=$p,t.lanes=s,t;case A5:return Md(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case S5:a=10;break e;case k5:a=9;break e;case p1:a=11;break e;case g1:a=14;break e;case Vs:a=16,n=null;break e}throw Error(je(130,t==null?t:typeof t,""))}return e=oi(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Ga(t,e,r,n){return t=oi(7,t,n,e),t.lanes=r,t}function Md(t,e,r,n){return t=oi(22,t,n,e),t.elementType=A5,t.lanes=r,t.stateNode={isHidden:!1},t}function rp(t,e,r){return t=oi(6,t,null,e),t.lanes=r,t}function np(t,e,r){return e=oi(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function c4(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Df(0),this.expirationTimes=Df(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Df(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Y1(t,e,r,n,i,s,a,o,l){return t=new c4(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=oi(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},R1(s),t}function h4(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Do,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function mw(t){if(!t)return da;t=t._reactInternals;e:{if(no(t)!==t||t.tag!==1)throw Error(je(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(An(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(je(171))}if(t.tag===1){var r=t.type;if(An(r))return my(t,r,e)}return e}function vw(t,e,r,n,i,s,a,o,l){return t=Y1(r,n,!0,t,i,s,a,o,l),t.context=mw(null),r=t.current,n=mn(),i=la(r),s=bs(n,i),s.callback=e??null,aa(r,s,i),t.current.lanes=i,tc(t,i,n),Nn(t,n),t}function zd(t,e,r,n){var i=e.current,s=mn(),a=la(i);return r=mw(r),e.context===null?e.context=r:e.pendingContext=r,e=bs(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=aa(i,e,a),t!==null&&(Ni(t,i,a,s),Lh(t,i,a)),a}function dd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Zm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function X1(t,e){Zm(t,e),(t=t.alternate)&&Zm(t,e)}function d4(){return null}var yw=typeof reportError=="function"?reportError:function(t){console.error(t)};function Q1(t){this._internalRoot=t}Ud.prototype.render=Q1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(je(409));zd(t,e,null,null)};Ud.prototype.unmount=Q1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Za(function(){zd(null,t,null,null)}),e[_s]=null}};function Ud(t){this._internalRoot=t}Ud.prototype.unstable_scheduleHydration=function(t){if(t){var e=J5();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Js.length&&e!==0&&e<Js[r].priority;r++);Js.splice(r,0,t),r===0&&X5(t)}};function Z1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function e2(){}function f4(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=dd(a);s.call(u)}}var a=vw(e,n,t,0,null,!1,!1,"",e2);return t._reactRootContainer=a,t[_s]=a.current,Iu(t.nodeType===8?t.parentNode:t),Za(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=dd(l);o.call(u)}}var l=Y1(t,0,!1,null,null,!1,!1,"",e2);return t._reactRootContainer=l,t[_s]=l.current,Iu(t.nodeType===8?t.parentNode:t),Za(function(){zd(e,l,r,n)}),l}function $d(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=dd(a);o.call(l)}}zd(e,a,t,i)}else a=f4(r,e,t,i,n);return dd(a)}G5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=uu(e.pendingLanes);r!==0&&(y1(e,r|1),Nn(e,wr()),!(Lt&6)&&(gl=wr()+500,ma()))}break;case 13:Za(function(){var n=Ss(t,1);if(n!==null){var i=mn();Ni(n,t,1,i)}}),X1(t,1)}};w1=function(t){if(t.tag===13){var e=Ss(t,134217728);if(e!==null){var r=mn();Ni(e,t,134217728,r)}X1(t,134217728)}};K5=function(t){if(t.tag===13){var e=la(t),r=Ss(t,e);if(r!==null){var n=mn();Ni(r,t,e,n)}X1(t,e)}};J5=function(){return Mt};Y5=function(t,e){var r=Mt;try{return Mt=t,e()}finally{Mt=r}};Zp=function(t,e,r){switch(e){case"input":if(Vp(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Rd(n);if(!i)throw Error(je(90));j5(n),Vp(n,i)}}}break;case"textarea":C5(t,r);break;case"select":e=r.value,e!=null&&Xo(t,!!r.multiple,e,!1)}};F5=V1;D5=Za;var p4={usingClientEntryPoint:!1,Events:[nc,qo,Rd,I5,O5,V1]},nu={findFiberByHostInstance:qa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},g4={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ns.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=z5(t),t===null?null:t.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||d4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lh.isDisabled&&lh.supportsFiber)try{Cd=lh.inject(g4),Vi=lh}catch{}}Gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=p4;Gn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Z1(e))throw Error(je(200));return h4(t,e,null,r)};Gn.createRoot=function(t,e){if(!Z1(t))throw Error(je(299));var r=!1,n="",i=yw;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Y1(t,1,!1,null,null,r,!1,n,i),t[_s]=e.current,Iu(t.nodeType===8?t.parentNode:t),new Q1(e)};Gn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(je(188)):(t=Object.keys(t).join(","),Error(je(268,t)));return t=z5(e),t=t===null?null:t.stateNode,t};Gn.flushSync=function(t){return Za(t)};Gn.hydrate=function(t,e,r){if(!qd(e))throw Error(je(200));return $d(null,t,e,!0,r)};Gn.hydrateRoot=function(t,e,r){if(!Z1(t))throw Error(je(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=yw;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=vw(e,null,t,1,r??null,i,!1,s,a),t[_s]=e.current,Iu(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Ud(e)};Gn.render=function(t,e,r){if(!qd(e))throw Error(je(200));return $d(null,t,e,!1,r)};Gn.unmountComponentAtNode=function(t){if(!qd(t))throw Error(je(40));return t._reactRootContainer?(Za(function(){$d(null,null,t,!1,function(){t._reactRootContainer=null,t[_s]=null})}),!0):!1};Gn.unstable_batchedUpdates=V1;Gn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!qd(r))throw Error(je(200));if(t==null||t._reactInternals===void 0)throw Error(je(38));return $d(t,e,r,!1,n)};Gn.version="18.3.1-next-f1338f8080-20240426";function ww(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ww)}catch(t){console.error(t)}}ww(),w5.exports=Gn;var m4=w5.exports,t2=m4;Mp.createRoot=t2.createRoot,Mp.hydrateRoot=t2.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $u(){return $u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$u.apply(this,arguments)}var ea;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ea||(ea={}));const r2="popstate";function v4(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return T0("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:fd(i)}return w4(e,r,null,t)}function Er(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function eg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function y4(){return Math.random().toString(36).substr(2,8)}function n2(t,e){return{usr:t.state,key:t.key,idx:e}}function T0(t,e,r,n){return r===void 0&&(r=null),$u({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?wl(e):e,{state:r,key:e&&e.key||n||y4()})}function fd(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function wl(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function w4(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=ea.Pop,l=null,u=h();u==null&&(u=0,a.replaceState($u({},a.state,{idx:u}),""));function h(){return(a.state||{idx:null}).idx}function p(){o=ea.Pop;let A=h(),w=A==null?null:A-u;u=A,l&&l({action:o,location:x.location,delta:w})}function v(A,w){o=ea.Push;let S=T0(x.location,A,w);u=h()+1;let k=n2(S,u),E=x.createHref(S);try{a.pushState(k,"",E)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(E)}s&&l&&l({action:o,location:x.location,delta:1})}function f(A,w){o=ea.Replace;let S=T0(x.location,A,w);u=h();let k=n2(S,u),E=x.createHref(S);a.replaceState(k,"",E),s&&l&&l({action:o,location:x.location,delta:0})}function _(A){let w=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof A=="string"?A:fd(A);return S=S.replace(/ $/,"%20"),Er(w,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,w)}let x={get action(){return o},get location(){return t(i,a)},listen(A){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(r2,p),l=A,()=>{i.removeEventListener(r2,p),l=null}},createHref(A){return e(i,A)},createURL:_,encodeLocation(A){let w=_(A);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:v,replace:f,go(A){return a.go(A)}};return x}var i2;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(i2||(i2={}));function b4(t,e,r){return r===void 0&&(r="/"),x4(t,e,r)}function x4(t,e,r,n){let i=typeof e=="string"?wl(e):e,s=tg(i.pathname||"/",r);if(s==null)return null;let a=bw(t);_4(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=I4(s);o=P4(a[l],u)}return o}function bw(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(Er(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=ca([n,l.relativePath]),h=r.concat(l);s.children&&s.children.length>0&&(Er(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),bw(s.children,e,h,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:C4(u,s.index),routesMeta:h})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of xw(s.path))i(s,a,l)}),e}function xw(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=xw(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function _4(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:L4(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const S4=/^:[\w-]+$/,k4=3,A4=2,N4=1,j4=10,E4=-2,s2=t=>t==="*";function C4(t,e){let r=t.split("/"),n=r.length;return r.some(s2)&&(n+=E4),e&&(n+=A4),r.filter(i=>!s2(i)).reduce((i,s)=>i+(S4.test(s)?k4:s===""?N4:j4),n)}function L4(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function P4(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,h=s==="/"?e:e.slice(s.length)||"/",p=T4({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),v=l.route;if(!p)return null;Object.assign(i,p.params),a.push({params:i,pathname:ca([s,p.pathname]),pathnameBase:M4(ca([s,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(s=ca([s,p.pathnameBase]))}return a}function T4(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=R4(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,h,p)=>{let{paramName:v,isOptional:f}=h;if(v==="*"){let x=o[p]||"";a=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const _=o[p];return f&&!_?u[v]=void 0:u[v]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function R4(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),eg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function I4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return eg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function tg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const O4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,F4=t=>O4.test(t);function D4(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?wl(t):t,s;if(r)if(F4(r))s=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),eg(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?s=a2(r.substring(1),"/"):s=a2(r,e)}else s=e;return{pathname:s,search:z4(n),hash:U4(i)}}function a2(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function ip(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function B4(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function _w(t,e){let r=B4(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Sw(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=wl(t):(i=$u({},t),Er(!i.pathname||!i.pathname.includes("?"),ip("?","pathname","search",i)),Er(!i.pathname||!i.pathname.includes("#"),ip("#","pathname","hash",i)),Er(!i.search||!i.search.includes("#"),ip("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let p=e.length-1;if(!n&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),p-=1;i.pathname=v.join("/")}o=p>=0?e[p]:"/"}let l=D4(i,o),u=a&&a!=="/"&&a.endsWith("/"),h=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const ca=t=>t.join("/").replace(/\/\/+/g,"/"),M4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),z4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,U4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function q4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const kw=["post","put","patch","delete"];new Set(kw);const $4=["get",...kw];new Set($4);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wu(){return Wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wu.apply(this,arguments)}const rg=he.createContext(null),W4=he.createContext(null),io=he.createContext(null),Wd=he.createContext(null),so=he.createContext({outlet:null,matches:[],isDataRoute:!1}),Aw=he.createContext(null);function H4(t,e){let{relative:r}=e===void 0?{}:e;sc()||Er(!1);let{basename:n,navigator:i}=he.useContext(io),{hash:s,pathname:a,search:o}=jw(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:ca([n,a])),i.createHref({pathname:l,search:o,hash:s})}function sc(){return he.useContext(Wd)!=null}function Hd(){return sc()||Er(!1),he.useContext(Wd).location}function Nw(t){he.useContext(io).static||he.useLayoutEffect(t)}function ac(){let{isDataRoute:t}=he.useContext(so);return t?iS():V4()}function V4(){sc()||Er(!1);let t=he.useContext(rg),{basename:e,future:r,navigator:n}=he.useContext(io),{matches:i}=he.useContext(so),{pathname:s}=Hd(),a=JSON.stringify(_w(i,r.v7_relativeSplatPath)),o=he.useRef(!1);return Nw(()=>{o.current=!0}),he.useCallback(function(u,h){if(h===void 0&&(h={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let p=Sw(u,JSON.parse(a),s,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:ca([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,a,s,t])}function jw(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=he.useContext(io),{matches:i}=he.useContext(so),{pathname:s}=Hd(),a=JSON.stringify(_w(i,n.v7_relativeSplatPath));return he.useMemo(()=>Sw(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function G4(t,e){return K4(t,e)}function K4(t,e,r,n){sc()||Er(!1);let{navigator:i}=he.useContext(io),{matches:s}=he.useContext(so),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=Hd(),h;if(e){var p;let A=typeof e=="string"?wl(e):e;l==="/"||(p=A.pathname)!=null&&p.startsWith(l)||Er(!1),h=A}else h=u;let v=h.pathname||"/",f=v;if(l!=="/"){let A=l.replace(/^\//,"").split("/");f="/"+v.replace(/^\//,"").split("/").slice(A.length).join("/")}let _=b4(t,{pathname:f}),x=Z4(_&&_.map(A=>Object.assign({},A,{params:Object.assign({},o,A.params),pathname:ca([l,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?l:ca([l,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),s,r,n);return e&&x?he.createElement(Wd.Provider,{value:{location:Wu({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ea.Pop}},x):x}function J4(){let t=nS(),e=q4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return he.createElement(he.Fragment,null,he.createElement("h2",null,"Unexpected Application Error!"),he.createElement("h3",{style:{fontStyle:"italic"}},e),r?he.createElement("pre",{style:i},r):null,null)}const Y4=he.createElement(J4,null);class X4 extends he.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?he.createElement(so.Provider,{value:this.props.routeContext},he.createElement(Aw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Q4(t){let{routeContext:e,match:r,children:n}=t,i=he.useContext(rg);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),he.createElement(so.Provider,{value:e},n)}function Z4(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let h=a.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);h>=0||Er(!1),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:v,errors:f}=r,_=p.route.loader&&v[p.route.id]===void 0&&(!f||f[p.route.id]===void 0);if(p.route.lazy||_){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,p,v)=>{let f,_=!1,x=null,A=null;r&&(f=o&&p.route.id?o[p.route.id]:void 0,x=p.route.errorElement||Y4,l&&(u<0&&v===0?(sS("route-fallback"),_=!0,A=null):u===v&&(_=!0,A=p.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,v+1)),S=()=>{let k;return f?k=x:_?k=A:p.route.Component?k=he.createElement(p.route.Component,null):p.route.element?k=p.route.element:k=h,he.createElement(Q4,{match:p,routeContext:{outlet:h,matches:w,isDataRoute:r!=null},children:k})};return r&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?he.createElement(X4,{location:r.location,revalidation:r.revalidation,component:x,error:f,children:S(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):S()},null)}var Ew=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Ew||{}),Cw=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Cw||{});function eS(t){let e=he.useContext(rg);return e||Er(!1),e}function tS(t){let e=he.useContext(W4);return e||Er(!1),e}function rS(t){let e=he.useContext(so);return e||Er(!1),e}function Lw(t){let e=rS(),r=e.matches[e.matches.length-1];return r.route.id||Er(!1),r.route.id}function nS(){var t;let e=he.useContext(Aw),r=tS(),n=Lw();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function iS(){let{router:t}=eS(Ew.UseNavigateStable),e=Lw(Cw.UseNavigateStable),r=he.useRef(!1);return Nw(()=>{r.current=!0}),he.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Wu({fromRouteId:e},s)))},[t,e])}const o2={};function sS(t,e,r){o2[t]||(o2[t]=!0)}function aS(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ui(t){Er(!1)}function oS(t){let{basename:e="/",children:r=null,location:n,navigationType:i=ea.Pop,navigator:s,static:a=!1,future:o}=t;sc()&&Er(!1);let l=e.replace(/^\/*/,"/"),u=he.useMemo(()=>({basename:l,navigator:s,static:a,future:Wu({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=wl(n));let{pathname:h="/",search:p="",hash:v="",state:f=null,key:_="default"}=n,x=he.useMemo(()=>{let A=tg(h,l);return A==null?null:{location:{pathname:A,search:p,hash:v,state:f,key:_},navigationType:i}},[l,h,p,v,f,_,i]);return x==null?null:he.createElement(io.Provider,{value:u},he.createElement(Wd.Provider,{children:r,value:x}))}function lS(t){let{children:e,location:r}=t;return G4(R0(e),r)}new Promise(()=>{});function R0(t,e){e===void 0&&(e=[]);let r=[];return he.Children.forEach(t,(n,i)=>{if(!he.isValidElement(n))return;let s=[...e,i];if(n.type===he.Fragment){r.push.apply(r,R0(n.props.children,s));return}n.type!==Ui&&Er(!1),!n.props.index||!n.props.children||Er(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=R0(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function I0(){return I0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},I0.apply(this,arguments)}function uS(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function cS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function hS(t,e){return t.button===0&&(!e||e==="_self")&&!cS(t)}const dS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],fS="6";try{window.__reactRouterVersion=fS}catch{}const pS="startTransition",l2=s_[pS];function gS(t){let{basename:e,children:r,future:n,window:i}=t,s=he.useRef();s.current==null&&(s.current=v4({window:i,v5Compat:!0}));let a=s.current,[o,l]=he.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},h=he.useCallback(p=>{u&&l2?l2(()=>l(p)):l(p)},[l,u]);return he.useLayoutEffect(()=>a.listen(h),[a,h]),he.useEffect(()=>aS(n),[n]),he.createElement(oS,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const mS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yr=he.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:h,viewTransition:p}=e,v=uS(e,dS),{basename:f}=he.useContext(io),_,x=!1;if(typeof u=="string"&&vS.test(u)&&(_=u,mS))try{let k=new URL(window.location.href),E=u.startsWith("//")?new URL(k.protocol+u):new URL(u),F=tg(E.pathname,f);E.origin===k.origin&&F!=null?u=F+E.search+E.hash:x=!0}catch{}let A=H4(u,{relative:i}),w=yS(u,{replace:a,state:o,target:l,preventScrollReset:h,relative:i,viewTransition:p});function S(k){n&&n(k),k.defaultPrevented||w(k)}return he.createElement("a",I0({},v,{href:_||A,onClick:x||s?n:S,ref:r,target:l}))});var u2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(u2||(u2={}));var c2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(c2||(c2={}));function yS(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=ac(),u=Hd(),h=jw(t,{relative:a});return he.useCallback(p=>{if(hS(p,r)){p.preventDefault();let v=n!==void 0?n:fd(u)===fd(h);l(t,{replace:v,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[u,l,h,n,i,r,t,s,a,o])}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),zt=(t,e)=>{const r=he.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...u},h)=>he.createElement("svg",{ref:h,...wS,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${bS(t)}`,o].join(" "),...u},[...e.map(([p,v])=>he.createElement(p,v)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=zt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=zt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=zt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=zt("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=zt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=zt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=zt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=zt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=zt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=zt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=zt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=zt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=zt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=zt("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=zt("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=zt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=zt("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=zt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=zt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=zt("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=zt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=zt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=zt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=zt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=zt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=zt("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=zt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=zt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=zt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Vd(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function FS(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(h){try{u(n.next(h))}catch(p){a(p)}}function l(h){try{u(n.throw(h))}catch(p){a(p)}}function u(h){h.done?s(h.value):i(h.value).then(o,l)}u((n=n.apply(t,e||[])).next())})}const DS=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class ng extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class BS extends ng{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class g2 extends ng{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class m2 extends ng{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var F0;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(F0||(F0={}));class MS{constructor(e,{headers:r={},customFetch:n,region:i=F0.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=DS(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return FS(this,arguments,void 0,function*(r,n={}){var i;let s,a;try{const{headers:o,method:l,body:u,signal:h,timeout:p}=n;let v={},{region:f}=n;f||(f=this.region);const _=new URL(`${this.url}/${r}`);f&&f!=="any"&&(v["x-region"]=f,_.searchParams.set("forceFunctionRegion",f));let x;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",x=u):typeof u=="string"?(v["Content-Type"]="text/plain",x=u):typeof FormData<"u"&&u instanceof FormData?x=u:(v["Content-Type"]="application/json",x=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?x=JSON.stringify(u):x=u;let A=h;p&&(a=new AbortController,s=setTimeout(()=>a.abort(),p),h?(A=a.signal,h.addEventListener("abort",()=>a.abort())):A=a.signal);const w=yield this.fetch(_.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),o),body:x,signal:A}).catch(F=>{throw new BS(F)}),S=w.headers.get("x-relay-error");if(S&&S==="true")throw new g2(w);if(!w.ok)throw new m2(w);let k=((i=w.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),E;return k==="application/json"?E=yield w.json():k==="application/octet-stream"||k==="application/pdf"?E=yield w.blob():k==="text/event-stream"?E=w:k==="multipart/form-data"?E=yield w.formData():E=yield w.text(),{data:E,error:null,response:w}}catch(o){return{data:null,error:o,response:o instanceof m2||o instanceof g2?o.context:void 0}}finally{s&&clearTimeout(s)}})}}var zS=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},US=class{constructor(t){var e,r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=t.urlLengthLimit)!==null&&n!==void 0?n:8e3,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let a=null,o=null,l=null,u=s.status,h=s.statusText;if(s.ok){var p,v;if(r.method!=="HEAD"){var f;const w=await s.text();w===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((f=r.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?o=w:o=JSON.parse(w))}const x=(p=r.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),A=(v=s.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");x&&A&&A.length>1&&(l=parseInt(A[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,u=406,h="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var _;const x=await s.text();try{a=JSON.parse(x),Array.isArray(a)&&s.status===404&&(o=[],a=null,u=200,h="OK")}catch{s.status===404&&x===""?(u=204,h="No Content"):a={message:x}}if(a&&r.isMaybeSingle&&(!(a==null||(_=a.details)===null||_===void 0)&&_.includes("0 rows"))&&(a=null,u=200,h="OK"),a&&r.shouldThrowOnError)throw new zS(a)}return{error:a,data:o,count:l,status:u,statusText:h}});return this.shouldThrowOnError||(i=i.catch(s=>{var a;let o="",l="",u="";const h=s==null?void 0:s.cause;if(h){var p,v,f,_;const w=(p=h==null?void 0:h.message)!==null&&p!==void 0?p:"",S=(v=h==null?void 0:h.code)!==null&&v!==void 0?v:"";o=`${(f=s==null?void 0:s.name)!==null&&f!==void 0?f:"FetchError"}: ${s==null?void 0:s.message}`,o+=`

Caused by: ${(_=h==null?void 0:h.name)!==null&&_!==void 0?_:"Error"}: ${w}`,S&&(o+=` (${S})`),h!=null&&h.stack&&(o+=`
${h.stack}`)}else{var x;o=(x=s==null?void 0:s.stack)!==null&&x!==void 0?x:""}const A=this.url.toString().length;return(s==null?void 0:s.name)==="AbortError"||(s==null?void 0:s.code)==="ABORT_ERR"?(u="",l="Request was aborted (timeout or manual cancellation)",A>this.urlLengthLimit&&(l+=`. Note: Your request URL is ${A} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((h==null?void 0:h.name)==="HeadersOverflowError"||(h==null?void 0:h.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",l="HTTP headers exceeded server limits (typically 16KB)",A>this.urlLengthLimit&&(l+=`. Your request URL is ${A} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:o,hint:l,code:u},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},qS=class extends US{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:s="text"}={}){var a;const o=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${o};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const v2=new RegExp("[,()]");var To=class extends qS{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&v2.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&v2.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},$S=class{constructor(t,{headers:e={},schema:r,fetch:n,urlLengthLimit:i=8e3}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},i=r?"HEAD":"GET";let s=!1;const a=(t??"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",a),n&&l.append("Prefer",`count=${n}`),new To({method:i,url:o,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const i="POST",{url:s,headers:a}=this.cloneRequestState();if(e&&a.append("Prefer",`count=${e}`),r||a.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(o.length>0){const l=[...new Set(o)].map(u=>`"${u}"`);s.searchParams.set("columns",l.join(","))}}return new To({method:i,url:s,headers:a,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var s;const a="POST",{url:o,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&o.searchParams.set("on_conflict",e),n&&l.append("Prefer",`count=${n}`),i||l.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(u.length>0){const h=[...new Set(u)].map(p=>`"${p}"`);o.searchParams.set("columns",h.join(","))}}return new To({method:a,url:o,headers:l,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}update(t,{count:e}={}){var r;const n="PATCH",{url:i,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new To({method:n,url:i,headers:s,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new To({method:r,url:n,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function Hu(t){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hu(t)}function WS(t,e){if(Hu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HS(t){var e=WS(t,"string");return Hu(e)=="symbol"?e:e+""}function VS(t,e,r){return(e=HS(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y2(Object(r),!0).forEach(function(n){VS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var GS=class Ow{constructor(e,{headers:r={},schema:n,fetch:i,timeout:s,urlLengthLimit:a=8e3}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=a;const o=i??globalThis.fetch;s!==void 0&&s>0?this.fetch=(l,u)=>{const h=new AbortController,p=setTimeout(()=>h.abort(),s),v=u==null?void 0:u.signal;if(v){if(v.aborted)return clearTimeout(p),o(l,u);const f=()=>{clearTimeout(p),h.abort()};return v.addEventListener("abort",f,{once:!0}),o(l,uh(uh({},u),{},{signal:h.signal})).finally(()=>{clearTimeout(p),v.removeEventListener("abort",f)})}return o(l,uh(uh({},u),{},{signal:h.signal})).finally(()=>clearTimeout(p))}:this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new $S(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new Ow(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,r={},{head:n=!1,get:i=!1,count:s}={}){var a;let o;const l=new URL(`${this.url}/rpc/${e}`);let u;const h=f=>f!==null&&typeof f=="object"&&(!Array.isArray(f)||f.some(h)),p=n&&Object.values(r).some(h);p?(o="POST",u=r):n||i?(o=n?"HEAD":"GET",Object.entries(r).filter(([f,_])=>_!==void 0).map(([f,_])=>[f,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([f,_])=>{l.searchParams.append(f,_)})):(o="POST",u=r);const v=new Headers(this.headers);return p?v.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&v.set("Prefer",`count=${s}`),new To({method:o,url:l,headers:v,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};class KS{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const i=n.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const JS="2.95.3",YS=`realtime-js/${JS}`,XS="1.0.0",Fw="2.0.0",w2=Fw,D0=1e4,QS=1e3,ZS=100;var Ks;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ks||(Ks={}));var Fr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Fr||(Fr={}));var Si;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Si||(Si={}));var B0;(function(t){t.websocket="websocket"})(B0||(B0={}));var Ma;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ma||(Ma={}));class e6{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,r,n){var i,s;const a=e.topic,o=(i=e.ref)!==null&&i!==void 0?i:"",l=(s=e.join_ref)!==null&&s!==void 0?s:"",u=e.payload.event,h=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},p=Object.keys(h).length===0?"":JSON.stringify(h);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+u.length+p.length,f=new ArrayBuffer(this.HEADER_LENGTH+v);let _=new DataView(f),x=0;_.setUint8(x++,this.KINDS.userBroadcastPush),_.setUint8(x++,l.length),_.setUint8(x++,o.length),_.setUint8(x++,a.length),_.setUint8(x++,u.length),_.setUint8(x++,p.length),_.setUint8(x++,r),Array.from(l,w=>_.setUint8(x++,w.charCodeAt(0))),Array.from(o,w=>_.setUint8(x++,w.charCodeAt(0))),Array.from(a,w=>_.setUint8(x++,w.charCodeAt(0))),Array.from(u,w=>_.setUint8(x++,w.charCodeAt(0))),Array.from(p,w=>_.setUint8(x++,w.charCodeAt(0)));var A=new Uint8Array(f.byteLength+n.byteLength);return A.set(new Uint8Array(f),0),A.set(new Uint8Array(n),f.byteLength),A.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,s,a,o,l]=n;return r({join_ref:i,ref:s,topic:a,event:o,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2),a=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(e.slice(l,l+i));l=l+i;const h=n.decode(e.slice(l,l+s));l=l+s;const p=n.decode(e.slice(l,l+a));l=l+a;const v=e.slice(l,e.byteLength),f=o===this.JSON_ENCODING?JSON.parse(n.decode(v)):v,_={type:this.BROADCAST_EVENT,event:h,payload:f};return a>0&&(_.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:_}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class Dw{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Yt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Yt||(Yt={}));const b2=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((s,a)=>(s[a]=t6(a,t,e,i),s),{}):{}},t6=(t,e,r,n)=>{const i=e.find(o=>o.name===t),s=i==null?void 0:i.type,a=r[t];return s&&!n.includes(s)?Bw(s,a):M0(a)},Bw=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return s6(e,r)}switch(t){case Yt.bool:return r6(e);case Yt.float4:case Yt.float8:case Yt.int2:case Yt.int4:case Yt.int8:case Yt.numeric:case Yt.oid:return n6(e);case Yt.json:case Yt.jsonb:return i6(e);case Yt.timestamp:return a6(e);case Yt.abstime:case Yt.date:case Yt.daterange:case Yt.int4range:case Yt.int8range:case Yt.money:case Yt.reltime:case Yt.text:case Yt.time:case Yt.timestamptz:case Yt.timetz:case Yt.tsrange:case Yt.tstzrange:return M0(e);default:return M0(e)}},M0=t=>t,r6=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},n6=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},i6=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},s6=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const a=t.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>Bw(e,o))}return t},a6=t=>typeof t=="string"?t.replace(" ","T"):t,Mw=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class ap{constructor(e,r,n={},i=D0){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var x2;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(x2||(x2={}));class xu{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xu.syncState(this.state,i,s,a),this.pendingDiffs.forEach(l=>{this.state=xu.syncDiff(this.state,l,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=xu.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),a=this.transformState(r),o={},l={};return this.map(s,(u,h)=>{a[u]||(l[u]=h)}),this.map(a,(u,h)=>{const p=s[u];if(p){const v=h.map(A=>A.presence_ref),f=p.map(A=>A.presence_ref),_=h.filter(A=>f.indexOf(A.presence_ref)<0),x=p.filter(A=>v.indexOf(A.presence_ref)<0);_.length>0&&(o[u]=_),x.length>0&&(l[u]=x)}else o[u]=h}),this.syncDiff(s,{joins:o,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(o,l)=>{var u;const h=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(l),h.length>0){const p=e[o].map(f=>f.presence_ref),v=h.filter(f=>p.indexOf(f.presence_ref)<0);e[o].unshift(...v)}n(o,h,l)}),this.map(a,(o,l)=>{let u=e[o];if(!u)return;const h=l.map(p=>p.presence_ref);u=u.filter(p=>h.indexOf(p.presence_ref)<0),e[o]=u,i(o,u,l),u.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var _2;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(_2||(_2={}));var _u;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(_u||(_u={}));var fs;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(fs||(fs={}));class Jo{constructor(e,r={config:{}},n){var i,s;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Fr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ap(this,Si.join,this.params,this.timeout),this.rejoinTimer=new Dw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fr.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Fr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Fr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Si.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new xu(this),this.broadcastEndpointURL=Mw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Fr.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[_u.PRESENCE]&&this.bindings[_u.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,p={},v={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:h}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(fs.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(fs.CLOSED)),this.updateJoinPayload(Object.assign({config:v},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var _;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){e==null||e(fs.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,A=(_=x==null?void 0:x.length)!==null&&_!==void 0?_:0,w=[];for(let S=0;S<A;S++){const k=x[S],{filter:{event:E,schema:F,table:J,filter:V}}=k,z=f&&f[S];if(z&&z.event===E&&Jo.isFilterValueEqual(z.schema,F)&&Jo.isFilterValueEqual(z.table,J)&&Jo.isFilterValueEqual(z.filter,V))w.push(Object.assign(Object.assign({},k),{id:z.id}));else{this.unsubscribe(),this.state=Fr.errored,e==null||e(fs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(fs.SUBSCRIBED);return}}).receive("error",f=>{this.state=Fr.errored,e==null||e(fs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(fs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Fr.joined&&e===_u.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const u=await o.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=e,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Fr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Si.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new ap(this,Si.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Fr.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ap(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>ZS){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:u,join:h}=Si;if(n&&[o,l,u,h].indexOf(a)>=0&&n!==this._joinRef())return;let v=this._onMessage(a,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var _,x,A;return((_=f.filter)===null||_===void 0?void 0:_.event)==="*"||((A=(x=f.filter)===null||x===void 0?void 0:x.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===a}).map(f=>f.callback(v,n)):(s=this.bindings[a])===null||s===void 0||s.filter(f=>{var _,x,A,w,S,k;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in f){const E=f.id,F=(_=f.filter)===null||_===void 0?void 0:_.event;return E&&((x=r.ids)===null||x===void 0?void 0:x.includes(E))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===((A=r.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const E=(S=(w=f==null?void 0:f.filter)===null||w===void 0?void 0:w.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return E==="*"||E===((k=r==null?void 0:r.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===a}).map(f=>{if(typeof v=="object"&&"ids"in v){const _=v.data,{schema:x,table:A,commit_timestamp:w,type:S,errors:k}=_;v=Object.assign(Object.assign({},{schema:x,table:A,commit_timestamp:w,eventType:S,new:{},old:{},errors:k}),this._getPayloadRecords(_))}f.callback(v,n)})}_isClosed(){return this.state===Fr.closed}_isJoined(){return this.state===Fr.joined}_isJoining(){return this.state===Fr.joining}_isLeaving(){return this.state===Fr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Jo.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Si.close,{},e)}_onError(e){this._on(Si.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=b2(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=b2(e.columns,e.old_record)),r}}const op=()=>{},ch={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},o6=[1e3,2e3,5e3,1e4],l6=1e4,u6=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class c6{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=D0,this.transport=null,this.heartbeatIntervalMs=ch.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=op,this.ref=0,this.reconnectTimer=null,this.vsn=w2,this.logger=op,this.conn=null,this.sendBuffer=[],this.serializer=new e6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${B0.websocket}`,this.httpEndpoint=Mw(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=KS.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return r==="ok"&&this._remove(e),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ks.connecting:return Ma.Connecting;case Ks.open:return Ma.Open;case Ks.closing:return Ma.Closing;default:return Ma.Closed}}isConnected(){return this.connectionState()===Ma.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new Jo(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(QS,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ch.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(h){this.log("error","error in heartbeat callback",h)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:s,ref:a}=r,o=a?`(${a})`:"",l=s.status||"";this.log("receive",`${l} ${n} ${i} ${o}`.trim(),s),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,s,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Ks.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ks.open||this.conn.readyState===Ks.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(Si.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([u6],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const s={access_token:r,version:YS};r&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(Si.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Dw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ch.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,s,a,o,l,u,h,p,v,f;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:D0,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:ch.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:op,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:w2,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:_=>o6[_-1]||l6,this.vsn){case XS:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:(_,x)=>x(JSON.stringify(_)),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:(_,x)=>x(JSON.parse(_));break;case Fw:this.encode=(v=e==null?void 0:e.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Vu=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function h6(t,e,r){const n=new URL(e,t);if(r)for(const[i,s]of Object.entries(r))s!==void 0&&n.searchParams.set(i,s);return n.toString()}async function d6(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function f6(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:s,headers:a}){const o=h6(t.baseUrl,n,i),l=await d6(t.auth),u=await e(o,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...l,...a},body:s?JSON.stringify(s):void 0}),h=await u.text(),p=(u.headers.get("content-type")||"").includes("application/json"),v=p&&h?JSON.parse(h):h;if(!u.ok){const f=p?v:void 0,_=f==null?void 0:f.error;throw new Vu((_==null?void 0:_.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:_==null?void 0:_.type,icebergCode:_==null?void 0:_.code,details:f})}return{status:u.status,headers:u.headers,data:v}}}}function hh(t){return t.join("")}var p6=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:hh(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${hh(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hh(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${hh(t.namespace)}`}),!0}catch(e){if(e instanceof Vu&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof Vu&&r.status===409)return;throw r}}};function So(t){return t.join("")}var g6=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${So(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${So(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${So(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${So(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${So(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${So(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Vu&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof Vu&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},m6=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=f6({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new p6(this.client,e),this.tableOps=new g6(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Gd=class extends Error{constructor(t,e="storage",r,n){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function Kd(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var dh=class extends Gd{constructor(t,e,r,n="storage"){super(t,n,e,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},zw=class extends Gd{constructor(t,e,r="storage"){super(t,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const v6=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),y6=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},z0=t=>{if(Array.isArray(t))return t.map(r=>z0(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=z0(n)}),e},w6=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Gu(t){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu(t)}function b6(t,e){if(Gu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function x6(t){var e=b6(t,"string");return Gu(e)=="symbol"?e:e+""}function _6(t,e,r){return(e=x6(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S2(Object(r),!0).forEach(function(n){_6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const k2=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},S6=async(t,e,r,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const i=t,s=i.status||500;if(typeof i.json=="function")i.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||s+"";e(new dh(k2(a),s,o,n))}).catch(()=>{if(n==="vectors"){const a=s+"";e(new dh(i.statusText||`HTTP ${s} error`,s,a,n))}else{const a=s+"";e(new dh(i.statusText||`HTTP ${s} error`,s,a,n))}});else{const a=s+"";e(new dh(i.statusText||`HTTP ${s} error`,s,a,n))}}else e(new zw(k2(t),t,n))},k6=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||t==="HEAD"||!n?nt(nt({},i),r):(y6(n)?(i.headers=nt({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),nt(nt({},i),r))};async function iu(t,e,r,n,i,s,a){return new Promise((o,l)=>{t(r,k6(e,n,i,s)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(a==="vectors"){const h=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!h||!h.includes("application/json"))return{}}return u.json()}).then(u=>o(u)).catch(u=>S6(u,l,n,a))})}function Uw(t="storage"){return{get:async(e,r,n,i)=>iu(e,"GET",r,n,i,void 0,t),post:async(e,r,n,i,s)=>iu(e,"POST",r,i,s,n,t),put:async(e,r,n,i,s)=>iu(e,"PUT",r,i,s,n,t),head:async(e,r,n,i)=>iu(e,"HEAD",r,nt(nt({},n),{},{noResolveJson:!0}),i,void 0,t),remove:async(e,r,n,i,s)=>iu(e,"DELETE",r,i,s,n,t)}}const A6=Uw("storage"),{get:Ku,post:xi,put:U0,head:N6,remove:ig}=A6,qn=Uw("vectors");var bl=class{constructor(t,e={},r,n="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=v6(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Kd(r))return{data:null,error:r};throw r}}},j6=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Kd(e))return{data:null,error:e};throw e}}};let qw;qw=Symbol.toStringTag;var E6=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[qw]="BlobDownloadBuilder",this.promise=null}asStream(){return new j6(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Kd(e))return{data:null,error:e};throw e}}};const C6={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},A2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var L6=class extends bl{constructor(t,e={},r,n){super(t,e,n,"storage"),this.bucketId=r}async uploadOrUpdate(t,e,r,n){var i=this;return i.handleOperation(async()=>{let s;const a=nt(nt({},A2),n);let o=nt(nt({},i.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",i.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),l&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(l))):(s=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!a.duplex&&(a.duplex="half")),n!=null&&n.headers&&(o=nt(nt({},o),n.headers));const u=i._removeEmptyFolders(e),h=i._getFinalPath(u),p=await(t=="PUT"?U0:xi)(i.fetch,`${i.url}/object/${h}`,s,nt({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{path:u,id:p.Id,fullPath:p.Key}})}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var i=this;const s=i._removeEmptyFolders(t),a=i._getFinalPath(s),o=new URL(i.url+`/object/upload/sign/${a}`);return o.searchParams.set("token",e),i.handleOperation(async()=>{let l;const u=nt({upsert:A2.upsert},n),h=nt(nt({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType),{path:s,fullPath:(await U0(i.fetch,o.toString(),l,{headers:h})).Key}})}async createSignedUploadUrl(t,e){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(t);const i=nt({},r.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const s=await xi(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(r.url+s.url),o=a.searchParams.get("token");if(!o)throw new Gd("No token returned by API");return{signedUrl:a.toString(),path:t,token:o}})}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;return n.handleOperation(async()=>await xi(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(t,e,r){var n=this;return n.handleOperation(async()=>({path:(await xi(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(t,e,r){var n=this;return n.handleOperation(async()=>{let i=n._getFinalPath(t),s=await xi(n.fetch,`${n.url}/object/sign/${i}`,nt({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${s.signedURL}${a}`)}})}async createSignedUrls(t,e,r){var n=this;return n.handleOperation(async()=>{const i=await xi(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i.map(a=>nt(nt({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${s}`):null}))})}download(t,e,r){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=i?`?${i}`:"",a=this._getFinalPath(t),o=()=>Ku(this.fetch,`${this.url}/${n}/${a}${s}`,{headers:this.headers,noResolveJson:!0},r);return new E6(o,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);return e.handleOperation(async()=>z0(await Ku(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})))}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await N6(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Kd(n)&&n instanceof zw){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&n.push(i);const s=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&n.push(a);let o=n.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${o}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await ig(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,r){var n=this;return n.handleOperation(async()=>{const i=nt(nt(nt({},C6),e),{},{prefix:t||""});return await xi(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r)})}async listV2(t,e){var r=this;return r.handleOperation(async()=>{const n=nt({},t);return await xi(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const P6="2.95.3",lc={"X-Client-Info":`storage-js/${P6}`};var T6=class extends bl{constructor(t,e={},r,n){const i=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const s=i.href.replace(/\/$/,""),a=nt(nt({},lc),e);super(s,a,r,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=e.listBucketOptionsToQueryString(t);return await Ku(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Ku(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var r=this;return r.handleOperation(async()=>await xi(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async updateBucket(t,e){var r=this;return r.handleOperation(async()=>await U0(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await xi(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await ig(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},R6=class extends bl{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=nt(nt({},lc),e);super(n,i,r,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await xi(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),i=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return await Ku(e.fetch,i,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await ig(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!w6(t))throw new Gd("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new m6({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,s){const a=i[s];return typeof a!="function"?a:async(...o)=>{try{return{data:await a.apply(i,o),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}},I6=class extends bl{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=nt(nt({},lc),{},{"Content-Type":"application/json"},e);super(n,i,r,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await qn.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var r=this;return r.handleOperation(async()=>await qn.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await qn.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var r=this;return r.handleOperation(async()=>await qn.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{})}},O6=class extends bl{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=nt(nt({},lc),{},{"Content-Type":"application/json"},e);super(n,i,r,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await qn.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await qn.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await qn.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await qn.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await qn.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},F6=class extends bl{constructor(t,e={},r){const n=t.replace(/\/$/,""),i=nt(nt({},lc),{},{"Content-Type":"application/json"},e);super(n,i,r,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await qn.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await qn.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await qn.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await qn.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},D6=class extends F6{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new B6(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},B6=class extends I6{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,nt(nt({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,nt(nt({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new M6(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},M6=class extends O6{constructor(t,e,r,n,i){super(t,e,i),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,nt(nt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,nt(nt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,nt(nt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,nt(nt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,nt(nt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},z6=class extends T6{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new L6(this.url,this.headers,t,this.fetch)}get vectors(){return new D6(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new R6(this.url+"/iceberg",this.headers,this.fetch)}};const $w="2.95.3",Ro=30*1e3,q0=3,lp=q0*Ro,U6="http://localhost:9999",q6="supabase.auth.token",$6={"X-Client-Info":`gotrue-js/${$w}`},$0="X-Supabase-Api-Version",Ww={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},W6=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,H6=10*60*1e3;class Ju extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function He(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class V6 extends Ju{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function G6(t){return He(t)&&t.name==="AuthApiError"}class za extends Ju{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class js extends Ju{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class zn extends js{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function up(t){return He(t)&&t.name==="AuthSessionMissingError"}class ko extends js{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class fh extends js{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ph extends js{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function K6(t){return He(t)&&t.name==="AuthImplicitGrantRedirectError"}class N2 extends js{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class J6 extends js{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class W0 extends js{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function cp(t){return He(t)&&t.name==="AuthRetryableFetchError"}class j2 extends js{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class H0 extends js{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const md="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),E2=` 	
\r=`.split(""),Y6=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<E2.length;e+=1)t[E2[e].charCodeAt(0)]=-2;for(let e=0;e<md.length;e+=1)t[md[e].charCodeAt(0)]=e;return t})();function C2(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(md[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(md[n]),e.queuedBits-=6}}function Hw(t,e,r){const n=Y6[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function L2(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{Z6(a,n,r)};for(let a=0;a<t.length;a+=1)Hw(t.charCodeAt(a),i,s);return e.join("")}function X6(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Q6(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}X6(n,e)}}function Z6(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function nl(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Hw(t.charCodeAt(i),r,n);return new Uint8Array(e)}function ek(t){const e=[];return Q6(t,r=>e.push(r)),new Uint8Array(e)}function Ha(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>C2(i,r,n)),C2(null,r,n),e.join("")}function tk(t){return Math.round(Date.now()/1e3)+t}function rk(){return Symbol("auth-callback")}const Yr=()=>typeof window<"u"&&typeof document<"u",Ra={tested:!1,writable:!1},Vw=()=>{if(!Yr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ra.tested)return Ra.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ra.tested=!0,Ra.writable=!0}catch{Ra.tested=!0,Ra.writable=!1}return Ra.writable};function nk(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const Gw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),ik=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Io=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Ia=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Jr=async(t,e)=>{await t.removeItem(e)};class Jd{constructor(){this.promise=new Jd.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Jd.promiseConstructor=Promise;function gh(t){const e=t.split(".");if(e.length!==3)throw new H0("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!W6.test(e[n]))throw new H0("JWT not in base64url format");return{header:JSON.parse(L2(e[0])),payload:JSON.parse(L2(e[1])),signature:nl(e[2]),raw:{header:e[0],payload:e[1]}}}async function sk(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ak(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){n(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function ok(t){return("0"+t.toString(16)).substr(-2)}function lk(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,ok).join("")}async function uk(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function ck(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await uk(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ao(t,e,r=!1){const n=lk();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Io(t,`${e}-code-verifier`,i);const s=await ck(n);return[s,n===s?"plain":"s256"]}const hk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function dk(t){const e=t.headers.get($0);if(!e||!e.match(hk))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function fk(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function pk(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const gk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function No(t){if(!gk.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function hp(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function mk(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function P2(t){return JSON.parse(JSON.stringify(t))}const Da=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),vk=[502,503,504];async function T2(t){var e;if(!ik(t))throw new W0(Da(t),0);if(vk.includes(t.status))throw new W0(Da(t),t.status);let r;try{r=await t.json()}catch(s){throw new za(Da(s),s)}let n;const i=dk(t);if(i&&i.getTime()>=Ww["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new j2(Da(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new zn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new j2(Da(r),t.status,r.weak_password.reasons);throw new V6(Da(r),t.status||500,n)}const yk=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function rt(t,e,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[$0]||(s[$0]=Ww["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await wk(t,e,r+o,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function wk(t,e,r,n,i,s){const a=yk(e,n,i,s);let o;try{o=await t(r,Object.assign({},a))}catch(l){throw console.error(l),new W0(Da(l),0)}if(o.ok||await T2(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await T2(l)}}function wi(t){var e;let r=null;_k(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=tk(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function R2(t){const e=wi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Xs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function bk(t){return{data:t,error:null}}function xk(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,a=Vd(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function I2(t){return t}function _k(t){return t.access_token&&t.refresh_token&&t.expires_in}const dp=["global","local","others"];class Sk{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Gw(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=dp[0]){if(dp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${dp.join(", ")}`);try{return await rt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(He(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await rt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Xs})}catch(n){if(He(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Vd(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await rt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:xk,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(He(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await rt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Xs})}catch(r){if(He(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},h=await rt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:I2});if(h.error)throw h.error;const p=await h.json(),v=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(l=(o=h.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(_=>{const x=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(_.split(";")[1].split("=")[1]);u[`${A}Page`]=x}),u.total=parseInt(v)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(He(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){No(e);try{return await rt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Xs})}catch(r){if(He(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){No(e);try{return await rt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Xs})}catch(n){if(He(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){No(e);try{return await rt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Xs})}catch(n){if(He(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){No(e.userId);try{const{data:r,error:n}=await rt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(He(r))return{data:null,error:r};throw r}}async _deleteFactor(e){No(e.userId),No(e.id);try{return{data:await rt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(He(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,s,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},h=await rt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:I2});if(h.error)throw h.error;const p=await h.json(),v=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(l=(o=h.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(_=>{const x=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(_.split(";")[1].split("=")[1]);u[`${A}Page`]=x}),u.total=parseInt(v)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(He(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await rt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(He(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await rt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(He(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await rt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(He(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await rt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(He(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await rt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(He(r))return{data:null,error:r};throw r}}}function O2(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const jo={debug:!!(globalThis&&Vw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Kw extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class kk extends Kw{}async function Ak(t,e,r){jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),jo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw jo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new kk(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(jo.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Nk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Jw(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function jk(t){return parseInt(t,16)}function Ek(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function Ck(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:o,requestId:l,resources:u,scheme:h,uri:p,version:v}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=Jw(t.address),_=h?`${h}://${n}`:n,x=t.statement?`${t.statement}
`:"",A=`${_} wants you to sign in with your Ethereum account:
${f}

${x}`;let w=`URI: ${p}
Version: ${v}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(w+=`
Expiration Time: ${i.toISOString()}`),o&&(w+=`
Not Before: ${o.toISOString()}`),l&&(w+=`
Request ID: ${l}`),u){let S=`
Resources:`;for(const k of u){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);S+=`
- ${k}`}w+=S}return`${A}
${w}`}class Nr extends Error{constructor({message:e,code:r,cause:n,name:i}){var s;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class vd extends Nr{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function Lk({error:t,options:e}){var r,n,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Nr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Nr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Nr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Nr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Nr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Nr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Nr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Nr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(Yw(a)){if(s.rp.id!==a)return new Nr({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Nr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Nr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Nr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Nr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Pk({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Nr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Nr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Yw(n)){if(r.rpId!==n)return new Nr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Nr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Nr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Nr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Tk{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Rk=new Tk;function Ik(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=Vd(t,["challenge","user","excludeCredentials"]),s=nl(e).buffer,a=Object.assign(Object.assign({},r),{id:nl(r.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:s,user:a});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:nl(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function Ok(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Vd(t,["challenge","allowCredentials"]),i=nl(e).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const o=r[a];s.allowCredentials[a]=Object.assign(Object.assign({},o),{id:nl(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return s}function Fk(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ha(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ha(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Dk(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ha(new Uint8Array(i.authenticatorData)),clientDataJSON:Ha(new Uint8Array(i.clientDataJSON)),signature:Ha(new Uint8Array(i.signature)),userHandle:i.userHandle?Ha(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Yw(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function F2(){var t,e;return!!(Yr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Bk(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new vd("Browser returned unexpected credential type",e)}:{data:null,error:new vd("Empty credential response",e)}}catch(e){return{data:null,error:Lk({error:e,options:t})}}}async function Mk(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new vd("Browser returned unexpected credential type",e)}:{data:null,error:new vd("Empty credential response",e)}}catch(e){return{data:null,error:Pk({error:e,options:t})}}}const zk={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Uk={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function yd(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))n[s]=a;else if(r(a))n[s]=a;else if(e(a)){const o=n[s];e(o)?n[s]=yd(o,a):n[s]=yd(a)}else n[s]=a}return n}function qk(t,e){return yd(zk,t,e||{})}function $k(t,e){return yd(Uk,t,e||{})}class Wk{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},s){var a;try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:l};const u=i??Rk.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:h}=o.webauthn.credential_options.publicKey;if(!h.name){const p=n;if(p)h.name=`${h.id}:${p}`;else{const f=(await this.client.getUser()).data.user,_=((a=f==null?void 0:f.user_metadata)===null||a===void 0?void 0:a.name)||(f==null?void 0:f.email)||(f==null?void 0:f.id)||"User";h.name=`${h.id}:${_}`}}h.displayName||(h.displayName=h.name)}switch(o.webauthn.type){case"create":{const h=qk(o.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:p,error:v}=await Bk({publicKey:h,signal:u});return p?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:p}},error:null}:{data:null,error:v}}case"request":{const h=$k(o.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:p,error:v}=await Mk(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:h,signal:u}));return p?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:p}},error:null}:{data:null,error:v}}}}catch(o){return He(o)?{data:null,error:o}:{data:null,error:new za("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new Ju("rpId is required for WebAuthn authentication")};try{if(!F2())return{data:null,error:new za("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(a){return He(a)?{data:null,error:a}:{data:null,error:new za("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new Ju("rpId is required for WebAuthn registration")};try{if(!F2())return{data:null,error:new za("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(h=>{var p;return(p=h.data)===null||p===void 0?void 0:p.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:o};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return He(a)?{data:null,error:a}:{data:null,error:new za("Unexpected error in register",a)}}}}Nk();const Hk={url:U6,storageKey:q6,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$6,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function D2(t,e,r){return await r()}const Eo={};class Yu{get jwks(){var e,r;return(r=(e=Eo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Eo[this.storageKey]=Object.assign(Object.assign({},Eo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Eo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Eo[this.storageKey]=Object.assign(Object.assign({},Eo[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},Hk),e);if(this.storageKey=s.storageKey,this.instanceID=(r=Yu.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Yu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Yr()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Sk({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Gw(s.fetch),this.lock=s.lock||D2,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&Yr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Ak:this.lock=D2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Wk(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Vw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=O2(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=O2(this.memoryStorage)),Yr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(o){this._debug("#broadcastChannel","error",o)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${$w}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Yr()&&(r=nk(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Yr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),K6(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return He(r)?this._returnResult({error:r}):this._returnResult({error:new za("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:wi}),{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(He(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:h,password:p,options:v}=e;let f=null,_=null;this.flowType==="pkce"&&([f,_]=await Ao(this.storage,this.storageKey)),s=await rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:h,password:p,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:f,code_challenge_method:_},xform:wi})}else if("phone"in e){const{phone:h,password:p,options:v}=e;s=await rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:wi})}else throw new fh("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return await Jr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(await Jr(this.storage,`${this.storageKey}-code-verifier`),He(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:a,options:o}=e;r=await rt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:R2})}else if("phone"in e){const{phone:s,password:a,options:o}=e;r=await rt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:R2})}else throw new fh("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new ko;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(He(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,s,a,o,l,u,h,p,v;let f,_;if("message"in e)f=e.message,_=e.signature;else{const{chain:x,wallet:A,statement:w,options:S}=e;let k;if(Yr())if(typeof A=="object")k=A;else{const D=window;if("ethereum"in D&&typeof D.ethereum=="object"&&"request"in D.ethereum&&typeof D.ethereum.request=="function")k=D.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=A}const E=new URL((r=S==null?void 0:S.url)!==null&&r!==void 0?r:window.location.href),F=await k.request({method:"eth_requestAccounts"}).then(D=>D).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!F||F.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const J=Jw(F[0]);let V=(n=S==null?void 0:S.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!V){const D=await k.request({method:"eth_chainId"});V=jk(D)}const z={domain:E.host,address:J,statement:w,uri:E.href,version:"1",chainId:V,nonce:(i=S==null?void 0:S.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=S==null?void 0:S.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=S==null?void 0:S.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=S==null?void 0:S.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=S==null?void 0:S.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(h=S==null?void 0:S.signInWithEthereum)===null||h===void 0?void 0:h.resources};f=Ck(z),_=await k.request({method:"personal_sign",params:[Ek(f),J]})}try{const{data:x,error:A}=await rt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:_},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:wi});if(A)throw A;if(!x||!x.session||!x.user){const w=new ko;return this._returnResult({data:{user:null,session:null},error:w})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:A})}catch(x){if(He(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(e){var r,n,i,s,a,o,l,u,h,p,v,f;let _,x;if("message"in e)_=e.message,x=e.signature;else{const{chain:A,wallet:w,statement:S,options:k}=e;let E;if(Yr())if(typeof w=="object")E=w;else{const J=window;if("solana"in J&&typeof J.solana=="object"&&("signIn"in J.solana&&typeof J.solana.signIn=="function"||"signMessage"in J.solana&&typeof J.solana.signMessage=="function"))E=J.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=w}const F=new URL((r=k==null?void 0:k.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in E&&E.signIn){const J=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k==null?void 0:k.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),S?{statement:S}:null));let V;if(Array.isArray(J)&&J[0]&&typeof J[0]=="object")V=J[0];else if(J&&typeof J=="object"&&"signedMessage"in J&&"signature"in J)V=J;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in V&&"signature"in V&&(typeof V.signedMessage=="string"||V.signedMessage instanceof Uint8Array)&&V.signature instanceof Uint8Array)_=typeof V.signedMessage=="string"?V.signedMessage:new TextDecoder().decode(V.signedMessage),x=V.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${F.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(i=(n=k==null?void 0:k.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=k==null?void 0:k.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((a=k==null?void 0:k.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((o=k==null?void 0:k.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((l=k==null?void 0:k.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((u=k==null?void 0:k.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((p=(h=k==null?void 0:k.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...k.signInWithSolana.resources.map(V=>`- ${V}`)]:[]].join(`
`);const J=await E.signMessage(new TextEncoder().encode(_),"utf8");if(!J||!(J instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=J}}try{const{data:A,error:w}=await rt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:Ha(x)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:wi});if(w)throw w;if(!A||!A.session||!A.user){const S=new ko;return this._returnResult({data:{user:null,session:null},error:S})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:w})}catch(A){if(He(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async _exchangeCodeForSession(e){const r=await Ia(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new J6;const{data:s,error:a}=await rt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:wi});if(await Jr(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){const o=new ko;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(await Jr(this.storage,`${this.storageKey}-code-verifier`),He(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=e,o=await rt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:wi}),{data:l,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const h=new ko;return this._returnResult({data:{user:null,session:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(He(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,s,a;try{if("email"in e){const{email:o,options:l}=e;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await Ao(this.storage,this.storageKey));const{error:p}=await rt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in e){const{phone:o,options:l}=e,{data:u,error:h}=await rt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h})}throw new fh("You must provide either an email or phone number.")}catch(o){if(await Jr(this.storage,`${this.storageKey}-code-verifier`),He(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await rt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:wi});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(He(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,s,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await Ao(this.storage,this.storageKey));const u=await rt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:bk});return!((s=u.data)===null||s===void 0)&&s.url&&Yr()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(await Jr(this.storage,`${this.storageKey}-code-verifier`),He(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new zn;const{error:i}=await rt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(He(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:a}=await rt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:a,error:o}=await rt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new fh("You must provide either an email or phone number and a type")}catch(r){if(He(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Ia(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<lp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await Ia(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=hp()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=mk(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await rt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Xs}):await this._useSession(async r=>{var n,i,s;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new zn}:await rt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Xs})})}catch(r){if(He(r))return up(r)&&(await this._removeSession(),await Jr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new zn;const a=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Ao(this.storage,this.storageKey));const{data:u,error:h}=await rt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:Xs});if(h)throw h;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await Jr(this.storage,`${this.storageKey}-code-verifier`),He(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new zn;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=gh(e.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(He(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:o}=r;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new zn;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(He(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Yr())throw new ph("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ph(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new N2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ph("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new N2("No code detected.");const{data:S,error:k}=await this._exchangeCodeForSession(e.code);if(k)throw k;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=e;if(!s||!o||!a||!u)throw new ph("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(o);let v=h+p;l&&(v=parseInt(l));const f=v-h;f*1e3<=Ro&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${p}s`);const _=v-p;h-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,v,h):h-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,v,h);const{data:x,error:A}=await this._getUser(s);if(A)throw A;const w={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:v,refresh_token:a,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:w,redirectType:e.type},error:null})}catch(n){if(He(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Ia(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s&&!up(s))return this._returnResult({error:s});const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(G6(o)&&(o.status===404||o.status===401||o.status===403)||up(o)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await Jr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=rk(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Ao(this.storage,this.storageKey,!0));try{return await rt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await Jr(this.storage,`${this.storageKey}-code-verifier`),He(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(He(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,o,l,u,h;const{data:p,error:v}=s;if(v)throw v;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await rt(this.fetch,"GET",f,{headers:this.headers,jwt:(h=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return Yr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(He(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:a,provider:o,token:l,access_token:u,nonce:h}=e,p=await rt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:u,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:wi}),{data:v,error:f}=p;return f?this._returnResult({data:{user:null,session:null},error:f}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new ko}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:f}))}catch(i){if(await Jr(this.storage,`${this.storageKey}-code-verifier`),He(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await rt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(He(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await ak(async i=>(i>0&&await sk(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await rt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:wi})),(i,s)=>{const a=200*Math.pow(2,i);return s&&cp(s)&&Date.now()+a-n<Ro})}catch(n){if(this._debug(r,"error",n),He(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Yr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Ia(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Ia(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Io(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:hp()}else if(i&&!i.user&&!i.user){const a=await Ia(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await Jr(this.storage,this.storageKey+"-user"),await Io(this.storage,this.storageKey,i)):i.user=hp()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<lp;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${lp}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),cp(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new zn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Jd;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new zn;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={data:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),He(s)){const a={data:null,error:s};return cp(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Jr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Io(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=P2(i);await Io(this.storage,this.storageKey,s)}else{const i=P2(r);await Io(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Jr(this.storage,this.storageKey),await Jr(this.storage,this.storageKey+"-code-verifier"),await Jr(this.storage,this.storageKey+"-user"),this.userStorage&&await Jr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Yr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ro);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Ro);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ro}ms, refresh threshold is ${q0} ticks`),i<=q0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Kw)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Yr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await Ao(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await rt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(He(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await rt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(He(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Fk(e.webauthn.credential_response):Dk(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:l}=await rt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(He(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=await rt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Ik(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Ok(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(He(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(e){var r,n,i,s;if(e)try{const{payload:f}=gh(e);let _=null;f.aal&&(_=f.aal);let x=_;const{data:{user:A},error:w}=await this.getUser(e);if(w)return this._returnResult({data:null,error:w});((n=(r=A==null?void 0:A.factors)===null||r===void 0?void 0:r.filter(E=>E.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(x="aal2");const k=f.amr||[];return{data:{currentLevel:_,nextLevel:x,currentAuthenticationMethods:k},error:null}}catch(f){if(He(f))return this._returnResult({data:null,error:f});throw f}const{data:{session:a},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=gh(a.access_token);let u=null;l.aal&&(u=l.aal);let h=u;((s=(i=a.user.factors)===null||i===void 0?void 0:i.filter(f=>f.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(h="aal2");const v=l.amr||[];return{data:{currentLevel:u,nextLevel:h,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await rt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new zn})})}catch(r){if(He(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new zn});const a=await rt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Yr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(He(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new zn});const a=await rt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Yr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(He(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await rt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new zn})})}catch(e){if(He(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await rt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new zn})})}catch(r){if(He(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+H6>i)return n;const{data:s,error:a}=await rt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:f,error:_}=await this.getSession();if(_||!f.session)return this._returnResult({data:null,error:_});n=f.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:l}}=gh(n);r!=null&&r.allowExpired||fk(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:s,header:i,signature:a},error:null}}const h=pk(i.alg),p=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,a,ek(`${o}.${l}`)))throw new H0("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(He(n))return this._returnResult({data:null,error:n});throw n}}}Yu.nextInstanceID={};const Vk=Yu,Gk="2.95.3";let hu="";typeof Deno<"u"?hu="deno":typeof document<"u"?hu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hu="react-native":hu="node";const Kk={"X-Client-Info":`supabase-js-${hu}/${Gk}`},Jk={headers:Kk},Yk={schema:"public"},Xk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Qk={};function Xu(t){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(t)}function Zk(t,e){if(Xu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function e8(t){var e=Zk(t,"string");return Xu(e)=="symbol"?e:e+""}function t8(t,e,r){return(e=e8(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function B2(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B2(Object(r),!0).forEach(function(n){t8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B2(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const r8=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),n8=()=>Headers,i8=(t,e,r)=>{const n=r8(r),i=n8();return async(s,a)=>{var o;const l=(o=await e())!==null&&o!==void 0?o:t;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(s,dr(dr({},a),{},{headers:u}))}};function s8(t){return t.endsWith("/")?t:t+"/"}function a8(t,e){var r,n;const{db:i,auth:s,realtime:a,global:o}=t,{db:l,auth:u,realtime:h,global:p}=e,v={db:dr(dr({},l),i),auth:dr(dr({},u),s),realtime:dr(dr({},h),a),storage:{},global:dr(dr(dr({},p),o),{},{headers:dr(dr({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}function o8(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(s8(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var l8=class extends Vk{constructor(t){super(t)}},u8=class{constructor(t,e,r){var n,i;this.supabaseUrl=t,this.supabaseKey=e;const s=o8(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const a=`sb-${s.hostname.split(".")[0]}-auth-token`,o={db:Yk,realtime:Qk,auth:dr(dr({},Xk),{},{storageKey:a}),global:Jk},l=a8(r??{},o);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=i8(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(dr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new GS(new URL("rest/v1",s).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch,timeout:l.db.timeout,urlLengthLimit:l.db.urlLengthLimit}),this.storage=new z6(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new MS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:s,flowType:a,lock:o,debug:l,throwOnError:u},h,p){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new l8({url:this.authUrl.href,headers:dr(dr({},v),h),storageKey:s,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,flowType:a,lock:o,debug:l,throwOnError:u,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new c6(this.realtimeUrl.href,dr(dr({},t),{},{params:dr(dr({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const c8=(t,e,r)=>new u8(t,e,r);function h8(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}h8()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const d8="https://cwuchkahhofcdylqgolb.supabase.co",f8="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN3dWNoa2FoaG9mY2R5bHFnb2xiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzEwMzAxNDMsImV4cCI6MjA4NjYwNjE0M30.PLw0-uHNp9wwAeWFKQSYeRKIgUJkcCrGZR2xEzuvOeU",st=c8(d8,f8),p8=({cartCount:t})=>{const[e,r]=he.useState(!1),[n,i]=he.useState(null),[s,a]=he.useState("");return he.useEffect(()=>{st.auth.getSession().then(({data:{session:l}})=>{i(l)});const{data:{subscription:o}}=st.auth.onAuthStateChange((l,u)=>{i(u)});return()=>o.unsubscribe()},[]),he.useEffect(()=>{var u;if(!(n!=null&&n.user)){a("");return}const o=((u=n.user.user_metadata)==null?void 0:u.name)||n.user.email||"";let l=!0;return st.from("customers").select("name").eq("user_id",n.user.id).single().then(({data:h,error:p})=>{l&&(!p&&(h!=null&&h.name)?a(h.name):a(o))}).catch(()=>{l&&a(o)}),()=>{l=!1}},[n]),g.jsx("nav",{className:"glass-card",style:{position:"sticky",top:"1rem",zIndex:50,marginBottom:"2rem"},children:g.jsxs("div",{className:"container",children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",height:"4rem"},children:[g.jsxs(yr,{to:"/",style:{display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"bold",fontSize:"1.5rem",color:"var(--color-primary)"},children:[g.jsx(kS,{size:32}),g.jsx("span",{children:"Brasil Mais"})]}),g.jsxs("div",{style:{display:"none",gap:"2rem",alignItems:"center"},className:"desktop-menu",children:[g.jsx(yr,{to:"/",className:"nav-link",children:"Incio"}),g.jsx(yr,{to:"/catalog",className:"nav-link",children:"Catlogo"}),g.jsx(yr,{to:"/cliente",className:"nav-link",children:"rea Cliente"}),g.jsx(yr,{to:"/admin",className:"nav-link",children:"rea Admin"})]}),g.jsx("style",{children:`
            @media (min-width: 768px) {
              .desktop-menu { display: flex !important; }
              .mobile-btn { display: none !important; }
            }
          `}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(n==null?void 0:n.user)&&s&&g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.4rem",padding:"0.45rem 0.75rem",borderRadius:"999px",background:"rgba(0, 156, 59, 0.12)",color:"var(--color-primary)",fontSize:"0.85rem",fontWeight:"600"},children:[g.jsx(O0,{size:16}),g.jsx("span",{style:{maxWidth:"180px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:s})]}),g.jsx("button",{className:"btn btn-outline",style:{padding:"0.5rem"},children:g.jsx(Iw,{size:20})}),g.jsxs(yr,{to:"/cart",className:"btn btn-primary",style:{padding:"0.5rem 1rem",position:"relative"},children:[g.jsx(ES,{size:20}),g.jsx("span",{style:{marginLeft:"0.5rem"},children:"Carrinho"}),t>0&&g.jsx("span",{style:{position:"absolute",top:"-5px",right:"-5px",background:"var(--color-secondary)",color:"var(--color-text)",fontSize:"0.75rem",fontWeight:"bold",width:"20px",height:"20px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:t})]}),g.jsx("button",{className:"mobile-btn btn btn-outline",onClick:()=>r(!e),style:{padding:"0.5rem"},children:e?g.jsx(OS,{size:24}):g.jsx(SS,{size:24})})]})]}),e&&g.jsxs("div",{style:{padding:"1rem 0",borderTop:"1px solid var(--color-border)"},children:[(n==null?void 0:n.user)&&s&&g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 0 1rem",color:"var(--color-primary)",fontWeight:"600"},children:[g.jsx(O0,{size:18}),g.jsx("span",{children:s})]}),g.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[g.jsx(yr,{to:"/",onClick:()=>r(!1),children:"Incio"}),g.jsx(yr,{to:"/catalog",onClick:()=>r(!1),children:"Catlogo"}),g.jsx(yr,{to:"/cliente",onClick:()=>r(!1),children:"rea Cliente"}),g.jsx(yr,{to:"/admin",onClick:()=>r(!1),children:"rea Admin"})]})]})]})})},g8=()=>{const[t,e]=he.useState([]),[r,n]=he.useState(null),[i,s]=he.useState("");he.useEffect(()=>{a()},[]),he.useEffect(()=>{st.auth.getSession().then(({data:{session:l}})=>{n(l)});const{data:{subscription:o}}=st.auth.onAuthStateChange((l,u)=>{n(u)});return()=>o.unsubscribe()},[]),he.useEffect(()=>{var l;if(!(r!=null&&r.user)){s("");return}const o=((l=r.user.user_metadata)==null?void 0:l.name)||r.user.email||"";st.from("customers").select("name").eq("user_id",r.user.id).single().then(({data:u,error:h})=>{!h&&(u!=null&&u.name)?s(u.name):s(o)}).catch(()=>{s(o)})},[r]);const a=async()=>{try{const{data:o,error:l}=await st.from("medicines").select("*").limit(3);!l&&o&&e(o.map(u=>({...u,image:u.image_url,wholesalePrice:u.wholesale_price})))}catch(o){console.error("Erro ao buscar destaques:",o)}};return g.jsxs("div",{className:"container",children:[(r==null?void 0:r.user)&&i&&g.jsxs("div",{className:"glass-card fade-in",style:{marginTop:"1.5rem",marginBottom:"2rem",padding:"0.85rem 1.25rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[g.jsx("span",{style:{color:"var(--color-text-muted)",fontSize:"0.95rem"},children:"Cliente logado:"}),g.jsx("strong",{style:{color:"var(--color-primary)",fontSize:"1rem"},children:i})]}),g.jsxs("section",{style:{textAlign:"center",padding:"5rem 1rem",marginBottom:"4rem",position:"relative"},className:"fade-in",children:[g.jsx("div",{style:{position:"absolute",top:"20%",left:"50%",transform:"translate(-50%, -50%)",width:"600px",height:"600px",background:"radial-gradient(circle, rgba(0, 156, 59, 0.1) 0%, transparent 70%)",borderRadius:"50%",pointerEvents:"none",zIndex:-1}}),g.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",marginBottom:"1.5rem"},children:[g.jsx(CS,{size:24,color:"#009c3b"}),g.jsx("span",{className:"badge badge-success",children:"Distribuidora Oficial ANVISA"})]}),g.jsx("h1",{style:{fontSize:"clamp(2.5rem, 6vw, 4rem)",background:"linear-gradient(135deg, var(--color-primary), var(--color-accent))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",marginBottom:"1.5rem",fontWeight:"900",letterSpacing:"-0.02em"},children:"Distribuidora Brasil Mais"}),g.jsxs("p",{style:{fontSize:"1.35rem",color:"var(--color-text-muted)",maxWidth:"700px",margin:"0 auto 3rem",lineHeight:"1.7"},children:["A soluo completa em medicamentos para ",g.jsx("strong",{style:{color:"var(--color-primary)"},children:"farmcias, hospitais e consumidores"}),". Qualidade garantida, logstica eficiente e os melhores preos do mercado."]}),g.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",flexWrap:"wrap"},children:[g.jsxs(yr,{to:"/catalog",className:"btn btn-primary",style:{fontSize:"1.1rem",padding:"1rem 2rem"},children:["Ver Catlogo ",g.jsx(Tw,{size:20})]}),g.jsx(yr,{to:"/admin",className:"btn btn-outline",style:{fontSize:"1.1rem",padding:"1rem 2rem"},children:"rea Administrativa"})]}),g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"2rem",marginTop:"4rem",maxWidth:"600px",margin:"4rem auto 0"},children:[g.jsxs("div",{children:[g.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"800",color:"var(--color-primary)"},children:"500+"}),g.jsx("div",{style:{color:"var(--color-text-muted)",fontSize:"0.9rem"},children:"Medicamentos"})]}),g.jsxs("div",{children:[g.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"800",color:"var(--color-primary)"},children:"24h"}),g.jsx("div",{style:{color:"var(--color-text-muted)",fontSize:"0.9rem"},children:"Atendimento"})]}),g.jsxs("div",{children:[g.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"800",color:"var(--color-primary)"},children:"99%"}),g.jsx("div",{style:{color:"var(--color-text-muted)",fontSize:"0.9rem"},children:"Satisfao"})]})]})]}),t.length>0&&g.jsxs("section",{style:{marginBottom:"4rem"},className:"slide-in",children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"2rem"},children:[g.jsx(TS,{size:28,color:"var(--color-primary)"}),g.jsx("h2",{style:{fontSize:"2rem",fontWeight:"700"},children:"Produtos em Destaque"})]}),g.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"2rem"},children:t.map(o=>{var l;return g.jsx(yr,{to:"/catalog",style:{textDecoration:"none"},children:g.jsxs("div",{className:"glass-card",style:{overflow:"hidden",position:"relative"},children:[g.jsx("span",{className:"badge badge-warning",style:{position:"absolute",top:"1rem",right:"1rem",zIndex:1},children:" Destaque"}),g.jsx("img",{src:o.image,alt:o.name,style:{width:"100%",height:"200px",objectFit:"cover"}}),g.jsxs("div",{style:{padding:"1.5rem"},children:[g.jsx("h3",{style:{fontSize:"1.25rem",marginBottom:"0.5rem",color:"var(--color-text)"},children:o.name}),g.jsx("p",{style:{color:"var(--color-text-muted)",fontSize:"0.9rem",marginBottom:"1rem"},children:o.description}),g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[g.jsxs("span",{style:{fontSize:"1.5rem",fontWeight:"700",color:"var(--color-primary)"},children:["R$ ",(l=o.price)==null?void 0:l.toFixed(2)]}),g.jsx("span",{className:"badge badge-info",children:"Em estoque"})]})]})]})},o.id)})})]}),g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"2rem",marginBottom:"4rem"},children:[g.jsxs("div",{className:"glass-card",style:{padding:"2.5rem",textAlign:"center"},children:[g.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #009c3b, #007a2d)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(0, 156, 59, 0.3)"},children:g.jsx(RS,{size:40,color:"white"})}),g.jsx("h3",{style:{fontSize:"1.5rem",marginBottom:"0.75rem",fontWeight:"700"},children:"Logstica Rpida"}),g.jsx("p",{style:{color:"var(--color-text-muted)",lineHeight:"1.6"},children:"Entrega expressa para todo o Brasil com rastreamento em tempo real e garantia de qualidade."})]}),g.jsxs("div",{className:"glass-card",style:{padding:"2.5rem",textAlign:"center"},children:[g.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #002776, #001a5c)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(0, 39, 118, 0.3)"},children:g.jsx(jS,{size:40,color:"white"})}),g.jsx("h3",{style:{fontSize:"1.5rem",marginBottom:"0.75rem",fontWeight:"700"},children:"Qualidade Garantida"}),g.jsx("p",{style:{color:"var(--color-text-muted)",lineHeight:"1.6"},children:"Todos os medicamentos certificados pela ANVISA com controle rigoroso de procedncia."})]}),g.jsxs("div",{className:"glass-card",style:{padding:"2.5rem",textAlign:"center"},children:[g.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #f59e0b, #d97706)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(245, 158, 11, 0.3)"},children:g.jsx(xS,{size:40,color:"white"})}),g.jsx("h3",{style:{fontSize:"1.5rem",marginBottom:"0.75rem",fontWeight:"700"},children:"Atendimento 24h"}),g.jsx("p",{style:{color:"var(--color-text-muted)",lineHeight:"1.6"},children:"Suporte especializado para farmacuticos e parceiros comerciais a qualquer hora."})]})]})]})},m8={Analgesic:"Analgsico",Antibiotic:"Antibitico",Antiallergic:"Antialrgico",Gastric:"Gstrico","Anti-inflammatory":"Anti-inflamatrio",Controlled:"Controlado",Cardiovascular:"Cardiovascular",Supplement:"Suplemento"},wd=t=>t?m8[t]||t:"",v8=({addToCart:t})=>{const[e,r]=he.useState(""),[n,i]=he.useState("All"),[s,a]=he.useState([]),[o,l]=he.useState(!0),[u,h]=he.useState(null);he.useEffect(()=>{p()},[]);const p=async()=>{try{l(!0),h(null),console.log("Fetching medicines from Supabase...");const{data:x,error:A}=await st.from("medicines").select("*").order("name");if(A)throw console.error("Supabase error:",A),A;if(!x)throw new Error("Nenhum dado retornado do Supabase");a(x.map(w=>({...w,image:w.image_url,wholesalePrice:w.wholesale_price,requiresPrescription:w.requires_prescription,promoPercent:w.promo_percent??0,promo_percent:w.promo_percent??0})))}catch(x){console.error("Detailed fetch error:",x);const A=x.message==="Failed to fetch"?"Erro de conexo (Failed to fetch). Verifique se o banco de dados est acessvel ou se h bloqueio de rede/CORS.":x.message;h(A)}finally{l(!1)}},v=(x,A)=>{const w=document.getElementById(`qty-${x.id}`),S=parseInt(w==null?void 0:w.value,10);let k=Number.isFinite(S)&&S>0?S:1;A==="wholesale"&&k<10&&(k=10,w&&(w.value="10"),alert("Compra no atacado requer minimo de 10 unidades. Quantidade ajustada para 10.")),t(x,k,A)},f=s.filter(x=>{const A=x.name.toLowerCase().includes(e.toLowerCase())||x.description.toLowerCase().includes(e.toLowerCase()),w=n==="All"||x.type===n;return A&&w}),_=["All",...new Set(s.map(x=>x.type))];return g.jsxs("div",{className:"container",style:{marginTop:"2rem"},children:[g.jsx("h1",{style:{marginBottom:"2rem",fontSize:"2rem",color:"var(--color-primary-dark)"},children:"Catlogo de Medicamentos"}),u&&g.jsxs("div",{style:{padding:"1rem",background:"#fee",color:"#c00",borderRadius:"0.5rem",marginBottom:"1rem"},children:["Erro ao carregar medicamentos: ",u]}),o?g.jsx("div",{style:{textAlign:"center",padding:"4rem",color:"var(--color-text-muted)"},children:g.jsx("p",{children:"Carregando medicamentos do banco de dados..."})}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"glass-card",style:{padding:"1.5rem",marginBottom:"2rem",display:"flex",gap:"1rem",flexWrap:"wrap",alignItems:"center"},children:[g.jsxs("div",{style:{position:"relative",flex:1,minWidth:"200px"},children:[g.jsx(Iw,{size:20,style:{position:"absolute",left:"1rem",top:"50%",transform:"translateY(-50%)",color:"var(--color-text-muted)"}}),g.jsx("input",{type:"text",placeholder:"Buscar medicamentos...",value:e,onChange:x=>r(x.target.value),style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 3rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",background:"rgba(255,255,255,0.8)"}})]}),g.jsx("div",{style:{display:"flex",gap:"0.5rem",overflowX:"auto",paddingBottom:"0.5rem"},children:_.map(x=>g.jsx("button",{onClick:()=>i(x),className:`btn ${n===x?"btn-primary":"btn-outline"}`,style:{whiteSpace:"nowrap",padding:"0.5rem 1rem"},children:x==="All"?"Todos":wd(x)},x))})]}),g.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"2rem"},children:f.map(x=>{const A=Number(x.promoPercent||0),w=A>0?1-A/100:1,S=x.price,k=x.wholesalePrice,E=S*w,F=k*w;return g.jsxs("div",{className:"glass-card fade-in",style:{overflow:"hidden",display:"flex",flexDirection:"column",position:"relative"},children:[x.stock<100&&g.jsx("span",{className:"badge badge-warning",style:{position:"absolute",top:"1rem",left:"1rem",zIndex:1},children:"Estoque Baixo"}),x.stock>=100&&x.stock<500&&g.jsx("span",{className:"badge badge-info",style:{position:"absolute",top:"1rem",left:"1rem",zIndex:1},children:"Disponvel"}),x.stock>=500&&g.jsx("span",{className:"badge badge-success",style:{position:"absolute",top:"1rem",left:"1rem",zIndex:1},children:" Alto Estoque"}),A>0&&g.jsxs("span",{className:"badge badge-warning",style:{position:"absolute",top:"1rem",right:"1rem",zIndex:1},children:["Promo -",A,"%"]}),g.jsxs("div",{style:{position:"relative",height:"200px"},children:[g.jsx("img",{src:x.image,alt:x.name,style:{width:"100%",height:"100%",objectFit:"cover"}}),x.requiresPrescription&&g.jsx("div",{style:{position:"absolute",top:"1rem",right:"1rem",background:"#dc2626",color:"white",padding:"0.25rem 0.75rem",borderRadius:"1rem",fontSize:"0.75rem",fontWeight:"bold",boxShadow:"0 2px 8px rgba(220, 38, 38, 0.4)"},children:" Receita"})]}),g.jsxs("div",{style:{padding:"1.5rem",flex:1,display:"flex",flexDirection:"column"},children:[g.jsxs("div",{style:{marginBottom:"1rem",flex:1},children:[g.jsx("h3",{style:{fontSize:"1.25rem",marginBottom:"0.25rem"},children:x.name}),g.jsx("span",{style:{fontSize:"0.875rem",color:"var(--color-text-muted)",background:"#f1f5f9",padding:"0.1rem 0.5rem",borderRadius:"0.25rem"},children:x.dosage}),g.jsx("p",{style:{marginTop:"0.75rem",color:"var(--color-text-muted)",fontSize:"0.9rem"},children:x.description})]}),g.jsxs("div",{style:{marginTop:"auto"},children:[g.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:g.jsx("div",{children:A>0?g.jsxs(g.Fragment,{children:[g.jsxs("span",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"var(--color-primary)"},children:["R$ ",E.toFixed(2)]}),g.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)"},children:[g.jsxs("span",{style:{textDecoration:"line-through",marginRight:"0.5rem"},children:["R$ ",S.toFixed(2)]}),"Promoo aplicada"]}),g.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)"},children:["Atacado: R$ ",F.toFixed(2)," (10+ un.)"]})]}):g.jsxs(g.Fragment,{children:[g.jsxs("span",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"var(--color-primary)"},children:["R$ ",S.toFixed(2)]}),g.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)"},children:["Atacado: R$ ",k.toFixed(2)," (10+ un.)"]})]})})}),g.jsxs("div",{style:{display:"grid",gap:"0.75rem"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"0.75rem"},children:[g.jsx("span",{style:{fontSize:"0.8rem",color:"var(--color-text-muted)",fontWeight:600},children:"Quantidade"}),g.jsx("input",{type:"number",min:"1",defaultValue:"1",id:`qty-${x.id}`,"aria-label":`Quantidade para ${x.name}`,style:{width:"90px",padding:"0.5rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, minmax(0, 1fr))",gap:"0.5rem"},children:[g.jsxs("button",{onClick:()=>v(x,"retail"),className:"btn btn-primary",style:{width:"100%"},children:[g.jsx(p2,{size:18})," Varejo"]}),g.jsxs("button",{onClick:()=>v(x,"wholesale"),className:"btn btn-outline",style:{width:"100%",borderColor:"var(--color-primary)",color:"var(--color-primary)"},children:[g.jsx(p2,{size:18})," Atacado 10+"]})]}),g.jsx("div",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)"},children:"Varejo: preco unitario. Atacado: minimo de 10 unidades."})]})]})]})]},x.id)})}),f.length===0&&g.jsx("div",{style:{textAlign:"center",padding:"4rem",color:"var(--color-text-muted)"},children:g.jsx("p",{children:"Nenhum medicamento encontrado para os filtros selecionados."})})]})]})},y8="modulepreload",w8=function(t){return"/Antigravit_testes/"+t},M2={},fp=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=w8(l),l in M2)return;M2[l]=!0;const u=l.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":y8,u||(p.as="script"),p.crossOrigin="",p.href=l,o&&p.setAttribute("nonce",o),document.head.appendChild(p),u)return new Promise((v,f)=>{p.addEventListener("load",v),p.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function Bt(t){"@babel/helpers - typeof";return Bt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bt(t)}var Ei=Uint8Array,Wn=Uint16Array,sg=Int32Array,ag=new Ei([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),og=new Ei([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),z2=new Ei([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Xw=function(t,e){for(var r=new Wn(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new sg(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},Qw=Xw(ag,2),b8=Qw.b,V0=Qw.r;b8[28]=258,V0[258]=28;var x8=Xw(og,0),U2=x8.r,G0=new Wn(32768);for(var er=0;er<32768;++er){var Ws=(er&43690)>>1|(er&21845)<<1;Ws=(Ws&52428)>>2|(Ws&13107)<<2,Ws=(Ws&61680)>>4|(Ws&3855)<<4,G0[er]=((Ws&65280)>>8|(Ws&255)<<8)>>1}var Su=function(t,e,r){for(var n=t.length,i=0,s=new Wn(e);i<n;++i)t[i]&&++s[t[i]-1];var a=new Wn(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(r){o=new Wn(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var u=i<<4|t[i],h=e-t[i],p=a[t[i]-1]++<<h,v=p|(1<<h)-1;p<=v;++p)o[G0[p]>>l]=u}else for(o=new Wn(n),i=0;i<n;++i)t[i]&&(o[i]=G0[a[t[i]-1]++]>>15-t[i]);return o},eo=new Ei(288);for(var er=0;er<144;++er)eo[er]=8;for(var er=144;er<256;++er)eo[er]=9;for(var er=256;er<280;++er)eo[er]=7;for(var er=280;er<288;++er)eo[er]=8;var bd=new Ei(32);for(var er=0;er<32;++er)bd[er]=5;var _8=Su(eo,9,0),S8=Su(bd,5,0),Zw=function(t){return(t+7)/8|0},k8=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Ei(t.subarray(e,r))},cs=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},su=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},pp=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,s=r.slice();if(!i)return{t:tb,l:0};if(i==1){var a=new Ei(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(F,J){return F.f-J.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],u=0,h=1,p=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};h!=i-1;)o=r[r[u].f<r[p].f?u++:p++],l=r[u!=h&&r[u].f<r[p].f?u++:p++],r[h++]={s:-1,f:o.f+l.f,l:o,r:l};for(var v=s[0].s,n=1;n<i;++n)s[n].s>v&&(v=s[n].s);var f=new Wn(v+1),_=K0(r[h-1],f,0);if(_>e){var n=0,x=0,A=_-e,w=1<<A;for(s.sort(function(J,V){return f[V.s]-f[J.s]||J.f-V.f});n<i;++n){var S=s[n].s;if(f[S]>e)x+=w-(1<<_-f[S]),f[S]=e;else break}for(x>>=A;x>0;){var k=s[n].s;f[k]<e?x-=1<<e-f[k]++-1:++n}for(;n>=0&&x;--n){var E=s[n].s;f[E]==e&&(--f[E],++x)}_=e}return{t:new Ei(f),l:_}},K0=function(t,e,r){return t.s==-1?Math.max(K0(t.l,e,r+1),K0(t.r,e,r+1)):e[t.s]=r},q2=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Wn(++e),n=0,i=t[0],s=1,a=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:r.subarray(0,n),n:e}},au=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},eb=function(t,e,r){var n=r.length,i=Zw(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<n;++s)t[i+s+4]=r[s];return(i+4+n)*8},$2=function(t,e,r,n,i,s,a,o,l,u,h){cs(e,h++,r),++i[256];for(var p=pp(i,15),v=p.t,f=p.l,_=pp(s,15),x=_.t,A=_.l,w=q2(v),S=w.c,k=w.n,E=q2(x),F=E.c,J=E.n,V=new Wn(19),z=0;z<S.length;++z)++V[S[z]&31];for(var z=0;z<F.length;++z)++V[F[z]&31];for(var D=pp(V,7),ee=D.t,T=D.l,B=19;B>4&&!ee[z2[B-1]];--B);var Y=u+5<<3,G=au(i,eo)+au(s,bd)+a,ce=au(i,v)+au(s,x)+a+14+3*B+au(V,ee)+2*V[16]+3*V[17]+7*V[18];if(l>=0&&Y<=G&&Y<=ce)return eb(e,h,t.subarray(l,l+u));var de,X,O,ie;if(cs(e,h,1+(ce<G)),h+=2,ce<G){de=Su(v,f,0),X=v,O=Su(x,A,0),ie=x;var fe=Su(ee,T,0);cs(e,h,k-257),cs(e,h+5,J-1),cs(e,h+10,B-4),h+=14;for(var z=0;z<B;++z)cs(e,h+3*z,ee[z2[z]]);h+=3*B;for(var pe=[S,F],C=0;C<2;++C)for(var W=pe[C],z=0;z<W.length;++z){var H=W[z]&31;cs(e,h,fe[H]),h+=ee[H],H>15&&(cs(e,h,W[z]>>5&127),h+=W[z]>>12)}}else de=_8,X=eo,O=S8,ie=bd;for(var z=0;z<o;++z){var Q=n[z];if(Q>255){var H=Q>>18&31;su(e,h,de[H+257]),h+=X[H+257],H>7&&(cs(e,h,Q>>23&31),h+=ag[H]);var ne=Q&31;su(e,h,O[ne]),h+=ie[ne],ne>3&&(su(e,h,Q>>5&8191),h+=og[ne])}else su(e,h,de[Q]),h+=X[Q]}return su(e,h,de[256]),h+X[256]},A8=new sg([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),tb=new Ei(0),N8=function(t,e,r,n,i,s){var a=s.z||t.length,o=new Ei(n+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(n,o.length-i),u=s.l,h=(s.r||0)&7;if(e){h&&(l[0]=s.r>>3);for(var p=A8[e-1],v=p>>13,f=p&8191,_=(1<<r)-1,x=s.p||new Wn(32768),A=s.h||new Wn(_+1),w=Math.ceil(r/3),S=2*w,k=function($e){return(t[$e]^t[$e+1]<<w^t[$e+2]<<S)&_},E=new sg(25e3),F=new Wn(288),J=new Wn(32),V=0,z=0,D=s.i||0,ee=0,T=s.w||0,B=0;D+2<a;++D){var Y=k(D),G=D&32767,ce=A[Y];if(x[G]=ce,A[Y]=G,T<=D){var de=a-D;if((V>7e3||ee>24576)&&(de>423||!u)){h=$2(t,l,0,E,F,J,z,ee,B,D-B,h),ee=V=z=0,B=D;for(var X=0;X<286;++X)F[X]=0;for(var X=0;X<30;++X)J[X]=0}var O=2,ie=0,fe=f,pe=G-ce&32767;if(de>2&&Y==k(D-pe))for(var C=Math.min(v,de)-1,W=Math.min(32767,D),H=Math.min(258,de);pe<=W&&--fe&&G!=ce;){if(t[D+O]==t[D+O-pe]){for(var Q=0;Q<H&&t[D+Q]==t[D+Q-pe];++Q);if(Q>O){if(O=Q,ie=pe,Q>C)break;for(var ne=Math.min(pe,Q-2),re=0,X=0;X<ne;++X){var me=D-pe+X&32767,ge=x[me],xe=me-ge&32767;xe>re&&(re=xe,ce=me)}}}G=ce,ce=x[G],pe+=G-ce&32767}if(ie){E[ee++]=268435456|V0[O]<<18|U2[ie];var Ae=V0[O]&31,Te=U2[ie]&31;z+=ag[Ae]+og[Te],++F[257+Ae],++J[Te],T=D+O,++V}else E[ee++]=t[D],++F[t[D]]}}for(D=Math.max(D,T);D<a;++D)E[ee++]=t[D],++F[t[D]];h=$2(t,l,u,E,F,J,z,ee,B,D-B,h),u||(s.r=h&7|l[h/8|0]<<3,h-=7,s.h=A,s.p=x,s.i=D,s.w=T)}else{for(var D=s.w||0;D<a+u;D+=65535){var Pe=D+65535;Pe>=a&&(l[h/8|0]=u,Pe=a),h=eb(l,h+1,t.subarray(D,Pe))}s.i=a}return k8(o,0,n+Zw(h)+i)},rb=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,s=r.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=n+=r[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},j8=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Ei(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return N8(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},nb=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},E8=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=rb();i.p(e.dictionary),nb(t,2,i.d())}};function J0(t,e){e||(e={});var r=rb();r.p(t);var n=j8(t,e,e.dictionary?6:2,4);return E8(n,e),nb(n,n.length-4,r.d()),n}var C8=typeof TextDecoder<"u"&&new TextDecoder,L8=0;try{C8.decode(tb,{stream:!0}),L8=1}catch{}function P8(t){if(Array.isArray(t))return t}function T8(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function W2(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function R8(t,e){if(t){if(typeof t=="string")return W2(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?W2(t,e):void 0}}function I8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H2(t,e){return P8(t)||T8(t,e)||R8(t,e)||I8()}function V2(t,e="utf8"){return new TextDecoder(e).decode(t)}const O8=new TextEncoder;function F8(t){return O8.encode(t)}const D8=1024*8,B8=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),gp={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class lg{constructor(e=D8,r={}){Dt(this,"buffer");Dt(this,"byteLength");Dt(this,"byteOffset");Dt(this,"length");Dt(this,"offset");Dt(this,"lastWrittenByte");Dt(this,"littleEndian");Dt(this,"_data");Dt(this,"_mark");Dt(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,s=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof lg)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=gp[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+n);if(this.littleEndian===B8&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const l=new gp[r](o.buffer);return this.offset+=n,l.reverse(),l}const a=new gp[r](s);return this.offset+=n,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return V2(this.readBytes(e))}decodeText(e=1,r="utf8"){return V2(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(F8(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function xl(t){let e=t.length;for(;--e>=0;)t[e]=0}const M8=3,z8=258,ib=29,U8=256,q8=U8+1+ib,sb=30,$8=512,W8=new Array((q8+2)*2);xl(W8);const H8=new Array(sb*2);xl(H8);const V8=new Array($8);xl(V8);const G8=new Array(z8-M8+1);xl(G8);const K8=new Array(ib);xl(K8);const J8=new Array(sb);xl(J8);const Y8=(t,e,r,n)=>{let i=t&65535|0,s=t>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do i=i+e[n++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var Y0=Y8;const X8=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},Q8=new Uint32Array(X8()),Z8=(t,e,r,n)=>{const i=Q8,s=n+r;t^=-1;for(let a=n;a<s;a++)t=t>>>8^i[(t^e[a])&255];return t^-1};var zi=Z8,X0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ab={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const eA=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var tA=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)eA(r,n)&&(t[n]=r[n])}}return t},rA=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,s=t.length;n<s;n++){let a=t[n];r.set(a,i),i+=a.length}return r},ob={assign:tA,flattenChunks:rA};let lb=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{lb=!1}const Qu=new Uint8Array(256);for(let t=0;t<256;t++)Qu[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Qu[254]=Qu[254]=1;var nA=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,s,a=t.length,o=0;for(i=0;i<a;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(o),s=0,i=0;s<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|r&63):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|r&63):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|r&63);return e};const iA=(t,e)=>{if(e<65534&&t.subarray&&lb)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var sA=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const s=new Array(r*2);for(i=0,n=0;n<r;){let a=t[n++];if(a<128){s[i++]=a;continue}let o=Qu[a];if(o>4){s[i++]=65533,n+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&n<r;)a=a<<6|t[n++]&63,o--;if(o>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return iA(s,i)},aA=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+Qu[t[r]]>e?r:e},Q0={string2buf:nA,buf2string:sA,utf8border:aA};function oA(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var lA=oA;const mh=16209,uA=16191;var cA=function(e,r){let n,i,s,a,o,l,u,h,p,v,f,_,x,A,w,S,k,E,F,J,V,z,D,ee;const T=e.state;n=e.next_in,D=e.input,i=n+(e.avail_in-5),s=e.next_out,ee=e.output,a=s-(r-e.avail_out),o=s+(e.avail_out-257),l=T.dmax,u=T.wsize,h=T.whave,p=T.wnext,v=T.window,f=T.hold,_=T.bits,x=T.lencode,A=T.distcode,w=(1<<T.lenbits)-1,S=(1<<T.distbits)-1;e:do{_<15&&(f+=D[n++]<<_,_+=8,f+=D[n++]<<_,_+=8),k=x[f&w];t:for(;;){if(E=k>>>24,f>>>=E,_-=E,E=k>>>16&255,E===0)ee[s++]=k&65535;else if(E&16){F=k&65535,E&=15,E&&(_<E&&(f+=D[n++]<<_,_+=8),F+=f&(1<<E)-1,f>>>=E,_-=E),_<15&&(f+=D[n++]<<_,_+=8,f+=D[n++]<<_,_+=8),k=A[f&S];r:for(;;){if(E=k>>>24,f>>>=E,_-=E,E=k>>>16&255,E&16){if(J=k&65535,E&=15,_<E&&(f+=D[n++]<<_,_+=8,_<E&&(f+=D[n++]<<_,_+=8)),J+=f&(1<<E)-1,J>l){e.msg="invalid distance too far back",T.mode=mh;break e}if(f>>>=E,_-=E,E=s-a,J>E){if(E=J-E,E>h&&T.sane){e.msg="invalid distance too far back",T.mode=mh;break e}if(V=0,z=v,p===0){if(V+=u-E,E<F){F-=E;do ee[s++]=v[V++];while(--E);V=s-J,z=ee}}else if(p<E){if(V+=u+p-E,E-=p,E<F){F-=E;do ee[s++]=v[V++];while(--E);if(V=0,p<F){E=p,F-=E;do ee[s++]=v[V++];while(--E);V=s-J,z=ee}}}else if(V+=p-E,E<F){F-=E;do ee[s++]=v[V++];while(--E);V=s-J,z=ee}for(;F>2;)ee[s++]=z[V++],ee[s++]=z[V++],ee[s++]=z[V++],F-=3;F&&(ee[s++]=z[V++],F>1&&(ee[s++]=z[V++]))}else{V=s-J;do ee[s++]=ee[V++],ee[s++]=ee[V++],ee[s++]=ee[V++],F-=3;while(F>2);F&&(ee[s++]=ee[V++],F>1&&(ee[s++]=ee[V++]))}}else if(E&64){e.msg="invalid distance code",T.mode=mh;break e}else{k=A[(k&65535)+(f&(1<<E)-1)];continue r}break}}else if(E&64)if(E&32){T.mode=uA;break e}else{e.msg="invalid literal/length code",T.mode=mh;break e}else{k=x[(k&65535)+(f&(1<<E)-1)];continue t}break}}while(n<i&&s<o);F=_>>3,n-=F,_-=F<<3,f&=(1<<_)-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=s<o?257+(o-s):257-(s-o),T.hold=f,T.bits=_};const Co=15,G2=852,K2=592,J2=0,mp=1,Y2=2,hA=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),dA=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),fA=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),pA=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),gA=(t,e,r,n,i,s,a,o)=>{const l=o.bits;let u=0,h=0,p=0,v=0,f=0,_=0,x=0,A=0,w=0,S=0,k,E,F,J,V,z=null,D;const ee=new Uint16Array(Co+1),T=new Uint16Array(Co+1);let B=null,Y,G,ce;for(u=0;u<=Co;u++)ee[u]=0;for(h=0;h<n;h++)ee[e[r+h]]++;for(f=l,v=Co;v>=1&&ee[v]===0;v--);if(f>v&&(f=v),v===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(p=1;p<v&&ee[p]===0;p++);for(f<p&&(f=p),A=1,u=1;u<=Co;u++)if(A<<=1,A-=ee[u],A<0)return-1;if(A>0&&(t===J2||v!==1))return-1;for(T[1]=0,u=1;u<Co;u++)T[u+1]=T[u]+ee[u];for(h=0;h<n;h++)e[r+h]!==0&&(a[T[e[r+h]]++]=h);if(t===J2?(z=B=a,D=20):t===mp?(z=hA,B=dA,D=257):(z=fA,B=pA,D=0),S=0,h=0,u=p,V=s,_=f,x=0,F=-1,w=1<<f,J=w-1,t===mp&&w>G2||t===Y2&&w>K2)return 1;for(;;){Y=u-x,a[h]+1<D?(G=0,ce=a[h]):a[h]>=D?(G=B[a[h]-D],ce=z[a[h]-D]):(G=96,ce=0),k=1<<u-x,E=1<<_,p=E;do E-=k,i[V+(S>>x)+E]=Y<<24|G<<16|ce|0;while(E!==0);for(k=1<<u-1;S&k;)k>>=1;if(k!==0?(S&=k-1,S+=k):S=0,h++,--ee[u]===0){if(u===v)break;u=e[r+a[h]]}if(u>f&&(S&J)!==F){for(x===0&&(x=f),V+=p,_=u-x,A=1<<_;_+x<v&&(A-=ee[_+x],!(A<=0));)_++,A<<=1;if(w+=1<<_,t===mp&&w>G2||t===Y2&&w>K2)return 1;F=S&J,i[F]=f<<24|_<<16|V-s|0}}return S!==0&&(i[V+S]=u-x<<24|64<<16|0),o.bits=f,0};var ku=gA;const mA=0,ub=1,cb=2,{Z_FINISH:X2,Z_BLOCK:vA,Z_TREES:vh,Z_OK:to,Z_STREAM_END:yA,Z_NEED_DICT:wA,Z_STREAM_ERROR:hi,Z_DATA_ERROR:hb,Z_MEM_ERROR:db,Z_BUF_ERROR:bA,Z_DEFLATED:Q2}=ab,Yd=16180,Z2=16181,ev=16182,tv=16183,rv=16184,nv=16185,iv=16186,sv=16187,av=16188,ov=16189,xd=16190,hs=16191,vp=16192,lv=16193,yp=16194,uv=16195,cv=16196,hv=16197,dv=16198,yh=16199,wh=16200,fv=16201,pv=16202,gv=16203,mv=16204,vv=16205,wp=16206,yv=16207,wv=16208,rr=16209,fb=16210,pb=16211,xA=852,_A=592,SA=15,kA=SA,bv=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function AA(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ao=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Yd||e.mode>pb?1:0},gb=t=>{if(ao(t))return hi;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Yd,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(xA),e.distcode=e.distdyn=new Int32Array(_A),e.sane=1,e.back=-1,to},mb=t=>{if(ao(t))return hi;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,gb(t)},vb=(t,e)=>{let r;if(ao(t))return hi;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?hi:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,mb(t))},yb=(t,e)=>{if(!t)return hi;const r=new AA;t.state=r,r.strm=t,r.window=null,r.mode=Yd;const n=vb(t,e);return n!==to&&(t.state=null),n},NA=t=>yb(t,kA);let xv=!0,bp,xp;const jA=t=>{if(xv){bp=new Int32Array(512),xp=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(ku(ub,t.lens,0,288,bp,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;ku(cb,t.lens,0,32,xp,0,t.work,{bits:5}),xv=!1}t.lencode=bp,t.lenbits=9,t.distcode=xp,t.distbits=5},wb=(t,e,r,n)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(e.subarray(r-n,r-n+i),s.wnext),n-=i,n?(s.window.set(e.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},EA=(t,e)=>{let r,n,i,s,a,o,l,u,h,p,v,f,_,x,A=0,w,S,k,E,F,J,V,z;const D=new Uint8Array(4);let ee,T;const B=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ao(t)||!t.output||!t.input&&t.avail_in!==0)return hi;r=t.state,r.mode===hs&&(r.mode=vp),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,n=t.input,o=t.avail_in,u=r.hold,h=r.bits,p=o,v=l,z=to;e:for(;;)switch(r.mode){case Yd:if(r.wrap===0){r.mode=vp;break}for(;h<16;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,D[0]=u&255,D[1]=u>>>8&255,r.check=zi(r.check,D,2,0),u=0,h=0,r.mode=Z2;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=rr;break}if((u&15)!==Q2){t.msg="unknown compression method",r.mode=rr;break}if(u>>>=4,h-=4,V=(u&15)+8,r.wbits===0&&(r.wbits=V),V>15||V>r.wbits){t.msg="invalid window size",r.mode=rr;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=u&512?ov:hs,u=0,h=0;break;case Z2:for(;h<16;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}if(r.flags=u,(r.flags&255)!==Q2){t.msg="unknown compression method",r.mode=rr;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=rr;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(D[0]=u&255,D[1]=u>>>8&255,r.check=zi(r.check,D,2,0)),u=0,h=0,r.mode=ev;case ev:for(;h<32;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(D[0]=u&255,D[1]=u>>>8&255,D[2]=u>>>16&255,D[3]=u>>>24&255,r.check=zi(r.check,D,4,0)),u=0,h=0,r.mode=tv;case tv:for(;h<16;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(D[0]=u&255,D[1]=u>>>8&255,r.check=zi(r.check,D,2,0)),u=0,h=0,r.mode=rv;case rv:if(r.flags&1024){for(;h<16;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(D[0]=u&255,D[1]=u>>>8&255,r.check=zi(r.check,D,2,0)),u=0,h=0}else r.head&&(r.head.extra=null);r.mode=nv;case nv:if(r.flags&1024&&(f=r.length,f>o&&(f=o),f&&(r.head&&(V=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+f),V)),r.flags&512&&r.wrap&4&&(r.check=zi(r.check,n,f,s)),o-=f,s+=f,r.length-=f),r.length))break e;r.length=0,r.mode=iv;case iv:if(r.flags&2048){if(o===0)break e;f=0;do V=n[s+f++],r.head&&V&&r.length<65536&&(r.head.name+=String.fromCharCode(V));while(V&&f<o);if(r.flags&512&&r.wrap&4&&(r.check=zi(r.check,n,f,s)),o-=f,s+=f,V)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=sv;case sv:if(r.flags&4096){if(o===0)break e;f=0;do V=n[s+f++],r.head&&V&&r.length<65536&&(r.head.comment+=String.fromCharCode(V));while(V&&f<o);if(r.flags&512&&r.wrap&4&&(r.check=zi(r.check,n,f,s)),o-=f,s+=f,V)break e}else r.head&&(r.head.comment=null);r.mode=av;case av:if(r.flags&512){for(;h<16;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}if(r.wrap&4&&u!==(r.check&65535)){t.msg="header crc mismatch",r.mode=rr;break}u=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=hs;break;case ov:for(;h<32;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}t.adler=r.check=bv(u),u=0,h=0,r.mode=xd;case xd:if(r.havedict===0)return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=h,wA;t.adler=r.check=1,r.mode=hs;case hs:if(e===vA||e===vh)break e;case vp:if(r.last){u>>>=h&7,h-=h&7,r.mode=wp;break}for(;h<3;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}switch(r.last=u&1,u>>>=1,h-=1,u&3){case 0:r.mode=lv;break;case 1:if(jA(r),r.mode=yh,e===vh){u>>>=2,h-=2;break e}break;case 2:r.mode=cv;break;case 3:t.msg="invalid block type",r.mode=rr}u>>>=2,h-=2;break;case lv:for(u>>>=h&7,h-=h&7;h<32;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=rr;break}if(r.length=u&65535,u=0,h=0,r.mode=yp,e===vh)break e;case yp:r.mode=uv;case uv:if(f=r.length,f){if(f>o&&(f=o),f>l&&(f=l),f===0)break e;i.set(n.subarray(s,s+f),a),o-=f,s+=f,l-=f,a+=f,r.length-=f;break}r.mode=hs;break;case cv:for(;h<14;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}if(r.nlen=(u&31)+257,u>>>=5,h-=5,r.ndist=(u&31)+1,u>>>=5,h-=5,r.ncode=(u&15)+4,u>>>=4,h-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=rr;break}r.have=0,r.mode=hv;case hv:for(;r.have<r.ncode;){for(;h<3;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}r.lens[B[r.have++]]=u&7,u>>>=3,h-=3}for(;r.have<19;)r.lens[B[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,ee={bits:r.lenbits},z=ku(mA,r.lens,0,19,r.lencode,0,r.work,ee),r.lenbits=ee.bits,z){t.msg="invalid code lengths set",r.mode=rr;break}r.have=0,r.mode=dv;case dv:for(;r.have<r.nlen+r.ndist;){for(;A=r.lencode[u&(1<<r.lenbits)-1],w=A>>>24,S=A>>>16&255,k=A&65535,!(w<=h);){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}if(k<16)u>>>=w,h-=w,r.lens[r.have++]=k;else{if(k===16){for(T=w+2;h<T;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}if(u>>>=w,h-=w,r.have===0){t.msg="invalid bit length repeat",r.mode=rr;break}V=r.lens[r.have-1],f=3+(u&3),u>>>=2,h-=2}else if(k===17){for(T=w+3;h<T;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}u>>>=w,h-=w,V=0,f=3+(u&7),u>>>=3,h-=3}else{for(T=w+7;h<T;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}u>>>=w,h-=w,V=0,f=11+(u&127),u>>>=7,h-=7}if(r.have+f>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=rr;break}for(;f--;)r.lens[r.have++]=V}}if(r.mode===rr)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=rr;break}if(r.lenbits=9,ee={bits:r.lenbits},z=ku(ub,r.lens,0,r.nlen,r.lencode,0,r.work,ee),r.lenbits=ee.bits,z){t.msg="invalid literal/lengths set",r.mode=rr;break}if(r.distbits=6,r.distcode=r.distdyn,ee={bits:r.distbits},z=ku(cb,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,ee),r.distbits=ee.bits,z){t.msg="invalid distances set",r.mode=rr;break}if(r.mode=yh,e===vh)break e;case yh:r.mode=wh;case wh:if(o>=6&&l>=258){t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=h,cA(t,v),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,n=t.input,o=t.avail_in,u=r.hold,h=r.bits,r.mode===hs&&(r.back=-1);break}for(r.back=0;A=r.lencode[u&(1<<r.lenbits)-1],w=A>>>24,S=A>>>16&255,k=A&65535,!(w<=h);){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}if(S&&!(S&240)){for(E=w,F=S,J=k;A=r.lencode[J+((u&(1<<E+F)-1)>>E)],w=A>>>24,S=A>>>16&255,k=A&65535,!(E+w<=h);){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}u>>>=E,h-=E,r.back+=E}if(u>>>=w,h-=w,r.back+=w,r.length=k,S===0){r.mode=vv;break}if(S&32){r.back=-1,r.mode=hs;break}if(S&64){t.msg="invalid literal/length code",r.mode=rr;break}r.extra=S&15,r.mode=fv;case fv:if(r.extra){for(T=r.extra;h<T;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=pv;case pv:for(;A=r.distcode[u&(1<<r.distbits)-1],w=A>>>24,S=A>>>16&255,k=A&65535,!(w<=h);){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}if(!(S&240)){for(E=w,F=S,J=k;A=r.distcode[J+((u&(1<<E+F)-1)>>E)],w=A>>>24,S=A>>>16&255,k=A&65535,!(E+w<=h);){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}u>>>=E,h-=E,r.back+=E}if(u>>>=w,h-=w,r.back+=w,S&64){t.msg="invalid distance code",r.mode=rr;break}r.offset=k,r.extra=S&15,r.mode=gv;case gv:if(r.extra){for(T=r.extra;h<T;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=rr;break}r.mode=mv;case mv:if(l===0)break e;if(f=v-l,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=rr;break}f>r.wnext?(f-=r.wnext,_=r.wsize-f):_=r.wnext-f,f>r.length&&(f=r.length),x=r.window}else x=i,_=a-r.offset,f=r.length;f>l&&(f=l),l-=f,r.length-=f;do i[a++]=x[_++];while(--f);r.length===0&&(r.mode=wh);break;case vv:if(l===0)break e;i[a++]=r.length,l--,r.mode=wh;break;case wp:if(r.wrap){for(;h<32;){if(o===0)break e;o--,u|=n[s++]<<h,h+=8}if(v-=l,t.total_out+=v,r.total+=v,r.wrap&4&&v&&(t.adler=r.check=r.flags?zi(r.check,i,v,a-v):Y0(r.check,i,v,a-v)),v=l,r.wrap&4&&(r.flags?u:bv(u))!==r.check){t.msg="incorrect data check",r.mode=rr;break}u=0,h=0}r.mode=yv;case yv:if(r.wrap&&r.flags){for(;h<32;){if(o===0)break e;o--,u+=n[s++]<<h,h+=8}if(r.wrap&4&&u!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=rr;break}u=0,h=0}r.mode=wv;case wv:z=yA;break e;case rr:z=hb;break e;case fb:return db;case pb:default:return hi}return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=h,(r.wsize||v!==t.avail_out&&r.mode<rr&&(r.mode<wp||e!==X2))&&wb(t,t.output,t.next_out,v-t.avail_out),p-=t.avail_in,v-=t.avail_out,t.total_in+=p,t.total_out+=v,r.total+=v,r.wrap&4&&v&&(t.adler=r.check=r.flags?zi(r.check,i,v,t.next_out-v):Y0(r.check,i,v,t.next_out-v)),t.data_type=r.bits+(r.last?64:0)+(r.mode===hs?128:0)+(r.mode===yh||r.mode===yp?256:0),(p===0&&v===0||e===X2)&&z===to&&(z=bA),z},CA=t=>{if(ao(t))return hi;let e=t.state;return e.window&&(e.window=null),t.state=null,to},LA=(t,e)=>{if(ao(t))return hi;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,to):hi},PA=(t,e)=>{const r=e.length;let n,i,s;return ao(t)||(n=t.state,n.wrap!==0&&n.mode!==xd)?hi:n.mode===xd&&(i=1,i=Y0(i,e,r,0),i!==n.check)?hb:(s=wb(t,e,r,r),s?(n.mode=fb,db):(n.havedict=1,to))};var TA=mb,RA=vb,IA=gb,OA=NA,FA=yb,DA=EA,BA=CA,MA=LA,zA=PA,UA="pako inflate (from Nodeca project)",gs={inflateReset:TA,inflateReset2:RA,inflateResetKeep:IA,inflateInit:OA,inflateInit2:FA,inflate:DA,inflateEnd:BA,inflateGetHeader:MA,inflateSetDictionary:zA,inflateInfo:UA};function qA(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var $A=qA;const bb=Object.prototype.toString,{Z_NO_FLUSH:WA,Z_FINISH:HA,Z_OK:Zu,Z_STREAM_END:_p,Z_NEED_DICT:Sp,Z_STREAM_ERROR:VA,Z_DATA_ERROR:_v,Z_MEM_ERROR:GA}=ab;function uc(t){this.options=ob.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new lA,this.strm.avail_out=0;let r=gs.inflateInit2(this.strm,e.windowBits);if(r!==Zu)throw new Error(X0[r]);if(this.header=new $A,gs.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Q0.string2buf(e.dictionary):bb.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=gs.inflateSetDictionary(this.strm,e.dictionary),r!==Zu)))throw new Error(X0[r])}uc.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?HA:WA,bb.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=gs.inflate(r,a),s===Sp&&i&&(s=gs.inflateSetDictionary(r,i),s===Zu?s=gs.inflate(r,a):s===_v&&(s=Sp));r.avail_in>0&&s===_p&&r.state.wrap>0&&t[r.next_in]!==0;)gs.inflateReset(r),s=gs.inflate(r,a);switch(s){case VA:case _v:case Sp:case GA:return this.onEnd(s),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||s===_p))if(this.options.to==="string"){let l=Q0.utf8border(r.output,r.next_out),u=r.next_out-l,h=Q0.buf2string(r.output,l);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(l,l+u),0),this.onData(h)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===Zu&&o===0)){if(s===_p)return s=gs.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};uc.prototype.onData=function(t){this.chunks.push(t)};uc.prototype.onEnd=function(t){t===Zu&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ob.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function KA(t,e){const r=new uc(e);if(r.push(t),r.err)throw r.msg||X0[r.err];return r.result}var JA=uc,YA=KA,XA={Inflate:JA,inflate:YA};const{Inflate:QA,inflate:ZA}=XA;var Sv=QA,eN=ZA;const xb=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;xb[t]=e}const kv=4294967295;function tN(t,e,r){let n=t;for(let i=0;i<r;i++)n=xb[(n^e[i])&255]^n>>>8;return n}function rN(t,e){return(tN(kv,t,e)^kv)>>>0}function Av(t,e,r){const n=t.readUint32(),i=rN(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function _b(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function Sb(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function kb(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function Ab(t,e,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(r[s]>>1)&255;for(;s<n;s++)e[s]=t[s]+(e[s-i]+r[s]>>1)&255}}function Nb(t,e,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+r[s]&255;for(;s<n;s++)e[s]=t[s]+nN(e[s-i],r[s],r[s-i])&255}}function nN(t,e,r){const n=t+e-r,i=Math.abs(n-t),s=Math.abs(n-e),a=Math.abs(n-r);return i<=s&&i<=a?t:s<=a?e:r}function iN(t,e,r,n,i,s){switch(t){case 0:_b(e,r,i);break;case 1:Sb(e,r,i,s);break;case 2:kb(e,r,n,i);break;case 3:Ab(e,r,n,i,s);break;case 4:Nb(e,r,n,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const sN=new Uint16Array([255]),aN=new Uint8Array(sN.buffer),oN=aN[0]===255;function lN(t){const{data:e,width:r,height:n,channels:i,depth:s}=t,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,l=new Uint8Array(n*r*o);let u=0;for(let h=0;h<7;h++){const p=a[h],v=Math.ceil((r-p.x)/p.xStep),f=Math.ceil((n-p.y)/p.yStep);if(v<=0||f<=0)continue;const _=v*o,x=new Uint8Array(_);for(let A=0;A<f;A++){const w=e[u++],S=e.subarray(u,u+_);u+=_;const k=new Uint8Array(_);iN(w,S,k,x,_,o),x.set(k);for(let E=0;E<v;E++){const F=p.x+E*p.xStep,J=p.y+A*p.yStep;if(!(F>=r||J>=n))for(let V=0;V<o;V++)l[(J*r+F)*o+V]=k[E*o+V]}}}if(s===16){const h=new Uint16Array(l.buffer);if(oN)for(let p=0;p<h.length;p++)h[p]=uN(h[p]);return h}else return l}function uN(t){return(t&255)<<8|t>>8&255}const cN=new Uint16Array([255]),hN=new Uint8Array(cN.buffer),dN=hN[0]===255,fN=new Uint8Array(0);function Nv(t){const{data:e,width:r,height:n,channels:i,depth:s}=t,a=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*r),l=new Uint8Array(n*o);let u=fN,h=0,p,v;for(let f=0;f<n;f++){switch(p=e.subarray(h+1,h+1+o),v=l.subarray(f*o,(f+1)*o),e[h]){case 0:_b(p,v,o);break;case 1:Sb(p,v,o,a);break;case 2:kb(p,v,u,o);break;case 3:Ab(p,v,u,o,a);break;case 4:Nb(p,v,u,o,a);break;default:throw new Error(`Unsupported filter: ${e[h]}`)}u=v,h+=o+1}if(s===16){const f=new Uint16Array(l.buffer);if(dN)for(let _=0;_<f.length;_++)f[_]=pN(f[_]);return f}else return l}function pN(t){return(t&255)<<8|t>>8&255}const Dh=Uint8Array.of(137,80,78,71,13,10,26,10);function jv(t){if(!gN(t.readBytes(Dh.length)))throw new Error("wrong PNG signature")}function gN(t){if(t.length<Dh.length)return!1;for(let e=0;e<Dh.length;e++)if(t[e]!==Dh[e])return!1;return!0}const mN="tEXt",vN=0,jb=new TextDecoder("latin1");function yN(t){if(bN(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const wN=/^[\u0000-\u00FF]*$/;function bN(t){if(!wN.test(t))throw new Error("invalid latin1 text")}function xN(t,e,r){const n=Eb(e);t[n]=_N(e,r-n.length-1)}function Eb(t){for(t.mark();t.readByte()!==vN;);const e=t.offset;t.reset();const r=jb.decode(t.readBytes(e-t.offset-1));return t.skip(1),yN(r),r}function _N(t,e){return jb.decode(t.readBytes(e))}const Mn={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},kp={UNKNOWN:-1,DEFLATE:0},Ev={UNKNOWN:-1,ADAPTIVE:0},Ap={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},bh={NONE:0,BACKGROUND:1,PREVIOUS:2},Np={SOURCE:0,OVER:1};class SN extends lg{constructor(r,n={}){super(r);Dt(this,"_checkCrc");Dt(this,"_inflator");Dt(this,"_png");Dt(this,"_apng");Dt(this,"_end");Dt(this,"_hasPalette");Dt(this,"_palette");Dt(this,"_hasTransparency");Dt(this,"_transparency");Dt(this,"_compressionMethod");Dt(this,"_filterMethod");Dt(this,"_interlaceMethod");Dt(this,"_colorType");Dt(this,"_isAnimated");Dt(this,"_numberOfFrames");Dt(this,"_numberOfPlays");Dt(this,"_frames");Dt(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new Sv,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=kp.UNKNOWN,this._filterMethod=Ev.UNKNOWN,this._interlaceMethod=Ap.UNKNOWN,this._colorType=Mn.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(jv(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(jv(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case mN:xN(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Av(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Av(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=kN(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case Mn.GREYSCALE:i=1;break;case Mn.TRUECOLOUR:i=3;break;case Mn.INDEXED_COLOUR:i=1;break;case Mn.GREYSCALE_ALPHA:i=2;break;case Mn.TRUECOLOUR_ALPHA:i=4;break;case Mn.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==kp.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<n;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Mn.GREYSCALE:case Mn.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Mn.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Mn.UNKNOWN:case Mn.GREYSCALE_ALPHA:case Mn.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=Eb(this),i=this.readUint8();if(i!==kp.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:eN(s)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=Nv({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const s=this._apng.frames.at(r-1);this.disposeFrame(i,s,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case bh.NONE:break;case bh.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let a=0;a<this._png.width;a++){const o=(s*r.width+a)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case bh.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,s=(a,o)=>{const l=((a+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,u=(a*n.width+o)*this._png.channels;return{index:l,frameIndex:u}};switch(n.blendOp){case Np.SOURCE:for(let a=0;a<n.height;a++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:u}=s(a,o);for(let h=0;h<this._png.channels;h++)r.data[l+h]=n.data[u+h]}break;case Np.OVER:for(let a=0;a<n.height;a++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:u}=s(a,o);for(let h=0;h<this._png.channels;h++){const p=n.data[u+this._png.channels-1]/i,v=h%(this._png.channels-1)===0?1:n.data[u+h],f=Math.floor(p*v+(1-p)*r.data[l+h]);r.data[l+h]+=f}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==Ev.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Ap.NO_INTERLACE)this._png.data=Nv({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Ap.ADAM7)this._png.data=lN({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:bh.NONE,blendOp:Np.SOURCE,data:r}),this._inflator=new Sv,this._writingDataChunks=!1}}function kN(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var Cv;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(Cv||(Cv={}));function AN(t,e){return new SN(t,e).decode()}var at=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function jp(){at.console&&typeof at.console.log=="function"&&at.console.log.apply(at.console,arguments)}var Wt={log:jp,warn:function(t){at.console&&(typeof at.console.warn=="function"?at.console.warn.apply(at.console,arguments):jp.call(null,arguments))},error:function(t){at.console&&(typeof at.console.error=="function"?at.console.error.apply(at.console,arguments):jp(t))}};function Ep(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Ba(n.response,e,r)},n.onerror=function(){Wt.error("could not download file")},n.send()}function Lv(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function xh(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Ba=at.saveAs||((typeof window>"u"?"undefined":Bt(window))!=="object"||window!==at?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=at.URL||at.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?Lv(i.href)?Ep(t,e,r):xh(i,i.target="_blank"):xh(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){xh(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(Lv(t))Ep(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){xh(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Bt(s)!=="object"&&(Wt.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Ep(t,e,r);var i=t.type==="application/octet-stream",s=/constructor/i.test(at.HTMLElement)||at.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":Bt(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var h=o.result;h=a?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=h:location=h,n=null},o.readAsDataURL(t)}else{var l=at.URL||at.webkitURL,u=l.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Cb(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}var Bh=at.atob.bind(at),Pv=at.btoa.bind(at);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Cp(t,e){var r=t[0],n=t[1],i=t[2],s=t[3];r=sn(r,n,i,s,e[0],7,-680876936),s=sn(s,r,n,i,e[1],12,-389564586),i=sn(i,s,r,n,e[2],17,606105819),n=sn(n,i,s,r,e[3],22,-1044525330),r=sn(r,n,i,s,e[4],7,-176418897),s=sn(s,r,n,i,e[5],12,1200080426),i=sn(i,s,r,n,e[6],17,-1473231341),n=sn(n,i,s,r,e[7],22,-45705983),r=sn(r,n,i,s,e[8],7,1770035416),s=sn(s,r,n,i,e[9],12,-1958414417),i=sn(i,s,r,n,e[10],17,-42063),n=sn(n,i,s,r,e[11],22,-1990404162),r=sn(r,n,i,s,e[12],7,1804603682),s=sn(s,r,n,i,e[13],12,-40341101),i=sn(i,s,r,n,e[14],17,-1502002290),r=an(r,n=sn(n,i,s,r,e[15],22,1236535329),i,s,e[1],5,-165796510),s=an(s,r,n,i,e[6],9,-1069501632),i=an(i,s,r,n,e[11],14,643717713),n=an(n,i,s,r,e[0],20,-373897302),r=an(r,n,i,s,e[5],5,-701558691),s=an(s,r,n,i,e[10],9,38016083),i=an(i,s,r,n,e[15],14,-660478335),n=an(n,i,s,r,e[4],20,-405537848),r=an(r,n,i,s,e[9],5,568446438),s=an(s,r,n,i,e[14],9,-1019803690),i=an(i,s,r,n,e[3],14,-187363961),n=an(n,i,s,r,e[8],20,1163531501),r=an(r,n,i,s,e[13],5,-1444681467),s=an(s,r,n,i,e[2],9,-51403784),i=an(i,s,r,n,e[7],14,1735328473),r=on(r,n=an(n,i,s,r,e[12],20,-1926607734),i,s,e[5],4,-378558),s=on(s,r,n,i,e[8],11,-2022574463),i=on(i,s,r,n,e[11],16,1839030562),n=on(n,i,s,r,e[14],23,-35309556),r=on(r,n,i,s,e[1],4,-1530992060),s=on(s,r,n,i,e[4],11,1272893353),i=on(i,s,r,n,e[7],16,-155497632),n=on(n,i,s,r,e[10],23,-1094730640),r=on(r,n,i,s,e[13],4,681279174),s=on(s,r,n,i,e[0],11,-358537222),i=on(i,s,r,n,e[3],16,-722521979),n=on(n,i,s,r,e[6],23,76029189),r=on(r,n,i,s,e[9],4,-640364487),s=on(s,r,n,i,e[12],11,-421815835),i=on(i,s,r,n,e[15],16,530742520),r=ln(r,n=on(n,i,s,r,e[2],23,-995338651),i,s,e[0],6,-198630844),s=ln(s,r,n,i,e[7],10,1126891415),i=ln(i,s,r,n,e[14],15,-1416354905),n=ln(n,i,s,r,e[5],21,-57434055),r=ln(r,n,i,s,e[12],6,1700485571),s=ln(s,r,n,i,e[3],10,-1894986606),i=ln(i,s,r,n,e[10],15,-1051523),n=ln(n,i,s,r,e[1],21,-2054922799),r=ln(r,n,i,s,e[8],6,1873313359),s=ln(s,r,n,i,e[15],10,-30611744),i=ln(i,s,r,n,e[6],15,-1560198380),n=ln(n,i,s,r,e[13],21,1309151649),r=ln(r,n,i,s,e[4],6,-145523070),s=ln(s,r,n,i,e[11],10,-1120210379),i=ln(i,s,r,n,e[2],15,718787259),n=ln(n,i,s,r,e[9],21,-343485551),t[0]=ta(r,t[0]),t[1]=ta(n,t[1]),t[2]=ta(i,t[2]),t[3]=ta(s,t[3])}function Xd(t,e,r,n,i,s){return e=ta(ta(e,t),ta(n,s)),ta(e<<i|e>>>32-i,r)}function sn(t,e,r,n,i,s,a){return Xd(e&r|~e&n,t,e,i,s,a)}function an(t,e,r,n,i,s,a){return Xd(e&n|r&~n,t,e,i,s,a)}function on(t,e,r,n,i,s,a){return Xd(e^r^n,t,e,i,s,a)}function ln(t,e,r,n,i,s,a){return Xd(r^(e|~n),t,e,i,s,a)}function Lb(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Cp(n,NN(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Cp(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,Cp(n,i),n}function NN(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var Tv="0123456789abcdef".split("");function jN(t){for(var e="",r=0;r<4;r++)e+=Tv[t>>8*r+4&15]+Tv[t>>8*r&15];return e}function EN(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Z0(t){return Lb(t).map(EN).join("")}var CN=function(t){for(var e=0;e<t.length;e++)t[e]=jN(t[e]);return t.join("")}(Lb("hello"))!="5d41402abc4b2a76b9719d911017c592";function ta(t,e){if(CN){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function e1(t,e){var r,n,i,s;if(t!==r){for(var a=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var h=o[l];u=(u+h+a.charCodeAt(l))%256,o[l]=o[u],o[u]=h}r=t,n=o}else o=n;var p=e.length,v=0,f=0,_="";for(l=0;l<p;l++)f=(f+(h=o[v=(v+1)%256]))%256,o[v]=o[f],o[f]=h,a=o[(o[v]+o[f])%256],_+=String.fromCharCode(e.charCodeAt(l)^a);return _}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Rv={print:4,modify:8,copy:16,"annot-forms":32};function Oo(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(Rv.perm!==void 0)throw new Error("Invalid permission: "+o);i+=Rv[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=Z0(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=e1(this.encryptionKey,this.padding)}function Fo(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function Iv(t){if(Bt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[r]){var a=e[r][s];try{a[0].apply(t,n)}catch(o){at.console&&Wt.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function _d(t){if(!(this instanceof _d))return new _d(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function Pb(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Ua(t,e,r,n,i){if(!(this instanceof Ua))return new Ua(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,Pb.call(this,n,i)}function Yo(t,e,r,n,i){if(!(this instanceof Yo))return new Yo(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,Pb.call(this,n,i)}function Ve(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,u="S",h=null;Bt(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,s=t.compress||t.compressPdf||s,(h=t.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var p=t.putOnlyUsedFonts||!1,v={},f={internal:{},__private__:{}};f.__private__.PubSub=Iv;var _="1.3",x=f.__private__.getPdfVersion=function(){return _};f.__private__.setPdfVersion=function(m){_=m};var A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return A};var w=f.__private__.getPageFormat=function(m){return A[m]};i=i||"a4";var S="compat",k="advanced",E=S;function F(){this.saveGraphicsState(),M(new K(ct,0,0,-ct,0,Sa()*ct).toString()+" cm"),this.setFontSize(this.getFontSize()/ct),u="n",E=k}function J(){this.restoreGraphicsState(),u="S",E=S}var V=f.__private__.combineFontStyleAndFontWeight=function(m,N){if(m=="bold"&&N=="normal"||m=="bold"&&N==400||m=="normal"&&N=="italic"||m=="bold"&&N=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return N&&(m=N==400||N==="normal"?m==="italic"?"italic":"normal":N!=700&&N!=="bold"||m!=="normal"?(N==700?"bold":N)+""+m:"bold"),m};f.advancedAPI=function(m){var N=E===S;return N&&F.call(this),typeof m!="function"||(m(this),N&&J.call(this)),this},f.compatAPI=function(m){var N=E===k;return N&&J.call(this),typeof m!="function"||(m(this),N&&F.call(this)),this},f.isAdvancedAPI=function(){return E===k};var z,D=function(m){if(E!==k)throw new Error(m+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ee=f.roundToPrecision=f.__private__.roundToPrecision=function(m,N){var $=e||N;if(isNaN(m)||isNaN($))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return m.toFixed($).replace(/0+$/,"")};z=f.hpf=f.__private__.hpf=typeof l=="number"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(m,l)}:l==="smart"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(m,m>-1&&m<1?16:5)}:function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(m,16)};var T=f.f2=f.__private__.f2=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f2");return ee(m,2)},B=f.__private__.f3=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f3");return ee(m,3)},Y=f.scale=f.__private__.scale=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.scale");return E===S?m*ct:E===k?m:void 0},G=function(m){return Y(function(N){return E===S?Sa()-N:E===k?N:void 0}(m))};f.__private__.setPrecision=f.setPrecision=function(m){typeof parseInt(m,10)=="number"&&(e=parseInt(m,10))};var ce,de="00000000000000000000000000000000",X=f.__private__.getFileId=function(){return de},O=f.__private__.setFileId=function(m){return de=m!==void 0&&/^[a-fA-F0-9]{32}$/.test(m)?m.toUpperCase():de.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(Lr=new Oo(h.userPermissions,h.userPassword,h.ownerPassword,de)),de};f.setFileId=function(m){return O(m),this},f.getFileId=function(){return X()};var ie=f.__private__.convertDateToPDFDate=function(m){var N=m.getTimezoneOffset(),$=N<0?"+":"-",Z=Math.floor(Math.abs(N/60)),ae=Math.abs(N%60),we=[$,H(Z),"'",H(ae),"'"].join("");return["D:",m.getFullYear(),H(m.getMonth()+1),H(m.getDate()),H(m.getHours()),H(m.getMinutes()),H(m.getSeconds()),we].join("")},fe=f.__private__.convertPDFDateToDate=function(m){var N=parseInt(m.substr(2,4),10),$=parseInt(m.substr(6,2),10)-1,Z=parseInt(m.substr(8,2),10),ae=parseInt(m.substr(10,2),10),we=parseInt(m.substr(12,2),10),_e=parseInt(m.substr(14,2),10);return new Date(N,$,Z,ae,we,_e,0)},pe=f.__private__.setCreationDate=function(m){var N;if(m===void 0&&(m=new Date),m instanceof Date)N=ie(m);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(m))throw new Error("Invalid argument passed to jsPDF.setCreationDate");N=m}return ce=N},C=f.__private__.getCreationDate=function(m){var N=ce;return m==="jsDate"&&(N=fe(ce)),N};f.setCreationDate=function(m){return pe(m),this},f.getCreationDate=function(m){return C(m)};var W,H=f.__private__.padd2=function(m){return("0"+parseInt(m)).slice(-2)},Q=f.__private__.padd2Hex=function(m){return("00"+(m=m.toString())).substr(m.length)},ne=0,re=[],me=[],ge=0,xe=[],Ae=[],Te=!1,Pe=me;f.__private__.setCustomOutputDestination=function(m){Te=!0,Pe=m};var $e=function(m){Te||(Pe=m)};f.__private__.resetCustomOutputDestination=function(){Te=!1,Pe=me};var M=f.__private__.out=function(m){return m=m.toString(),ge+=m.length+1,Pe.push(m),Pe},Ee=f.__private__.write=function(m){return M(arguments.length===1?m.toString():Array.prototype.join.call(arguments," "))},Ze=f.__private__.getArrayBuffer=function(m){for(var N=m.length,$=new ArrayBuffer(N),Z=new Uint8Array($);N--;)Z[N]=m.charCodeAt(N);return $},qe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return qe};var ke=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(m){return ke=E===k?m/ct:m,this};var Ye,Ie=f.__private__.getFontSize=f.getFontSize=function(){return E===S?ke:ke*ct},Qe=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(m){return Qe=m,this},f.__private__.getR2L=f.getR2L=function(){return Qe};var Ke,Pt=f.__private__.setZoomMode=function(m){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(m))Ye=m;else if(isNaN(m)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(m)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+m+'" is not recognized.');Ye=m}else Ye=parseInt(m,10)};f.__private__.getZoomMode=function(){return Ye};var ft,lt=f.__private__.setPageMode=function(m){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(m)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+m+'" is not recognized.');Ke=m};f.__private__.getPageMode=function(){return Ke};var xt=f.__private__.setLayoutMode=function(m){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(m)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+m+'" is not recognized.');ft=m};f.__private__.getLayoutMode=function(){return ft},f.__private__.setDisplayMode=f.setDisplayMode=function(m,N,$){return Pt(m),xt(N),lt($),this};var bt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(m){if(Object.keys(bt).indexOf(m)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return bt[m]},f.__private__.getDocumentProperties=function(){return bt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(m){for(var N in bt)bt.hasOwnProperty(N)&&m[N]&&(bt[N]=m[N]);return this},f.__private__.setDocumentProperty=function(m,N){if(Object.keys(bt).indexOf(m)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return bt[m]=N};var Re,ct,Me,ir,St,gt={},mt={},Ht=[],Xe={},It={},et={},it={},Vt=null,vt=0,tt=[],Tt=new Iv(f),En=t.hotfixes||[],Cr={},Jn={},Cn=[],K=function m(N,$,Z,ae,we,_e){if(!(this instanceof m))return new m(N,$,Z,ae,we,_e);isNaN(N)&&(N=1),isNaN($)&&($=0),isNaN(Z)&&(Z=0),isNaN(ae)&&(ae=1),isNaN(we)&&(we=0),isNaN(_e)&&(_e=0),this._matrix=[N,$,Z,ae,we,_e]};Object.defineProperty(K.prototype,"sx",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(K.prototype,"shy",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(K.prototype,"shx",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(K.prototype,"sy",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(K.prototype,"tx",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(K.prototype,"ty",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(K.prototype,"a",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(K.prototype,"b",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(K.prototype,"c",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(K.prototype,"d",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(K.prototype,"e",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(K.prototype,"f",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(K.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(K.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(K.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(K.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),K.prototype.join=function(m){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(z).join(m)},K.prototype.multiply=function(m){var N=m.sx*this.sx+m.shy*this.shx,$=m.sx*this.shy+m.shy*this.sy,Z=m.shx*this.sx+m.sy*this.shx,ae=m.shx*this.shy+m.sy*this.sy,we=m.tx*this.sx+m.ty*this.shx+this.tx,_e=m.tx*this.shy+m.ty*this.sy+this.ty;return new K(N,$,Z,ae,we,_e)},K.prototype.decompose=function(){var m=this.sx,N=this.shy,$=this.shx,Z=this.sy,ae=this.tx,we=this.ty,_e=Math.sqrt(m*m+N*N),Be=(m/=_e)*$+(N/=_e)*Z;$-=m*Be,Z-=N*Be;var We=Math.sqrt($*$+Z*Z);return Be/=We,m*(Z/=We)<N*($/=We)&&(m=-m,N=-N,Be=-Be,_e=-_e),{scale:new K(_e,0,0,We,0,0),translate:new K(1,0,0,1,ae,we),rotate:new K(m,N,-N,m,0,0),skew:new K(1,0,Be,1,0,0)}},K.prototype.toString=function(m){return this.join(" ")},K.prototype.inversed=function(){var m=this.sx,N=this.shy,$=this.shx,Z=this.sy,ae=this.tx,we=this.ty,_e=1/(m*Z-N*$),Be=Z*_e,We=-N*_e,ot=-$*_e,pt=m*_e;return new K(Be,We,ot,pt,-Be*ae-ot*we,-We*ae-pt*we)},K.prototype.applyToPoint=function(m){var N=m.x*this.sx+m.y*this.shx+this.tx,$=m.x*this.shy+m.y*this.sy+this.ty;return new Zi(N,$)},K.prototype.applyToRectangle=function(m){var N=this.applyToPoint(m),$=this.applyToPoint(new Zi(m.x+m.w,m.y+m.h));return new Ll(N.x,N.y,$.x-N.x,$.y-N.y)},K.prototype.clone=function(){var m=this.sx,N=this.shy,$=this.shx,Z=this.sy,ae=this.tx,we=this.ty;return new K(m,N,$,Z,ae,we)},f.Matrix=K;var Ce=f.matrixMult=function(m,N){return N.multiply(m)},Je=new K(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Je;var Gt=function(m,N){if(!It[m]){var $=(N instanceof Ua?"Sh":"P")+(Object.keys(Xe).length+1).toString(10);N.id=$,It[m]=$,Xe[$]=N,Tt.publish("addPattern",N)}};f.ShadingPattern=Ua,f.TilingPattern=Yo,f.addShadingPattern=function(m,N){return D("addShadingPattern()"),Gt(m,N),this},f.beginTilingPattern=function(m){D("beginTilingPattern()"),Pl(m.boundingBox[0],m.boundingBox[1],m.boundingBox[2]-m.boundingBox[0],m.boundingBox[3]-m.boundingBox[1],m.matrix)},f.endTilingPattern=function(m,N){D("endTilingPattern()"),N.stream=Ae[W].join(`
`),Gt(m,N),Tt.publish("endTilingPattern",N),Cn.pop().restore()};var $r,Nt=f.__private__.newObject=function(){var m=jt();return Ut(m,!0),m},jt=f.__private__.newObjectDeferred=function(){return ne++,re[ne]=function(){return ge},ne},Ut=function(m,N){return N=typeof N=="boolean"&&N,re[m]=ge,N&&M(m+" 0 obj"),m},Yn=f.__private__.newAdditionalObject=function(){var m={objId:jt(),content:""};return xe.push(m),m},Pi=jt(),Xn=jt(),Ln=f.__private__.decodeColorString=function(m){var N=m.split(" ");if(N.length!==2||N[1]!=="g"&&N[1]!=="G")N.length!==5||N[4]!=="k"&&N[4]!=="K"||(N=[(1-N[0])*(1-N[3]),(1-N[1])*(1-N[3]),(1-N[2])*(1-N[3]),"r"]);else{var $=parseFloat(N[0]);N=[$,$,$,"r"]}for(var Z="#",ae=0;ae<3;ae++)Z+=("0"+Math.floor(255*parseFloat(N[ae])).toString(16)).slice(-2);return Z},wn=f.__private__.encodeColorString=function(m){var N;typeof m=="string"&&(m={ch1:m});var $=m.ch1,Z=m.ch2,ae=m.ch3,we=m.ch4,_e=m.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof $=="string"&&$.charAt(0)!=="#"){var Be=new Cb($);if(Be.ok)$=Be.toHex();else if(!/^\d*\.?\d*$/.test($))throw new Error('Invalid color "'+$+'" passed to jsPDF.encodeColorString.')}if(typeof $=="string"&&/^#[0-9A-Fa-f]{3}$/.test($)&&($="#"+$[1]+$[1]+$[2]+$[2]+$[3]+$[3]),typeof $=="string"&&/^#[0-9A-Fa-f]{6}$/.test($)){var We=parseInt($.substr(1),16);$=We>>16&255,Z=We>>8&255,ae=255&We}if(Z===void 0||we===void 0&&$===Z&&Z===ae)N=typeof $=="string"?$+" "+_e[0]:m.precision===2?T($/255)+" "+_e[0]:B($/255)+" "+_e[0];else if(we===void 0||Bt(we)==="object"){if(we&&!isNaN(we.a)&&we.a===0)return["1.","1.","1.",_e[1]].join(" ");N=typeof $=="string"?[$,Z,ae,_e[1]].join(" "):m.precision===2?[T($/255),T(Z/255),T(ae/255),_e[1]].join(" "):[B($/255),B(Z/255),B(ae/255),_e[1]].join(" ")}else N=typeof $=="string"?[$,Z,ae,we,_e[2]].join(" "):m.precision===2?[T($),T(Z),T(ae),T(we),_e[2]].join(" "):[B($),B(Z),B(ae),B(we),_e[2]].join(" ");return N},en=f.__private__.getFilters=function(){return a},Qn=f.__private__.putStream=function(m){var N=(m=m||{}).data||"",$=m.filters||en(),Z=m.alreadyAppliedFilters||[],ae=m.addLength1||!1,we=N.length,_e=m.objectId,Be=function(Pr){return Pr};if(h!==null&&_e===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(Be=Lr.encryptor(_e,0));var We={};$===!0&&($=["FlateEncode"]);var ot=m.additionalKeyValues||[],pt=(We=Ve.API.processDataByFilters!==void 0?Ve.API.processDataByFilters(N,$):{data:N,reverseChain:[]}).reverseChain+(Array.isArray(Z)?Z.join(" "):Z.toString());if(We.data.length!==0&&(ot.push({key:"Length",value:We.data.length}),ae===!0&&ot.push({key:"Length1",value:we})),pt.length!=0)if(pt.split("/").length-1==1)ot.push({key:"Filter",value:pt});else{ot.push({key:"Filter",value:"["+pt+"]"});for(var Et=0;Et<ot.length;Et+=1)if(ot[Et].key==="DecodeParms"){for(var sr=[],kr=0;kr<We.reverseChain.split("/").length-1;kr+=1)sr.push("null");sr.push(ot[Et].value),ot[Et].value="["+sr.join(" ")+"]"}}M("<<");for(var Kt=0;Kt<ot.length;Kt++)M("/"+ot[Kt].key+" "+ot[Kt].value);M(">>"),We.data.length!==0&&(M("stream"),M(Be(We.data)),M("endstream"))},va=f.__private__.putPage=function(m){var N=m.number,$=m.data,Z=m.objId,ae=m.contentsObjId;Ut(Z,!0),M("<</Type /Page"),M("/Parent "+m.rootDictionaryObjId+" 0 R"),M("/Resources "+m.resourceDictionaryObjId+" 0 R"),M("/MediaBox ["+parseFloat(z(m.mediaBox.bottomLeftX))+" "+parseFloat(z(m.mediaBox.bottomLeftY))+" "+z(m.mediaBox.topRightX)+" "+z(m.mediaBox.topRightY)+"]"),m.cropBox!==null&&M("/CropBox ["+z(m.cropBox.bottomLeftX)+" "+z(m.cropBox.bottomLeftY)+" "+z(m.cropBox.topRightX)+" "+z(m.cropBox.topRightY)+"]"),m.bleedBox!==null&&M("/BleedBox ["+z(m.bleedBox.bottomLeftX)+" "+z(m.bleedBox.bottomLeftY)+" "+z(m.bleedBox.topRightX)+" "+z(m.bleedBox.topRightY)+"]"),m.trimBox!==null&&M("/TrimBox ["+z(m.trimBox.bottomLeftX)+" "+z(m.trimBox.bottomLeftY)+" "+z(m.trimBox.topRightX)+" "+z(m.trimBox.topRightY)+"]"),m.artBox!==null&&M("/ArtBox ["+z(m.artBox.bottomLeftX)+" "+z(m.artBox.bottomLeftY)+" "+z(m.artBox.topRightX)+" "+z(m.artBox.topRightY)+"]"),typeof m.userUnit=="number"&&m.userUnit!==1&&M("/UserUnit "+m.userUnit),Tt.publish("putPage",{objId:Z,pageContext:tt[N],pageNumber:N,page:$}),M("/Contents "+ae+" 0 R"),M(">>"),M("endobj");var we=$.join(`
`);return E===k&&(we+=`
Q`),Ut(ae,!0),Qn({data:we,filters:en(),objectId:ae}),M("endobj"),Z},Ti=f.__private__.putPages=function(){var m,N,$=[];for(m=1;m<=vt;m++)tt[m].objId=jt(),tt[m].contentsObjId=jt();for(m=1;m<=vt;m++)$.push(va({number:m,data:Ae[m],objId:tt[m].objId,contentsObjId:tt[m].contentsObjId,mediaBox:tt[m].mediaBox,cropBox:tt[m].cropBox,bleedBox:tt[m].bleedBox,trimBox:tt[m].trimBox,artBox:tt[m].artBox,userUnit:tt[m].userUnit,rootDictionaryObjId:Pi,resourceDictionaryObjId:Xn}));Ut(Pi,!0),M("<</Type /Pages");var Z="/Kids [";for(N=0;N<vt;N++)Z+=$[N]+" 0 R ";M(Z+"]"),M("/Count "+vt),M(">>"),M("endobj"),Tt.publish("postPutPages")},ya=function(m){Tt.publish("putFont",{font:m,out:M,newObject:Nt,putStream:Qn}),m.isAlreadyPutted!==!0&&(m.objectNumber=Nt(),M("<<"),M("/Type /Font"),M("/BaseFont /"+Fo(m.postScriptName)),M("/Subtype /Type1"),typeof m.encoding=="string"&&M("/Encoding /"+m.encoding),M("/FirstChar 32"),M("/LastChar 255"),M(">>"),M("endobj"))},lo=function(m){m.objectNumber=Nt();var N=[];N.push({key:"Type",value:"/XObject"}),N.push({key:"Subtype",value:"/Form"}),N.push({key:"BBox",value:"["+[z(m.x),z(m.y),z(m.x+m.width),z(m.y+m.height)].join(" ")+"]"}),N.push({key:"Matrix",value:"["+m.matrix.toString()+"]"});var $=m.pages[1].join(`
`);Qn({data:$,additionalKeyValues:N,objectId:m.objectNumber}),M("endobj")},uo=function(m,N){N||(N=21);var $=Nt(),Z=function(_e,Be){var We,ot=[],pt=1/(Be-1);for(We=0;We<1;We+=pt)ot.push(We);if(ot.push(1),_e[0].offset!=0){var Et={offset:0,color:_e[0].color};_e.unshift(Et)}if(_e[_e.length-1].offset!=1){var sr={offset:1,color:_e[_e.length-1].color};_e.push(sr)}for(var kr="",Kt=0,Pr=0;Pr<ot.length;Pr++){for(We=ot[Pr];We>_e[Kt+1].offset;)Kt++;var Ar=_e[Kt].offset,Wr=(We-Ar)/(_e[Kt+1].offset-Ar),rs=_e[Kt].color,fi=_e[Kt+1].color;kr+=Q(Math.round((1-Wr)*rs[0]+Wr*fi[0]).toString(16))+Q(Math.round((1-Wr)*rs[1]+Wr*fi[1]).toString(16))+Q(Math.round((1-Wr)*rs[2]+Wr*fi[2]).toString(16))}return kr.trim()}(m.colors,N),ae=[];ae.push({key:"FunctionType",value:"0"}),ae.push({key:"Domain",value:"[0.0 1.0]"}),ae.push({key:"Size",value:"["+N+"]"}),ae.push({key:"BitsPerSample",value:"8"}),ae.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ae.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Qn({data:Z,additionalKeyValues:ae,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:$}),M("endobj"),m.objectNumber=Nt(),M("<< /ShadingType "+m.type),M("/ColorSpace /DeviceRGB");var we="/Coords ["+z(parseFloat(m.coords[0]))+" "+z(parseFloat(m.coords[1]))+" ";m.type===2?we+=z(parseFloat(m.coords[2]))+" "+z(parseFloat(m.coords[3])):we+=z(parseFloat(m.coords[2]))+" "+z(parseFloat(m.coords[3]))+" "+z(parseFloat(m.coords[4]))+" "+z(parseFloat(m.coords[5])),M(we+="]"),m.matrix&&M("/Matrix ["+m.matrix.toString()+"]"),M("/Function "+$+" 0 R"),M("/Extend [true true]"),M(">>"),M("endobj")},co=function(m,N){var $=jt(),Z=Nt();N.push({resourcesOid:$,objectOid:Z}),m.objectNumber=Z;var ae=[];ae.push({key:"Type",value:"/Pattern"}),ae.push({key:"PatternType",value:"1"}),ae.push({key:"PaintType",value:"1"}),ae.push({key:"TilingType",value:"1"}),ae.push({key:"BBox",value:"["+m.boundingBox.map(z).join(" ")+"]"}),ae.push({key:"XStep",value:z(m.xStep)}),ae.push({key:"YStep",value:z(m.yStep)}),ae.push({key:"Resources",value:$+" 0 R"}),m.matrix&&ae.push({key:"Matrix",value:"["+m.matrix.toString()+"]"}),Qn({data:m.stream,additionalKeyValues:ae,objectId:m.objectNumber}),M("endobj")},Zd=function(m){for(var N in m.objectNumber=Nt(),M("<<"),m)switch(N){case"opacity":M("/ca "+T(m[N]));break;case"stroke-opacity":M("/CA "+T(m[N]))}M(">>"),M("endobj")},_l=function(m){Ut(m.resourcesOid,!0),M("<<"),M("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var N in M("/Font <<"),gt)gt.hasOwnProperty(N)&&(p===!1||p===!0&&v.hasOwnProperty(N))&&M("/"+N+" "+gt[N].objectNumber+" 0 R");M(">>")}(),function(){if(Object.keys(Xe).length>0){for(var N in M("/Shading <<"),Xe)Xe.hasOwnProperty(N)&&Xe[N]instanceof Ua&&Xe[N].objectNumber>=0&&M("/"+N+" "+Xe[N].objectNumber+" 0 R");Tt.publish("putShadingPatternDict"),M(">>")}}(),function(N){if(Object.keys(Xe).length>0){for(var $ in M("/Pattern <<"),Xe)Xe.hasOwnProperty($)&&Xe[$]instanceof f.TilingPattern&&Xe[$].objectNumber>=0&&Xe[$].objectNumber<N&&M("/"+$+" "+Xe[$].objectNumber+" 0 R");Tt.publish("putTilingPatternDict"),M(">>")}}(m.objectOid),function(){if(Object.keys(et).length>0){var N;for(N in M("/ExtGState <<"),et)et.hasOwnProperty(N)&&et[N].objectNumber>=0&&M("/"+N+" "+et[N].objectNumber+" 0 R");Tt.publish("putGStateDict"),M(">>")}}(),function(){for(var N in M("/XObject <<"),Cr)Cr.hasOwnProperty(N)&&Cr[N].objectNumber>=0&&M("/"+N+" "+Cr[N].objectNumber+" 0 R");Tt.publish("putXobjectDict"),M(">>")}(),M(">>"),M("endobj")},cc=function(m){mt[m.fontName]=mt[m.fontName]||{},mt[m.fontName][m.fontStyle]=m.id},hc=function(m,N,$,Z,ae){var we={id:"F"+(Object.keys(gt).length+1).toString(10),postScriptName:m,fontName:N,fontStyle:$,encoding:Z,isStandardFont:ae||!1,metadata:{}};return Tt.publish("addFont",{font:we,instance:this}),gt[we.id]=we,cc(we),we.id},Zn=f.__private__.pdfEscape=f.pdfEscape=function(m,N){return function($,Z){var ae,we,_e,Be,We,ot,pt,Et,sr;if(_e=(Z=Z||{}).sourceEncoding||"Unicode",We=Z.outputEncoding,(Z.autoencode||We)&&gt[Re].metadata&&gt[Re].metadata[_e]&&gt[Re].metadata[_e].encoding&&(Be=gt[Re].metadata[_e].encoding,!We&&gt[Re].encoding&&(We=gt[Re].encoding),!We&&Be.codePages&&(We=Be.codePages[0]),typeof We=="string"&&(We=Be[We]),We)){for(pt=!1,ot=[],ae=0,we=$.length;ae<we;ae++)(Et=We[$.charCodeAt(ae)])?ot.push(String.fromCharCode(Et)):ot.push($[ae]),ot[ae].charCodeAt(0)>>8&&(pt=!0);$=ot.join("")}for(ae=$.length;pt===void 0&&ae!==0;)$.charCodeAt(ae-1)>>8&&(pt=!0),ae--;if(!pt)return $;for(ot=Z.noBOM?[]:[254,255],ae=0,we=$.length;ae<we;ae++){if((sr=(Et=$.charCodeAt(ae))>>8)>>8)throw new Error("Character at position "+ae+" of string '"+$+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ot.push(sr),ot.push(Et-(sr<<8))}return String.fromCharCode.apply(void 0,ot)}(m,N).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Sl=f.__private__.beginPage=function(m){Ae[++vt]=[],tt[vt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(m[0]),topRightY:Number(m[1])}},fc(vt),$e(Ae[W])},dc=function(m,N){var $,Z,ae;switch(r=N||r,typeof m=="string"&&($=w(m.toLowerCase()),Array.isArray($)&&(Z=$[0],ae=$[1])),Array.isArray(m)&&(Z=m[0]*ct,ae=m[1]*ct),isNaN(Z)&&(Z=i[0],ae=i[1]),(Z>14400||ae>14400)&&(Wt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Z=Math.min(14400,Z),ae=Math.min(14400,ae)),i=[Z,ae],r.substr(0,1)){case"l":ae>Z&&(i=[ae,Z]);break;case"p":Z>ae&&(i=[ae,Z])}Sl(i),ut(Nl),M(go),El!==0&&M(El+" J"),Cl!==0&&M(Cl+" j"),Tt.publish("addPage",{pageNumber:vt})},kl=function(m){m>0&&m<=vt&&(Ae.splice(m,1),tt.splice(m,1),vt--,W>vt&&(W=vt),this.setPage(W))},fc=function(m){m>0&&m<=vt&&(W=m)},pc=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Ae.length-1},gc=function(m,N,$){var Z,ae=void 0;return $=$||{},m=m!==void 0?m:gt[Re].fontName,N=N!==void 0?N:gt[Re].fontStyle,Z=m.toLowerCase(),mt[Z]!==void 0&&mt[Z][N]!==void 0?ae=mt[Z][N]:mt[m]!==void 0&&mt[m][N]!==void 0?ae=mt[m][N]:$.disableWarning===!1&&Wt.warn("Unable to look up font label for font '"+m+"', '"+N+"'. Refer to getFontList() for available fonts."),ae||$.noFallback||(ae=mt.times[N])==null&&(ae=mt.times.normal),ae},Ri=f.__private__.putInfo=function(){var m=Nt(),N=function(Z){return Z};for(var $ in h!==null&&(N=Lr.encryptor(m,0)),M("<<"),M("/Producer ("+Zn(N("jsPDF "+Ve.version))+")"),bt)bt.hasOwnProperty($)&&bt[$]&&M("/"+$.substr(0,1).toUpperCase()+$.substr(1)+" ("+Zn(N(bt[$]))+")");M("/CreationDate ("+Zn(N(ce))+")"),M(">>"),M("endobj")},ho=f.__private__.putCatalog=function(m){var N=(m=m||{}).rootDictionaryObjId||Pi;switch(Nt(),M("<<"),M("/Type /Catalog"),M("/Pages "+N+" 0 R"),Ye||(Ye="fullwidth"),Ye){case"fullwidth":M("/OpenAction [3 0 R /FitH null]");break;case"fullheight":M("/OpenAction [3 0 R /FitV null]");break;case"fullpage":M("/OpenAction [3 0 R /Fit]");break;case"original":M("/OpenAction [3 0 R /XYZ null null 1]");break;default:var $=""+Ye;$.substr($.length-1)==="%"&&(Ye=parseInt(Ye)/100),typeof Ye=="number"&&M("/OpenAction [3 0 R /XYZ null null "+T(Ye)+"]")}switch(ft||(ft="continuous"),ft){case"continuous":M("/PageLayout /OneColumn");break;case"single":M("/PageLayout /SinglePage");break;case"two":case"twoleft":M("/PageLayout /TwoColumnLeft");break;case"tworight":M("/PageLayout /TwoColumnRight")}Ke&&M("/PageMode /"+Ke),Tt.publish("putCatalog"),M(">>"),M("endobj")},ef=f.__private__.putTrailer=function(){M("trailer"),M("<<"),M("/Size "+(ne+1)),M("/Root "+ne+" 0 R"),M("/Info "+(ne-1)+" 0 R"),h!==null&&M("/Encrypt "+Lr.oid+" 0 R"),M("/ID [ <"+de+"> <"+de+"> ]"),M(">>")},Sr=f.__private__.putHeader=function(){M("%PDF-"+_),M("%")},mc=f.__private__.putXRef=function(){var m="0000000000";M("xref"),M("0 "+(ne+1)),M("0000000000 65535 f ");for(var N=1;N<=ne;N++)typeof re[N]=="function"?M((m+re[N]()).slice(-10)+" 00000 n "):re[N]!==void 0?M((m+re[N]).slice(-10)+" 00000 n "):M("0000000000 00000 n ")},Ii=f.__private__.buildDocument=function(){var m;ne=0,ge=0,me=[],re=[],xe=[],Pi=jt(),Xn=jt(),$e(me),Tt.publish("buildDocument"),Sr(),Ti(),function(){Tt.publish("putAdditionalObjects");for(var $=0;$<xe.length;$++){var Z=xe[$];Ut(Z.objId,!0),M(Z.content),M("endobj")}Tt.publish("postPutAdditionalObjects")}(),m=[],function(){for(var $ in gt)gt.hasOwnProperty($)&&(p===!1||p===!0&&v.hasOwnProperty($))&&ya(gt[$])}(),function(){var $;for($ in et)et.hasOwnProperty($)&&Zd(et[$])}(),function(){for(var $ in Cr)Cr.hasOwnProperty($)&&lo(Cr[$])}(),function($){var Z;for(Z in Xe)Xe.hasOwnProperty(Z)&&(Xe[Z]instanceof Ua?uo(Xe[Z]):Xe[Z]instanceof Yo&&co(Xe[Z],$))}(m),Tt.publish("putResources"),m.forEach(_l),_l({resourcesOid:Xn,objectOid:Number.MAX_SAFE_INTEGER}),Tt.publish("postPutResources"),h!==null&&(Lr.oid=Nt(),M("<<"),M("/Filter /Standard"),M("/V "+Lr.v),M("/R "+Lr.r),M("/U <"+Lr.toHexString(Lr.U)+">"),M("/O <"+Lr.toHexString(Lr.O)+">"),M("/P "+Lr.P),M(">>"),M("endobj")),Ri(),ho();var N=ge;return mc(),ef(),M("startxref"),M(""+N),M("%%EOF"),$e(Ae[W]),me.join(`
`)},fo=f.__private__.getBlob=function(m){return new Blob([Ze(m)],{type:"application/pdf"})},vc=f.output=f.__private__.output=($r=function(m,N){switch(typeof(N=N||{})=="string"?N={filename:N}:N.filename=N.filename||"generated.pdf",m){case void 0:return Ii();case"save":f.save(N.filename);break;case"arraybuffer":return Ze(Ii());case"blob":return fo(Ii());case"bloburi":case"bloburl":if(at.URL!==void 0&&typeof at.URL.createObjectURL=="function")return at.URL&&at.URL.createObjectURL(fo(Ii()))||void 0;Wt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var $="",Z=Ii();try{$=Pv(Z)}catch{$=Pv(unescape(encodeURIComponent(Z)))}return"data:application/pdf;filename="+N.filename+";base64,"+$;case"pdfobjectnewwindow":if(Object.prototype.toString.call(at)==="[object Window]"){var ae="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",we=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';N.pdfObjectUrl&&(ae=N.pdfObjectUrl,we="");var _e='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ae+'"'+we+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(N)+");<\/script></body></html>",Be=at.open();return Be!==null&&Be.document.write(_e),Be}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(at)==="[object Window]"){var We='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(N.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+N.filename+'" width="500px" height="400px" /></body></html>',ot=at.open();if(ot!==null){ot.document.write(We);var pt=this;ot.document.documentElement.querySelector("#pdfViewer").onload=function(){ot.document.title=N.filename,ot.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(pt.output("bloburl"))}}return ot}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(at)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Et='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",N)+'"></iframe></body></html>',sr=at.open();if(sr!==null&&(sr.document.write(Et),sr.document.title=N.filename),sr||typeof safari>"u")return sr;break;case"datauri":case"dataurl":return at.document.location.href=this.output("datauristring",N);default:return null}},$r.foo=function(){try{return $r.apply(this,arguments)}catch($){var m=$.stack||"";~m.indexOf(" at ")&&(m=m.split(" at ")[1]);var N="Error in function "+m.split(`
`)[0].split("<")[0]+": "+$.message;if(!at.console)throw new Error(N);at.console.error(N,$),at.alert&&alert(N)}},$r.foo.bar=$r,$r.foo),ei=function(m){return Array.isArray(En)===!0&&En.indexOf(m)>-1};switch(n){case"pt":ct=1;break;case"mm":ct=72/25.4;break;case"cm":ct=72/2.54;break;case"in":ct=72;break;case"px":ct=ei("px_scaling")==1?.75:96/72;break;case"pc":case"em":ct=12;break;case"ex":ct=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ct=n}var Lr=null;pe(),O();var Ji=f.__private__.getPageInfo=f.getPageInfo=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:tt[m].objId,pageNumber:m,pageContext:tt[m]}},yc=f.__private__.getPageInfoByObjId=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var N in tt)if(tt[N].objId===m)break;return Ji(N)},tf=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:tt[W].objId,pageNumber:W,pageContext:tt[W]}};f.addPage=function(){return dc.apply(this,arguments),this},f.setPage=function(){return fc.apply(this,arguments),$e.call(this,Ae[W]),this},f.insertPage=function(m){return this.addPage(),this.movePage(W,m),this},f.movePage=function(m,N){var $,Z;if(m>N){$=Ae[m],Z=tt[m];for(var ae=m;ae>N;ae--)Ae[ae]=Ae[ae-1],tt[ae]=tt[ae-1];Ae[N]=$,tt[N]=Z,this.setPage(N)}else if(m<N){$=Ae[m],Z=tt[m];for(var we=m;we<N;we++)Ae[we]=Ae[we+1],tt[we]=tt[we+1];Ae[N]=$,tt[N]=Z,this.setPage(N)}return this},f.deletePage=function(){return kl.apply(this,arguments),this},f.__private__.text=f.text=function(m,N,$,Z,ae){var we,_e,Be,We,ot,pt,Et,sr,kr,Kt=(Z=Z||{}).scope||this;if(typeof m=="number"&&typeof N=="number"&&(typeof $=="string"||Array.isArray($))){var Pr=$;$=N,N=m,m=Pr}if(arguments[3]instanceof K==0?(Be=arguments[4],We=arguments[5],Bt(Et=arguments[3])==="object"&&Et!==null||(typeof Be=="string"&&(We=Be,Be=null),typeof Et=="string"&&(We=Et,Et=null),typeof Et=="number"&&(Be=Et,Et=null),Z={flags:Et,angle:Be,align:We})):(D("The transform parameter of text() with a Matrix value"),kr=ae),isNaN(N)||isNaN($)||m==null)throw new Error("Invalid arguments passed to jsPDF.text");if(m.length===0)return Kt;var Ar,Wr="",rs=typeof Z.lineHeightFactor=="number"?Z.lineHeightFactor:ba,fi=Kt.internal.scaleFactor;function ns(Rt){return Rt=Rt.split("	").join(Array(Z.TabLen||9).join(" ")),Zn(Rt,Et)}function Rl(Rt){for(var qt,gr=Rt.concat(),Tr=[],as=gr.length;as--;)typeof(qt=gr.shift())=="string"?Tr.push(qt):Array.isArray(Rt)&&(qt.length===1||qt[1]===void 0&&qt[2]===void 0)?Tr.push(qt[0]):Tr.push([qt[0],qt[1],qt[2]]);return Tr}function vo(Rt,qt){var gr;if(typeof Rt=="string")gr=qt(Rt)[0];else if(Array.isArray(Rt)){for(var Tr,as,$l=Rt.concat(),bo=[],Cc=$l.length;Cc--;)typeof(Tr=$l.shift())=="string"?bo.push(qt(Tr)[0]):Array.isArray(Tr)&&typeof Tr[0]=="string"&&(as=qt(Tr[0],Tr[1],Tr[2]),bo.push([as[0],as[1],as[2]]));gr=bo}return gr}var Es=!1,ka=!0;if(typeof m=="string")Es=!0;else if(Array.isArray(m)){var Aa=m.concat();_e=[];for(var Cs,Hr=Aa.length;Hr--;)(typeof(Cs=Aa.shift())!="string"||Array.isArray(Cs)&&typeof Cs[0]!="string")&&(ka=!1);Es=ka}if(Es===!1)throw new Error('Type of text must be string or Array. "'+m+'" is not recognized.');typeof m=="string"&&(m=m.match(/[\r?\n]/)?m.split(/\r\n|\r|\n/g):[m]);var Na=ke/Kt.internal.scaleFactor,ja=Na*(rs-1);switch(Z.baseline){case"bottom":$-=ja;break;case"top":$+=Na-ja;break;case"hanging":$+=Na-2*ja;break;case"middle":$+=Na/2-ja}if((pt=Z.maxWidth||0)>0&&(typeof m=="string"?m=Kt.splitTextToSize(m,pt):Object.prototype.toString.call(m)==="[object Array]"&&(m=m.reduce(function(Rt,qt){return Rt.concat(Kt.splitTextToSize(qt,pt))},[]))),we={text:m,x:N,y:$,options:Z,mutex:{pdfEscape:Zn,activeFontKey:Re,fonts:gt,activeFontSize:ke}},Tt.publish("preProcessText",we),m=we.text,Be=(Z=we.options).angle,kr instanceof K==0&&Be&&typeof Be=="number"){Be*=Math.PI/180,Z.rotationDirection===0&&(Be=-Be),E===k&&(Be=-Be);var Il=Math.cos(Be),Ol=Math.sin(Be);kr=new K(Il,Ol,-Ol,Il,0,0)}else Be&&Be instanceof K&&(kr=Be);E!==k||kr||(kr=Je),(ot=Z.charSpace||Qi)!==void 0&&(Wr+=z(Y(ot))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(sr=Z.horizontalScale)!==void 0&&(Wr+=z(100*sr)+` Tz
`),Z.lang;var hn=-1,is=Z.renderingMode!==void 0?Z.renderingMode:Z.stroke,yo=Kt.internal.getCurrentPageInfo().pageContext;switch(is){case 0:case!1:case"fill":hn=0;break;case 1:case!0:case"stroke":hn=1;break;case 2:case"fillThenStroke":hn=2;break;case 3:case"invisible":hn=3;break;case 4:case"fillAndAddForClipping":hn=4;break;case 5:case"strokeAndAddPathForClipping":hn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":hn=6;break;case 7:case"addToPathForClipping":hn=7}var jc=yo.usedRenderingMode!==void 0?yo.usedRenderingMode:-1;hn!==-1?Wr+=hn+` Tr
`:jc!==-1&&(Wr+=`0 Tr
`),hn!==-1&&(yo.usedRenderingMode=hn),We=Z.align||"left";var ti,Ea=ke*rs,Fl=Kt.internal.pageSize.getWidth(),Dl=gt[Re];ot=Z.charSpace||Qi,pt=Z.maxWidth||0,Et=Object.assign({autoencode:!0,noBOM:!0},Z.flags);var Ls=[],Ca=function(Rt){return Kt.getStringUnitWidth(Rt,{font:Dl,charSpace:ot,fontSize:ke,doKerning:!1})*ke/fi};if(Object.prototype.toString.call(m)==="[object Array]"){var Pn;_e=Rl(m),We!=="left"&&(ti=_e.map(Ca));var Tn,Ps=0;if(We==="right"){N-=ti[0],m=[],Hr=_e.length;for(var ss=0;ss<Hr;ss++)ss===0?(Tn=Yi(N),Pn=Xi($)):(Tn=Y(Ps-ti[ss]),Pn=-Ea),m.push([_e[ss],Tn,Pn]),Ps=ti[ss]}else if(We==="center"){N-=ti[0]/2,m=[],Hr=_e.length;for(var Ts=0;Ts<Hr;Ts++)Ts===0?(Tn=Yi(N),Pn=Xi($)):(Tn=Y((Ps-ti[Ts])/2),Pn=-Ea),m.push([_e[Ts],Tn,Pn]),Ps=ti[Ts]}else if(We==="left"){m=[],Hr=_e.length;for(var Bl=0;Bl<Hr;Bl++)m.push(_e[Bl])}else if(We==="justify"&&Dl.encoding==="Identity-H"){m=[],Hr=_e.length,pt=pt!==0?pt:Fl;for(var wo=0,pr=0;pr<Hr;pr++)if(Pn=pr===0?Xi($):-Ea,Tn=pr===0?Yi(N):wo,pr<Hr-1){var Ec=Y((pt-ti[pr])/(_e[pr].split(" ").length-1)),Fi=_e[pr].split(" ");m.push([Fi[0]+" ",Tn,Pn]),wo=0;for(var Di=1;Di<Fi.length;Di++){var Ml=(Ca(Fi[Di-1]+" "+Fi[Di])-Ca(Fi[Di]))*fi+Ec;Di==Fi.length-1?m.push([Fi[Di],Ml,0]):m.push([Fi[Di]+" ",Ml,0]),wo-=Ml}}else m.push([_e[pr],Tn,Pn]);m.push(["",wo,0])}else{if(We!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(m=[],Hr=_e.length,pt=pt!==0?pt:Fl,pr=0;pr<Hr;pr++){Pn=pr===0?Xi($):-Ea,Tn=pr===0?Yi(N):0;var zl=_e[pr].split(" ").length-1,Ul=zl>0?(pt-ti[pr])/zl:0;pr<Hr-1?Ls.push(z(Y(Ul))):Ls.push(0),m.push([_e[pr],Tn,Pn])}}}(typeof Z.R2L=="boolean"?Z.R2L:Qe)===!0&&(m=vo(m,function(Rt,qt,gr){return[Rt.split("").reverse().join(""),qt,gr]})),we={text:m,x:N,y:$,options:Z,mutex:{pdfEscape:Zn,activeFontKey:Re,fonts:gt,activeFontSize:ke}},Tt.publish("postProcessText",we),m=we.text,Ar=we.mutex.isHex||!1;var ql=gt[Re].encoding;ql!=="WinAnsiEncoding"&&ql!=="StandardEncoding"||(m=vo(m,function(Rt,qt,gr){return[ns(Rt),qt,gr]})),_e=Rl(m),m=[];for(var Rs,Is,Os,La=Array.isArray(_e[0])?1:0,Fs="",Pa=function(Rt,qt,gr){var Tr="";return gr instanceof K?(gr=typeof Z.angle=="number"?Ce(gr,new K(1,0,0,1,Rt,qt)):Ce(new K(1,0,0,1,Rt,qt),gr),E===k&&(gr=Ce(new K(1,0,0,-1,0,0),gr)),Tr=gr.join(" ")+` Tm
`):Tr=z(Rt)+" "+z(qt)+` Td
`,Tr},ri=0;ri<_e.length;ri++){switch(Fs="",La){case 1:Os=(Ar?"<":"(")+_e[ri][0]+(Ar?">":")"),Rs=parseFloat(_e[ri][1]),Is=parseFloat(_e[ri][2]);break;case 0:Os=(Ar?"<":"(")+_e[ri]+(Ar?">":")"),Rs=Yi(N),Is=Xi($)}Ls!==void 0&&Ls[ri]!==void 0&&(Fs=Ls[ri]+` Tw
`),ri===0?m.push(Fs+Pa(Rs,Is,kr)+Os):La===0?m.push(Fs+Os):La===1&&m.push(Fs+Pa(Rs,Is,kr)+Os)}m=La===0?m.join(` Tj
T* `):m.join(` Tj
`),m+=` Tj
`;var Bi=`BT
/`;return Bi+=Re+" "+ke+` Tf
`,Bi+=z(ke*rs)+` TL
`,Bi+=xa+`
`,Bi+=Wr,Bi+=m,M(Bi+="ET"),v[Re]=!0,Kt};var rf=f.__private__.clip=f.clip=function(m){return M(m==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return rf("evenodd")},f.__private__.discardPath=f.discardPath=function(){return M("n"),this};var Oi=f.__private__.isValidStyle=function(m){var N=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(m)!==-1&&(N=!0),N};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(m){return Oi(m)&&(u=m),this};var wc=f.__private__.getStyle=f.getStyle=function(m){var N=u;switch(m){case"D":case"S":N="S";break;case"F":N="f";break;case"FD":case"DF":N="B";break;case"f":case"f*":case"B":case"B*":N=m}return N},bc=f.close=function(){return M("h"),this};f.stroke=function(){return M("S"),this},f.fill=function(m){return po("f",m),this},f.fillEvenOdd=function(m){return po("f*",m),this},f.fillStroke=function(m){return po("B",m),this},f.fillStrokeEvenOdd=function(m){return po("B*",m),this};var po=function(m,N){Bt(N)==="object"?sf(N,m):M(m)},wa=function(m){m===null||E===k&&m===void 0||(m=wc(m),M(m))};function nf(m,N,$,Z,ae){var we=new Yo(N||this.boundingBox,$||this.xStep,Z||this.yStep,this.gState,ae||this.matrix);we.stream=this.stream;var _e=m+"$$"+this.cloneIndex+++"$$";return Gt(_e,we),we}var sf=function(m,N){var $=It[m.key],Z=Xe[$];if(Z instanceof Ua)M("q"),M(af(N)),Z.gState&&f.setGState(Z.gState),M(m.matrix.toString()+" cm"),M("/"+$+" sh"),M("Q");else if(Z instanceof Yo){var ae=new K(1,0,0,-1,0,Sa());m.matrix&&(ae=ae.multiply(m.matrix||Je),$=nf.call(Z,m.key,m.boundingBox,m.xStep,m.yStep,ae).id),M("q"),M("/Pattern cs"),M("/"+$+" scn"),Z.gState&&f.setGState(Z.gState),M(N),M("Q")}},af=function(m){switch(m){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Al=f.moveTo=function(m,N){return M(z(Y(m))+" "+z(G(N))+" m"),this},xc=f.lineTo=function(m,N){return M(z(Y(m))+" "+z(G(N))+" l"),this},di=f.curveTo=function(m,N,$,Z,ae,we){return M([z(Y(m)),z(G(N)),z(Y($)),z(G(Z)),z(Y(ae)),z(G(we)),"c"].join(" ")),this};f.__private__.line=f.line=function(m,N,$,Z,ae){if(isNaN(m)||isNaN(N)||isNaN($)||isNaN(Z)||!Oi(ae))throw new Error("Invalid arguments passed to jsPDF.line");return E===S?this.lines([[$-m,Z-N]],m,N,[1,1],ae||"S"):this.lines([[$-m,Z-N]],m,N,[1,1]).stroke()},f.__private__.lines=f.lines=function(m,N,$,Z,ae,we){var _e,Be,We,ot,pt,Et,sr,kr,Kt,Pr,Ar,Wr;if(typeof m=="number"&&(Wr=$,$=N,N=m,m=Wr),Z=Z||[1,1],we=we||!1,isNaN(N)||isNaN($)||!Array.isArray(m)||!Array.isArray(Z)||!Oi(ae)||typeof we!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Al(N,$),_e=Z[0],Be=Z[1],ot=m.length,Pr=N,Ar=$,We=0;We<ot;We++)(pt=m[We]).length===2?(Pr=pt[0]*_e+Pr,Ar=pt[1]*Be+Ar,xc(Pr,Ar)):(Et=pt[0]*_e+Pr,sr=pt[1]*Be+Ar,kr=pt[2]*_e+Pr,Kt=pt[3]*Be+Ar,Pr=pt[4]*_e+Pr,Ar=pt[5]*Be+Ar,di(Et,sr,kr,Kt,Pr,Ar));return we&&bc(),wa(ae),this},f.path=function(m){for(var N=0;N<m.length;N++){var $=m[N],Z=$.c;switch($.op){case"m":Al(Z[0],Z[1]);break;case"l":xc(Z[0],Z[1]);break;case"c":di.apply(this,Z);break;case"h":bc()}}return this},f.__private__.rect=f.rect=function(m,N,$,Z,ae){if(isNaN(m)||isNaN(N)||isNaN($)||isNaN(Z)||!Oi(ae))throw new Error("Invalid arguments passed to jsPDF.rect");return E===S&&(Z=-Z),M([z(Y(m)),z(G(N)),z(Y($)),z(Y(Z)),"re"].join(" ")),wa(ae),this},f.__private__.triangle=f.triangle=function(m,N,$,Z,ae,we,_e){if(isNaN(m)||isNaN(N)||isNaN($)||isNaN(Z)||isNaN(ae)||isNaN(we)||!Oi(_e))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[$-m,Z-N],[ae-$,we-Z],[m-ae,N-we]],m,N,[1,1],_e,!0),this},f.__private__.roundedRect=f.roundedRect=function(m,N,$,Z,ae,we,_e){if(isNaN(m)||isNaN(N)||isNaN($)||isNaN(Z)||isNaN(ae)||isNaN(we)||!Oi(_e))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Be=4/3*(Math.SQRT2-1);return ae=Math.min(ae,.5*$),we=Math.min(we,.5*Z),this.lines([[$-2*ae,0],[ae*Be,0,ae,we-we*Be,ae,we],[0,Z-2*we],[0,we*Be,-ae*Be,we,-ae,we],[2*ae-$,0],[-ae*Be,0,-ae,-we*Be,-ae,-we],[0,2*we-Z],[0,-we*Be,ae*Be,-we,ae,-we]],m+ae,N,[1,1],_e,!0),this},f.__private__.ellipse=f.ellipse=function(m,N,$,Z,ae){if(isNaN(m)||isNaN(N)||isNaN($)||isNaN(Z)||!Oi(ae))throw new Error("Invalid arguments passed to jsPDF.ellipse");var we=4/3*(Math.SQRT2-1)*$,_e=4/3*(Math.SQRT2-1)*Z;return Al(m+$,N),di(m+$,N-_e,m+we,N-Z,m,N-Z),di(m-we,N-Z,m-$,N-_e,m-$,N),di(m-$,N+_e,m-we,N+Z,m,N+Z),di(m+we,N+Z,m+$,N+_e,m+$,N),wa(ae),this},f.__private__.circle=f.circle=function(m,N,$,Z){if(isNaN(m)||isNaN(N)||isNaN($)||!Oi(Z))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(m,N,$,$,Z)},f.setFont=function(m,N,$){return $&&(N=V(N,$)),Re=gc(m,N,{disableWarning:!1}),this};var of=f.__private__.getFont=f.getFont=function(){return gt[gc.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var m,N,$={};for(m in mt)if(mt.hasOwnProperty(m))for(N in $[m]=[],mt[m])mt[m].hasOwnProperty(N)&&$[m].push(N);return $},f.addFont=function(m,N,$,Z,ae){var we=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&we.indexOf(arguments[3])!==-1?ae=arguments[3]:arguments[3]&&we.indexOf(arguments[3])==-1&&($=V($,Z)),hc.call(this,m,N,$,ae=ae||"Identity-H")};var ba,Nl=t.lineWidth||.200025,lf=f.__private__.getLineWidth=f.getLineWidth=function(){return Nl},ut=f.__private__.setLineWidth=f.setLineWidth=function(m){return Nl=m,M(z(Y(m))+" w"),this};f.__private__.setLineDash=Ve.API.setLineDash=Ve.API.setLineDashPattern=function(m,N){if(m=m||[],N=N||0,isNaN(N)||!Array.isArray(m))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return m=m.map(function($){return z(Y($))}).join(" "),N=z(Y(N)),M("["+m+"] "+N+" d"),this};var uf=f.__private__.getLineHeight=f.getLineHeight=function(){return ke*ba};f.__private__.getLineHeight=f.getLineHeight=function(){return ke*ba};var cf=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(m){return typeof(m=m||1.15)=="number"&&(ba=m),this},hf=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return ba};cf(t.lineHeight);var Yi=f.__private__.getHorizontalCoordinate=function(m){return Y(m)},Xi=f.__private__.getVerticalCoordinate=function(m){return E===k?m:tt[W].mediaBox.topRightY-tt[W].mediaBox.bottomLeftY-Y(m)},df=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(m){return z(Yi(m))},ff=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(m){return z(Xi(m))},go=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Ln(go)},f.__private__.setStrokeColor=f.setDrawColor=function(m,N,$,Z){return go=wn({ch1:m,ch2:N,ch3:$,ch4:Z,pdfColorType:"draw",precision:2}),M(go),this};var jl=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Ln(jl)},f.__private__.setFillColor=f.setFillColor=function(m,N,$,Z){return jl=wn({ch1:m,ch2:N,ch3:$,ch4:Z,pdfColorType:"fill",precision:2}),M(jl),this};var xa=t.textColor||"0 g",pf=f.__private__.getTextColor=f.getTextColor=function(){return Ln(xa)};f.__private__.setTextColor=f.setTextColor=function(m,N,$,Z){return xa=wn({ch1:m,ch2:N,ch3:$,ch4:Z,pdfColorType:"text",precision:3}),this};var Qi=t.charSpace,gf=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Qi||0)};f.__private__.setCharSpace=f.setCharSpace=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Qi=m,this};var El=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(m){var N=f.CapJoinStyles[m];if(N===void 0)throw new Error("Line cap style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return El=N,M(N+" J"),this};var Cl=0;f.__private__.setLineJoin=f.setLineJoin=function(m){var N=f.CapJoinStyles[m];if(N===void 0)throw new Error("Line join style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Cl=N,M(N+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(m){if(m=m||0,isNaN(m))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return M(z(Y(m))+" M"),this},f.GState=_d,f.setGState=function(m){(m=typeof m=="string"?et[it[m]]:_c(null,m)).equals(Vt)||(M("/"+m.id+" gs"),Vt=m)};var _c=function(m,N){if(!m||!it[m]){var $=!1;for(var Z in et)if(et.hasOwnProperty(Z)&&et[Z].equals(N)){$=!0;break}if($)N=et[Z];else{var ae="GS"+(Object.keys(et).length+1).toString(10);et[ae]=N,N.id=ae}return m&&(it[m]=N.id),Tt.publish("addGState",N),N}};f.addGState=function(m,N){return _c(m,N),this},f.saveGraphicsState=function(){return M("q"),Ht.push({key:Re,size:ke,color:xa}),this},f.restoreGraphicsState=function(){M("Q");var m=Ht.pop();return Re=m.key,ke=m.size,xa=m.color,Vt=null,this},f.setCurrentTransformationMatrix=function(m){return M(m.toString()+" cm"),this},f.comment=function(m){return M("#"+m),this};var Zi=function(m,N){var $=m||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return $},set:function(we){isNaN(we)||($=parseFloat(we))}});var Z=N||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Z},set:function(we){isNaN(we)||(Z=parseFloat(we))}});var ae="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ae},set:function(we){ae=we.toString()}}),this},Ll=function(m,N,$,Z){Zi.call(this,m,N),this.type="rect";var ae=$||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ae},set:function(_e){isNaN(_e)||(ae=parseFloat(_e))}});var we=Z||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return we},set:function(_e){isNaN(_e)||(we=parseFloat(_e))}}),this},mo=function(){this.page=vt,this.currentPage=W,this.pages=Ae.slice(0),this.pagesContext=tt.slice(0),this.x=Me,this.y=ir,this.matrix=St,this.width=Tl(W),this.height=kc(W),this.outputDestination=Pe,this.id="",this.objectNumber=-1};mo.prototype.restore=function(){vt=this.page,W=this.currentPage,tt=this.pagesContext,Ae=this.pages,Me=this.x,ir=this.y,St=this.matrix,Sc(W,this.width),es(W,this.height),Pe=this.outputDestination};var Pl=function(m,N,$,Z,ae){Cn.push(new mo),vt=W=0,Ae=[],Me=m,ir=N,St=ae,Sl([$,Z])};for(var _a in f.beginFormObject=function(m,N,$,Z,ae){return Pl(m,N,$,Z,ae),this},f.endFormObject=function(m){return function(N){if(Jn[N])Cn.pop().restore();else{var $=new mo,Z="Xo"+(Object.keys(Cr).length+1).toString(10);$.id=Z,Jn[N]=Z,Cr[Z]=$,Tt.publish("addFormObject",$),Cn.pop().restore()}}(m),this},f.doFormObject=function(m,N){var $=Cr[Jn[m]];return M("q"),M(N.toString()+" cm"),M("/"+$.id+" Do"),M("Q"),this},f.getFormObject=function(m){var N=Cr[Jn[m]];return{x:N.x,y:N.y,width:N.width,height:N.height,matrix:N.matrix}},f.save=function(m,N){return m=m||"generated.pdf",(N=N||{}).returnPromise=N.returnPromise||!1,N.returnPromise===!1?(Ba(fo(Ii()),m),typeof Ba.unload=="function"&&at.setTimeout&&setTimeout(Ba.unload,911),this):new Promise(function($,Z){try{var ae=Ba(fo(Ii()),m);typeof Ba.unload=="function"&&at.setTimeout&&setTimeout(Ba.unload,911),$(ae)}catch(we){Z(we.message)}})},Ve.API)Ve.API.hasOwnProperty(_a)&&(_a==="events"&&Ve.API.events.length?function(m,N){var $,Z,ae;for(ae=N.length-1;ae!==-1;ae--)$=N[ae][0],Z=N[ae][1],m.subscribe.apply(m,[$].concat(typeof Z=="function"?[Z]:Z))}(Tt,Ve.API.events):f[_a]=Ve.API[_a]);function Tl(m){return tt[m].mediaBox.topRightX-tt[m].mediaBox.bottomLeftX}function Sc(m,N){tt[m].mediaBox.topRightX=N+tt[m].mediaBox.bottomLeftX}function kc(m){return tt[m].mediaBox.topRightY-tt[m].mediaBox.bottomLeftY}function es(m,N){tt[m].mediaBox.topRightY=N+tt[m].mediaBox.bottomLeftY}var ts=f.getPageWidth=function(m){return Tl(m=m||W)/ct},Ac=f.setPageWidth=function(m,N){Sc(m,N*ct)},Sa=f.getPageHeight=function(m){return kc(m=m||W)/ct},Nc=f.setPageHeight=function(m,N){es(m,N*ct)};return f.internal={pdfEscape:Zn,getStyle:wc,getFont:of,getFontSize:Ie,getCharSpace:gf,getTextColor:pf,getLineHeight:uf,getLineHeightFactor:hf,getLineWidth:lf,write:Ee,getHorizontalCoordinate:Yi,getVerticalCoordinate:Xi,getCoordinateString:df,getVerticalCoordinateString:ff,collections:{},newObject:Nt,newAdditionalObject:Yn,newObjectDeferred:jt,newObjectDeferredBegin:Ut,getFilters:en,putStream:Qn,events:Tt,scaleFactor:ct,pageSize:{getWidth:function(){return ts(W)},setWidth:function(m){Ac(W,m)},getHeight:function(){return Sa(W)},setHeight:function(m){Nc(W,m)}},encryptionOptions:h,encryption:Lr,getEncryptor:function(m){return h!==null?Lr.encryptor(m,0):function(N){return N}},output:vc,getNumberOfPages:pc,get pages(){return Ae},out:M,f2:T,f3:B,getPageInfo:Ji,getPageInfoByObjId:yc,getCurrentPageInfo:tf,getPDFVersion:x,Point:Zi,Rectangle:Ll,Matrix:K,hasHotfix:ei},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return ts(W)},set:function(m){Ac(W,m)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Sa(W)},set:function(m){Nc(W,m)},enumerable:!0,configurable:!0}),(function(m){for(var N=0,$=qe.length;N<$;N++){var Z=hc.call(this,m[N][0],m[N][1],m[N][2],qe[N][3],!0);p===!1&&(v[Z]=!0);var ae=m[N][0].split("-");cc({id:Z,fontName:ae[0],fontStyle:ae[1]||""})}Tt.publish("addFonts",{fonts:gt,dictionary:mt})}).call(f,qe),Re="F1",dc(i,r),Tt.publish("initialized"),f}Oo.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Oo.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Oo.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Oo.prototype.processOwnerPassword=function(t,e){return e1(Z0(e).substr(0,5),t)},Oo.prototype.encryptor=function(t,e){var r=Z0(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return e1(r,n)}},_d.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Bt(t)!==Bt(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Ve.API={events:[]},Ve.version="4.1.0";var hr=Ve.API,ug=1,oo=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Lo=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Sd=function(t){return t.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var r=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(r.length===1?"0"+r:r)})},ht=function(t){return t.toFixed(2)},Hs=function(t){return t.toFixed(5)};hr.__acroform__={};var jn=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Ov=function(t){return t*ug},qi=function(t){var e=new Rb,r=De.internal.getHeight(t)||0,n=De.internal.getWidth(t)||0;return e.BBox=[0,0,Number(ht(n)),Number(ht(r))],e},LN=hr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},PN=hr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},TN=hr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},br=hr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return TN(t,e-1)},xr=hr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return LN(t,e-1)},_r=hr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return PN(t,e-1)},RN=hr.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(s+o)||0,l.upperRight_X=r(i+a)||0,l.upperRight_Y=n(s)||0,[Number(ht(l.lowerLeft_X)),Number(ht(l.lowerLeft_Y)),Number(ht(l.upperRight_X)),Number(ht(l.upperRight_Y))]},IN=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=t1(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+ht(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=qi(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},t1=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(T){return T.split(`
`)}):i.map(function(T){return[T]});var s=r,a=De.internal.getHeight(t)||0;a=a<0?-a:a;var o=De.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(T,B,Y){if(T+1<i.length){var G=B+" "+i[T+1][0];return _h(G,t,Y).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var u,h,p=_h("3",t,s).height,v=t.multiline?a-s:(a-p)/2,f=v+=2,_=0,x=0,A=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+_h(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var w="",S=0,k=0;k<i.length;k++)if(i.hasOwnProperty(k)){var E=!1;if(i[k].length!==1&&A!==i[k].length-1){if((p+2)*(S+2)+2>a)continue e;w+=i[k][A],E=!0,x=k,k--}else{w=(w+=i[k][A]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var F=parseInt(k),J=l(F,w,s),V=k>=i.length-1;if(J&&!V){w+=" ",A=0;continue}if(J||V){if(V)x=F;else if(t.multiline&&(p+2)*(S+2)+2>a)continue e}else{if(!t.multiline||(p+2)*(S+2)+2>a)continue e;x=F}}for(var z="",D=_;D<=x;D++){var ee=i[D];if(t.multiline){if(D===x){z+=ee[A]+" ",A=(A+1)%ee.length;continue}if(D===_){z+=ee[ee.length-1]+" ";continue}}z+=ee[0]+" "}switch(z=z.substr(z.length-1)==" "?z.substr(0,z.length-1):z,h=_h(z,t,s).width,t.textAlign){case"right":u=o-h-2;break;case"center":u=(o-h)/2;break;default:u=2}e+=ht(u)+" "+ht(f)+` Td
`,e+="("+oo(z)+`) Tj
`,e+=-ht(u)+` 0 Td
`,f=-(s+2),h=0,_=E?x:x+1,S++,w=""}break}return n.text=e,n.fontSize=s,n},_h=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},ON={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},FN=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},DN=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ci.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(ON)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ug=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Ib,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&FN(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],l=[],u=o.Rect;if(o.Rect&&(o.Rect=RN(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=De.createDefaultAppearanceStream(o),Bt(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var h=IN(o);l.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(o.appearanceStreamContent){var p="";for(var v in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(v)){var f=o.appearanceStreamContent[v];if(p+="/"+v+" ",p+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var a in f)if(f.hasOwnProperty(a)){var _=f[a];typeof _=="function"&&(_=_.call(i,o)),p+="/"+a+" "+_+" ",i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_)}}else typeof(_=f)=="function"&&(_=_.call(i,o)),p+="/"+a+" "+_,i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_);p+=">>"}l.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&function(x,A){for(var w in x)if(x.hasOwnProperty(w)){var S=w,k=x[w];A.internal.newObjectDeferredBegin(k.objId,!0),Bt(k)==="object"&&typeof k.putStream=="function"&&k.putStream(),delete x[S]}}(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},Tb=hr.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),Bt(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)==="/"?i+="/"+Sd(t[s].substr(1)):(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+oo(n(t[s].toString()))+")")}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Lp=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+oo(n(t))+")"},Hi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Hi.prototype.toString=function(){return this.objId+" 0 R"},Hi.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Hi.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:Tb(i,this.objId,this.scope)}):i instanceof Hi?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var Rb=function(){Hi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};jn(Rb,Hi);var Ib=function(){Hi.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+oo(r(t))+")"}},set:function(r){t=r}})};jn(Ib,Hi);var Ci=function t(){Hi.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!br(e,3)},set:function(w){w?this.F=xr(e,3):this.F=_r(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');r=w}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(w){n=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(w){n[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(w){n[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(w){n[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(w){n[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof kd)return;s="FieldObject"+t.FieldNum++}var w=function(S){return S};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+oo(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/ug:u},set:function(w){u=w}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(w){h=w}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof kd||this instanceof Ka))return Lp(p,this.objId,this.scope)},set:function(w){w=w.toString(),p=w}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Ur==0?Lp(v,this.objId,this.scope):v},set:function(w){w=w.toString(),v=this instanceof Ur==0?w.substr(0,1)==="("?Lo(w.substr(1,w.length-2)):Lo(w):w}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ur==1?Lo(v.substr(1,v.length-1)):v},set:function(w){w=w.toString(),v=this instanceof Ur==1?"/"+Sd(w):w}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Ur==0?Lp(f,this.objId,this.scope):f},set:function(w){w=w.toString(),f=this instanceof Ur==0?w.substr(0,1)==="("?Lo(w.substr(1,w.length-2)):Lo(w):w}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ur==1?Lo(f.substr(1,f.length-1)):f},set:function(w){w=w.toString(),f=this instanceof Ur==1?"/"+Sd(w):w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var _,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(w){w=!!w,x=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(_)return _},set:function(w){_=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,1)},set:function(w){w?this.Ff=xr(this.Ff,1):this.Ff=_r(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,2)},set:function(w){w?this.Ff=xr(this.Ff,2):this.Ff=_r(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,3)},set:function(w){w?this.Ff=xr(this.Ff,3):this.Ff=_r(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(A!==null)return A},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');A=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(A){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:A=2;break;case"center":case 1:A=1;break;default:A=0}}})};jn(Ci,Hi);var il=function(){Ci.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Tb(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,u=[];l=a.exec(s);)u.push(l[o]);return u}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,18)},set:function(r){r?this.Ff=xr(this.Ff,18):this.Ff=_r(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=xr(this.Ff,19):this.Ff=_r(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,20)},set:function(r){r?(this.Ff=xr(this.Ff,20),e.sort()):this.Ff=_r(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,22)},set:function(r){r?this.Ff=xr(this.Ff,22):this.Ff=_r(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,23)},set:function(r){r?this.Ff=xr(this.Ff,23):this.Ff=_r(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,27)},set:function(r){r?this.Ff=xr(this.Ff,27):this.Ff=_r(this.Ff,27)}}),this.hasAppearanceStream=!1};jn(il,Ci);var sl=function(){il.call(this),this.fontName="helvetica",this.combo=!1};jn(sl,il);var al=function(){sl.call(this),this.combo=!0};jn(al,sl);var Mh=function(){al.call(this),this.edit=!0};jn(Mh,al);var Ur=function(){Ci.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,15)},set:function(r){r?this.Ff=xr(this.Ff,15):this.Ff=_r(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,16)},set:function(r){r?this.Ff=xr(this.Ff,16):this.Ff=_r(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,17)},set:function(r){r?this.Ff=xr(this.Ff,17):this.Ff=_r(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,26)},set:function(r){r?this.Ff=xr(this.Ff,26):this.Ff=_r(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+oo(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Bt(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+Sd(r)}})};jn(Ur,Ci);var zh=function(){Ur.call(this),this.pushButton=!0};jn(zh,Ur);var ol=function(){Ur.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};jn(ol,Ur);var kd=function(){var t,e;Ci.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+oo(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){Bt(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=De.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};jn(kd,Ci),ol.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},ol.prototype.createOption=function(t){var e=new kd;return e.Parent=this,e.optionName=t,this.Kids.push(e),BN.call(this.scope,e),e};var Uh=function(){Ur.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=De.CheckBox.createAppearanceStream()};jn(Uh,Ur);var Ka=function(){Ci.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,13)},set:function(e){e?this.Ff=xr(this.Ff,13):this.Ff=_r(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,21)},set:function(e){e?this.Ff=xr(this.Ff,21):this.Ff=_r(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,23)},set:function(e){e?this.Ff=xr(this.Ff,23):this.Ff=_r(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,24)},set:function(e){e?this.Ff=xr(this.Ff,24):this.Ff=_r(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,25)},set:function(e){e?this.Ff=xr(this.Ff,25):this.Ff=_r(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,26)},set:function(e){e?this.Ff=xr(this.Ff,26):this.Ff=_r(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};jn(Ka,Ci);var qh=function(){Ka.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!br(this.Ff,14)},set:function(t){t?this.Ff=xr(this.Ff,14):this.Ff=_r(this.Ff,14)}}),this.password=!0};jn(qh,Ka);var De={CheckBox:{createAppearanceStream:function(){return{N:{On:De.CheckBox.YesNormal},D:{On:De.CheckBox.YesPushDown,Off:De.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=qi(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=t1(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+ht(De.internal.getWidth(t))+" "+ht(De.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+ht(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=qi(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],s=De.internal.getHeight(t),a=De.internal.getWidth(t),o=t1(t,t.caption);return i.push("1 g"),i.push("0 0 "+ht(a)+" "+ht(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+ht(a-1)+" "+ht(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+ht(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=qi(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ht(De.internal.getWidth(t))+" "+ht(De.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:De.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=De.RadioButton.Circle.YesNormal,e.D[t]=De.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=qi(t);e.scope=t.scope;var r=[],n=De.internal.getWidth(t)<=De.internal.getHeight(t)?De.internal.getWidth(t)/4:De.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=De.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Hs(De.internal.getWidth(t)/2)+" "+Hs(De.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=qi(t);e.scope=t.scope;var r=[],n=De.internal.getWidth(t)<=De.internal.getHeight(t)?De.internal.getWidth(t)/4:De.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*De.internal.Bezier_C).toFixed(5)),a=Number((n*De.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Hs(De.internal.getWidth(t)/2)+" "+Hs(De.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Hs(De.internal.getWidth(t)/2)+" "+Hs(De.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=qi(t);e.scope=t.scope;var r=[],n=De.internal.getWidth(t)<=De.internal.getHeight(t)?De.internal.getWidth(t)/4:De.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*De.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Hs(De.internal.getWidth(t)/2)+" "+Hs(De.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:De.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=De.RadioButton.Cross.YesNormal,e.D[t]=De.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=qi(t);e.scope=t.scope;var r=[],n=De.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+ht(De.internal.getWidth(t)-2)+" "+ht(De.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(ht(n.x1.x)+" "+ht(n.x1.y)+" m"),r.push(ht(n.x2.x)+" "+ht(n.x2.y)+" l"),r.push(ht(n.x4.x)+" "+ht(n.x4.y)+" m"),r.push(ht(n.x3.x)+" "+ht(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=qi(t);e.scope=t.scope;var r=De.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+ht(De.internal.getWidth(t))+" "+ht(De.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+ht(De.internal.getWidth(t)-2)+" "+ht(De.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(ht(r.x1.x)+" "+ht(r.x1.y)+" m"),n.push(ht(r.x2.x)+" "+ht(r.x2.y)+" l"),n.push(ht(r.x4.x)+" "+ht(r.x4.y)+" m"),n.push(ht(r.x3.x)+" "+ht(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=qi(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ht(De.internal.getWidth(t))+" "+ht(De.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};De.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=De.internal.getWidth(t),r=De.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},De.internal.getWidth=function(t){var e=0;return Bt(t)==="object"&&(e=Ov(t.Rect[2])),e},De.internal.getHeight=function(t){var e=0;return Bt(t)==="object"&&(e=Ov(t.Rect[3])),e};var BN=hr.addField=function(t){if(DN(this,t),!(t instanceof Ci))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};hr.AcroFormChoiceField=il,hr.AcroFormListBox=sl,hr.AcroFormComboBox=al,hr.AcroFormEditBox=Mh,hr.AcroFormButton=Ur,hr.AcroFormPushButton=zh,hr.AcroFormRadioButton=ol,hr.AcroFormCheckBox=Uh,hr.AcroFormTextField=Ka,hr.AcroFormPasswordField=qh,hr.AcroFormAppearance=De,hr.AcroForm={ChoiceField:il,ListBox:sl,ComboBox:al,EditBox:Mh,Button:Ur,PushButton:zh,RadioButton:ol,CheckBox:Uh,TextField:Ka,PasswordField:qh,Appearance:De},Ve.AcroForm={ChoiceField:il,ListBox:sl,ComboBox:al,EditBox:Mh,Button:Ur,PushButton:zh,RadioButton:ol,CheckBox:Uh,TextField:Ka,PasswordField:qh,Appearance:De};Ve.AcroForm;function Ob(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(T,B){var Y,G,ce,de,X,O=r;if((B=B||r)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(J(T))for(X in n)for(ce=n[X],Y=0;Y<ce.length;Y+=1){for(de=!0,G=0;G<ce[Y].length;G+=1)if(ce[Y][G]!==void 0&&ce[Y][G]!==T[G]){de=!1;break}if(de===!0){O=X;break}}else for(X in n)for(ce=n[X],Y=0;Y<ce.length;Y+=1){for(de=!0,G=0;G<ce[Y].length;G+=1)if(ce[Y][G]!==void 0&&ce[Y][G]!==T.charCodeAt(G)){de=!1;break}if(de===!0){O=X;break}}return O===r&&B!==r&&(O=B),O},s=function T(B){for(var Y=this.internal.write,G=this.internal.putStream,ce=(0,this.internal.getFilters)();ce.indexOf("FlateEncode")!==-1;)ce.splice(ce.indexOf("FlateEncode"),1);B.objectId=this.internal.newObject();var de=[];if(de.push({key:"Type",value:"/XObject"}),de.push({key:"Subtype",value:"/Image"}),de.push({key:"Width",value:B.width}),de.push({key:"Height",value:B.height}),B.colorSpace===w.INDEXED?de.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(B.palette.length/3-1)+" "+("sMask"in B&&B.sMask!==void 0?B.objectId+2:B.objectId+1)+" 0 R]"}):(de.push({key:"ColorSpace",value:"/"+B.colorSpace}),B.colorSpace===w.DEVICE_CMYK&&de.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),de.push({key:"BitsPerComponent",value:B.bitsPerComponent}),"decodeParameters"in B&&B.decodeParameters!==void 0&&de.push({key:"DecodeParms",value:"<<"+B.decodeParameters+">>"}),"transparency"in B&&Array.isArray(B.transparency)&&B.transparency.length>0){for(var X="",O=0,ie=B.transparency.length;O<ie;O++)X+=B.transparency[O]+" "+B.transparency[O]+" ";de.push({key:"Mask",value:"["+X+"]"})}B.sMask!==void 0&&de.push({key:"SMask",value:B.objectId+1+" 0 R"});var fe=B.filter!==void 0?["/"+B.filter]:void 0;if(G({data:B.data,additionalKeyValues:de,alreadyAppliedFilters:fe,objectId:B.objectId}),Y("endobj"),"sMask"in B&&B.sMask!==void 0){var pe,C=(pe=B.sMaskBitsPerComponent)!==null&&pe!==void 0?pe:B.bitsPerComponent,W={width:B.width,height:B.height,colorSpace:"DeviceGray",bitsPerComponent:C,data:B.sMask};"filter"in B&&(W.decodeParameters="/Predictor ".concat(B.predictor," /Colors 1 /BitsPerComponent ").concat(C," /Columns ").concat(B.width),W.filter=B.filter),T.call(this,W)}if(B.colorSpace===w.INDEXED){var H=this.internal.newObject();G({data:z(new Uint8Array(B.palette)),objectId:H}),Y("endobj")}},a=function(){var T=this.internal.collections[e+"images"];for(var B in T)s.call(this,T[B])},o=function(){var T,B=this.internal.collections[e+"images"],Y=this.internal.write;for(var G in B)Y("/I"+(T=B[G]).index,T.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var T=this.internal.collections[e+"images"];return l.call(this),T},h=function(){return Object.keys(this.internal.collections[e+"images"]).length},p=function(T){return typeof t["process"+T.toUpperCase()]=="function"},v=function(T){return Bt(T)==="object"&&T.nodeType===1},f=function(T,B){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var Y=""+T.getAttribute("src");if(Y.indexOf("data:image/")===0)return Bh(unescape(Y).split("base64,").pop());var G=t.loadFile(Y,!0);if(G!==void 0)return G}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var ce;switch(B){case"PNG":ce="image/png";break;case"WEBP":ce="image/webp";break;default:ce="image/jpeg"}return Bh(T.toDataURL(ce,1).split("base64,").pop())}},_=function(T){var B=this.internal.collections[e+"images"];if(B){for(var Y in B)if(T===B[Y].alias)return B[Y]}},x=function(T,B,Y){return T||B||(T=-96,B=-96),T<0&&(T=-1*Y.width*72/T/this.internal.scaleFactor),B<0&&(B=-1*Y.height*72/B/this.internal.scaleFactor),T===0&&(T=B*Y.width/Y.height),B===0&&(B=T*Y.height/Y.width),[T,B]},A=function(T,B,Y,G,ce,de){var X=x.call(this,Y,G,ce),O=this.internal.getCoordinateString,ie=this.internal.getVerticalCoordinateString,fe=u.call(this);if(Y=X[0],G=X[1],fe[ce.index]=ce,de){de*=Math.PI/180;var pe=Math.cos(de),C=Math.sin(de),W=function(Q){return Q.toFixed(4)},H=[W(pe),W(C),W(-1*C),W(pe),0,0,"cm"]}this.internal.write("q"),de?(this.internal.write([1,"0","0",1,O(T),ie(B+G),"cm"].join(" ")),this.internal.write(H.join(" ")),this.internal.write([O(Y),"0","0",O(G),"0","0","cm"].join(" "))):this.internal.write([O(Y),"0","0",O(G),O(T),ie(B+G),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ce.index+" Do"),this.internal.write("Q")},w=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},k=t.__addimage__.sHashCode=function(T){var B,Y,G=0;if(typeof T=="string")for(Y=T.length,B=0;B<Y;B++)G=(G<<5)-G+T.charCodeAt(B),G|=0;else if(J(T))for(Y=T.byteLength/2,B=0;B<Y;B++)G=(G<<5)-G+T[B],G|=0;return G},E=t.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var B=!0;return T.length===0&&(B=!1),T.length%4!=0&&(B=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(B=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(B=!1),B},F=t.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var B=T.indexOf(",");return B<0?null:T.substring(0,B).trim().endsWith("base64")?T.substring(B+1):null};t.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var J=t.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},V=t.__addimage__.binaryStringToUint8Array=function(T){for(var B=T.length,Y=new Uint8Array(B),G=0;G<B;G++)Y[G]=T.charCodeAt(G);return Y},z=t.__addimage__.arrayBufferToBinaryString=function(T){for(var B="",Y=J(T)?T:new Uint8Array(T),G=0;G<Y.length;G+=8192)B+=String.fromCharCode.apply(null,Y.subarray(G,G+8192));return B};t.addImage=function(){var T,B,Y,G,ce,de,X,O,ie;if(typeof arguments[1]=="number"?(B=r,Y=arguments[1],G=arguments[2],ce=arguments[3],de=arguments[4],X=arguments[5],O=arguments[6],ie=arguments[7]):(B=arguments[1],Y=arguments[2],G=arguments[3],ce=arguments[4],de=arguments[5],X=arguments[6],O=arguments[7],ie=arguments[8]),Bt(T=arguments[0])==="object"&&!v(T)&&"imageData"in T){var fe=T;T=fe.imageData,B=fe.format||B||r,Y=fe.x||Y||0,G=fe.y||G||0,ce=fe.w||fe.width||ce,de=fe.h||fe.height||de,X=fe.alias||X,O=fe.compression||O,ie=fe.rotation||fe.angle||ie}var pe=this.internal.getFilters();if(O===void 0&&pe.indexOf("FlateEncode")!==-1&&(O="SLOW"),isNaN(Y)||isNaN(G))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var C=D.call(this,T,B,X,O);return A.call(this,Y,G,ce,de,C,ie),this};var D=function(T,B,Y,G){var ce,de,X;if(typeof T=="string"&&i(T)===r){T=unescape(T);var O=ee(T,!1);(O!==""||(O=t.loadFile(T,!0))!==void 0)&&(T=O)}if(v(T)&&(T=f(T,B)),B=i(T,B),!p(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(((X=Y)==null||X.length===0)&&(Y=function(ie){return typeof ie=="string"||J(ie)?k(ie):J(ie.data)?k(ie.data):null}(T)),(ce=_.call(this,Y))||(T instanceof Uint8Array||B==="RGBA"||(de=T,T=V(T)),ce=this["process"+B.toUpperCase()](T,h.call(this),Y,function(ie){return ie&&typeof ie=="string"&&(ie=ie.toUpperCase()),ie in t.image_compression?ie:S.NONE}(G),de)),!ce)throw new Error("An unknown error occurred whilst processing the image.");return ce},ee=t.__addimage__.convertBase64ToBinaryString=function(T,B){B=typeof B!="boolean"||B;var Y,G="";if(typeof T=="string"){var ce;Y=(ce=F(T))!==null&&ce!==void 0?ce:T;try{G=Bh(Y)}catch(de){if(B)throw E(Y)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+de.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return G};t.getImageProperties=function(T){var B,Y,G="";if(v(T)&&(T=f(T)),typeof T=="string"&&i(T)===r&&((G=ee(T,!1))===""&&(G=t.loadFile(T)||""),T=G),Y=i(T),!p(Y))throw new Error("addImage does not support files of type '"+Y+"', please ensure that a plugin for '"+Y+"' support is added.");if(T instanceof Uint8Array||(T=V(T)),!(B=this["process"+Y.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return B.fileType=Y,B}})(Ve.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Ve.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,h=!1,p=0;p<u.length&&!h;p++)switch((n=u[p]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var v=0;v<u.length;v++){n=u[v];var f=this.internal.pdfEscape,_=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),A=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(x.objId),S=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+f(w(n.contents))+")",s+=" /Popup "+A.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+f(w(S))+") >>",x.content=s;var k=x.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+k,n.open&&(s+=" /Open true"),s+=" >>",A.content=s,this.internal.write(x.objId,"0 R",A.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var E=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(_(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+E+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var F=this.annotations._nameMap[n.options.name];n.options.pageNumber=F.page,n.options.top=F.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(_(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var J=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+J+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:u(n),w:l(r+i),h:u(n+s)},options:a,type:"link"})},t.textWithLink=function(r,n,i,s){var a,o,l=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var h=this.splitTextToSize(r,o).length;a=Math.ceil(u*h)}else o=l,a=u;return this.text(r,n,i,s),i+=.2*u,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,i-u,o,a,s),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Ve.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(x){return e[x.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},o=t.__arabicParser__.isArabicEndLetter=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(x){return a(x)&&i.indexOf(x.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length>=3};var h=t.__arabicParser__.arabicLetterHasMedialForm=function(x){return a(x)&&s(x)&&e[x.charCodeAt(0)].length==4},p=t.__arabicParser__.resolveLigatures=function(x){var A=0,w=r,S="",k=0;for(A=0;A<x.length;A+=1)w[x.charCodeAt(A)]!==void 0?(k++,typeof(w=w[x.charCodeAt(A)])=="number"&&(S+=String.fromCharCode(w),w=r,k=0),A===x.length-1&&(w=r,S+=x.charAt(A-(k-1)),A-=k-1,k=0)):(w=r,S+=x.charAt(A-k),A-=k,k=0);return S};t.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&n[x.charCodeAt(0)]!==void 0};var v=t.__arabicParser__.getCorrectForm=function(x,A,w){return a(x)?s(x)===!1?-1:!u(x)||!a(A)&&!a(w)||!a(w)&&o(A)||o(x)&&!a(A)||o(x)&&l(A)||o(x)&&o(A)?0:h(x)&&a(A)&&!o(A)&&a(w)&&u(w)?3:o(x)||!a(w)?1:2:-1},f=function(x){var A=0,w=0,S=0,k="",E="",F="",J=(x=x||"").split("\\s+"),V=[];for(A=0;A<J.length;A+=1){for(V.push(""),w=0;w<J[A].length;w+=1)k=J[A][w],E=J[A][w-1],F=J[A][w+1],a(k)?(S=v(k,E,F),V[A]+=S!==-1?String.fromCharCode(e[k.charCodeAt(0)][S]):k):V[A]+=k;V[A]=p(V[A])}return V.join(" ")},_=t.__arabicParser__.processArabic=t.processArabic=function(){var x,A=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(A)){var S=0;for(w=[],S=0;S<A.length;S+=1)Array.isArray(A[S])?w.push([f(A[S][0]),A[S][1],A[S][2]]):w.push([f(A[S])]);x=w}else x=f(A);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};t.events.push(["preProcessText",_])}(Ve.API),Ve.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Ve.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(x){l=x}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(x){h=x}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(x){v=x}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var _=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return _},set:function(x){_=x}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){n.call(this);var h=(u=u||{}).fontSize||this.getFontSize(),p=u.font||this.getFont(),v=u.scaleFactor||this.internal.scaleFactor,f=0,_=0,x=0,A=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=u.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(k,E){return k.concat(A.splitTextToSize(E,w))},[])):l=Array.isArray(l)?l:[l];for(var S=0;S<l.length;S++)f<(x=this.getStringUnitWidth(l[S],{font:p})*h)&&(f=x);return f!==0&&(_=l.length),{w:f/=v,h:Math.max((_*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/v,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var u=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,v=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=p.top,f&&v&&(this.printHeaderRow(l.lineNumber,!0),l.y+=v[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-h,l.y+h,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+h,{align:"center",baseline:"top",maxWidth:l.width-h-h}):this.text(l.text,l.x+h,l.y+h,{align:"left",baseline:"top",maxWidth:l.width-h-h})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,h,p,v){if(n.call(this),!h)throw new Error("No data for PDF table.");var f,_,x,A,w=[],S=[],k=[],E={},F={},J=[],V=[],z=(v=v||{}).autoSize||!1,D=v.printHeaders!==!1,ee=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,T=v.margins||Object.assign({width:this.getPageWidth()},e),B=typeof v.padding=="number"?v.padding:3,Y=v.headerBackgroundColor||"#c8c8c8",G=v.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=D,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=ee,this.internal.__cell__.padding=B,this.internal.__cell__.headerBackgroundColor=Y,this.internal.__cell__.headerTextColor=G,this.setFontSize(ee),p==null)S=w=Object.keys(h[0]),k=w.map(function(){return"left"});else if(Array.isArray(p)&&Bt(p[0])==="object")for(w=p.map(function(fe){return fe.name}),S=p.map(function(fe){return fe.prompt||fe.name||""}),k=p.map(function(fe){return fe.align||"left"}),f=0;f<p.length;f+=1)F[p[f].name]=.7499990551181103*p[f].width;else Array.isArray(p)&&typeof p[0]=="string"&&(S=w=p,k=w.map(function(){return"left"}));if(z||Array.isArray(p)&&typeof p[0]=="string")for(f=0;f<w.length;f+=1){for(E[A=w[f]]=h.map(function(fe){return fe[A]}),this.setFont(void 0,"bold"),J.push(this.getTextDimensions(S[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),_=E[A],this.setFont(void 0,"normal"),x=0;x<_.length;x+=1)J.push(this.getTextDimensions(_[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);F[A]=Math.max.apply(null,J)+B+B,J=[]}if(D){var ce={};for(f=0;f<w.length;f+=1)ce[w[f]]={},ce[w[f]].text=S[f],ce[w[f]].align=k[f];var de=o.call(this,ce,F);V=w.map(function(fe){return new s(l,u,F[fe],de,ce[fe].text,void 0,ce[fe].align)}),this.setTableHeaderRow(V),this.printHeaderRow(1,!1)}var X=p.reduce(function(fe,pe){return fe[pe.name]=pe.align,fe},{});for(f=0;f<h.length;f+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:f,data:h[f]},this);var O=o.call(this,h[f],F);for(x=0;x<w.length;x+=1){var ie=h[f][w[x]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:f,col:x,data:ie},this),a.call(this,new s(l,u,F[w[x]],O,ie,f+2,X[w[x]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var h=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(l).map(function(f){var _=l[f];return this.splitTextToSize(_.hasOwnProperty("text")?_.text:_,u[f]-h-h)},this).map(function(f){return this.getLineHeightFactor()*f.length*p/v+h+h},this).reduce(function(f,_){return Math.max(f,_)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){h=this.internal.__cell__.tableHeaderRow[f].clone(),u&&(h.y=this.internal.__cell__.margins.top||0,v.push(h)),h.lineNumber=l;var _=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,h),this.setTextColor(_)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),r=!1}}(Ve.API);var Fb={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Db=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],r1=Ob(Db),Bb=[100,200,300,400,500,600,700,800,900],MN=Ob(Bb);function Pp(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return Fb[s=s||"normal"]?s:"normal"}(t.style),n=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(t.weight),i=function(s){return typeof r1[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function Fv(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var zN={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Dv={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Bv(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Mv(t){return t.trimLeft()}function UN(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function qN(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Po,Sh,zv,Uv,qv,Tp=["times"];function $v(t,e,r,n,i){var s=4,a=Hv;switch(i){case Ve.API.image_compression.FAST:s=1,a=Wv;break;case Ve.API.image_compression.MEDIUM:s=6,a=Vv;break;case Ve.API.image_compression.SLOW:s=9,a=Gv}t=function(l,u,h,p){for(var v,f=l.length/u,_=new Uint8Array(l.length+f),x=[$N,Wv,Hv,Vv,Gv],A=0;A<f;A+=1){var w=A*u,S=l.subarray(w,w+u);if(p)_.set(p(S,h,v),w+A);else{for(var k=x.length,E=[],F=0;F<k;F+=1)E[F]=x[F](S,h,v);var J=HN(E.concat());_.set(E[J],w+A)}v=S}return _}(t,e,Math.ceil(r*n/8),a);var o=J0(t,{level:s});return Ve.API.__addimage__.arrayBufferToBinaryString(o)}function $N(t){var e=Array.apply([],t);return e.unshift(0),e}function Wv(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var s=t[i-e]||0;n[i+1]=t[i]-s+256&255}return n}function Hv(t,e,r){var n=t.length,i=[];i[0]=2;for(var s=0;s<n;s+=1){var a=r&&r[s]||0;i[s+1]=t[s]-a+256&255}return i}function Vv(t,e,r){var n=t.length,i=[];i[0]=3;for(var s=0;s<n;s+=1){var a=t[s-e]||0,o=r&&r[s]||0;i[s+1]=t[s]+256-(a+o>>>1)&255}return i}function Gv(t,e,r){var n=t.length,i=[];i[0]=4;for(var s=0;s<n;s+=1){var a=WN(t[s-e]||0,r&&r[s]||0,r&&r[s-e]||0);i[s+1]=t[s]-a+256&255}return i}function WN(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),s=Math.abs(t+e-r-r);return n<=i&&n<=s?t:i<=s?e:r}function HN(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function Rp(t,e,r){var n=e*r,i=Math.floor(n/8),s=16-(n-8*i+r),a=(1<<r)-1;return Mb(t,i)>>s&a}function Kv(t,e,r,n){var i=r*n,s=Math.floor(i/8),a=16-(i-8*s+n),o=(1<<n)-1,l=(e&o)<<a;(function(u,h,p){if(h+1<u.byteLength)u.setUint16(h,p,!1);else{var v=p>>8&255;u.setUint8(h,v)}})(t,s,Mb(t,s)&~(o<<a)&65535|l)}function Mb(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function VN(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<1+(7&i);t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var u=!0,h=[],p=0,v=null,f=0,_=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,_=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var x=t[e++];p=t[e++]|t[e++]<<8,v=t[e++],1&x||(v=null),f=x>>2&7,e++;break;case 254:for(;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var A=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,k=t[e++]|t[e++]<<8,E=t[e++],F=E>>6&1,J=1<<1+(7&E),V=o,z=l,D=!1;E>>7&&(D=!0,V=e,z=J,e+=3*J);var ee=e;for(e++;;){var T;if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}h.push({x:A,y:w,width:S,height:k,has_local_palette:D,palette_offset:V,palette_size:z,data_offset:ee,data_length:e-ee,transparent_index:v,interlaced:!!F,delay:p,disposal:f});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return _},this.frameInfo=function(B){if(B<0||B>=h.length)throw new Error("Frame index out of range.");return h[B]},this.decodeAndBlitFrameBGRA=function(B,Y){var G=this.frameInfo(B),ce=G.width*G.height,de=new Uint8Array(ce);Jv(t,G.data_offset,de,ce);var X=G.palette_offset,O=G.transparent_index;O===null&&(O=256);var ie=G.width,fe=r-ie,pe=ie,C=4*(G.y*r+G.x),W=4*((G.y+G.height)*r+G.x),H=C,Q=4*fe;G.interlaced===!0&&(Q+=4*r*7);for(var ne=8,re=0,me=de.length;re<me;++re){var ge=de[re];if(pe===0&&(pe=ie,(H+=Q)>=W&&(Q=4*fe+4*r*(ne-1),H=C+(ie+fe)*(ne<<1),ne>>=1)),ge===O)H+=4;else{var xe=t[X+3*ge],Ae=t[X+3*ge+1],Te=t[X+3*ge+2];Y[H++]=Te,Y[H++]=Ae,Y[H++]=xe,Y[H++]=255}--pe}},this.decodeAndBlitFrameRGBA=function(B,Y){var G=this.frameInfo(B),ce=G.width*G.height,de=new Uint8Array(ce);Jv(t,G.data_offset,de,ce);var X=G.palette_offset,O=G.transparent_index;O===null&&(O=256);var ie=G.width,fe=r-ie,pe=ie,C=4*(G.y*r+G.x),W=4*((G.y+G.height)*r+G.x),H=C,Q=4*fe;G.interlaced===!0&&(Q+=4*r*7);for(var ne=8,re=0,me=de.length;re<me;++re){var ge=de[re];if(pe===0&&(pe=ie,(H+=Q)>=W&&(Q=4*fe+4*r*(ne-1),H=C+(ie+fe)*(ne<<1),ne>>=1)),ge===O)H+=4;else{var xe=t[X+3*ge],Ae=t[X+3*ge+1],Te=t[X+3*ge+2];Y[H++]=xe,Y[H++]=Ae,Y[H++]=Te,Y[H++]=255}--pe}}}function Jv(t,e,r,n){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,l=i+1,u=(1<<l)-1,h=0,p=0,v=0,f=t[e++],_=new Int32Array(4096),x=null;;){for(;h<16&&f!==0;)p|=t[e++]<<h,h+=8,f===1?f=t[e++]:--f;if(h<l)break;var A=p&u;if(p>>=l,h-=l,A!==s){if(A===a)break;for(var w=A<o?A:x,S=0,k=w;k>s;)k=_[k]>>8,++S;var E=k;if(v+S+(w!==A?1:0)>n)return void Wt.log("Warning, gif stream longer than expected.");r[v++]=E;var F=v+=S;for(w!==A&&(r[v++]=E),k=w;S--;)k=_[k],r[--F]=255&k,k>>=8;x!==null&&o<4096&&(_[o++]=x<<8|E,o>=u+1&&l<12&&(++l,u=u<<1|1)),x=A}else o=a+1,u=(1<<(l=i+1))-1,x=null}return v!==n&&Wt.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Ip(t){var e,r,n,i,s,a=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),h=new Array(64),p=new Array(65535),v=new Array(65535),f=new Array(64),_=new Array(64),x=[],A=0,w=7,S=new Array(64),k=new Array(64),E=new Array(64),F=new Array(256),J=new Array(2048),V=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],z=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],B=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Y=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ce=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function de(C,W){for(var H=0,Q=0,ne=new Array,re=1;re<=16;re++){for(var me=1;me<=C[re];me++)ne[W[Q]]=[],ne[W[Q]][0]=H,ne[W[Q]][1]=re,Q++,H++;H*=2}return ne}function X(C){for(var W=C[0],H=C[1]-1;H>=0;)W&1<<H&&(A|=1<<w),H--,--w<0&&(A==255?(O(255),O(0)):O(A),w=7,A=0)}function O(C){x.push(C)}function ie(C){O(C>>8&255),O(255&C)}function fe(C,W,H,Q,ne){for(var re,me=ne[0],ge=ne[240],xe=function(ke,Ye){var Ie,Qe,Ke,Pt,ft,lt,xt,bt,Re,ct,Me=0;for(Re=0;Re<8;++Re){Ie=ke[Me],Qe=ke[Me+1],Ke=ke[Me+2],Pt=ke[Me+3],ft=ke[Me+4],lt=ke[Me+5],xt=ke[Me+6];var ir=Ie+(bt=ke[Me+7]),St=Ie-bt,gt=Qe+xt,mt=Qe-xt,Ht=Ke+lt,Xe=Ke-lt,It=Pt+ft,et=Pt-ft,it=ir+It,Vt=ir-It,vt=gt+Ht,tt=gt-Ht;ke[Me]=it+vt,ke[Me+4]=it-vt;var Tt=.707106781*(tt+Vt);ke[Me+2]=Vt+Tt,ke[Me+6]=Vt-Tt;var En=.382683433*((it=et+Xe)-(tt=mt+St)),Cr=.5411961*it+En,Jn=1.306562965*tt+En,Cn=.707106781*(vt=Xe+mt),K=St+Cn,Ce=St-Cn;ke[Me+5]=Ce+Cr,ke[Me+3]=Ce-Cr,ke[Me+1]=K+Jn,ke[Me+7]=K-Jn,Me+=8}for(Me=0,Re=0;Re<8;++Re){Ie=ke[Me],Qe=ke[Me+8],Ke=ke[Me+16],Pt=ke[Me+24],ft=ke[Me+32],lt=ke[Me+40],xt=ke[Me+48];var Je=Ie+(bt=ke[Me+56]),Gt=Ie-bt,$r=Qe+xt,Nt=Qe-xt,jt=Ke+lt,Ut=Ke-lt,Yn=Pt+ft,Pi=Pt-ft,Xn=Je+Yn,Ln=Je-Yn,wn=$r+jt,en=$r-jt;ke[Me]=Xn+wn,ke[Me+32]=Xn-wn;var Qn=.707106781*(en+Ln);ke[Me+16]=Ln+Qn,ke[Me+48]=Ln-Qn;var va=.382683433*((Xn=Pi+Ut)-(en=Nt+Gt)),Ti=.5411961*Xn+va,ya=1.306562965*en+va,lo=.707106781*(wn=Ut+Nt),uo=Gt+lo,co=Gt-lo;ke[Me+40]=co+Ti,ke[Me+24]=co-Ti,ke[Me+8]=uo+ya,ke[Me+56]=uo-ya,Me++}for(Re=0;Re<64;++Re)ct=ke[Re]*Ye[Re],f[Re]=ct>0?ct+.5|0:ct-.5|0;return f}(C,W),Ae=0;Ae<64;++Ae)_[V[Ae]]=xe[Ae];var Te=_[0]-H;H=_[0],Te==0?X(Q[0]):(X(Q[v[re=32767+Te]]),X(p[re]));for(var Pe=63;Pe>0&&_[Pe]==0;)Pe--;if(Pe==0)return X(me),H;for(var $e,M=1;M<=Pe;){for(var Ee=M;_[M]==0&&M<=Pe;)++M;var Ze=M-Ee;if(Ze>=16){$e=Ze>>4;for(var qe=1;qe<=$e;++qe)X(ge);Ze&=15}re=32767+_[M],X(ne[(Ze<<4)+v[re]]),X(p[re]),M++}return Pe!=63&&X(me),H}function pe(C){C=Math.min(Math.max(C,1),100),s!=C&&(function(W){for(var H=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Q=0;Q<64;Q++){var ne=a((H[Q]*W+50)/100);ne=Math.min(Math.max(ne,1),255),o[V[Q]]=ne}for(var re=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],me=0;me<64;me++){var ge=a((re[me]*W+50)/100);ge=Math.min(Math.max(ge,1),255),l[V[me]]=ge}for(var xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ae=0,Te=0;Te<8;Te++)for(var Pe=0;Pe<8;Pe++)u[Ae]=1/(o[V[Ae]]*xe[Te]*xe[Pe]*8),h[Ae]=1/(l[V[Ae]]*xe[Te]*xe[Pe]*8),Ae++}(C<50?Math.floor(5e3/C):Math.floor(200-2*C)),s=C)}this.encode=function(C,W){W&&pe(W),x=new Array,A=0,w=7,ie(65496),ie(65504),ie(16),O(74),O(70),O(73),O(70),O(0),O(1),O(1),O(0),ie(1),ie(1),O(0),O(0),function(){ie(65499),ie(132),O(0);for(var Qe=0;Qe<64;Qe++)O(o[Qe]);O(1);for(var Ke=0;Ke<64;Ke++)O(l[Ke])}(),function(Qe,Ke){ie(65472),ie(17),O(8),ie(Ke),ie(Qe),O(3),O(1),O(17),O(0),O(2),O(17),O(1),O(3),O(17),O(1)}(C.width,C.height),function(){ie(65476),ie(418),O(0);for(var Qe=0;Qe<16;Qe++)O(z[Qe+1]);for(var Ke=0;Ke<=11;Ke++)O(D[Ke]);O(16);for(var Pt=0;Pt<16;Pt++)O(ee[Pt+1]);for(var ft=0;ft<=161;ft++)O(T[ft]);O(1);for(var lt=0;lt<16;lt++)O(B[lt+1]);for(var xt=0;xt<=11;xt++)O(Y[xt]);O(17);for(var bt=0;bt<16;bt++)O(G[bt+1]);for(var Re=0;Re<=161;Re++)O(ce[Re])}(),ie(65498),ie(12),O(3),O(1),O(0),O(2),O(17),O(3),O(17),O(0),O(63),O(0);var H=0,Q=0,ne=0;A=0,w=7,this.encode.displayName="_encode_";for(var re,me,ge,xe,Ae,Te,Pe,$e,M,Ee=C.data,Ze=C.width,qe=C.height,ke=4*Ze,Ye=0;Ye<qe;){for(re=0;re<ke;){for(Ae=ke*Ye+re,Pe=-1,$e=0,M=0;M<64;M++)Te=Ae+($e=M>>3)*ke+(Pe=4*(7&M)),Ye+$e>=qe&&(Te-=ke*(Ye+1+$e-qe)),re+Pe>=ke&&(Te-=re+Pe-ke+4),me=Ee[Te++],ge=Ee[Te++],xe=Ee[Te++],S[M]=(J[me]+J[ge+256|0]+J[xe+512|0]>>16)-128,k[M]=(J[me+768|0]+J[ge+1024|0]+J[xe+1280|0]>>16)-128,E[M]=(J[me+1280|0]+J[ge+1536|0]+J[xe+1792|0]>>16)-128;H=fe(S,u,H,e,n),Q=fe(k,h,Q,r,i),ne=fe(E,h,ne,r,i),re+=32}Ye+=8}if(w>=0){var Ie=[];Ie[1]=w+1,Ie[0]=(1<<w+1)-1,X(Ie)}return ie(65497),new Uint8Array(x)},t=t||50,function(){for(var C=String.fromCharCode,W=0;W<256;W++)F[W]=C(W)}(),e=de(z,D),r=de(B,Y),n=de(ee,T),i=de(G,ce),function(){for(var C=1,W=2,H=1;H<=15;H++){for(var Q=C;Q<W;Q++)v[32767+Q]=H,p[32767+Q]=[],p[32767+Q][1]=H,p[32767+Q][0]=Q;for(var ne=-(W-1);ne<=-C;ne++)v[32767+ne]=H,p[32767+ne]=[],p[32767+ne][1]=H,p[32767+ne][0]=W-1+ne;C<<=1,W<<=1}}(),function(){for(var C=0;C<256;C++)J[C]=19595*C,J[C+256|0]=38470*C,J[C+512|0]=7471*C+32768,J[C+768|0]=-11059*C,J[C+1024|0]=-21709*C,J[C+1280|0]=32768*C+8421375,J[C+1536|0]=-27439*C,J[C+1792|0]=-5329*C}(),pe(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function yi(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Yv(t){function e(D){if(!D)throw Error("assert :P")}function r(D,ee,T){for(var B=0;4>B;B++)if(D[ee+B]!=T.charCodeAt(B))return!0;return!1}function n(D,ee,T,B,Y){for(var G=0;G<Y;G++)D[ee+G]=T[B+G]}function i(D,ee,T,B){for(var Y=0;Y<B;Y++)D[ee+Y]=T}function s(D){return new Int32Array(D)}function a(D,ee){for(var T=[],B=0;B<D;B++)T.push(new ee);return T}function o(D,ee){var T=[];return function B(Y,G,ce){for(var de=ce[G],X=0;X<de&&(Y.push(ce.length>G+1?[]:new ee),!(ce.length<G+1));X++)B(Y[X],G+1,ce)}(T,0,D),T}var l=function(){var D=this;function ee(c,d){for(var y=1<<d-1>>>0;c&y;)y>>>=1;return y?(c&y-1)+y:c}function T(c,d,y,b,j){e(!(b%y));do c[d+(b-=y)]=j;while(0<b)}function B(c,d,y,b,j){if(e(2328>=j),512>=j)var L=s(512);else if((L=s(j))==null)return 0;return function(P,R,I,U,te,ue){var q,se,oe=R,ve=1<<I,le=s(16),ye=s(16);for(e(te!=0),e(U!=null),e(P!=null),e(0<I),se=0;se<te;++se){if(15<U[se])return 0;++le[U[se]]}if(le[0]==te)return 0;for(ye[1]=0,q=1;15>q;++q){if(le[q]>1<<q)return 0;ye[q+1]=ye[q]+le[q]}for(se=0;se<te;++se)q=U[se],0<U[se]&&(ue[ye[q]++]=se);if(ye[15]==1)return(U=new Y).g=0,U.value=ue[0],T(P,oe,1,ve,U),ve;var be,Ne=-1,Se=ve-1,Ge=0,Fe=1,yt=1,ze=1<<I;for(se=0,q=1,te=2;q<=I;++q,te<<=1){if(Fe+=yt<<=1,0>(yt-=le[q]))return 0;for(;0<le[q];--le[q])(U=new Y).g=q,U.value=ue[se++],T(P,oe+Ge,te,ze,U),Ge=ee(Ge,q)}for(q=I+1,te=2;15>=q;++q,te<<=1){if(Fe+=yt<<=1,0>(yt-=le[q]))return 0;for(;0<le[q];--le[q]){if(U=new Y,(Ge&Se)!=Ne){for(oe+=ze,be=1<<(Ne=q)-I;15>Ne&&!(0>=(be-=le[Ne]));)++Ne,be<<=1;ve+=ze=1<<(be=Ne-I),P[R+(Ne=Ge&Se)].g=be+I,P[R+Ne].value=oe-R-Ne}U.g=q-I,U.value=ue[se++],T(P,oe+(Ge>>I),te,ze,U),Ge=ee(Ge,q)}}return Fe!=2*ye[15]-1?0:ve}(c,d,y,b,j,L)}function Y(){this.value=this.g=0}function G(){this.value=this.g=0}function ce(){this.G=a(5,Y),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Ca,G)}function de(c,d,y,b){e(c!=null),e(d!=null),e(2147483648>b),c.Ca=254,c.I=0,c.b=-8,c.Ka=0,c.oa=d,c.pa=y,c.Jd=d,c.Yc=y+b,c.Zc=4<=b?y+b-4+1:y,me(c)}function X(c,d){for(var y=0;0<d--;)y|=xe(c,128)<<d;return y}function O(c,d){var y=X(c,d);return ge(c)?-y:y}function ie(c,d,y,b){var j,L=0;for(e(c!=null),e(d!=null),e(4294967288>b),c.Sb=b,c.Ra=0,c.u=0,c.h=0,4<b&&(b=4),j=0;j<b;++j)L+=d[y+j]<<8*j;c.Ra=L,c.bb=b,c.oa=d,c.pa=y}function fe(c){for(;8<=c.u&&c.bb<c.Sb;)c.Ra>>>=8,c.Ra+=c.oa[c.pa+c.bb]<<Ps-8>>>0,++c.bb,c.u-=8;Q(c)&&(c.h=1,c.u=0)}function pe(c,d){if(e(0<=d),!c.h&&d<=Tn){var y=H(c)&Pn[d];return c.u+=d,fe(c),y}return c.h=1,c.u=0}function C(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function W(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(c){return c.Ra>>>(c.u&Ps-1)>>>0}function Q(c){return e(c.bb<=c.Sb),c.h||c.bb==c.Sb&&c.u>Ps}function ne(c,d){c.u=d,c.h=Q(c)}function re(c){c.u>=ss&&(e(c.u>=ss),fe(c))}function me(c){e(c!=null&&c.oa!=null),c.pa<c.Zc?(c.I=(c.oa[c.pa++]|c.I<<8)>>>0,c.b+=8):(e(c!=null&&c.oa!=null),c.pa<c.Yc?(c.b+=8,c.I=c.oa[c.pa++]|c.I<<8):c.Ka?c.b=0:(c.I<<=8,c.b+=8,c.Ka=1))}function ge(c){return X(c,1)}function xe(c,d){var y=c.Ca;0>c.b&&me(c);var b=c.b,j=y*d>>>8,L=(c.I>>>b>j)+0;for(L?(y-=j,c.I-=j+1<<b>>>0):y=j+1,b=y,j=0;256<=b;)j+=8,b>>=8;return b=7^j+Ts[b],c.b-=b,c.Ca=(y<<b)-1,L}function Ae(c,d,y){c[d+0]=y>>24&255,c[d+1]=y>>16&255,c[d+2]=y>>8&255,c[d+3]=255&y}function Te(c,d){return c[d+0]|c[d+1]<<8}function Pe(c,d){return Te(c,d)|c[d+2]<<16}function $e(c,d){return Te(c,d)|Te(c,d+2)<<16}function M(c,d){var y=1<<d;return e(c!=null),e(0<d),c.X=s(y),c.X==null?0:(c.Mb=32-d,c.Xa=d,1)}function Ee(c,d){e(c!=null),e(d!=null),e(c.Xa==d.Xa),n(d.X,0,c.X,0,1<<d.Xa)}function Ze(){this.X=[],this.Xa=this.Mb=0}function qe(c,d,y,b){e(y!=null),e(b!=null);var j=y[0],L=b[0];return j==0&&(j=(c*L+d/2)/d),L==0&&(L=(d*j+c/2)/c),0>=j||0>=L?0:(y[0]=j,b[0]=L,1)}function ke(c,d){return c+(1<<d)-1>>>d}function Ye(c,d){return((4278255360&c)+(4278255360&d)>>>0&4278255360)+((16711935&c)+(16711935&d)>>>0&16711935)>>>0}function Ie(c,d){D[d]=function(y,b,j,L,P,R,I){var U;for(U=0;U<P;++U){var te=D[c](R[I+U-1],j,L+U);R[I+U]=Ye(y[b+U],te)}}}function Qe(){this.ud=this.hd=this.jd=0}function Ke(c,d){return((4278124286&(c^d))>>>1)+(c&d)>>>0}function Pt(c){return 0<=c&&256>c?c:0>c?0:255<c?255:void 0}function ft(c,d){return Pt(c+(c-d+.5>>1))}function lt(c,d,y){return Math.abs(d-y)-Math.abs(c-y)}function xt(c,d,y,b,j,L,P){for(b=L[P-1],y=0;y<j;++y)L[P+y]=b=Ye(c[d+y],b)}function bt(c,d,y,b,j){var L;for(L=0;L<y;++L){var P=c[d+L],R=P>>8&255,I=16711935&(I=(I=16711935&P)+((R<<16)+R));b[j+L]=(4278255360&P)+I>>>0}}function Re(c,d){d.jd=255&c,d.hd=c>>8&255,d.ud=c>>16&255}function ct(c,d,y,b,j,L){var P;for(P=0;P<b;++P){var R=d[y+P],I=R>>>8,U=R,te=255&(te=(te=R>>>16)+((c.jd<<24>>24)*(I<<24>>24)>>>5));U=255&(U=(U+=(c.hd<<24>>24)*(I<<24>>24)>>>5)+((c.ud<<24>>24)*(te<<24>>24)>>>5)),j[L+P]=(4278255360&R)+(te<<16)+U}}function Me(c,d,y,b,j){D[d]=function(L,P,R,I,U,te,ue,q,se){for(I=ue;I<q;++I)for(ue=0;ue<se;++ue)U[te++]=j(R[b(L[P++])])},D[c]=function(L,P,R,I,U,te,ue){var q=8>>L.b,se=L.Ea,oe=L.K[0],ve=L.w;if(8>q)for(L=(1<<L.b)-1,ve=(1<<q)-1;P<R;++P){var le,ye=0;for(le=0;le<se;++le)le&L||(ye=b(I[U++])),te[ue++]=j(oe[ye&ve]),ye>>=q}else D["VP8LMapColor"+y](I,U,oe,ve,te,ue,P,R,se)}}function ir(c,d,y,b,j){for(y=d+y;d<y;){var L=c[d++];b[j++]=L>>16&255,b[j++]=L>>8&255,b[j++]=255&L}}function St(c,d,y,b,j){for(y=d+y;d<y;){var L=c[d++];b[j++]=L>>16&255,b[j++]=L>>8&255,b[j++]=255&L,b[j++]=L>>24&255}}function gt(c,d,y,b,j){for(y=d+y;d<y;){var L=(P=c[d++])>>16&240|P>>12&15,P=240&P|P>>28&15;b[j++]=L,b[j++]=P}}function mt(c,d,y,b,j){for(y=d+y;d<y;){var L=(P=c[d++])>>16&248|P>>13&7,P=P>>5&224|P>>3&31;b[j++]=L,b[j++]=P}}function Ht(c,d,y,b,j){for(y=d+y;d<y;){var L=c[d++];b[j++]=255&L,b[j++]=L>>8&255,b[j++]=L>>16&255}}function Xe(c,d,y,b,j,L){if(L==0)for(y=d+y;d<y;)Ae(b,((L=c[d++])[0]>>24|L[1]>>8&65280|L[2]<<8&16711680|L[3]<<24)>>>0),j+=32;else n(b,j,c,d,y)}function It(c,d){D[d][0]=D[c+"0"],D[d][1]=D[c+"1"],D[d][2]=D[c+"2"],D[d][3]=D[c+"3"],D[d][4]=D[c+"4"],D[d][5]=D[c+"5"],D[d][6]=D[c+"6"],D[d][7]=D[c+"7"],D[d][8]=D[c+"8"],D[d][9]=D[c+"9"],D[d][10]=D[c+"10"],D[d][11]=D[c+"11"],D[d][12]=D[c+"12"],D[d][13]=D[c+"13"],D[d][14]=D[c+"0"],D[d][15]=D[c+"0"]}function et(c){return c==yf||c==wf||c==Oc||c==bf}function it(){this.eb=[],this.size=this.A=this.fb=0}function Vt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function vt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new it,this.f.kb=new Vt,this.sd=null}function tt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Tt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function En(c){return alert("todo:WebPSamplerProcessPlane"),c.T}function Cr(c,d){var y=c.T,b=d.ba.f.RGBA,j=b.eb,L=b.fb+c.ka*b.A,P=ii[d.ba.S],R=c.y,I=c.O,U=c.f,te=c.N,ue=c.ea,q=c.W,se=d.cc,oe=d.dc,ve=d.Mc,le=d.Nc,ye=c.ka,be=c.ka+c.T,Ne=c.U,Se=Ne+1>>1;for(ye==0?P(R,I,null,null,U,te,ue,q,U,te,ue,q,j,L,null,null,Ne):(P(d.ec,d.fc,R,I,se,oe,ve,le,U,te,ue,q,j,L-b.A,j,L,Ne),++y);ye+2<be;ye+=2)se=U,oe=te,ve=ue,le=q,te+=c.Rc,q+=c.Rc,L+=2*b.A,P(R,(I+=2*c.fa)-c.fa,R,I,se,oe,ve,le,U,te,ue,q,j,L-b.A,j,L,Ne);return I+=c.fa,c.j+be<c.o?(n(d.ec,d.fc,R,I,Ne),n(d.cc,d.dc,U,te,Se),n(d.Mc,d.Nc,ue,q,Se),y--):1&be||P(R,I,null,null,U,te,ue,q,U,te,ue,q,j,L+b.A,null,null,Ne),y}function Jn(c,d,y){var b=c.F,j=[c.J];if(b!=null){var L=c.U,P=d.ba.S,R=P==Ic||P==Oc;d=d.ba.f.RGBA;var I=[0],U=c.ka;I[0]=c.T,c.Kb&&(U==0?--I[0]:(--U,j[0]-=c.width),c.j+c.ka+c.T==c.o&&(I[0]=c.o-c.j-U));var te=d.eb;U=d.fb+U*d.A,c=vg(b,j[0],c.width,L,I,te,U+(R?0:3),d.A),e(y==I),c&&et(P)&&Wl(te,U,R,L,I,d.A)}return 0}function Cn(c){var d=c.ma,y=d.ba.S,b=11>y,j=y==Tc||y==Rc||y==Ic||y==vf||y==12||et(y);if(d.memory=null,d.Ib=null,d.Jb=null,d.Nd=null,!Fl(d.Oa,c,j?11:12))return 0;if(j&&et(y)&&Rl(),c.da)alert("todo:use_scaling");else{if(b){if(d.Ib=En,c.Kb){if(y=c.U+1>>1,d.memory=s(c.U+2*y),d.memory==null)return 0;d.ec=d.memory,d.fc=0,d.cc=d.ec,d.dc=d.fc+c.U,d.Mc=d.cc,d.Nc=d.dc+y,d.Ib=Cr,Rl()}}else alert("todo:EmitYUV");j&&(d.Jb=Jn,b&&fi())}if(b&&!Rg){for(c=0;256>c;++c)xx[c]=89858*(c-128)+Dc>>Fc,kx[c]=-22014*(c-128)+Dc,Sx[c]=-45773*(c-128),_x[c]=113618*(c-128)+Dc>>Fc;for(c=Vl;c<Sf;++c)d=76283*(c-16)+Dc>>Fc,Ax[c-Vl]=Ri(d,255),Nx[c-Vl]=Ri(d+8>>4,15);Rg=1}return 1}function K(c){var d=c.ma,y=c.U,b=c.T;return e(!(1&c.ka)),0>=y||0>=b?0:(y=d.Ib(c,d),d.Jb!=null&&d.Jb(c,d,y),d.Dc+=y,1)}function Ce(c){c.ma.memory=null}function Je(c,d,y,b){return pe(c,8)!=47?0:(d[0]=pe(c,14)+1,y[0]=pe(c,14)+1,b[0]=pe(c,1),pe(c,3)!=0?0:!c.h)}function Gt(c,d){if(4>c)return c+1;var y=c-2>>1;return(2+(1&c)<<y)+pe(d,y)+1}function $r(c,d){return 120<d?d-120:1<=(y=((y=ox[d-1])>>4)*c+(8-(15&y)))?y:1;var y}function Nt(c,d,y){var b=H(y),j=c[d+=255&b].g-8;return 0<j&&(ne(y,y.u+8),b=H(y),d+=c[d].value,d+=b&(1<<j)-1),ne(y,y.u+c[d].g),c[d].value}function jt(c,d,y){return y.g+=c.g,y.value+=c.value<<d>>>0,e(8>=y.g),c.g}function Ut(c,d,y){var b=c.xc;return e((d=b==0?0:c.vc[c.md*(y>>b)+(d>>b)])<c.Wb),c.Ya[d]}function Yn(c,d,y,b){var j=c.ab,L=c.c*d,P=c.C;d=P+d;var R=y,I=b;for(b=c.Ta,y=c.Ua;0<j--;){var U=c.gc[j],te=P,ue=d,q=R,se=I,oe=(I=b,R=y,U.Ea);switch(e(te<ue),e(ue<=U.nc),U.hc){case 2:pr(q,se,(ue-te)*oe,I,R);break;case 0:var ve=te,le=ue,ye=I,be=R,Ne=(ze=U).Ea;ve==0&&(Bl(q,se,null,null,1,ye,be),xt(q,se+1,0,0,Ne-1,ye,be+1),se+=Ne,be+=Ne,++ve);for(var Se=1<<ze.b,Ge=Se-1,Fe=ke(Ne,ze.b),yt=ze.K,ze=ze.w+(ve>>ze.b)*Fe;ve<le;){var kt=yt,Rr=ze,wt=1;for(wo(q,se,ye,be-Ne,1,ye,be);wt<Ne;){var Ue=(wt&~Ge)+Se;Ue>Ne&&(Ue=Ne),(0,zl[kt[Rr++]>>8&15])(q,se+ +wt,ye,be+wt-Ne,Ue-wt,ye,be+wt),wt=Ue}se+=Ne,be+=Ne,++ve&Ge||(ze+=Fe)}ue!=U.nc&&n(I,R-oe,I,R+(ue-te-1)*oe,oe);break;case 1:for(oe=q,le=se,Ne=(q=U.Ea)-(be=q&~(ye=(se=1<<U.b)-1)),ve=ke(q,U.b),Se=U.K,U=U.w+(te>>U.b)*ve;te<ue;){for(Ge=Se,Fe=U,yt=new Qe,ze=le+be,kt=le+q;le<ze;)Re(Ge[Fe++],yt),Ul(yt,oe,le,se,I,R),le+=se,R+=se;le<kt&&(Re(Ge[Fe++],yt),Ul(yt,oe,le,Ne,I,R),le+=Ne,R+=Ne),++te&ye||(U+=ve)}break;case 3:if(q==I&&se==R&&0<U.b){for(le=I,q=oe=R+(ue-te)*oe-(be=(ue-te)*ke(U.Ea,U.b)),se=I,ye=R,ve=[],be=(Ne=be)-1;0<=be;--be)ve[be]=se[ye+be];for(be=Ne-1;0<=be;--be)le[q+be]=ve[be];Ec(U,te,ue,I,oe,I,R)}else Ec(U,te,ue,q,se,I,R)}R=b,I=y}I!=y&&n(b,y,R,I,L)}function Pi(c,d){var y=c.V,b=c.Ba+c.c*c.C,j=d-c.C;if(e(d<=c.l.o),e(16>=j),0<j){var L=c.l,P=c.Ta,R=c.Ua,I=L.width;if(Yn(c,j,y,b),j=R=[R],e((y=c.C)<(b=d)),e(L.v<L.va),b>L.o&&(b=L.o),y<L.j){var U=L.j-y;y=L.j,j[0]+=U*I}if(y>=b?y=0:(j[0]+=4*L.v,L.ka=y-L.j,L.U=L.va-L.v,L.T=b-y,y=1),y){if(R=R[0],11>(y=c.ca).S){var te=y.f.RGBA,ue=(b=y.S,j=L.U,L=L.T,U=te.eb,te.A),q=L;for(te=te.fb+c.Ma*te.A;0<q--;){var se=P,oe=R,ve=j,le=U,ye=te;switch(b){case Pc:ql(se,oe,ve,le,ye);break;case Tc:Rs(se,oe,ve,le,ye);break;case yf:Rs(se,oe,ve,le,ye),Wl(le,ye,0,ve,1,0);break;case kg:La(se,oe,ve,le,ye);break;case Rc:Xe(se,oe,ve,le,ye,1);break;case wf:Xe(se,oe,ve,le,ye,1),Wl(le,ye,0,ve,1,0);break;case Ic:Xe(se,oe,ve,le,ye,0);break;case Oc:Xe(se,oe,ve,le,ye,0),Wl(le,ye,1,ve,1,0);break;case vf:Is(se,oe,ve,le,ye);break;case bf:Is(se,oe,ve,le,ye),mg(le,ye,ve,1,0);break;case Ag:Os(se,oe,ve,le,ye);break;default:e(0)}R+=I,te+=ue}c.Ma+=L}else alert("todo:EmitRescaledRowsYUVA");e(c.Ma<=y.height)}}c.C=d,e(c.C<=c.i)}function Xn(c){var d;if(0<c.ua)return 0;for(d=0;d<c.Wb;++d){var y=c.Ya[d].G,b=c.Ya[d].H;if(0<y[1][b[1]+0].g||0<y[2][b[2]+0].g||0<y[3][b[3]+0].g)return 0}return 1}function Ln(c,d,y,b,j,L){if(c.Z!=0){var P=c.qd,R=c.rd;for(e(Bs[c.Z]!=null);d<y;++d)Bs[c.Z](P,R,b,j,b,j,L),P=b,R=j,j+=L;c.qd=P,c.rd=R}}function wn(c,d){var y=c.l.ma,b=y.Z==0||y.Z==1?c.l.j:c.C;if(b=c.C<b?b:c.C,e(d<=c.l.o),d>b){var j=c.l.width,L=y.ca,P=y.tb+j*b,R=c.V,I=c.Ba+c.c*b,U=c.gc;e(c.ab==1),e(U[0].hc==3),Di(U[0],b,d,R,I,L,P),Ln(y,b,d,L,P,j)}c.C=c.Ma=d}function en(c,d,y,b,j,L,P){var R=c.$/b,I=c.$%b,U=c.m,te=c.s,ue=y+c.$,q=ue;j=y+b*j;var se=y+b*L,oe=280+te.ua,ve=c.Pb?R:16777216,le=0<te.ua?te.Wa:null,ye=te.wc,be=ue<se?Ut(te,I,R):null;e(c.C<L),e(se<=j);var Ne=!1;e:for(;;){for(;Ne||ue<se;){var Se=0;if(R>=ve){var Ge=ue-y;e((ve=c).Pb),ve.wd=ve.m,ve.xd=Ge,0<ve.s.ua&&Ee(ve.s.Wa,ve.s.vb),ve=R+ux}if(I&ye||(be=Ut(te,I,R)),e(be!=null),be.Qb&&(d[ue]=be.qb,Ne=!0),!Ne)if(re(U),be.jc){Se=U,Ge=d;var Fe=ue,yt=be.pd[H(Se)&Ca-1];e(be.jc),256>yt.g?(ne(Se,Se.u+yt.g),Ge[Fe]=yt.value,Se=0):(ne(Se,Se.u+yt.g-256),e(256<=yt.value),Se=yt.value),Se==0&&(Ne=!0)}else Se=Nt(be.G[0],be.H[0],U);if(U.h)break;if(Ne||256>Se){if(!Ne)if(be.nd)d[ue]=(be.qb|Se<<8)>>>0;else{if(re(U),Ne=Nt(be.G[1],be.H[1],U),re(U),Ge=Nt(be.G[2],be.H[2],U),Fe=Nt(be.G[3],be.H[3],U),U.h)break;d[ue]=(Fe<<24|Ne<<16|Se<<8|Ge)>>>0}if(Ne=!1,++ue,++I>=b&&(I=0,++R,P!=null&&R<=L&&!(R%16)&&P(c,R),le!=null))for(;q<ue;)Se=d[q++],le.X[(506832829*Se&4294967295)>>>le.Mb]=Se}else if(280>Se){if(Se=Gt(Se-256,U),Ge=Nt(be.G[4],be.H[4],U),re(U),Ge=$r(b,Ge=Gt(Ge,U)),U.h)break;if(ue-y<Ge||j-ue<Se)break e;for(Fe=0;Fe<Se;++Fe)d[ue+Fe]=d[ue+Fe-Ge];for(ue+=Se,I+=Se;I>=b;)I-=b,++R,P!=null&&R<=L&&!(R%16)&&P(c,R);if(e(ue<=j),I&ye&&(be=Ut(te,I,R)),le!=null)for(;q<ue;)Se=d[q++],le.X[(506832829*Se&4294967295)>>>le.Mb]=Se}else{if(!(Se<oe))break e;for(Ne=Se-280,e(le!=null);q<ue;)Se=d[q++],le.X[(506832829*Se&4294967295)>>>le.Mb]=Se;Se=ue,e(!(Ne>>>(Ge=le).Xa)),d[Se]=Ge.X[Ne],Ne=!0}Ne||e(U.h==Q(U))}if(c.Pb&&U.h&&ue<j)e(c.m.h),c.a=5,c.m=c.wd,c.$=c.xd,0<c.s.ua&&Ee(c.s.vb,c.s.Wa);else{if(U.h)break e;P!=null&&P(c,R>L?L:R),c.a=0,c.$=ue-y}return 1}return c.a=3,0}function Qn(c){e(c!=null),c.vc=null,c.yc=null,c.Ya=null;var d=c.Wa;d!=null&&(d.X=null),c.vb=null,e(c!=null)}function va(){var c=new ot;return c==null?null:(c.a=0,c.xb=Eg,It("Predictor","VP8LPredictors"),It("Predictor","VP8LPredictors_C"),It("PredictorAdd","VP8LPredictorsAdd"),It("PredictorAdd","VP8LPredictorsAdd_C"),pr=bt,Ul=ct,ql=ir,Rs=St,Is=gt,Os=mt,La=Ht,D.VP8LMapColor32b=Fi,D.VP8LMapColor8b=Ml,c)}function Ti(c,d,y,b,j){var L=1,P=[c],R=[d],I=b.m,U=b.s,te=null,ue=0;e:for(;;){if(y)for(;L&&pe(I,1);){var q=P,se=R,oe=b,ve=1,le=oe.m,ye=oe.gc[oe.ab],be=pe(le,2);if(oe.Oc&1<<be)L=0;else{switch(oe.Oc|=1<<be,ye.hc=be,ye.Ea=q[0],ye.nc=se[0],ye.K=[null],++oe.ab,e(4>=oe.ab),be){case 0:case 1:ye.b=pe(le,3)+2,ve=Ti(ke(ye.Ea,ye.b),ke(ye.nc,ye.b),0,oe,ye.K),ye.K=ye.K[0];break;case 3:var Ne,Se=pe(le,8)+1,Ge=16<Se?0:4<Se?1:2<Se?2:3;if(q[0]=ke(ye.Ea,Ge),ye.b=Ge,Ne=ve=Ti(Se,1,0,oe,ye.K)){var Fe,yt=Se,ze=ye,kt=1<<(8>>ze.b),Rr=s(kt);if(Rr==null)Ne=0;else{var wt=ze.K[0],Ue=ze.w;for(Rr[0]=ze.K[0][0],Fe=1;Fe<1*yt;++Fe)Rr[Fe]=Ye(wt[Ue+Fe],Rr[Fe-1]);for(;Fe<4*kt;++Fe)Rr[Fe]=0;ze.K[0]=null,ze.K[0]=Rr,Ne=1}}ve=Ne;break;case 2:break;default:e(0)}L=ve}}if(P=P[0],R=R[0],L&&pe(I,1)&&!(L=1<=(ue=pe(I,4))&&11>=ue)){b.a=3;break e}var Le;if(Le=L)t:{var mr,dt,At,Qt=b,Vr=P,dn=R,ur=ue,tn=y,fn=Qt.m,Ir=Qt.s,Ct=[null],Ot=1,cr=0,Ft=lx[ur];r:for(;;){if(tn&&pe(fn,1)){var Gr=pe(fn,3)+2,gi=ke(Vr,Gr),vr=ke(dn,Gr),bn=gi*vr;if(!Ti(gi,vr,0,Qt,Ct))break r;for(Ct=Ct[0],Ir.xc=Gr,mr=0;mr<bn;++mr){var $t=Ct[mr]>>8&65535;Ct[mr]=$t,$t>=Ot&&(Ot=$t+1)}}if(fn.h)break r;for(dt=0;5>dt;++dt){var Or=Ng[dt];!dt&&0<ur&&(Or+=1<<ur),cr<Or&&(cr=Or)}var In=a(Ot*Ft,Y),pn=Ot,On=a(pn,ce);if(On==null)var Fn=null;else e(65536>=pn),Fn=On;var xn=s(cr);if(Fn==null||xn==null||In==null){Qt.a=1;break r}var Dn=In;for(mr=At=0;mr<Ot;++mr){var Jt=Fn[mr],Bn=Jt.G,mi=Jt.H,Ta=0,ls=1,Kr=0;for(dt=0;5>dt;++dt){Or=Ng[dt],Bn[dt]=Dn,mi[dt]=At,!dt&&0<ur&&(Or+=1<<ur);i:{var Mc,kf=Or,zc=Qt,Gl=xn,Cx=Dn,Lx=At,Af=0,Ms=zc.m,Px=pe(Ms,1);if(i(Gl,0,0,kf),Px){var Tx=pe(Ms,1)+1,Rx=pe(Ms,1),Fg=pe(Ms,Rx==0?1:8);Gl[Fg]=1,Tx==2&&(Gl[Fg=pe(Ms,8)]=1);var Uc=1}else{var Dg=s(19),Bg=pe(Ms,4)+4;if(19<Bg){zc.a=3;var qc=0;break i}for(Mc=0;Mc<Bg;++Mc)Dg[ax[Mc]]=pe(Ms,3);var Nf=void 0,Kl=void 0,Mg=zc,Ix=Dg,$c=kf,zg=Gl,jf=0,zs=Mg.m,Ug=8,qg=a(128,Y);n:for(;B(qg,0,7,Ix,19);){if(pe(zs,1)){var Ox=2+2*pe(zs,3);if((Nf=2+pe(zs,Ox))>$c)break n}else Nf=$c;for(Kl=0;Kl<$c&&Nf--;){re(zs);var $g=qg[0+(127&H(zs))];ne(zs,zs.u+$g.g);var xo=$g.value;if(16>xo)zg[Kl++]=xo,xo!=0&&(Ug=xo);else{var Fx=xo==16,Wg=xo-16,Dx=ix[Wg],Hg=pe(zs,nx[Wg])+Dx;if(Kl+Hg>$c)break n;for(var Bx=Fx?Ug:0;0<Hg--;)zg[Kl++]=Bx}}jf=1;break n}jf||(Mg.a=3),Uc=jf}(Uc=Uc&&!Ms.h)&&(Af=B(Cx,Lx,8,Gl,kf)),Uc&&Af!=0?qc=Af:(zc.a=3,qc=0)}if(qc==0)break r;if(ls&&sx[dt]==1&&(ls=Dn[At].g==0),Ta+=Dn[At].g,At+=qc,3>=dt){var Jl,Ef=xn[0];for(Jl=1;Jl<Or;++Jl)xn[Jl]>Ef&&(Ef=xn[Jl]);Kr+=Ef}}if(Jt.nd=ls,Jt.Qb=0,ls&&(Jt.qb=(Bn[3][mi[3]+0].value<<24|Bn[1][mi[1]+0].value<<16|Bn[2][mi[2]+0].value)>>>0,Ta==0&&256>Bn[0][mi[0]+0].value&&(Jt.Qb=1,Jt.qb+=Bn[0][mi[0]+0].value<<8)),Jt.jc=!Jt.Qb&&6>Kr,Jt.jc){var Wc,us=Jt;for(Wc=0;Wc<Ca;++Wc){var Us=Wc,qs=us.pd[Us],Hc=us.G[0][us.H[0]+Us];256<=Hc.value?(qs.g=Hc.g+256,qs.value=Hc.value):(qs.g=0,qs.value=0,Us>>=jt(Hc,8,qs),Us>>=jt(us.G[1][us.H[1]+Us],16,qs),Us>>=jt(us.G[2][us.H[2]+Us],0,qs),jt(us.G[3][us.H[3]+Us],24,qs))}}}Ir.vc=Ct,Ir.Wb=Ot,Ir.Ya=Fn,Ir.yc=In,Le=1;break t}Le=0}if(!(L=Le)){b.a=3;break e}if(0<ue){if(U.ua=1<<ue,!M(U.Wa,ue)){b.a=1,L=0;break e}}else U.ua=0;var Cf=b,Vg=P,Mx=R,Lf=Cf.s,Pf=Lf.xc;if(Cf.c=Vg,Cf.i=Mx,Lf.md=ke(Vg,Pf),Lf.wc=Pf==0?-1:(1<<Pf)-1,y){b.xb=mx;break e}if((te=s(P*R))==null){b.a=1,L=0;break e}L=(L=en(b,te,0,P,R,R,null))&&!I.h;break e}return L?(j!=null?j[0]=te:(e(te==null),e(y)),b.$=0,y||Qn(U)):Qn(U),L}function ya(c,d){var y=c.c*c.i,b=y+d+16*d;return e(c.c<=d),c.V=s(b),c.V==null?(c.Ta=null,c.Ua=0,c.a=1,0):(c.Ta=c.V,c.Ua=c.Ba+y+d,1)}function lo(c,d){var y=c.C,b=d-y,j=c.V,L=c.Ba+c.c*y;for(e(d<=c.l.o);0<b;){var P=16<b?16:b,R=c.l.ma,I=c.l.width,U=I*P,te=R.ca,ue=R.tb+I*y,q=c.Ta,se=c.Ua;Yn(c,P,j,L),yg(q,se,te,ue,U),Ln(R,y,y+P,te,ue,I),b-=P,j+=P*c.c,y+=P}e(y==d),c.C=c.Ma=d}function uo(){this.ub=this.yd=this.td=this.Rb=0}function co(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Zd(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function _l(){this.Yb=function(){var c=[];return function d(y,b,j){for(var L=j[b],P=0;P<L&&(y.push(j.length>b+1?[]:0),!(j.length<b+1));P++)d(y[P],b+1,j)}(c,0,[3,11]),c}()}function cc(){this.jb=s(3),this.Wc=o([4,8],_l),this.Xc=o([4,17],_l)}function hc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Zn(){this.ld=this.La=this.dd=this.tc=0}function Sl(){this.Na=this.la=0}function dc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function kl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function fc(){this.uc=this.M=this.Nb=0,this.wa=Array(new Zn),this.Y=0,this.ya=Array(new kl),this.aa=0,this.l=new ho}function pc(){this.y=s(16),this.f=s(8),this.ea=s(8)}function gc(){this.cb=this.a=0,this.sc="",this.m=new C,this.Od=new uo,this.Kc=new co,this.ed=new hc,this.Qa=new Zd,this.Ic=this.$c=this.Aa=0,this.D=new fc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,C),this.ia=0,this.pb=a(4,dc),this.Pa=new cc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new pc),this.Hd=0,this.rb=Array(new Sl),this.sb=0,this.wa=Array(new Zn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new kl),this.L=this.aa=0,this.gd=o([4,2],Zn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ri(c,d){return 0>c?0:c>d?d:c}function ho(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ef(){var c=new gc;return c!=null&&(c.a=0,c.sc="OK",c.cb=0,c.Xb=0,Hl||(Hl=fo)),c}function Sr(c,d,y){return c.a==0&&(c.a=d,c.sc=y,c.cb=0),0}function mc(c,d,y){return 3<=y&&c[d+0]==157&&c[d+1]==1&&c[d+2]==42}function Ii(c,d){if(c==null)return 0;if(c.a=0,c.sc="OK",d==null)return Sr(c,2,"null VP8Io passed to VP8GetHeaders()");var y=d.data,b=d.w,j=d.ha;if(4>j)return Sr(c,7,"Truncated header.");var L=y[b+0]|y[b+1]<<8|y[b+2]<<16,P=c.Od;if(P.Rb=!(1&L),P.td=L>>1&7,P.yd=L>>4&1,P.ub=L>>5,3<P.td)return Sr(c,3,"Incorrect keyframe parameters.");if(!P.yd)return Sr(c,4,"Frame not displayable.");b+=3,j-=3;var R=c.Kc;if(P.Rb){if(7>j)return Sr(c,7,"cannot parse picture header");if(!mc(y,b,j))return Sr(c,3,"Bad code word");R.c=16383&(y[b+4]<<8|y[b+3]),R.Td=y[b+4]>>6,R.i=16383&(y[b+6]<<8|y[b+5]),R.Ud=y[b+6]>>6,b+=7,j-=7,c.za=R.c+15>>4,c.Ub=R.i+15>>4,d.width=R.c,d.height=R.i,d.Da=0,d.j=0,d.v=0,d.va=d.width,d.o=d.height,d.da=0,d.ib=d.width,d.hb=d.height,d.U=d.width,d.T=d.height,i((L=c.Pa).jb,0,255,L.jb.length),e((L=c.Qa)!=null),L.Cb=0,L.Bb=0,L.Fb=1,i(L.Zb,0,0,L.Zb.length),i(L.Lb,0,0,L.Lb)}if(P.ub>j)return Sr(c,7,"bad partition length");de(L=c.m,y,b,P.ub),b+=P.ub,j-=P.ub,P.Rb&&(R.Ld=ge(L),R.Kd=ge(L)),R=c.Qa;var I,U=c.Pa;if(e(L!=null),e(R!=null),R.Cb=ge(L),R.Cb){if(R.Bb=ge(L),ge(L)){for(R.Fb=ge(L),I=0;4>I;++I)R.Zb[I]=ge(L)?O(L,7):0;for(I=0;4>I;++I)R.Lb[I]=ge(L)?O(L,6):0}if(R.Bb)for(I=0;3>I;++I)U.jb[I]=ge(L)?X(L,8):255}else R.Bb=0;if(L.Ka)return Sr(c,3,"cannot parse segment header");if((R=c.ed).zd=ge(L),R.Tb=X(L,6),R.wb=X(L,3),R.Pc=ge(L),R.Pc&&ge(L)){for(U=0;4>U;++U)ge(L)&&(R.vd[U]=O(L,6));for(U=0;4>U;++U)ge(L)&&(R.od[U]=O(L,6))}if(c.L=R.Tb==0?0:R.zd?1:2,L.Ka)return Sr(c,3,"cannot parse filter header");var te=j;if(j=I=b,b=I+te,R=te,c.Xb=(1<<X(c.m,2))-1,te<3*(U=c.Xb))y=7;else{for(I+=3*U,R-=3*U,te=0;te<U;++te){var ue=y[j+0]|y[j+1]<<8|y[j+2]<<16;ue>R&&(ue=R),de(c.Jc[+te],y,I,ue),I+=ue,R-=ue,j+=3}de(c.Jc[+U],y,I,R),y=I<b?0:5}if(y!=0)return Sr(c,y,"cannot parse partitions");for(y=X(I=c.m,7),j=ge(I)?O(I,4):0,b=ge(I)?O(I,4):0,R=ge(I)?O(I,4):0,U=ge(I)?O(I,4):0,I=ge(I)?O(I,4):0,te=c.Qa,ue=0;4>ue;++ue){if(te.Cb){var q=te.Zb[ue];te.Fb||(q+=y)}else{if(0<ue){c.pb[ue]=c.pb[0];continue}q=y}var se=c.pb[ue];se.Sc[0]=xf[Ri(q+j,127)],se.Sc[1]=_f[Ri(q+0,127)],se.Eb[0]=2*xf[Ri(q+b,127)],se.Eb[1]=101581*_f[Ri(q+R,127)]>>16,8>se.Eb[1]&&(se.Eb[1]=8),se.Qc[0]=xf[Ri(q+U,117)],se.Qc[1]=_f[Ri(q+I,127)],se.lc=q+I}if(!P.Rb)return Sr(c,4,"Not a key frame.");for(ge(L),P=c.Pa,y=0;4>y;++y){for(j=0;8>j;++j)for(b=0;3>b;++b)for(R=0;11>R;++R)U=xe(L,px[y][j][b][R])?X(L,8):dx[y][j][b][R],P.Wc[y][j].Yb[b][R]=U;for(j=0;17>j;++j)P.Xc[y][j]=P.Wc[y][gx[j]]}return c.kc=ge(L),c.kc&&(c.Bd=X(L,8)),c.cb=1}function fo(c,d,y,b,j,L,P){var R=d[j].Yb[y];for(y=0;16>j;++j){if(!xe(c,R[y+0]))return j;for(;!xe(c,R[y+1]);)if(R=d[++j].Yb[0],y=0,j==16)return 16;var I=d[j+1].Yb;if(xe(c,R[y+2])){var U=c,te=0;if(xe(U,(q=R)[(ue=y)+3]))if(xe(U,q[ue+6])){for(R=0,ue=2*(te=xe(U,q[ue+8]))+(q=xe(U,q[ue+9+te])),te=0,q=cx[ue];q[R];++R)te+=te+xe(U,q[R]);te+=3+(8<<ue)}else xe(U,q[ue+7])?(te=7+2*xe(U,165),te+=xe(U,145)):te=5+xe(U,159);else te=xe(U,q[ue+4])?3+xe(U,q[ue+5]):2;R=I[2]}else te=1,R=I[1];I=P+hx[j],0>(U=c).b&&me(U);var ue,q=U.b,se=(ue=U.Ca>>1)-(U.I>>q)>>31;--U.b,U.Ca+=se,U.Ca|=1,U.I-=(ue+1&se)<<q,L[I]=((te^se)-se)*b[(0<j)+0]}return 16}function vc(c){var d=c.rb[c.sb-1];d.la=0,d.Na=0,i(c.zc,0,0,c.zc.length),c.ja=0}function ei(c,d,y,b,j){j=c[d+y+32*b]+(j>>3),c[d+y+32*b]=-256&j?0>j?0:255:j}function Lr(c,d,y,b,j,L){ei(c,d,0,y,b+j),ei(c,d,1,y,b+L),ei(c,d,2,y,b-L),ei(c,d,3,y,b-j)}function Ji(c){return(20091*c>>16)+c}function yc(c,d,y,b){var j,L=0,P=s(16);for(j=0;4>j;++j){var R=c[d+0]+c[d+8],I=c[d+0]-c[d+8],U=(35468*c[d+4]>>16)-Ji(c[d+12]),te=Ji(c[d+4])+(35468*c[d+12]>>16);P[L+0]=R+te,P[L+1]=I+U,P[L+2]=I-U,P[L+3]=R-te,L+=4,d++}for(j=L=0;4>j;++j)R=(c=P[L+0]+4)+P[L+8],I=c-P[L+8],U=(35468*P[L+4]>>16)-Ji(P[L+12]),ei(y,b,0,0,R+(te=Ji(P[L+4])+(35468*P[L+12]>>16))),ei(y,b,1,0,I+U),ei(y,b,2,0,I-U),ei(y,b,3,0,R-te),L++,b+=32}function tf(c,d,y,b){var j=c[d+0]+4,L=35468*c[d+4]>>16,P=Ji(c[d+4]),R=35468*c[d+1]>>16;Lr(y,b,0,j+P,c=Ji(c[d+1]),R),Lr(y,b,1,j+L,c,R),Lr(y,b,2,j-L,c,R),Lr(y,b,3,j-P,c,R)}function rf(c,d,y,b,j){yc(c,d,y,b),j&&yc(c,d+16,y,b+4)}function Oi(c,d,y,b){Pa(c,d+0,y,b,1),Pa(c,d+32,y,b+128,1)}function wc(c,d,y,b){var j;for(c=c[d+0]+4,j=0;4>j;++j)for(d=0;4>d;++d)ei(y,b,d,j,c)}function bc(c,d,y,b){c[d+0]&&Rt(c,d+0,y,b),c[d+16]&&Rt(c,d+16,y,b+4),c[d+32]&&Rt(c,d+32,y,b+128),c[d+48]&&Rt(c,d+48,y,b+128+4)}function po(c,d,y,b){var j,L=s(16);for(j=0;4>j;++j){var P=c[d+0+j]+c[d+12+j],R=c[d+4+j]+c[d+8+j],I=c[d+4+j]-c[d+8+j],U=c[d+0+j]-c[d+12+j];L[0+j]=P+R,L[8+j]=P-R,L[4+j]=U+I,L[12+j]=U-I}for(j=0;4>j;++j)P=(c=L[0+4*j]+3)+L[3+4*j],R=L[1+4*j]+L[2+4*j],I=L[1+4*j]-L[2+4*j],U=c-L[3+4*j],y[b+0]=P+R>>3,y[b+16]=U+I>>3,y[b+32]=P-R>>3,y[b+48]=U-I>>3,b+=64}function wa(c,d,y){var b,j=d-32,L=Rn,P=255-c[j-1];for(b=0;b<y;++b){var R,I=L,U=P+c[d-1];for(R=0;R<y;++R)c[d+R]=I[U+c[j+R]];d+=32}}function nf(c,d){wa(c,d,4)}function sf(c,d){wa(c,d,8)}function af(c,d){wa(c,d,16)}function Al(c,d){var y;for(y=0;16>y;++y)n(c,d+32*y,c,d-32,16)}function xc(c,d){var y;for(y=16;0<y;--y)i(c,d,c[d-1],16),d+=32}function di(c,d,y){var b;for(b=0;16>b;++b)i(d,y+32*b,c,16)}function of(c,d){var y,b=16;for(y=0;16>y;++y)b+=c[d-1+32*y]+c[d+y-32];di(b>>5,c,d)}function ba(c,d){var y,b=8;for(y=0;16>y;++y)b+=c[d-1+32*y];di(b>>4,c,d)}function Nl(c,d){var y,b=8;for(y=0;16>y;++y)b+=c[d+y-32];di(b>>4,c,d)}function lf(c,d){di(128,c,d)}function ut(c,d,y){return c+2*d+y+2>>2}function uf(c,d){var y,b=d-32;for(b=new Uint8Array([ut(c[b-1],c[b+0],c[b+1]),ut(c[b+0],c[b+1],c[b+2]),ut(c[b+1],c[b+2],c[b+3]),ut(c[b+2],c[b+3],c[b+4])]),y=0;4>y;++y)n(c,d+32*y,b,0,b.length)}function cf(c,d){var y=c[d-1],b=c[d-1+32],j=c[d-1+64],L=c[d-1+96];Ae(c,d+0,16843009*ut(c[d-1-32],y,b)),Ae(c,d+32,16843009*ut(y,b,j)),Ae(c,d+64,16843009*ut(b,j,L)),Ae(c,d+96,16843009*ut(j,L,L))}function hf(c,d){var y,b=4;for(y=0;4>y;++y)b+=c[d+y-32]+c[d-1+32*y];for(b>>=3,y=0;4>y;++y)i(c,d+32*y,b,4)}function Yi(c,d){var y=c[d-1+0],b=c[d-1+32],j=c[d-1+64],L=c[d-1-32],P=c[d+0-32],R=c[d+1-32],I=c[d+2-32],U=c[d+3-32];c[d+0+96]=ut(b,j,c[d-1+96]),c[d+1+96]=c[d+0+64]=ut(y,b,j),c[d+2+96]=c[d+1+64]=c[d+0+32]=ut(L,y,b),c[d+3+96]=c[d+2+64]=c[d+1+32]=c[d+0+0]=ut(P,L,y),c[d+3+64]=c[d+2+32]=c[d+1+0]=ut(R,P,L),c[d+3+32]=c[d+2+0]=ut(I,R,P),c[d+3+0]=ut(U,I,R)}function Xi(c,d){var y=c[d+1-32],b=c[d+2-32],j=c[d+3-32],L=c[d+4-32],P=c[d+5-32],R=c[d+6-32],I=c[d+7-32];c[d+0+0]=ut(c[d+0-32],y,b),c[d+1+0]=c[d+0+32]=ut(y,b,j),c[d+2+0]=c[d+1+32]=c[d+0+64]=ut(b,j,L),c[d+3+0]=c[d+2+32]=c[d+1+64]=c[d+0+96]=ut(j,L,P),c[d+3+32]=c[d+2+64]=c[d+1+96]=ut(L,P,R),c[d+3+64]=c[d+2+96]=ut(P,R,I),c[d+3+96]=ut(R,I,I)}function df(c,d){var y=c[d-1+0],b=c[d-1+32],j=c[d-1+64],L=c[d-1-32],P=c[d+0-32],R=c[d+1-32],I=c[d+2-32],U=c[d+3-32];c[d+0+0]=c[d+1+64]=L+P+1>>1,c[d+1+0]=c[d+2+64]=P+R+1>>1,c[d+2+0]=c[d+3+64]=R+I+1>>1,c[d+3+0]=I+U+1>>1,c[d+0+96]=ut(j,b,y),c[d+0+64]=ut(b,y,L),c[d+0+32]=c[d+1+96]=ut(y,L,P),c[d+1+32]=c[d+2+96]=ut(L,P,R),c[d+2+32]=c[d+3+96]=ut(P,R,I),c[d+3+32]=ut(R,I,U)}function ff(c,d){var y=c[d+0-32],b=c[d+1-32],j=c[d+2-32],L=c[d+3-32],P=c[d+4-32],R=c[d+5-32],I=c[d+6-32],U=c[d+7-32];c[d+0+0]=y+b+1>>1,c[d+1+0]=c[d+0+64]=b+j+1>>1,c[d+2+0]=c[d+1+64]=j+L+1>>1,c[d+3+0]=c[d+2+64]=L+P+1>>1,c[d+0+32]=ut(y,b,j),c[d+1+32]=c[d+0+96]=ut(b,j,L),c[d+2+32]=c[d+1+96]=ut(j,L,P),c[d+3+32]=c[d+2+96]=ut(L,P,R),c[d+3+64]=ut(P,R,I),c[d+3+96]=ut(R,I,U)}function go(c,d){var y=c[d-1+0],b=c[d-1+32],j=c[d-1+64],L=c[d-1+96];c[d+0+0]=y+b+1>>1,c[d+2+0]=c[d+0+32]=b+j+1>>1,c[d+2+32]=c[d+0+64]=j+L+1>>1,c[d+1+0]=ut(y,b,j),c[d+3+0]=c[d+1+32]=ut(b,j,L),c[d+3+32]=c[d+1+64]=ut(j,L,L),c[d+3+64]=c[d+2+64]=c[d+0+96]=c[d+1+96]=c[d+2+96]=c[d+3+96]=L}function jl(c,d){var y=c[d-1+0],b=c[d-1+32],j=c[d-1+64],L=c[d-1+96],P=c[d-1-32],R=c[d+0-32],I=c[d+1-32],U=c[d+2-32];c[d+0+0]=c[d+2+32]=y+P+1>>1,c[d+0+32]=c[d+2+64]=b+y+1>>1,c[d+0+64]=c[d+2+96]=j+b+1>>1,c[d+0+96]=L+j+1>>1,c[d+3+0]=ut(R,I,U),c[d+2+0]=ut(P,R,I),c[d+1+0]=c[d+3+32]=ut(y,P,R),c[d+1+32]=c[d+3+64]=ut(b,y,P),c[d+1+64]=c[d+3+96]=ut(j,b,y),c[d+1+96]=ut(L,j,b)}function xa(c,d){var y;for(y=0;8>y;++y)n(c,d+32*y,c,d-32,8)}function pf(c,d){var y;for(y=0;8>y;++y)i(c,d,c[d-1],8),d+=32}function Qi(c,d,y){var b;for(b=0;8>b;++b)i(d,y+32*b,c,8)}function gf(c,d){var y,b=8;for(y=0;8>y;++y)b+=c[d+y-32]+c[d-1+32*y];Qi(b>>4,c,d)}function El(c,d){var y,b=4;for(y=0;8>y;++y)b+=c[d+y-32];Qi(b>>3,c,d)}function Cl(c,d){var y,b=4;for(y=0;8>y;++y)b+=c[d-1+32*y];Qi(b>>3,c,d)}function _c(c,d){Qi(128,c,d)}function Zi(c,d,y){var b=c[d-y],j=c[d+0],L=3*(j-b)+mf[1020+c[d-2*y]-c[d+y]],P=Lc[112+(L+4>>3)];c[d-y]=Rn[255+b+Lc[112+(L+3>>3)]],c[d+0]=Rn[255+j-P]}function Ll(c,d,y,b){var j=c[d+0],L=c[d+y];return ni[255+c[d-2*y]-c[d-y]]>b||ni[255+L-j]>b}function mo(c,d,y,b){return 4*ni[255+c[d-y]-c[d+0]]+ni[255+c[d-2*y]-c[d+y]]<=b}function Pl(c,d,y,b,j){var L=c[d-3*y],P=c[d-2*y],R=c[d-y],I=c[d+0],U=c[d+y],te=c[d+2*y],ue=c[d+3*y];return 4*ni[255+R-I]+ni[255+P-U]>b?0:ni[255+c[d-4*y]-L]<=j&&ni[255+L-P]<=j&&ni[255+P-R]<=j&&ni[255+ue-te]<=j&&ni[255+te-U]<=j&&ni[255+U-I]<=j}function _a(c,d,y,b){var j=2*b+1;for(b=0;16>b;++b)mo(c,d+b,y,j)&&Zi(c,d+b,y)}function Tl(c,d,y,b){var j=2*b+1;for(b=0;16>b;++b)mo(c,d+b*y,1,j)&&Zi(c,d+b*y,1)}function Sc(c,d,y,b){var j;for(j=3;0<j;--j)_a(c,d+=4*y,y,b)}function kc(c,d,y,b){var j;for(j=3;0<j;--j)Tl(c,d+=4,y,b)}function es(c,d,y,b,j,L,P,R){for(L=2*L+1;0<j--;){if(Pl(c,d,y,L,P))if(Ll(c,d,y,R))Zi(c,d,y);else{var I=c,U=d,te=y,ue=I[U-2*te],q=I[U-te],se=I[U+0],oe=I[U+te],ve=I[U+2*te],le=27*(be=mf[1020+3*(se-q)+mf[1020+ue-oe]])+63>>7,ye=18*be+63>>7,be=9*be+63>>7;I[U-3*te]=Rn[255+I[U-3*te]+be],I[U-2*te]=Rn[255+ue+ye],I[U-te]=Rn[255+q+le],I[U+0]=Rn[255+se-le],I[U+te]=Rn[255+oe-ye],I[U+2*te]=Rn[255+ve-be]}d+=b}}function ts(c,d,y,b,j,L,P,R){for(L=2*L+1;0<j--;){if(Pl(c,d,y,L,P))if(Ll(c,d,y,R))Zi(c,d,y);else{var I=c,U=d,te=y,ue=I[U-te],q=I[U+0],se=I[U+te],oe=Lc[112+(4+(ve=3*(q-ue))>>3)],ve=Lc[112+(ve+3>>3)],le=oe+1>>1;I[U-2*te]=Rn[255+I[U-2*te]+le],I[U-te]=Rn[255+ue+ve],I[U+0]=Rn[255+q-oe],I[U+te]=Rn[255+se-le]}d+=b}}function Ac(c,d,y,b,j,L){es(c,d,y,1,16,b,j,L)}function Sa(c,d,y,b,j,L){es(c,d,1,y,16,b,j,L)}function Nc(c,d,y,b,j,L){var P;for(P=3;0<P;--P)ts(c,d+=4*y,y,1,16,b,j,L)}function m(c,d,y,b,j,L){var P;for(P=3;0<P;--P)ts(c,d+=4,1,y,16,b,j,L)}function N(c,d,y,b,j,L,P,R){es(c,d,j,1,8,L,P,R),es(y,b,j,1,8,L,P,R)}function $(c,d,y,b,j,L,P,R){es(c,d,1,j,8,L,P,R),es(y,b,1,j,8,L,P,R)}function Z(c,d,y,b,j,L,P,R){ts(c,d+4*j,j,1,8,L,P,R),ts(y,b+4*j,j,1,8,L,P,R)}function ae(c,d,y,b,j,L,P,R){ts(c,d+4,1,j,8,L,P,R),ts(y,b+4,1,j,8,L,P,R)}function we(){this.ba=new vt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Tt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function _e(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Be(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function We(){this.ua=0,this.Wa=new Ze,this.vb=new Ze,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ce,this.yc=new Y}function ot(){this.xb=this.a=0,this.l=new ho,this.ca=new vt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new W,this.Pb=0,this.wd=new W,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new We,this.ab=0,this.gc=a(4,Be),this.Oc=0}function pt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ho,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Et(c,d,y,b,j,L,P){for(c=c==null?0:c[d+0],d=0;d<P;++d)j[L+d]=c+y[b+d]&255,c=j[L+d]}function sr(c,d,y,b,j,L,P){var R;if(c==null)Et(null,null,y,b,j,L,P);else for(R=0;R<P;++R)j[L+R]=c[d+R]+y[b+R]&255}function kr(c,d,y,b,j,L,P){if(c==null)Et(null,null,y,b,j,L,P);else{var R,I=c[d+0],U=I,te=I;for(R=0;R<P;++R)U=te+(I=c[d+R])-U,te=y[b+R]+(-256&U?0>U?0:255:U)&255,U=I,j[L+R]=te}}function Kt(c,d,y,b){var j=d.width,L=d.o;if(e(c!=null&&d!=null),0>y||0>=b||y+b>L)return null;if(!c.Cc){if(c.ga==null){var P;if(c.ga=new pt,(P=c.ga==null)||(P=d.width*d.o,e(c.Gb.length==0),c.Gb=s(P),c.Uc=0,c.Gb==null?P=0:(c.mb=c.Gb,c.nb=c.Uc,c.rc=null,P=1),P=!P),!P){P=c.ga;var R=c.Fa,I=c.P,U=c.qc,te=c.mb,ue=c.nb,q=I+1,se=U-1,oe=P.l;if(e(R!=null&&te!=null&&d!=null),Bs[0]=null,Bs[1]=Et,Bs[2]=sr,Bs[3]=kr,P.ca=te,P.tb=ue,P.c=d.width,P.i=d.height,e(0<P.c&&0<P.i),1>=U)d=0;else if(P.$a=3&R[I+0],P.Z=R[I+0]>>2&3,P.Lc=R[I+0]>>4&3,I=R[I+0]>>6&3,0>P.$a||1<P.$a||4<=P.Z||1<P.Lc||I)d=0;else if(oe.put=K,oe.ac=Cn,oe.bc=Ce,oe.ma=P,oe.width=d.width,oe.height=d.height,oe.Da=d.Da,oe.v=d.v,oe.va=d.va,oe.j=d.j,oe.o=d.o,P.$a)e:{e(P.$a==1),d=va();t:for(;;){if(d==null){d=0;break e}if(e(P!=null),P.mc=d,d.c=P.c,d.i=P.i,d.l=P.l,d.l.ma=P,d.l.width=P.c,d.l.height=P.i,d.a=0,ie(d.m,R,q,se),!Ti(P.c,P.i,1,d,null)||(d.ab==1&&d.gc[0].hc==3&&Xn(d.s)?(P.ic=1,R=d.c*d.i,d.Ta=null,d.Ua=0,d.V=s(R),d.Ba=0,d.V==null?(d.a=1,d=0):d=1):(P.ic=0,d=ya(d,P.c)),!d))break t;d=1;break e}P.mc=null,d=0}else d=se>=P.c*P.i;P=!d}if(P)return null;c.ga.Lc!=1?c.Ga=0:b=L-y}e(c.ga!=null),e(y+b<=L);e:{if(d=(R=c.ga).c,L=R.l.o,R.$a==0){if(q=c.rc,se=c.Vc,oe=c.Fa,I=c.P+1+y*d,U=c.mb,te=c.nb+y*d,e(I<=c.P+c.qc),R.Z!=0)for(e(Bs[R.Z]!=null),P=0;P<b;++P)Bs[R.Z](q,se,oe,I,U,te,d),q=U,se=te,te+=d,I+=d;else for(P=0;P<b;++P)n(U,te,oe,I,d),q=U,se=te,te+=d,I+=d;c.rc=q,c.Vc=se}else{if(e(R.mc!=null),d=y+b,e((P=R.mc)!=null),e(d<=P.i),P.C>=d)d=1;else if(R.ic||fi(),R.ic){R=P.V,q=P.Ba,se=P.c;var ve=P.i,le=(oe=1,I=P.$/se,U=P.$%se,te=P.m,ue=P.s,P.$),ye=se*ve,be=se*d,Ne=ue.wc,Se=le<be?Ut(ue,U,I):null;e(le<=ye),e(d<=ve),e(Xn(ue));t:for(;;){for(;!te.h&&le<be;){if(U&Ne||(Se=Ut(ue,U,I)),e(Se!=null),re(te),256>(ve=Nt(Se.G[0],Se.H[0],te)))R[q+le]=ve,++le,++U>=se&&(U=0,++I<=d&&!(I%16)&&wn(P,I));else{if(!(280>ve)){oe=0;break t}ve=Gt(ve-256,te);var Ge,Fe=Nt(Se.G[4],Se.H[4],te);if(re(te),!(le>=(Fe=$r(se,Fe=Gt(Fe,te)))&&ye-le>=ve)){oe=0;break t}for(Ge=0;Ge<ve;++Ge)R[q+le+Ge]=R[q+le+Ge-Fe];for(le+=ve,U+=ve;U>=se;)U-=se,++I<=d&&!(I%16)&&wn(P,I);le<be&&U&Ne&&(Se=Ut(ue,U,I))}e(te.h==Q(te))}wn(P,I>d?d:I);break t}!oe||te.h&&le<ye?(oe=0,P.a=te.h?5:3):P.$=le,d=oe}else d=en(P,P.V,P.Ba,P.c,P.i,d,lo);if(!d){b=0;break e}}y+b>=L&&(c.Cc=1),b=1}if(!b)return null;if(c.Cc&&((b=c.ga)!=null&&(b.mc=null),c.ga=null,0<c.Ga))return alert("todo:WebPDequantizeLevels"),null}return c.nb+y*j}function Pr(c,d,y,b,j,L){for(;0<j--;){var P,R=c,I=d+(y?1:0),U=c,te=d+(y?0:3);for(P=0;P<b;++P){var ue=U[te+4*P];ue!=255&&(ue*=32897,R[I+4*P+0]=R[I+4*P+0]*ue>>23,R[I+4*P+1]=R[I+4*P+1]*ue>>23,R[I+4*P+2]=R[I+4*P+2]*ue>>23)}d+=L}}function Ar(c,d,y,b,j){for(;0<b--;){var L;for(L=0;L<y;++L){var P=c[d+2*L+0],R=15&(U=c[d+2*L+1]),I=4369*R,U=(240&U|U>>4)*I>>16;c[d+2*L+0]=(240&P|P>>4)*I>>16&240|(15&P|P<<4)*I>>16>>4&15,c[d+2*L+1]=240&U|R}d+=j}}function Wr(c,d,y,b,j,L,P,R){var I,U,te=255;for(U=0;U<j;++U){for(I=0;I<b;++I){var ue=c[d+I];L[P+4*I]=ue,te&=ue}d+=y,P+=R}return te!=255}function rs(c,d,y,b,j){var L;for(L=0;L<j;++L)y[b+L]=c[d+L]>>8}function fi(){Wl=Pr,mg=Ar,vg=Wr,yg=rs}function ns(c,d,y){D[c]=function(b,j,L,P,R,I,U,te,ue,q,se,oe,ve,le,ye,be,Ne){var Se,Ge=Ne-1>>1,Fe=R[I+0]|U[te+0]<<16,yt=ue[q+0]|se[oe+0]<<16;e(b!=null);var ze=3*Fe+yt+131074>>2;for(d(b[j+0],255&ze,ze>>16,ve,le),L!=null&&(ze=3*yt+Fe+131074>>2,d(L[P+0],255&ze,ze>>16,ye,be)),Se=1;Se<=Ge;++Se){var kt=R[I+Se]|U[te+Se]<<16,Rr=ue[q+Se]|se[oe+Se]<<16,wt=Fe+kt+yt+Rr+524296,Ue=wt+2*(kt+yt)>>3;ze=Ue+Fe>>1,Fe=(wt=wt+2*(Fe+Rr)>>3)+kt>>1,d(b[j+2*Se-1],255&ze,ze>>16,ve,le+(2*Se-1)*y),d(b[j+2*Se-0],255&Fe,Fe>>16,ve,le+(2*Se-0)*y),L!=null&&(ze=wt+yt>>1,Fe=Ue+Rr>>1,d(L[P+2*Se-1],255&ze,ze>>16,ye,be+(2*Se-1)*y),d(L[P+2*Se+0],255&Fe,Fe>>16,ye,be+(2*Se+0)*y)),Fe=kt,yt=Rr}1&Ne||(ze=3*Fe+yt+131074>>2,d(b[j+Ne-1],255&ze,ze>>16,ve,le+(Ne-1)*y),L!=null&&(ze=3*yt+Fe+131074>>2,d(L[P+Ne-1],255&ze,ze>>16,ye,be+(Ne-1)*y)))}}function Rl(){ii[Pc]=vx,ii[Tc]=Cg,ii[kg]=yx,ii[Rc]=Lg,ii[Ic]=Pg,ii[vf]=Tg,ii[Ag]=wx,ii[yf]=Cg,ii[wf]=Lg,ii[Oc]=Pg,ii[bf]=Tg}function vo(c){return c&-16384?0>c?0:255:c>>bx}function Es(c,d){return vo((19077*c>>8)+(26149*d>>8)-14234)}function ka(c,d,y){return vo((19077*c>>8)-(6419*d>>8)-(13320*y>>8)+8708)}function Aa(c,d){return vo((19077*c>>8)+(33050*d>>8)-17685)}function Cs(c,d,y,b,j){b[j+0]=Es(c,y),b[j+1]=ka(c,d,y),b[j+2]=Aa(c,d)}function Hr(c,d,y,b,j){b[j+0]=Aa(c,d),b[j+1]=ka(c,d,y),b[j+2]=Es(c,y)}function Na(c,d,y,b,j){var L=ka(c,d,y);d=L<<3&224|Aa(c,d)>>3,b[j+0]=248&Es(c,y)|L>>5,b[j+1]=d}function ja(c,d,y,b,j){var L=240&Aa(c,d)|15;b[j+0]=240&Es(c,y)|ka(c,d,y)>>4,b[j+1]=L}function Il(c,d,y,b,j){b[j+0]=255,Cs(c,d,y,b,j+1)}function Ol(c,d,y,b,j){Hr(c,d,y,b,j),b[j+3]=255}function hn(c,d,y,b,j){Cs(c,d,y,b,j),b[j+3]=255}function is(c,d,y){D[c]=function(b,j,L,P,R,I,U,te,ue){for(var q=te+(-2&ue)*y;te!=q;)d(b[j+0],L[P+0],R[I+0],U,te),d(b[j+1],L[P+0],R[I+0],U,te+y),j+=2,++P,++I,te+=2*y;1&ue&&d(b[j+0],L[P+0],R[I+0],U,te)}}function yo(c,d,y){return y==0?c==0?d==0?6:5:d==0?4:0:y}function jc(c,d,y,b,j){switch(c>>>30){case 3:Pa(d,y,b,j,0);break;case 2:ri(d,y,b,j);break;case 1:Rt(d,y,b,j)}}function ti(c,d){var y,b,j=d.M,L=d.Nb,P=c.oc,R=c.pc+40,I=c.oc,U=c.pc+584,te=c.oc,ue=c.pc+600;for(y=0;16>y;++y)P[R+32*y-1]=129;for(y=0;8>y;++y)I[U+32*y-1]=129,te[ue+32*y-1]=129;for(0<j?P[R-1-32]=I[U-1-32]=te[ue-1-32]=129:(i(P,R-32-1,127,21),i(I,U-32-1,127,9),i(te,ue-32-1,127,9)),b=0;b<c.za;++b){var q=d.ya[d.aa+b];if(0<b){for(y=-1;16>y;++y)n(P,R+32*y-4,P,R+32*y+12,4);for(y=-1;8>y;++y)n(I,U+32*y-4,I,U+32*y+4,4),n(te,ue+32*y-4,te,ue+32*y+4,4)}var se=c.Gd,oe=c.Hd+b,ve=q.ad,le=q.Hc;if(0<j&&(n(P,R-32,se[oe].y,0,16),n(I,U-32,se[oe].f,0,8),n(te,ue-32,se[oe].ea,0,8)),q.Za){var ye=P,be=R-32+16;for(0<j&&(b>=c.za-1?i(ye,be,se[oe].y[15],4):n(ye,be,se[oe+1].y,0,4)),y=0;4>y;y++)ye[be+128+y]=ye[be+256+y]=ye[be+384+y]=ye[be+0+y];for(y=0;16>y;++y,le<<=2)ye=P,be=R+Ig[y],pi[q.Ob[y]](ye,be),jc(le,ve,16*+y,ye,be)}else if(ye=yo(b,j,q.Ob[0]),Ds[ye](P,R),le!=0)for(y=0;16>y;++y,le<<=2)jc(le,ve,16*+y,P,R+Ig[y]);for(y=q.Gc,ye=yo(b,j,q.Dd),os[ye](I,U),os[ye](te,ue),le=ve,ye=I,be=U,255&(q=0|y)&&(170&q?Bi(le,256,ye,be):qt(le,256,ye,be)),q=te,le=ue,255&(y>>=8)&&(170&y?Bi(ve,320,q,le):qt(ve,320,q,le)),j<c.Ub-1&&(n(se[oe].y,0,P,R+480,16),n(se[oe].f,0,I,U+224,8),n(se[oe].ea,0,te,ue+224,8)),y=8*L*c.B,se=c.sa,oe=c.ta+16*b+16*L*c.R,ve=c.qa,q=c.ra+8*b+y,le=c.Ha,ye=c.Ia+8*b+y,y=0;16>y;++y)n(se,oe+y*c.R,P,R+32*y,16);for(y=0;8>y;++y)n(ve,q+y*c.B,I,U+32*y,8),n(le,ye+y*c.B,te,ue+32*y,8)}}function Ea(c,d,y,b,j,L,P,R,I){var U=[0],te=[0],ue=0,q=I!=null?I.kd:0,se=I??new _e;if(c==null||12>y)return 7;se.data=c,se.w=d,se.ha=y,d=[d],y=[y],se.gb=[se.gb];e:{var oe=d,ve=y,le=se.gb;if(e(c!=null),e(ve!=null),e(le!=null),le[0]=0,12<=ve[0]&&!r(c,oe[0],"RIFF")){if(r(c,oe[0]+8,"WEBP")){le=3;break e}var ye=$e(c,oe[0]+4);if(12>ye||4294967286<ye){le=3;break e}if(q&&ye>ve[0]-8){le=7;break e}le[0]=ye,oe[0]+=12,ve[0]-=12}le=0}if(le!=0)return le;for(ye=0<se.gb[0],y=y[0];;){e:{var be=c;ve=d,le=y;var Ne=U,Se=te,Ge=oe=[0];if((ze=ue=[ue])[0]=0,8>le[0])le=7;else{if(!r(be,ve[0],"VP8X")){if($e(be,ve[0]+4)!=10){le=3;break e}if(18>le[0]){le=7;break e}var Fe=$e(be,ve[0]+8),yt=1+Pe(be,ve[0]+12);if(2147483648<=yt*(be=1+Pe(be,ve[0]+15))){le=3;break e}Ge!=null&&(Ge[0]=Fe),Ne!=null&&(Ne[0]=yt),Se!=null&&(Se[0]=be),ve[0]+=18,le[0]-=18,ze[0]=1}le=0}}if(ue=ue[0],oe=oe[0],le!=0)return le;if(ve=!!(2&oe),!ye&&ue)return 3;if(L!=null&&(L[0]=!!(16&oe)),P!=null&&(P[0]=ve),R!=null&&(R[0]=0),P=U[0],oe=te[0],ue&&ve&&I==null){le=0;break}if(4>y){le=7;break}if(ye&&ue||!ye&&!ue&&!r(c,d[0],"ALPH")){y=[y],se.na=[se.na],se.P=[se.P],se.Sa=[se.Sa];e:{Fe=c,le=d,ye=y;var ze=se.gb;Ne=se.na,Se=se.P,Ge=se.Sa,yt=22,e(Fe!=null),e(ye!=null),be=le[0];var kt=ye[0];for(e(Ne!=null),e(Ge!=null),Ne[0]=null,Se[0]=null,Ge[0]=0;;){if(le[0]=be,ye[0]=kt,8>kt){le=7;break e}var Rr=$e(Fe,be+4);if(4294967286<Rr){le=3;break e}var wt=8+Rr+1&-2;if(yt+=wt,0<ze&&yt>ze){le=3;break e}if(!r(Fe,be,"VP8 ")||!r(Fe,be,"VP8L")){le=0;break e}if(kt[0]<wt){le=7;break e}r(Fe,be,"ALPH")||(Ne[0]=Fe,Se[0]=be+8,Ge[0]=Rr),be+=wt,kt-=wt}}if(y=y[0],se.na=se.na[0],se.P=se.P[0],se.Sa=se.Sa[0],le!=0)break}y=[y],se.Ja=[se.Ja],se.xa=[se.xa];e:if(ze=c,le=d,ye=y,Ne=se.gb[0],Se=se.Ja,Ge=se.xa,Fe=le[0],be=!r(ze,Fe,"VP8 "),yt=!r(ze,Fe,"VP8L"),e(ze!=null),e(ye!=null),e(Se!=null),e(Ge!=null),8>ye[0])le=7;else{if(be||yt){if(ze=$e(ze,Fe+4),12<=Ne&&ze>Ne-12){le=3;break e}if(q&&ze>ye[0]-8){le=7;break e}Se[0]=ze,le[0]+=8,ye[0]-=8,Ge[0]=yt}else Ge[0]=5<=ye[0]&&ze[Fe+0]==47&&!(ze[Fe+4]>>5),Se[0]=ye[0];le=0}if(y=y[0],se.Ja=se.Ja[0],se.xa=se.xa[0],d=d[0],le!=0)break;if(4294967286<se.Ja)return 3;if(R==null||ve||(R[0]=se.xa?2:1),P=[P],oe=[oe],se.xa){if(5>y){le=7;break}R=P,q=oe,ve=L,c==null||5>y?c=0:5<=y&&c[d+0]==47&&!(c[d+4]>>5)?(ye=[0],ze=[0],Ne=[0],ie(Se=new W,c,d,y),Je(Se,ye,ze,Ne)?(R!=null&&(R[0]=ye[0]),q!=null&&(q[0]=ze[0]),ve!=null&&(ve[0]=Ne[0]),c=1):c=0):c=0}else{if(10>y){le=7;break}R=oe,c==null||10>y||!mc(c,d+3,y-3)?c=0:(q=c[d+0]|c[d+1]<<8|c[d+2]<<16,ve=16383&(c[d+7]<<8|c[d+6]),c=16383&(c[d+9]<<8|c[d+8]),1&q||3<(q>>1&7)||!(q>>4&1)||q>>5>=se.Ja||!ve||!c?c=0:(P&&(P[0]=ve),R&&(R[0]=c),c=1))}if(!c||(P=P[0],oe=oe[0],ue&&(U[0]!=P||te[0]!=oe)))return 3;I!=null&&(I[0]=se,I.offset=d-I.w,e(4294967286>d-I.w),e(I.offset==I.ha-y));break}return le==0||le==7&&ue&&I==null?(L!=null&&(L[0]|=se.na!=null&&0<se.na.length),b!=null&&(b[0]=P),j!=null&&(j[0]=oe),0):le}function Fl(c,d,y){var b=d.width,j=d.height,L=0,P=0,R=b,I=j;if(d.Da=c!=null&&0<c.Da,d.Da&&(R=c.cd,I=c.bd,L=c.v,P=c.j,11>y||(L&=-2,P&=-2),0>L||0>P||0>=R||0>=I||L+R>b||P+I>j))return 0;if(d.v=L,d.j=P,d.va=L+R,d.o=P+I,d.U=R,d.T=I,d.da=c!=null&&0<c.da,d.da){if(!qe(R,I,y=[c.ib],L=[c.hb]))return 0;d.ib=y[0],d.hb=L[0]}return d.ob=c!=null&&c.ob,d.Kb=c==null||!c.Sd,d.da&&(d.ob=d.ib<3*b/4&&d.hb<3*j/4,d.Kb=0),1}function Dl(c){if(c==null)return 2;if(11>c.S){var d=c.f.RGBA;d.fb+=(c.height-1)*d.A,d.A=-d.A}else d=c.f.kb,c=c.height,d.O+=(c-1)*d.fa,d.fa=-d.fa,d.N+=(c-1>>1)*d.Ab,d.Ab=-d.Ab,d.W+=(c-1>>1)*d.Db,d.Db=-d.Db,d.F!=null&&(d.J+=(c-1)*d.lb,d.lb=-d.lb);return 0}function Ls(c,d,y,b){if(b==null||0>=c||0>=d)return 2;if(y!=null){if(y.Da){var j=y.cd,L=y.bd,P=-2&y.v,R=-2&y.j;if(0>P||0>R||0>=j||0>=L||P+j>c||R+L>d)return 2;c=j,d=L}if(y.da){if(!qe(c,d,j=[y.ib],L=[y.hb]))return 2;c=j[0],d=L[0]}}b.width=c,b.height=d;e:{var I=b.width,U=b.height;if(c=b.S,0>=I||0>=U||!(c>=Pc&&13>c))c=2;else{if(0>=b.Rd&&b.sd==null){P=L=j=d=0;var te=(R=I*Og[c])*U;if(11>c||(L=(U+1)/2*(d=(I+1)/2),c==12&&(P=(j=I)*U)),(U=s(te+2*L+P))==null){c=1;break e}b.sd=U,11>c?((I=b.f.RGBA).eb=U,I.fb=0,I.A=R,I.size=te):((I=b.f.kb).y=U,I.O=0,I.fa=R,I.Fd=te,I.f=U,I.N=0+te,I.Ab=d,I.Cd=L,I.ea=U,I.W=0+te+L,I.Db=d,I.Ed=L,c==12&&(I.F=U,I.J=0+te+2*L),I.Tc=P,I.lb=j)}if(d=1,j=b.S,L=b.width,P=b.height,j>=Pc&&13>j)if(11>j)c=b.f.RGBA,d&=(R=Math.abs(c.A))*(P-1)+L<=c.size,d&=R>=L*Og[j],d&=c.eb!=null;else{c=b.f.kb,R=(L+1)/2,te=(P+1)/2,I=Math.abs(c.fa),U=Math.abs(c.Ab);var ue=Math.abs(c.Db),q=Math.abs(c.lb),se=q*(P-1)+L;d&=I*(P-1)+L<=c.Fd,d&=U*(te-1)+R<=c.Cd,d=(d&=ue*(te-1)+R<=c.Ed)&I>=L&U>=R&ue>=R,d&=c.y!=null,d&=c.f!=null,d&=c.ea!=null,j==12&&(d&=q>=L,d&=se<=c.Tc,d&=c.F!=null)}else d=0;c=d?0:2}}return c!=0||y!=null&&y.fd&&(c=Dl(b)),c}var Ca=64,Pn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Tn=24,Ps=32,ss=8,Ts=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ie("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(c){return c},D.Predictor2=function(c,d,y){return d[y+0]},D.Predictor3=function(c,d,y){return d[y+1]},D.Predictor4=function(c,d,y){return d[y-1]},D.Predictor5=function(c,d,y){return Ke(Ke(c,d[y+1]),d[y+0])},D.Predictor6=function(c,d,y){return Ke(c,d[y-1])},D.Predictor7=function(c,d,y){return Ke(c,d[y+0])},D.Predictor8=function(c,d,y){return Ke(d[y-1],d[y+0])},D.Predictor9=function(c,d,y){return Ke(d[y+0],d[y+1])},D.Predictor10=function(c,d,y){return Ke(Ke(c,d[y-1]),Ke(d[y+0],d[y+1]))},D.Predictor11=function(c,d,y){var b=d[y+0];return 0>=lt(b>>24&255,c>>24&255,(d=d[y-1])>>24&255)+lt(b>>16&255,c>>16&255,d>>16&255)+lt(b>>8&255,c>>8&255,d>>8&255)+lt(255&b,255&c,255&d)?b:c},D.Predictor12=function(c,d,y){var b=d[y+0];return(Pt((c>>24&255)+(b>>24&255)-((d=d[y-1])>>24&255))<<24|Pt((c>>16&255)+(b>>16&255)-(d>>16&255))<<16|Pt((c>>8&255)+(b>>8&255)-(d>>8&255))<<8|Pt((255&c)+(255&b)-(255&d)))>>>0},D.Predictor13=function(c,d,y){var b=d[y-1];return(ft((c=Ke(c,d[y+0]))>>24&255,b>>24&255)<<24|ft(c>>16&255,b>>16&255)<<16|ft(c>>8&255,b>>8&255)<<8|ft(255&c,255&b))>>>0};var Bl=D.PredictorAdd0;D.PredictorAdd1=xt,Ie("Predictor2","PredictorAdd2"),Ie("Predictor3","PredictorAdd3"),Ie("Predictor4","PredictorAdd4"),Ie("Predictor5","PredictorAdd5"),Ie("Predictor6","PredictorAdd6"),Ie("Predictor7","PredictorAdd7"),Ie("Predictor8","PredictorAdd8"),Ie("Predictor9","PredictorAdd9"),Ie("Predictor10","PredictorAdd10"),Ie("Predictor11","PredictorAdd11"),Ie("Predictor12","PredictorAdd12"),Ie("Predictor13","PredictorAdd13");var wo=D.PredictorAdd2;Me("ColorIndexInverseTransform","MapARGB","32b",function(c){return c>>8&255},function(c){return c}),Me("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(c){return c},function(c){return c>>8&255});var pr,Ec=D.ColorIndexInverseTransform,Fi=D.MapARGB,Di=D.VP8LColorIndexInverseTransformAlpha,Ml=D.MapAlpha,zl=D.VP8LPredictorsAdd=[];zl.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var Ul,ql,Rs,Is,Os,La,Fs,Pa,ri,Bi,Rt,qt,gr,Tr,as,$l,bo,Cc,cg,hg,dg,fg,pg,gg,Wl,mg,vg,yg,wg=s(511),bg=s(2041),xg=s(225),_g=s(767),Sg=0,mf=bg,Lc=xg,Rn=_g,ni=wg,Pc=0,Tc=1,kg=2,Rc=3,Ic=4,vf=5,Ag=6,yf=7,wf=8,Oc=9,bf=10,nx=[2,3,7],ix=[3,3,11],Ng=[280,256,256,256,40],sx=[0,1,1,1,0],ax=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ox=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],lx=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ux=8,xf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],_f=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Hl=null,cx=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],hx=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],jg=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],dx=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],fx=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],px=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],gx=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ds=[],pi=[],os=[],mx=1,Eg=2,Bs=[],ii=[];ns("UpsampleRgbLinePair",Cs,3),ns("UpsampleBgrLinePair",Hr,3),ns("UpsampleRgbaLinePair",hn,4),ns("UpsampleBgraLinePair",Ol,4),ns("UpsampleArgbLinePair",Il,4),ns("UpsampleRgba4444LinePair",ja,2),ns("UpsampleRgb565LinePair",Na,2);var vx=D.UpsampleRgbLinePair,yx=D.UpsampleBgrLinePair,Cg=D.UpsampleRgbaLinePair,Lg=D.UpsampleBgraLinePair,Pg=D.UpsampleArgbLinePair,Tg=D.UpsampleRgba4444LinePair,wx=D.UpsampleRgb565LinePair,Fc=16,Dc=1<<Fc-1,Vl=-227,Sf=482,bx=6,Rg=0,xx=s(256),_x=s(256),Sx=s(256),kx=s(256),Ax=s(Sf-Vl),Nx=s(Sf-Vl);is("YuvToRgbRow",Cs,3),is("YuvToBgrRow",Hr,3),is("YuvToRgbaRow",hn,4),is("YuvToBgraRow",Ol,4),is("YuvToArgbRow",Il,4),is("YuvToRgba4444Row",ja,2),is("YuvToRgb565Row",Na,2);var Ig=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Bc=[0,2,8],jx=[8,7,6,4,4,2,2,2,1,1,1,1],Ex=1;this.WebPDecodeRGBA=function(c,d,y,b,j){var L=Tc,P=new we,R=new vt;P.ba=R,R.S=L,R.width=[R.width],R.height=[R.height];var I=R.width,U=R.height,te=new tt;if(te==null||c==null)var ue=2;else e(te!=null),ue=Ea(c,d,y,te.width,te.height,te.Pd,te.Qd,te.format,null);if(ue!=0?I=0:(I!=null&&(I[0]=te.width[0]),U!=null&&(U[0]=te.height[0]),I=1),I){R.width=R.width[0],R.height=R.height[0],b!=null&&(b[0]=R.width),j!=null&&(j[0]=R.height);e:{if(b=new ho,(j=new _e).data=c,j.w=d,j.ha=y,j.kd=1,d=[0],e(j!=null),((c=Ea(j.data,j.w,j.ha,null,null,null,d,null,j))==0||c==7)&&d[0]&&(c=4),(d=c)==0){if(e(P!=null),b.data=j.data,b.w=j.w+j.offset,b.ha=j.ha-j.offset,b.put=K,b.ac=Cn,b.bc=Ce,b.ma=P,j.xa){if((c=va())==null){P=1;break e}if(function(q,se){var oe=[0],ve=[0],le=[0];t:for(;;){if(q==null)return 0;if(se==null)return q.a=2,0;if(q.l=se,q.a=0,ie(q.m,se.data,se.w,se.ha),!Je(q.m,oe,ve,le)){q.a=3;break t}if(q.xb=Eg,se.width=oe[0],se.height=ve[0],!Ti(oe[0],ve[0],1,q,null))break t;return 1}return e(q.a!=0),0}(c,b)){if(b=(d=Ls(b.width,b.height,P.Oa,P.ba))==0){t:{b=c;r:for(;;){if(b==null){b=0;break t}if(e(b.s.yc!=null),e(b.s.Ya!=null),e(0<b.s.Wb),e((y=b.l)!=null),e((j=y.ma)!=null),b.xb!=0){if(b.ca=j.ba,b.tb=j.tb,e(b.ca!=null),!Fl(j.Oa,y,Rc)){b.a=2;break r}if(!ya(b,y.width)||y.da)break r;if((y.da||et(b.ca.S))&&fi(),11>b.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),b.ca.f.kb.F!=null&&fi()),b.Pb&&0<b.s.ua&&b.s.vb.X==null&&!M(b.s.vb,b.s.Wa.Xa)){b.a=1;break r}b.xb=0}if(!en(b,b.V,b.Ba,b.c,b.i,y.o,Pi))break r;j.Dc=b.Ma,b=1;break t}e(b.a!=0),b=0}b=!b}b&&(d=c.a)}else d=c.a}else{if((c=new ef)==null){P=1;break e}if(c.Fa=j.na,c.P=j.P,c.qc=j.Sa,Ii(c,b)){if((d=Ls(b.width,b.height,P.Oa,P.ba))==0){if(c.Aa=0,y=P.Oa,e((j=c)!=null),y!=null){if(0<(I=0>(I=y.Md)?0:100<I?255:255*I/100)){for(U=te=0;4>U;++U)12>(ue=j.pb[U]).lc&&(ue.ia=I*jx[0>ue.lc?0:ue.lc]>>3),te|=ue.ia;te&&(alert("todo:VP8InitRandom"),j.ia=1)}j.Ga=y.Id,100<j.Ga?j.Ga=100:0>j.Ga&&(j.Ga=0)}(function(q,se){if(q==null)return 0;if(se==null)return Sr(q,2,"NULL VP8Io parameter in VP8Decode().");if(!q.cb&&!Ii(q,se))return 0;if(e(q.cb),se.ac==null||se.ac(se)){se.ob&&(q.L=0);var oe=Bc[q.L];if(q.L==2?(q.yb=0,q.zb=0):(q.yb=se.v-oe>>4,q.zb=se.j-oe>>4,0>q.yb&&(q.yb=0),0>q.zb&&(q.zb=0)),q.Va=se.o+15+oe>>4,q.Hb=se.va+15+oe>>4,q.Hb>q.za&&(q.Hb=q.za),q.Va>q.Ub&&(q.Va=q.Ub),0<q.L){var ve=q.ed;for(oe=0;4>oe;++oe){var le;if(q.Qa.Cb){var ye=q.Qa.Lb[oe];q.Qa.Fb||(ye+=ve.Tb)}else ye=ve.Tb;for(le=0;1>=le;++le){var be=q.gd[oe][le],Ne=ye;if(ve.Pc&&(Ne+=ve.vd[0],le&&(Ne+=ve.od[0])),0<(Ne=0>Ne?0:63<Ne?63:Ne)){var Se=Ne;0<ve.wb&&(Se=4<ve.wb?Se>>2:Se>>1)>9-ve.wb&&(Se=9-ve.wb),1>Se&&(Se=1),be.dd=Se,be.tc=2*Ne+Se,be.ld=40<=Ne?2:15<=Ne?1:0}else be.tc=0;be.La=le}}}oe=0}else Sr(q,6,"Frame setup failed"),oe=q.a;if(oe=oe==0){if(oe){q.$c=0,0<q.Aa||(q.Ic=Ex);t:{oe=q.Ic,ve=4*(Se=q.za);var Ge=32*Se,Fe=Se+1,yt=0<q.L?Se*(0<q.Aa?2:1):0,ze=(q.Aa==2?2:1)*Se;if((be=ve+832+(le=3*(16*oe+Bc[q.L])/2*Ge)+(ye=q.Fa!=null&&0<q.Fa.length?q.Kc.c*q.Kc.i:0))!=be)oe=0;else{if(be>q.Vb){if(q.Vb=0,q.Ec=s(be),q.Fc=0,q.Ec==null){oe=Sr(q,1,"no memory during frame initialization.");break t}q.Vb=be}be=q.Ec,Ne=q.Fc,q.Ac=be,q.Bc=Ne,Ne+=ve,q.Gd=a(Ge,pc),q.Hd=0,q.rb=a(Fe+1,Sl),q.sb=1,q.wa=yt?a(yt,Zn):null,q.Y=0,q.D.Nb=0,q.D.wa=q.wa,q.D.Y=q.Y,0<q.Aa&&(q.D.Y+=Se),e(!0),q.oc=be,q.pc=Ne,Ne+=832,q.ya=a(ze,kl),q.aa=0,q.D.ya=q.ya,q.D.aa=q.aa,q.Aa==2&&(q.D.aa+=Se),q.R=16*Se,q.B=8*Se,Se=(Ge=Bc[q.L])*q.R,Ge=Ge/2*q.B,q.sa=be,q.ta=Ne+Se,q.qa=q.sa,q.ra=q.ta+16*oe*q.R+Ge,q.Ha=q.qa,q.Ia=q.ra+8*oe*q.B+Ge,q.$c=0,Ne+=le,q.mb=ye?be:null,q.nb=ye?Ne:null,e(Ne+ye<=q.Fc+q.Vb),vc(q),i(q.Ac,q.Bc,0,ve),oe=1}}if(oe){if(se.ka=0,se.y=q.sa,se.O=q.ta,se.f=q.qa,se.N=q.ra,se.ea=q.Ha,se.Vd=q.Ia,se.fa=q.R,se.Rc=q.B,se.F=null,se.J=0,!Sg){for(oe=-255;255>=oe;++oe)wg[255+oe]=0>oe?-oe:oe;for(oe=-1020;1020>=oe;++oe)bg[1020+oe]=-128>oe?-128:127<oe?127:oe;for(oe=-112;112>=oe;++oe)xg[112+oe]=-16>oe?-16:15<oe?15:oe;for(oe=-255;510>=oe;++oe)_g[255+oe]=0>oe?0:255<oe?255:oe;Sg=1}Fs=po,Pa=rf,Bi=Oi,Rt=wc,qt=bc,ri=tf,gr=Ac,Tr=Sa,as=N,$l=$,bo=Nc,Cc=m,cg=Z,hg=ae,dg=_a,fg=Tl,pg=Sc,gg=kc,pi[0]=hf,pi[1]=nf,pi[2]=uf,pi[3]=cf,pi[4]=Yi,pi[5]=df,pi[6]=Xi,pi[7]=ff,pi[8]=jl,pi[9]=go,Ds[0]=of,Ds[1]=af,Ds[2]=Al,Ds[3]=xc,Ds[4]=ba,Ds[5]=Nl,Ds[6]=lf,os[0]=gf,os[1]=sf,os[2]=xa,os[3]=pf,os[4]=Cl,os[5]=El,os[6]=_c,oe=1}else oe=0}oe&&(oe=function(kt,Rr){for(kt.M=0;kt.M<kt.Va;++kt.M){var wt,Ue=kt.Jc[kt.M&kt.Xb],Le=kt.m,mr=kt;for(wt=0;wt<mr.za;++wt){var dt=Le,At=mr,Qt=At.Ac,Vr=At.Bc+4*wt,dn=At.zc,ur=At.ya[At.aa+wt];if(At.Qa.Bb?ur.$b=xe(dt,At.Pa.jb[0])?2+xe(dt,At.Pa.jb[2]):xe(dt,At.Pa.jb[1]):ur.$b=0,At.kc&&(ur.Ad=xe(dt,At.Bd)),ur.Za=!xe(dt,145)+0,ur.Za){var tn=ur.Ob,fn=0;for(At=0;4>At;++At){var Ir,Ct=dn[0+At];for(Ir=0;4>Ir;++Ir){Ct=fx[Qt[Vr+Ir]][Ct];for(var Ot=jg[xe(dt,Ct[0])];0<Ot;)Ot=jg[2*Ot+xe(dt,Ct[Ot])];Ct=-Ot,Qt[Vr+Ir]=Ct}n(tn,fn,Qt,Vr,4),fn+=4,dn[0+At]=Ct}}else Ct=xe(dt,156)?xe(dt,128)?1:3:xe(dt,163)?2:0,ur.Ob[0]=Ct,i(Qt,Vr,Ct,4),i(dn,0,Ct,4);ur.Dd=xe(dt,142)?xe(dt,114)?xe(dt,183)?1:3:2:0}if(mr.m.Ka)return Sr(kt,7,"Premature end-of-partition0 encountered.");for(;kt.ja<kt.za;++kt.ja){if(mr=Ue,dt=(Le=kt).rb[Le.sb-1],Qt=Le.rb[Le.sb+Le.ja],wt=Le.ya[Le.aa+Le.ja],Vr=Le.kc?wt.Ad:0)dt.la=Qt.la=0,wt.Za||(dt.Na=Qt.Na=0),wt.Hc=0,wt.Gc=0,wt.ia=0;else{var cr,Ft;if(dt=Qt,Qt=mr,Vr=Le.Pa.Xc,dn=Le.ya[Le.aa+Le.ja],ur=Le.pb[dn.$b],At=dn.ad,tn=0,fn=Le.rb[Le.sb-1],Ct=Ir=0,i(At,tn,0,384),dn.Za)var Gr=0,gi=Vr[3];else{Ot=s(16);var vr=dt.Na+fn.Na;if(vr=Hl(Qt,Vr[1],vr,ur.Eb,0,Ot,0),dt.Na=fn.Na=(0<vr)+0,1<vr)Fs(Ot,0,At,tn);else{var bn=Ot[0]+3>>3;for(Ot=0;256>Ot;Ot+=16)At[tn+Ot]=bn}Gr=1,gi=Vr[0]}var $t=15&dt.la,Or=15&fn.la;for(Ot=0;4>Ot;++Ot){var In=1&Or;for(bn=Ft=0;4>bn;++bn)$t=$t>>1|(In=(vr=Hl(Qt,gi,vr=In+(1&$t),ur.Sc,Gr,At,tn))>Gr)<<7,Ft=Ft<<2|(3<vr?3:1<vr?2:At[tn+0]!=0),tn+=16;$t>>=4,Or=Or>>1|In<<7,Ir=(Ir<<8|Ft)>>>0}for(gi=$t,Gr=Or>>4,cr=0;4>cr;cr+=2){for(Ft=0,$t=dt.la>>4+cr,Or=fn.la>>4+cr,Ot=0;2>Ot;++Ot){for(In=1&Or,bn=0;2>bn;++bn)vr=In+(1&$t),$t=$t>>1|(In=0<(vr=Hl(Qt,Vr[2],vr,ur.Qc,0,At,tn)))<<3,Ft=Ft<<2|(3<vr?3:1<vr?2:At[tn+0]!=0),tn+=16;$t>>=2,Or=Or>>1|In<<5}Ct|=Ft<<4*cr,gi|=$t<<4<<cr,Gr|=(240&Or)<<cr}dt.la=gi,fn.la=Gr,dn.Hc=Ir,dn.Gc=Ct,dn.ia=43690&Ct?0:ur.ia,Vr=!(Ir|Ct)}if(0<Le.L&&(Le.wa[Le.Y+Le.ja]=Le.gd[wt.$b][wt.Za],Le.wa[Le.Y+Le.ja].La|=!Vr),mr.Ka)return Sr(kt,7,"Premature end-of-file encountered.")}if(vc(kt),Le=Rr,mr=1,wt=(Ue=kt).D,dt=0<Ue.L&&Ue.M>=Ue.zb&&Ue.M<=Ue.Va,Ue.Aa==0)t:{if(wt.M=Ue.M,wt.uc=dt,ti(Ue,wt),mr=1,wt=(Ft=Ue.D).Nb,dt=(Ct=Bc[Ue.L])*Ue.R,Qt=Ct/2*Ue.B,Ot=16*wt*Ue.R,bn=8*wt*Ue.B,Vr=Ue.sa,dn=Ue.ta-dt+Ot,ur=Ue.qa,At=Ue.ra-Qt+bn,tn=Ue.Ha,fn=Ue.Ia-Qt+bn,Or=($t=Ft.M)==0,Ir=$t>=Ue.Va-1,Ue.Aa==2&&ti(Ue,Ft),Ft.uc)for(In=(vr=Ue).D.M,e(vr.D.uc),Ft=vr.yb;Ft<vr.Hb;++Ft){Gr=Ft,gi=In;var pn=(On=(Kr=vr).D).Nb;cr=Kr.R;var On=On.wa[On.Y+Gr],Fn=Kr.sa,xn=Kr.ta+16*pn*cr+16*Gr,Dn=On.dd,Jt=On.tc;if(Jt!=0)if(e(3<=Jt),Kr.L==1)0<Gr&&fg(Fn,xn,cr,Jt+4),On.La&&gg(Fn,xn,cr,Jt),0<gi&&dg(Fn,xn,cr,Jt+4),On.La&&pg(Fn,xn,cr,Jt);else{var Bn=Kr.B,mi=Kr.qa,Ta=Kr.ra+8*pn*Bn+8*Gr,ls=Kr.Ha,Kr=Kr.Ia+8*pn*Bn+8*Gr;pn=On.ld,0<Gr&&(Tr(Fn,xn,cr,Jt+4,Dn,pn),$l(mi,Ta,ls,Kr,Bn,Jt+4,Dn,pn)),On.La&&(Cc(Fn,xn,cr,Jt,Dn,pn),hg(mi,Ta,ls,Kr,Bn,Jt,Dn,pn)),0<gi&&(gr(Fn,xn,cr,Jt+4,Dn,pn),as(mi,Ta,ls,Kr,Bn,Jt+4,Dn,pn)),On.La&&(bo(Fn,xn,cr,Jt,Dn,pn),cg(mi,Ta,ls,Kr,Bn,Jt,Dn,pn))}}if(Ue.ia&&alert("todo:DitherRow"),Le.put!=null){if(Ft=16*$t,$t=16*($t+1),Or?(Le.y=Ue.sa,Le.O=Ue.ta+Ot,Le.f=Ue.qa,Le.N=Ue.ra+bn,Le.ea=Ue.Ha,Le.W=Ue.Ia+bn):(Ft-=Ct,Le.y=Vr,Le.O=dn,Le.f=ur,Le.N=At,Le.ea=tn,Le.W=fn),Ir||($t-=Ct),$t>Le.o&&($t=Le.o),Le.F=null,Le.J=null,Ue.Fa!=null&&0<Ue.Fa.length&&Ft<$t&&(Le.J=Kt(Ue,Le,Ft,$t-Ft),Le.F=Ue.mb,Le.F==null&&Le.F.length==0)){mr=Sr(Ue,3,"Could not decode alpha data.");break t}Ft<Le.j&&(Ct=Le.j-Ft,Ft=Le.j,e(!(1&Ct)),Le.O+=Ue.R*Ct,Le.N+=Ue.B*(Ct>>1),Le.W+=Ue.B*(Ct>>1),Le.F!=null&&(Le.J+=Le.width*Ct)),Ft<$t&&(Le.O+=Le.v,Le.N+=Le.v>>1,Le.W+=Le.v>>1,Le.F!=null&&(Le.J+=Le.v),Le.ka=Ft-Le.j,Le.U=Le.va-Le.v,Le.T=$t-Ft,mr=Le.put(Le))}wt+1!=Ue.Ic||Ir||(n(Ue.sa,Ue.ta-dt,Vr,dn+16*Ue.R,dt),n(Ue.qa,Ue.ra-Qt,ur,At+8*Ue.B,Qt),n(Ue.Ha,Ue.Ia-Qt,tn,fn+8*Ue.B,Qt))}if(!mr)return Sr(kt,6,"Output aborted.")}return 1}(q,se)),se.bc!=null&&se.bc(se),oe&=1}return oe?(q.cb=0,oe):0})(c,b)||(d=c.a)}}else d=c.a}d==0&&P.Oa!=null&&P.Oa.fd&&(d=Dl(P.ba))}P=d}L=P!=0?null:11>L?R.f.RGBA.eb:R.f.kb.y}else L=null;return L};var Og=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(D,ee){for(var T="",B=0;B<4;B++)T+=String.fromCharCode(D[ee++]);return T}function h(D,ee){return D[ee+0]|D[ee+1]<<8}function p(D,ee){return(D[ee+0]|D[ee+1]<<8|D[ee+2]<<16)>>>0}function v(D,ee){return(D[ee+0]|D[ee+1]<<8|D[ee+2]<<16|D[ee+3]<<24)>>>0}new l;var f=[0],_=[0],x=[],A=new l,w=t,S=function(D,ee){var T={},B=0,Y=!1,G=0,ce=0;if(T.frames=[],!function(C,W){for(var H=0;H<4;H++)if(C[W+H]!="RIFF".charCodeAt(H))return!0;return!1}(D,ee)){for(v(D,ee+=4),ee+=8;ee<D.length;){var de=u(D,ee),X=v(D,ee+=4);ee+=4;var O=X+(1&X);switch(de){case"VP8 ":case"VP8L":T.frames[B]===void 0&&(T.frames[B]={}),(pe=T.frames[B]).src_off=Y?ce:ee-8,pe.src_size=G+X+8,B++,Y&&(Y=!1,G=0,ce=0);break;case"VP8X":(pe=T.header={}).feature_flags=D[ee];var ie=ee+4;pe.canvas_width=1+p(D,ie),ie+=3,pe.canvas_height=1+p(D,ie),ie+=3;break;case"ALPH":Y=!0,G=O+8,ce=ee-8;break;case"ANIM":(pe=T.header).bgcolor=v(D,ee),ie=ee+4,pe.loop_count=h(D,ie),ie+=2;break;case"ANMF":var fe,pe;(pe=T.frames[B]={}).offset_x=2*p(D,ee),ee+=3,pe.offset_y=2*p(D,ee),ee+=3,pe.width=1+p(D,ee),ee+=3,pe.height=1+p(D,ee),ee+=3,pe.duration=p(D,ee),ee+=3,fe=D[ee++],pe.dispose=1&fe,pe.blend=fe>>1&1}de!="ANMF"&&(ee+=O)}return T}}(w,0);S.response=w,S.rgbaoutput=!0,S.dataurl=!1;var k=S.header?S.header:null,E=S.frames?S.frames:null;if(k){k.loop_counter=k.loop_count,f=[k.canvas_height],_=[k.canvas_width];for(var F=0;F<E.length&&E[F].blend!=0;F++);}var J=E[0],V=A.WebPDecodeRGBA(w,J.src_off,J.src_size,_,f);J.rgba=V,J.imgwidth=_[0],J.imgheight=f[0];for(var z=0;z<_[0]*f[0]*4;z++)x[z]=V[z];return this.width=_,this.height=f,this.data=x,this}/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */function GN(){var t,e=this.internal.__metadata__.metadata,r=unescape(encodeURIComponent(e));t=this.internal.__metadata__.rawXml?r:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+t.length+" >>"),this.internal.write("stream"),this.internal.write(t),this.internal.write("endstream"),this.internal.write("endobj")}function KN(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(t){var e,r,n,i,s,a,o,l,u,h=function(C){return C=C||{},this.isStrokeTransparent=C.isStrokeTransparent||!1,this.strokeOpacity=C.strokeOpacity||1,this.strokeStyle=C.strokeStyle||"#000000",this.fillStyle=C.fillStyle||"#000000",this.isFillTransparent=C.isFillTransparent||!1,this.fillOpacity=C.fillOpacity||1,this.font=C.font||"10px sans-serif",this.textBaseline=C.textBaseline||"alphabetic",this.textAlign=C.textAlign||"left",this.lineWidth=C.lineWidth||1,this.lineJoin=C.lineJoin||"miter",this.lineCap=C.lineCap||"butt",this.path=C.path||[],this.transform=C.transform!==void 0?C.transform.clone():new l,this.globalCompositeOperation=C.globalCompositeOperation||"normal",this.globalAlpha=C.globalAlpha||1,this.clip_path=C.clip_path||[],this.currentPoint=C.currentPoint||new a,this.miterLimit=C.miterLimit||10,this.lastPoint=C.lastPoint||new a,this.lineDashOffset=C.lineDashOffset||0,this.lineDash=C.lineDash||[],this.margin=C.margin||[0,0,0,0],this.prevPageLastElemOffset=C.prevPageLastElemOffset||0,this.ignoreClearRect=typeof C.ignoreClearRect!="boolean"||C.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new h}]);var p=function(C){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=C;Object.defineProperty(this,"pdf",{get:function(){return W}});var H=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return H},set:function(M){H=!!M}});var Q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Q},set:function(M){Q=!!M}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(M){isNaN(M)||(ne=M)}});var re=0;Object.defineProperty(this,"posY",{get:function(){return re},set:function(M){isNaN(M)||(re=M)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(M){var Ee;typeof M=="number"?Ee=[M,M,M,M]:((Ee=new Array(4))[0]=M[0],Ee[1]=M.length>=2?M[1]:Ee[0],Ee[2]=M.length>=3?M[2]:Ee[0],Ee[3]=M.length>=4?M[3]:Ee[1]),u.margin=Ee}});var me=!1;Object.defineProperty(this,"autoPaging",{get:function(){return me},set:function(M){me=M}});var ge=0;Object.defineProperty(this,"lastBreak",{get:function(){return ge},set:function(M){ge=M}});var xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xe},set:function(M){xe=M}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(M){M instanceof h&&(u=M)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(M){u.path=M}});var Ae=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ae},set:function(M){Ae=M}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(M){var Ee;Ee=v(M),this.ctx.fillStyle=Ee.style,this.ctx.isFillTransparent=Ee.a===0,this.ctx.fillOpacity=Ee.a,this.pdf.setFillColor(Ee.r,Ee.g,Ee.b,{a:Ee.a}),this.pdf.setTextColor(Ee.r,Ee.g,Ee.b,{a:Ee.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(M){var Ee=v(M);this.ctx.strokeStyle=Ee.style,this.ctx.isStrokeTransparent=Ee.a===0,this.ctx.strokeOpacity=Ee.a,Ee.a===0?this.pdf.setDrawColor(255,255,255):(Ee.a,this.pdf.setDrawColor(Ee.r,Ee.g,Ee.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(M){["butt","round","square"].indexOf(M)!==-1&&(this.ctx.lineCap=M,this.pdf.setLineCap(M))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(M){isNaN(M)||(this.ctx.lineWidth=M,this.pdf.setLineWidth(M))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(M){["bevel","round","miter"].indexOf(M)!==-1&&(this.ctx.lineJoin=M,this.pdf.setLineJoin(M))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(M){isNaN(M)||(this.ctx.miterLimit=M,this.pdf.setMiterLimit(M))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(M){this.ctx.textBaseline=M}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(M){["right","end","center","left","start"].indexOf(M)!==-1&&(this.ctx.textAlign=M)}});var Te=null,Pe=null,$e=null;Object.defineProperty(this,"fontFaces",{get:function(){return $e},set:function(M){Te=null,Pe=null,$e=M}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(M){var Ee;if(this.ctx.font=M,(Ee=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(M))!==null){var Ze=Ee[1];Ee[2];var qe=Ee[3],ke=Ee[4];Ee[5];var Ye=Ee[6],Ie=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ke)[2];ke=Math.floor(Ie==="px"?parseFloat(ke)*this.pdf.internal.scaleFactor:Ie==="em"?parseFloat(ke)*this.pdf.getFontSize():parseFloat(ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ke);var Qe=function(Me){var ir,St,gt=[],mt=Me.trim();if(mt==="")return Tp;if(mt in Dv)return[Dv[mt]];for(;mt!=="";){switch(St=null,ir=(mt=Mv(mt)).charAt(0)){case'"':case"'":St=UN(mt.substring(1),ir);break;default:St=qN(mt)}if(St===null||(gt.push(St[0]),(mt=Mv(St[1]))!==""&&mt.charAt(0)!==","))return Tp;mt=mt.replace(/^,/,"")}return gt}(Ye);if(this.fontFaces){var Ke=function(Me,ir){var St=Me.getFontList(),gt=JSON.stringify(St);if(Te===null||Pe!==gt){var mt=function(Ht){var Xe=[];return Object.keys(Ht).forEach(function(It){Ht[It].forEach(function(et){var it=null;switch(et){case"bold":it={family:It,weight:"bold"};break;case"italic":it={family:It,style:"italic"};break;case"bolditalic":it={family:It,weight:"bold",style:"italic"};break;case"":case"normal":it={family:It}}it!==null&&(it.ref={name:It,style:et},Xe.push(it))})}),Xe}(St);Te=function(Ht){for(var Xe={},It=0;It<Ht.length;++It){var et=Pp(Ht[It]),it=et.family,Vt=et.stretch,vt=et.style,tt=et.weight;Xe[it]=Xe[it]||{},Xe[it][Vt]=Xe[it][Vt]||{},Xe[it][Vt][vt]=Xe[it][Vt][vt]||{},Xe[it][Vt][vt][tt]=et}return Xe}(mt.concat(ir)),Pe=gt}return Te}(this.pdf,this.fontFaces),Pt=Qe.map(function(Me){return{family:Me,stretch:"normal",weight:qe,style:Ze}}),ft=function(Me,ir,St){for(var gt=(St=St||{}).defaultFontFamily||"times",mt=Object.assign({},zN,St.genericFontFamilies||{}),Ht=null,Xe=null,It=0;It<ir.length;++It)if(mt[(Ht=Pp(ir[It])).family]&&(Ht.family=mt[Ht.family]),Me.hasOwnProperty(Ht.family)){Xe=Me[Ht.family];break}if(!(Xe=Xe||Me[gt]))throw new Error("Could not find a font-family for the rule '"+Bv(Ht)+"' and default family '"+gt+"'.");if(Xe=function(et,it){if(it[et])return it[et];var Vt=r1[et],vt=Vt<=r1.normal?-1:1,tt=Fv(it,Db,Vt,vt);if(!tt)throw new Error("Could not find a matching font-stretch value for "+et);return tt}(Ht.stretch,Xe),Xe=function(et,it){if(it[et])return it[et];for(var Vt=Fb[et],vt=0;vt<Vt.length;++vt)if(it[Vt[vt]])return it[Vt[vt]];throw new Error("Could not find a matching font-style for "+et)}(Ht.style,Xe),!(Xe=function(et,it){if(it[et])return it[et];if(et===400&&it[500])return it[500];if(et===500&&it[400])return it[400];var Vt=MN[et],vt=Fv(it,Bb,Vt,et<400?-1:1);if(!vt)throw new Error("Could not find a matching font-weight for value "+et);return vt}(Ht.weight,Xe)))throw new Error("Failed to resolve a font for the rule '"+Bv(Ht)+"'.");return Xe}(Ke,Pt);this.pdf.setFont(ft.ref.name,ft.ref.style)}else{var lt="";(qe==="bold"||parseInt(qe,10)>=700||Ze==="bold")&&(lt="bold"),Ze==="italic"&&(lt+="italic"),lt.length===0&&(lt="normal");for(var xt="",bt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Re=0;Re<Qe.length;Re++){if(this.pdf.internal.getFont(Qe[Re],lt,{noFallback:!0,disableWarning:!0})!==void 0){xt=Qe[Re];break}if(lt==="bolditalic"&&this.pdf.internal.getFont(Qe[Re],"bold",{noFallback:!0,disableWarning:!0})!==void 0)xt=Qe[Re],lt="bold";else if(this.pdf.internal.getFont(Qe[Re],"normal",{noFallback:!0,disableWarning:!0})!==void 0){xt=Qe[Re],lt="normal";break}}if(xt===""){for(var ct=0;ct<Qe.length;ct++)if(bt[Qe[ct]]){xt=bt[Qe[ct]];break}}xt=xt===""?"Times":xt,this.pdf.setFont(xt,lt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(M){this.ctx.globalCompositeOperation=M}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(M){this.ctx.globalAlpha=M}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(M){this.ctx.lineDashOffset=M,pe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(M){this.ctx.lineDash=M,pe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(M){this.ctx.ignoreClearRect=!!M}})};p.prototype.setLineDash=function(C){this.lineDash=C},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){E.call(this,"fill",!1)},p.prototype.stroke=function(){E.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(C,W){if(isNaN(C)||isNaN(W))throw Wt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var H=this.ctx.transform.applyToPoint(new a(C,W));this.path.push({type:"mt",x:H.x,y:H.y}),this.ctx.lastPoint=new a(C,W)},p.prototype.closePath=function(){var C=new a(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&Bt(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){C=new a(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(C.x,C.y)},p.prototype.lineTo=function(C,W){if(isNaN(C)||isNaN(W))throw Wt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var H=this.ctx.transform.applyToPoint(new a(C,W));this.path.push({type:"lt",x:H.x,y:H.y}),this.ctx.lastPoint=new a(H.x,H.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),E.call(this,null,!0)},p.prototype.quadraticCurveTo=function(C,W,H,Q){if(isNaN(H)||isNaN(Q)||isNaN(C)||isNaN(W))throw Wt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new a(H,Q)),re=this.ctx.transform.applyToPoint(new a(C,W));this.path.push({type:"qct",x1:re.x,y1:re.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new a(ne.x,ne.y)},p.prototype.bezierCurveTo=function(C,W,H,Q,ne,re){if(isNaN(ne)||isNaN(re)||isNaN(C)||isNaN(W)||isNaN(H)||isNaN(Q))throw Wt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var me=this.ctx.transform.applyToPoint(new a(ne,re)),ge=this.ctx.transform.applyToPoint(new a(C,W)),xe=this.ctx.transform.applyToPoint(new a(H,Q));this.path.push({type:"bct",x1:ge.x,y1:ge.y,x2:xe.x,y2:xe.y,x:me.x,y:me.y}),this.ctx.lastPoint=new a(me.x,me.y)},p.prototype.arc=function(C,W,H,Q,ne,re){if(isNaN(C)||isNaN(W)||isNaN(H)||isNaN(Q)||isNaN(ne))throw Wt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(re=!!re,!this.ctx.transform.isIdentity){var me=this.ctx.transform.applyToPoint(new a(C,W));C=me.x,W=me.y;var ge=this.ctx.transform.applyToPoint(new a(0,H)),xe=this.ctx.transform.applyToPoint(new a(0,0));H=Math.sqrt(Math.pow(ge.x-xe.x,2)+Math.pow(ge.y-xe.y,2))}Math.abs(ne-Q)>=2*Math.PI&&(Q=0,ne=2*Math.PI),this.path.push({type:"arc",x:C,y:W,radius:H,startAngle:Q,endAngle:ne,counterclockwise:re})},p.prototype.arcTo=function(C,W,H,Q,ne){throw new Error("arcTo not implemented.")},p.prototype.rect=function(C,W,H,Q){if(isNaN(C)||isNaN(W)||isNaN(H)||isNaN(Q))throw Wt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(C,W),this.lineTo(C+H,W),this.lineTo(C+H,W+Q),this.lineTo(C,W+Q),this.lineTo(C,W),this.lineTo(C+H,W),this.lineTo(C,W)},p.prototype.fillRect=function(C,W,H,Q){if(isNaN(C)||isNaN(W)||isNaN(H)||isNaN(Q))throw Wt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(C,W,H,Q),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},p.prototype.strokeRect=function(C,W,H,Q){if(isNaN(C)||isNaN(W)||isNaN(H)||isNaN(Q))throw Wt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");_.call(this)||(this.beginPath(),this.rect(C,W,H,Q),this.stroke())},p.prototype.clearRect=function(C,W,H,Q){if(isNaN(C)||isNaN(W)||isNaN(H)||isNaN(Q))throw Wt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(C,W,H,Q))},p.prototype.save=function(C){C=typeof C!="boolean"||C;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),C){this.ctx.fontSize=this.pdf.internal.getFontSize();var Q=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Q}},p.prototype.restore=function(C){C=typeof C!="boolean"||C;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("Q");this.pdf.setPage(W),C&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(C){var W,H,Q,ne;if(C.isCanvasGradient===!0&&(C=C.getColor()),!C)return{r:0,g:0,b:0,a:0,style:C};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(C))W=0,H=0,Q=0,ne=0;else{var re=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(C);if(re!==null)W=parseInt(re[1]),H=parseInt(re[2]),Q=parseInt(re[3]),ne=1;else if((re=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(C))!==null)W=parseInt(re[1]),H=parseInt(re[2]),Q=parseInt(re[3]),ne=parseFloat(re[4]);else{if(ne=1,typeof C=="string"&&C.charAt(0)!=="#"){var me=new Cb(C);C=me.ok?me.toHex():"#000000"}C.length===4?(W=C.substring(1,2),W+=W,H=C.substring(2,3),H+=H,Q=C.substring(3,4),Q+=Q):(W=C.substring(1,3),H=C.substring(3,5),Q=C.substring(5,7)),W=parseInt(W,16),H=parseInt(H,16),Q=parseInt(Q,16)}}return{r:W,g:H,b:Q,a:ne,style:C}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},_=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(C,W,H,Q){if(isNaN(W)||isNaN(H)||typeof C!="string")throw Wt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Q=isNaN(Q)?void 0:Q,!f.call(this)){var ne=O(this.ctx.transform.rotation),re=this.ctx.transform.scaleX;B.call(this,{text:C,x:W,y:H,scale:re,angle:ne,align:this.textAlign,maxWidth:Q})}},p.prototype.strokeText=function(C,W,H,Q){if(isNaN(W)||isNaN(H)||typeof C!="string")throw Wt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!_.call(this)){Q=isNaN(Q)?void 0:Q;var ne=O(this.ctx.transform.rotation),re=this.ctx.transform.scaleX;B.call(this,{text:C,x:W,y:H,scale:re,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:Q})}},p.prototype.measureText=function(C){if(typeof C!="string")throw Wt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,H=this.pdf.internal.scaleFactor,Q=W.internal.getFontSize(),ne=W.getStringUnitWidth(C)*Q/W.internal.scaleFactor;return new function(re){var me=(re=re||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return me}}),this}({width:ne*=Math.round(96*H/72*1e4)/1e4})},p.prototype.scale=function(C,W){if(isNaN(C)||isNaN(W))throw Wt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var H=new l(C,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(H)},p.prototype.rotate=function(C){if(isNaN(C))throw Wt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new l(Math.cos(C),Math.sin(C),-Math.sin(C),Math.cos(C),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},p.prototype.translate=function(C,W){if(isNaN(C)||isNaN(W))throw Wt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var H=new l(1,0,0,1,C,W);this.ctx.transform=this.ctx.transform.multiply(H)},p.prototype.transform=function(C,W,H,Q,ne,re){if(isNaN(C)||isNaN(W)||isNaN(H)||isNaN(Q)||isNaN(ne)||isNaN(re))throw Wt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var me=new l(C,W,H,Q,ne,re);this.ctx.transform=this.ctx.transform.multiply(me)},p.prototype.setTransform=function(C,W,H,Q,ne,re){C=isNaN(C)?1:C,W=isNaN(W)?0:W,H=isNaN(H)?0:H,Q=isNaN(Q)?1:Q,ne=isNaN(ne)?0:ne,re=isNaN(re)?0:re,this.ctx.transform=new l(C,W,H,Q,ne,re)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(C,W,H,Q,ne,re,me,ge,xe){var Ae=this.pdf.getImageProperties(C),Te=1,Pe=1,$e=1,M=1;Q!==void 0&&ge!==void 0&&($e=ge/Q,M=xe/ne,Te=Ae.width/Q*ge/Q,Pe=Ae.height/ne*xe/ne),re===void 0&&(re=W,me=H,W=0,H=0),Q!==void 0&&ge===void 0&&(ge=Q,xe=ne),Q===void 0&&ge===void 0&&(ge=Ae.width,xe=Ae.height);var Ee=this.ctx.transform.decompose(),Ze=O(Ee.rotate.shx),qe=new l,ke=(qe=(qe=(qe=qe.multiply(Ee.translate)).multiply(Ee.skew)).multiply(Ee.scale)).applyToRectangle(new o(re-W*$e,me-H*M,Q*Te,ne*Pe));if(this.autoPaging){for(var Ye,Ie=A.call(this,ke),Qe=[],Ke=0;Ke<Ie.length;Ke+=1)Qe.indexOf(Ie[Ke])===-1&&Qe.push(Ie[Ke]);k(Qe);for(var Pt=Qe[0],ft=Qe[Qe.length-1],lt=Pt;lt<ft+1;lt++){this.pdf.setPage(lt);var xt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],bt=lt===1?this.posY+this.margin[0]:this.margin[0],Re=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Me=lt===1?0:Re+(lt-2)*ct;if(this.ctx.clip_path.length!==0){var ir=this.path;Ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(Ye,this.posX+this.margin[3],-Me+bt+this.ctx.prevPageLastElemOffset),F.call(this,"fill",!0),this.path=ir}var St=JSON.parse(JSON.stringify(ke));St=S([St],this.posX+this.margin[3],-Me+bt+this.ctx.prevPageLastElemOffset)[0];var gt=(lt>Pt||lt<ft)&&x.call(this);gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xt,ct,null).clip().discardPath()),this.pdf.addImage(C,"JPEG",St.x,St.y,St.w,St.h,null,null,Ze),gt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(C,"JPEG",ke.x,ke.y,ke.w,ke.h,null,null,Ze)};var A=function(C,W,H){var Q=[];W=W||this.pdf.internal.pageSize.width,H=H||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(C.type){default:case"mt":case"lt":Q.push(Math.floor((C.y+ne)/H)+1);break;case"arc":Q.push(Math.floor((C.y+ne-C.radius)/H)+1),Q.push(Math.floor((C.y+ne+C.radius)/H)+1);break;case"qct":var re=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x,C.y);Q.push(Math.floor((re.y+ne)/H)+1),Q.push(Math.floor((re.y+re.h+ne)/H)+1);break;case"bct":var me=fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x2,C.y2,C.x,C.y);Q.push(Math.floor((me.y+ne)/H)+1),Q.push(Math.floor((me.y+me.h+ne)/H)+1);break;case"rect":Q.push(Math.floor((C.y+ne)/H)+1),Q.push(Math.floor((C.y+C.h+ne)/H)+1)}for(var ge=0;ge<Q.length;ge+=1)for(;this.pdf.internal.getNumberOfPages()<Q[ge];)w.call(this);return Q},w=function(){var C=this.fillStyle,W=this.strokeStyle,H=this.font,Q=this.lineCap,ne=this.lineWidth,re=this.lineJoin;this.pdf.addPage(),this.fillStyle=C,this.strokeStyle=W,this.font=H,this.lineCap=Q,this.lineWidth=ne,this.lineJoin=re},S=function(C,W,H){for(var Q=0;Q<C.length;Q++)switch(C[Q].type){case"bct":C[Q].x2+=W,C[Q].y2+=H;case"qct":C[Q].x1+=W,C[Q].y1+=H;default:C[Q].x+=W,C[Q].y+=H}return C},k=function(C){return C.sort(function(W,H){return W-H})},E=function(C,W){var H=this.fillStyle,Q=this.strokeStyle,ne=this.lineCap,re=this.lineWidth,me=Math.abs(re*this.ctx.transform.scaleX),ge=this.lineJoin;if(this.autoPaging){for(var xe,Ae,Te=JSON.parse(JSON.stringify(this.path)),Pe=JSON.parse(JSON.stringify(this.path)),$e=[],M=0;M<Pe.length;M++)if(Pe[M].x!==void 0)for(var Ee=A.call(this,Pe[M]),Ze=0;Ze<Ee.length;Ze+=1)$e.indexOf(Ee[Ze])===-1&&$e.push(Ee[Ze]);for(var qe=0;qe<$e.length;qe++)for(;this.pdf.internal.getNumberOfPages()<$e[qe];)w.call(this);k($e);for(var ke=$e[0],Ye=$e[$e.length-1],Ie=ke;Ie<Ye+1;Ie++){this.pdf.setPage(Ie),this.fillStyle=H,this.strokeStyle=Q,this.lineCap=ne,this.lineWidth=me,this.lineJoin=ge;var Qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ke=Ie===1?this.posY+this.margin[0]:this.margin[0],Pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],lt=Ie===1?0:Pt+(Ie-2)*ft;if(this.ctx.clip_path.length!==0){var xt=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(xe,this.posX+this.margin[3],-lt+Ke+this.ctx.prevPageLastElemOffset),F.call(this,C,!0),this.path=xt}if(Ae=JSON.parse(JSON.stringify(Te)),this.path=S(Ae,this.posX+this.margin[3],-lt+Ke+this.ctx.prevPageLastElemOffset),W===!1||Ie===0){var bt=(Ie>ke||Ie<Ye)&&x.call(this);bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qe,ft,null).clip().discardPath()),F.call(this,C,W),bt&&this.pdf.restoreGraphicsState()}this.lineWidth=re}this.path=Te}else this.lineWidth=me,F.call(this,C,W),this.lineWidth=re},F=function(C,W){if((C!=="stroke"||W||!_.call(this))&&(C==="stroke"||W||!f.call(this))){for(var H,Q,ne=[],re=this.path,me=0;me<re.length;me++){var ge=re[me];switch(ge.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:ge,deltas:[],abs:[]});break;case"lt":var xe=ne.length;if(re[me-1]&&!isNaN(re[me-1].x)&&(H=[ge.x-re[me-1].x,ge.y-re[me-1].y],xe>0)){for(;xe>=0;xe--)if(ne[xe-1].close!==!0&&ne[xe-1].begin!==!0){ne[xe-1].deltas.push(H),ne[xe-1].abs.push(ge);break}}break;case"bct":H=[ge.x1-re[me-1].x,ge.y1-re[me-1].y,ge.x2-re[me-1].x,ge.y2-re[me-1].y,ge.x-re[me-1].x,ge.y-re[me-1].y],ne[ne.length-1].deltas.push(H);break;case"qct":var Ae=re[me-1].x+2/3*(ge.x1-re[me-1].x),Te=re[me-1].y+2/3*(ge.y1-re[me-1].y),Pe=ge.x+2/3*(ge.x1-ge.x),$e=ge.y+2/3*(ge.y1-ge.y),M=ge.x,Ee=ge.y;H=[Ae-re[me-1].x,Te-re[me-1].y,Pe-re[me-1].x,$e-re[me-1].y,M-re[me-1].x,Ee-re[me-1].y],ne[ne.length-1].deltas.push(H);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(ge)}}Q=W?null:C==="stroke"?"stroke":"fill";for(var Ze=!1,qe=0;qe<ne.length;qe++)if(ne[qe].arc)for(var ke=ne[qe].abs,Ye=0;Ye<ke.length;Ye++){var Ie=ke[Ye];Ie.type==="arc"?z.call(this,Ie.x,Ie.y,Ie.radius,Ie.startAngle,Ie.endAngle,Ie.counterclockwise,void 0,W,!Ze):Y.call(this,Ie.x,Ie.y),Ze=!0}else if(ne[qe].close===!0)this.pdf.internal.out("h"),Ze=!1;else if(ne[qe].begin!==!0){var Qe=ne[qe].start.x,Ke=ne[qe].start.y;G.call(this,ne[qe].deltas,Qe,Ke),Ze=!0}Q&&D.call(this,Q),W&&ee.call(this)}},J=function(C){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,H=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return C-H;case"top":return C+W-H;case"hanging":return C+W-2*H;case"middle":return C+W/2-H;default:return C}},V=function(C){return C+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var C=function(){};return C.colorStops=[],C.addColorStop=function(W,H){this.colorStops.push([W,H])},C.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},C.isCanvasGradient=!0,C},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var z=function(C,W,H,Q,ne,re,me,ge,xe){for(var Ae=de.call(this,H,Q,ne,re),Te=0;Te<Ae.length;Te++){var Pe=Ae[Te];Te===0&&(xe?T.call(this,Pe.x1+C,Pe.y1+W):Y.call(this,Pe.x1+C,Pe.y1+W)),ce.call(this,C,W,Pe.x2,Pe.y2,Pe.x3,Pe.y3,Pe.x4,Pe.y4)}ge?ee.call(this):D.call(this,me)},D=function(C){switch(C){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ee=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(C,W){this.pdf.internal.out(r(C)+" "+n(W)+" m")},B=function(C){var W;switch(C.align){case"right":case"end":W="right";break;case"center":W="center";break;default:W="left"}var H,Q,ne,re=this.pdf.getTextDimensions(C.text),me=J.call(this,C.y),ge=V.call(this,me)-re.h,xe=this.ctx.transform.applyToPoint(new a(C.x,me));if(this.autoPaging){var Ae=this.ctx.transform.decompose(),Te=new l;Te=(Te=(Te=Te.multiply(Ae.translate)).multiply(Ae.skew)).multiply(Ae.scale);for(var Pe=this.ctx.transform.applyToRectangle(new o(C.x,me,re.w,re.h)),$e=Te.applyToRectangle(new o(C.x,ge,re.w,re.h)),M=A.call(this,$e),Ee=[],Ze=0;Ze<M.length;Ze+=1)Ee.indexOf(M[Ze])===-1&&Ee.push(M[Ze]);k(Ee);for(var qe=Ee[0],ke=Ee[Ee.length-1],Ye=qe;Ye<ke+1;Ye++){this.pdf.setPage(Ye);var Ie=Ye===1?this.posY+this.margin[0]:this.margin[0],Qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ke=this.pdf.internal.pageSize.height-this.margin[2],Pt=Ke-this.margin[0],ft=this.pdf.internal.pageSize.width-this.margin[1],lt=ft-this.margin[3],xt=Ye===1?0:Qe+(Ye-2)*Pt;if(this.ctx.clip_path.length!==0){var bt=this.path;H=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=S(H,this.posX+this.margin[3],-1*xt+Ie),F.call(this,"fill",!0),this.path=bt}var Re=S([JSON.parse(JSON.stringify($e))],this.posX+this.margin[3],-xt+Ie+this.ctx.prevPageLastElemOffset)[0];C.scale>=.01&&(Q=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Q*C.scale),ne=this.lineWidth,this.lineWidth=ne*C.scale);var ct=this.autoPaging!=="text";if(ct||Re.y+Re.h<=Ke){if(ct||Re.y>=Ie&&Re.x<=ft){var Me=ct?C.text:this.pdf.splitTextToSize(C.text,C.maxWidth||ft-Re.x)[0],ir=S([JSON.parse(JSON.stringify(Pe))],this.posX+this.margin[3],-xt+Ie+this.ctx.prevPageLastElemOffset)[0],St=ct&&(Ye>qe||Ye<ke)&&x.call(this);St&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,Pt,null).clip().discardPath()),this.pdf.text(Me,ir.x,ir.y,{angle:C.angle,align:W,renderingMode:C.renderingMode}),St&&this.pdf.restoreGraphicsState()}}else Re.y<Ke&&(this.ctx.prevPageLastElemOffset+=Ke-Re.y);C.scale>=.01&&(this.pdf.setFontSize(Q),this.lineWidth=ne)}}else C.scale>=.01&&(Q=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Q*C.scale),ne=this.lineWidth,this.lineWidth=ne*C.scale),this.pdf.text(C.text,xe.x+this.posX,xe.y+this.posY,{angle:C.angle,align:W,renderingMode:C.renderingMode,maxWidth:C.maxWidth}),C.scale>=.01&&(this.pdf.setFontSize(Q),this.lineWidth=ne)},Y=function(C,W,H,Q){H=H||0,Q=Q||0,this.pdf.internal.out(r(C+H)+" "+n(W+Q)+" l")},G=function(C,W,H){return this.pdf.lines(C,W,H,null,null)},ce=function(C,W,H,Q,ne,re,me,ge){this.pdf.internal.out([e(i(H+C)),e(s(Q+W)),e(i(ne+C)),e(s(re+W)),e(i(me+C)),e(s(ge+W)),"c"].join(" "))},de=function(C,W,H,Q){for(var ne=2*Math.PI,re=Math.PI/2;W>H;)W-=ne;var me=Math.abs(H-W);me<ne&&Q&&(me=ne-me);for(var ge=[],xe=Q?-1:1,Ae=W;me>1e-5;){var Te=Ae+xe*Math.min(me,re);ge.push(X.call(this,C,Ae,Te)),me-=Math.abs(Te-Ae),Ae=Te}return ge},X=function(C,W,H){var Q=(H-W)/2,ne=C*Math.cos(Q),re=C*Math.sin(Q),me=ne,ge=-re,xe=me*me+ge*ge,Ae=xe+me*ne+ge*re,Te=4/3*(Math.sqrt(2*xe*Ae)-Ae)/(me*re-ge*ne),Pe=me-Te*ge,$e=ge+Te*me,M=Pe,Ee=-$e,Ze=Q+W,qe=Math.cos(Ze),ke=Math.sin(Ze);return{x1:C*Math.cos(W),y1:C*Math.sin(W),x2:Pe*qe-$e*ke,y2:Pe*ke+$e*qe,x3:M*qe-Ee*ke,y3:M*ke+Ee*qe,x4:C*Math.cos(H),y4:C*Math.sin(H)}},O=function(C){return 180*C/Math.PI},ie=function(C,W,H,Q,ne,re){var me=C+.5*(H-C),ge=W+.5*(Q-W),xe=ne+.5*(H-ne),Ae=re+.5*(Q-re),Te=Math.min(C,ne,me,xe),Pe=Math.max(C,ne,me,xe),$e=Math.min(W,re,ge,Ae),M=Math.max(W,re,ge,Ae);return new o(Te,$e,Pe-Te,M-$e)},fe=function(C,W,H,Q,ne,re,me,ge){var xe,Ae,Te,Pe,$e,M,Ee,Ze,qe,ke,Ye,Ie,Qe,Ke,Pt=H-C,ft=Q-W,lt=ne-H,xt=re-Q,bt=me-ne,Re=ge-re;for(Ae=0;Ae<41;Ae++)qe=(Ee=(Te=C+(xe=Ae/40)*Pt)+xe*(($e=H+xe*lt)-Te))+xe*($e+xe*(ne+xe*bt-$e)-Ee),ke=(Ze=(Pe=W+xe*ft)+xe*((M=Q+xe*xt)-Pe))+xe*(M+xe*(re+xe*Re-M)-Ze),Ae==0?(Ye=qe,Ie=ke,Qe=qe,Ke=ke):(Ye=Math.min(Ye,qe),Ie=Math.min(Ie,ke),Qe=Math.max(Qe,qe),Ke=Math.max(Ke,ke));return new o(Math.round(Ye),Math.round(Ie),Math.round(Qe-Ye),Math.round(Ke-Ie))},pe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var C,W,H=(C=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:C,lineDashOffset:W}));this.prevLineDash!==H&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=H)}}})(Ve.API),function(t){var e=function(a){var o,l,u,h,p,v,f,_,x,A;for(l=[],u=0,h=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;h>u;u+=4)(p=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(v=(p=((p=((p=((p=(p-(A=p%85))/85)-(x=p%85))/85)-(_=p%85))/85)-(f=p%85))/85)%85,l.push(v+33,f+33,_+33,x+33,A+33)):l.push(122);return function(w,S){for(var k=S;k>0;k--)w.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(a){var o,l,u,h,p,v=String,f="length",_=255,x="charCodeAt",A="slice",w="replace";for(a[A](-2),a=a[A](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),u=[],h=0,p=(a+=o="uuuuu"[A](a[f]%5||5))[f];p>h;h+=5)l=52200625*(a[x](h)-33)+614125*(a[x](h+1)-33)+7225*(a[x](h+2)-33)+85*(a[x](h+3)-33)+(a[x](h+4)-33),u.push(_&l>>24,_&l>>16,_&l>>8,_&l);return function(S,k){for(var E=k;E>0;E--)S.pop()}(u,o[f]),v.fromCharCode.apply(v,u)},n=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",u=0;u<a.length;u+=2)l+=String.fromCharCode("0x"+(a[u]+a[u+1]));return l},s=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return(o=J0(o)).reduce(function(u,h){return u+String.fromCharCode(h)},"")};t.processDataByFilters=function(a,o){var l=0,u=a||"",h=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:u,reverseChain:h.reverse().join(" ")}}}(Ve.API),function(t){t.loadFile=function(e,r,n){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,u,h){var p=new XMLHttpRequest,v=0,f=function(_){var x=_.length,A=[],w=String.fromCharCode;for(v=0;v<x;v+=1)A.push(w(255&_.charCodeAt(v)));return A.join("")};if(p.open("GET",l,!u),p.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(p.onload=function(){p.status===200?h(f(this.responseText)):h(void 0)}),p.send(null),u&&p.status===200)return f(p.responseText)}(i,s,a)}catch{}return o}(e,r,n)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile}(Ve.API),function(t){function e(){return(at.html2canvas?Promise.resolve(at.html2canvas):fp(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(at.DOMPurify?Promise.resolve(at.DOMPurify):fp(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=Bt(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var u=document.createElement(o);for(var h in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[h]=l.style[h];return u},s=function o(l,u){for(var h=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),p=l.firstChild;p;p=p.nextSibling)u!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||h.appendChild(o(p,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(h.width=l.width,h.height=l.height,h.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(h.value=l.value),h.addEventListener("load",function(){h.scrollTop=l.scrollTop,h.scrollLeft=l.scrollLeft},!0)),h},a=function o(l){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),h=o.convert(Promise.resolve(),u);return(h=h.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(r).then(function(u){return this.set({src:i("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=this.opt.jsPDF,h=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=h,h)for(var f=0;f<h.length;++f){var _=h[f],x=_.src.find(function(A){return A.format==="truetype"});x&&u.addFont(x.url,_.ref.name,_.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,u.context2d.save(!0),l(this.prop.container,v)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(u){if(u in a.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var u=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(u):u})},a.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(u,h){return Math.floor(u*h/72*96)}return this.then(function(){(o=o||Ve.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,u,h){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,u,h){return this.setProgress(o?this.progress.val+o:null,l||null,u?this.progress.n+u:null,h?this.progress.stack.concat(h):null)},a.prototype.then=function(o,l){var u=this;return this.thenCore(o,l,function(h,p){return u.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(v){return u.updateProgress(null,h),v}).then(h,p).then(function(v){return u.updateProgress(1),v})})},a.prototype.thenCore=function(o,l,u){u=u||Promise.prototype.then;var h=this;o&&(o=o.bind(h)),l&&(l=l.bind(h));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:a.convert(Object.assign({},h),Promise.prototype),v=u.call(p,o,l);return a.convert(v,h.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(u){l=l.thenCore(u)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Ve.getPageSize=function(o,l,u){if(Bt(o)==="object"){var h=o;o=h.orientation,l=h.unit||l,u=h.format||u}l=l||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var p,v=(""+u).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+l}var _,x=0,A=0;if(f.hasOwnProperty(v))x=f[v][1]/p,A=f[v][0]/p;else try{x=u[1],A=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",A>x&&(_=A,A=x,x=_);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",x>A&&(_=A,A=x,x=_)}return{width:A,height:x,unit:l,k:p,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Pp):null;var u=new a(l);return l.worker?u:u.from(o).doCallback()}}(Ve.API),Ve.API.addJS=function(t){var e,r,n=t;return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+n+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&r!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=n.exec(a);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,h=[];for(s=0;s<u;s++){var p=r.internal.newObject();h.push(p);var v=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<h.length;s++)r.internal.write("(page_"+(s+1)+")"+h[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(Ve.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,s,a,o){var l,u=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(p){for(var v,f=256*p.charCodeAt(4)+p.charCodeAt(5),_=p.length,x={width:0,height:0,numcomponents:1},A=4;A<_;A+=2){if(A+=f,e.indexOf(p.charCodeAt(A+1))!==-1){v=256*p.charCodeAt(A+5)+p.charCodeAt(A+6),x={width:256*p.charCodeAt(A+7)+p.charCodeAt(A+8),height:v,numcomponents:p.charCodeAt(A+9)};break}f=256*p.charCodeAt(A+2)+p.charCodeAt(A+3)}return x}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}h={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:i}}return h}}(Ve.API),Ve.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=AN(t,{checkCrc:!0}),a=s.width,o=s.height,l=s.channels,u=s.palette,h=s.depth;i=u&&l===1?function(z){for(var D=z.width,ee=z.height,T=z.data,B=z.palette,Y=z.depth,G=!1,ce=[],de=[],X=void 0,O=!1,ie=0,fe=0;fe<B.length;fe++){var pe=H2(B[fe],4),C=pe[0],W=pe[1],H=pe[2],Q=pe[3];ce.push(C,W,H),Q!=null&&(Q===0?(ie++,de.length<1&&de.push(fe)):Q<255&&(O=!0))}if(O||ie>1){G=!0,de=void 0;var ne=D*ee;X=new Uint8Array(ne);for(var re=new DataView(T.buffer),me=0;me<ne;me++){var ge=Rp(re,me,Y),xe=H2(B[ge],4)[3];X[me]=xe}}else ie===0&&(de=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:G?8:void 0,colorBytes:T,alphaBytes:X,needSMask:G,palette:ce,mask:de}}(s):l===2||l===4?function(z){for(var D=z.data,ee=z.width,T=z.height,B=z.channels,Y=z.depth,G=B===2?"DeviceGray":"DeviceRGB",ce=B-1,de=ee*T,X=ce,O=de*X,ie=1*de,fe=Math.ceil(O*Y/8),pe=Math.ceil(ie*Y/8),C=new Uint8Array(fe),W=new Uint8Array(pe),H=new DataView(D.buffer),Q=new DataView(C.buffer),ne=new DataView(W.buffer),re=!1,me=0;me<de;me++){for(var ge=me*B,xe=0;xe<X;xe++)Kv(Q,Rp(H,ge+xe,Y),me*X+xe,Y);var Ae=Rp(H,ge+X,Y);Ae<(1<<Y)-1&&(re=!0),Kv(ne,Ae,1*me,Y)}return{colorSpace:G,colorsPerPixel:ce,sMaskBitsPerComponent:re?Y:void 0,colorBytes:C,alphaBytes:W,needSMask:re}}(s):function(z){var D=z.data,ee=z.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:ee,colorsPerPixel:ee==="DeviceGray"?1:3,colorBytes:D instanceof Uint16Array?function(T){for(var B=T.length,Y=new Uint8Array(2*B),G=new DataView(Y.buffer,Y.byteOffset,Y.byteLength),ce=0;ce<B;ce++)G.setUint16(2*ce,T[ce],!1);return Y}(D):D,needSMask:!1}}(s);var p,v,f,_=i,x=_.colorSpace,A=_.colorsPerPixel,w=_.sMaskBitsPerComponent,S=_.colorBytes,k=_.alphaBytes,E=_.needSMask,F=_.palette,J=_.mask,V=null;return n!==Ve.API.image_compression.NONE&&typeof J0=="function"?(V=function(z){var D;switch(z){case Ve.API.image_compression.FAST:D=11;break;case Ve.API.image_compression.MEDIUM:D=13;break;case Ve.API.image_compression.SLOW:D=14;break;default:D=12}return D}(n),p=this.decode.FLATE_DECODE,v="/Predictor ".concat(V," /Colors ").concat(A," /BitsPerComponent ").concat(h," /Columns ").concat(a),t=$v(S,Math.ceil(a*A*h/8),A,h,n),E&&(f=$v(k,Math.ceil(a*w/8),1,w,n))):(p=void 0,v=void 0,t=S,E&&(f=k)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:r,data:t,index:e,filter:p,decodeParameters:v,transparency:J,palette:F,sMask:f,predictor:V,width:a,height:o,bitsPerComponent:h,sMaskBitsPerComponent:w,colorSpace:x}}},function(t){t.processGIF89A=function(e,r,n,i){var s=new VN(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:a,height:o},h=new Ip(100).encode(u,100);return t.processJPEG.call(this,h,r,n,i)},t.processGIF87A=t.processGIF89A}(Ve.API),yi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},yi.prototype.parseBGR=function(){this.pos=this.offset;var t="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[t]()}catch(r){Wt.log("bit decode error:"+r)}},yi.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}r!==0&&(this.pos+=4-r)}},yi.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,o=s>>4,l=15&s,u=this.palette[o];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},yi.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},yi.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,h=n*this.width*4+4*i;this.data[h]=l,this.data[h+1]=o,this.data[h+2]=a,this.data[h+3]=u}this.pos+=t}},yi.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&r)/r*255|0,u=(a>>11)/e*255|0,h=i*this.width*4+4*s;this.data[h]=u,this.data[h+1]=l,this.data[h+2]=o,this.data[h+3]=255}this.pos+=t}},yi.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},yi.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=a}},yi.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var s=new yi(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new Ip(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}}(Ve.API),Yv.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var s=new Yv(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new Ip(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}}(Ve.API),Ve.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,u=0;u<i;u+=4){var h=n[u],p=n[u+1],v=n[u+2],f=n[u+3];s[o++]=h,s[o++]=p,s[o++]=v,a[l++]=f}var _=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:_,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Ve.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Po=Ve.API,Sh=Po.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,h=u.fof?u.fof:1,p=e.doKerning!==!1,v=0,f=t.length,_=0,x=o[0]||l,A=[];for(r=0;r<f;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?A.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(v=p&&Bt(u[n])==="object"&&!isNaN(parseInt(u[n][_],10))?u[n][_]/h:0,A.push((o[n]||x)/l+v)),_=n;return A},zv=Po.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Po.processArabic&&(t=Po.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:Sh.apply(this,arguments).reduce(function(s,a){return s+a},0)},Uv=function(t,e,r,n){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<r;)o+=e[s],s++;i.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>n&&(i.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},qv=function(t,e,r){r||(r={});var n,i,s,a,o,l,u,h=[],p=[h],v=r.textIndent||0,f=0,_=0,x=t.split(" "),A=Sh.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?x[0].length+2:r.lineIndent||0){var w=Array(l).join(" "),S=[];x.map(function(E){(E=E.split(/\s*\n/)).length>1?S=S.concat(E.map(function(F,J){return(J&&F.length?`
`:"")+F})):S.push(E[0])}),x=S,l=zv.apply(this,[w,r])}for(s=0,a=x.length;s<a;s++){var k=0;if(n=x[s],l&&n[0]==`
`&&(n=n.substr(1),k=1),v+f+(_=(i=Sh.apply(this,[n,r])).reduce(function(E,F){return E+F},0))>e||k){if(_>e){for(o=Uv.apply(this,[n,i,e-(v+f),e]),h.push(o.shift()),h=[o.pop()];o.length;)p.push([o.shift()]);_=i.slice(n.length-(h[0]?h[0].length:0)).reduce(function(E,F){return E+F},0)}else h=[n];p.push(h),v=_+l,f=A}else h.push(n),v+=f+_,f=A}return u=l?function(E,F){return(F?w:"")+E.join(" ")}:function(E){return E.join(" ")},p.map(u)},Po.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var p=this.internal.getFont(h.fontName,h.fontStyle),v="Unicode";return p.metadata[v]?{widths:p.metadata[v].widths||{0:1},kerning:p.metadata[v].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var o,l,u=[];for(o=0,l=n.length;o<l;o++)u=u.concat(qv.apply(this,[n[o],a,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},s=0;s<16;s++)n[r[s]]=e[s],i[e[s]]=r[s];var a=function(v){return"0x"+parseInt(v,10).toString(16)},o=t.__fontmetrics__.compress=function(v){var f,_,x,A,w=["{"];for(var S in v){if(f=v[S],isNaN(parseInt(S,10))?_="'"+S+"'":(S=parseInt(S,10),_=(_=a(S).slice(2)).slice(0,-1)+i[_.slice(-1)]),typeof f=="number")f<0?(x=a(f).slice(3),A="-"):(x=a(f).slice(2),A=""),x=A+x.slice(0,-1)+i[x.slice(-1)];else{if(Bt(f)!=="object")throw new Error("Don't know what to do with value type "+Bt(f)+".");x=o(f)}w.push(_+x)}return w.push("}"),w.join("")},l=t.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,_,x,A,w={},S=1,k=w,E=[],F="",J="",V=v.length-1,z=1;z<V;z+=1)(A=v[z])=="'"?f?(x=f.join(""),f=void 0):f=[]:f?f.push(A):A=="{"?(E.push([k,x]),k={},x=void 0):A=="}"?((_=E.pop())[0][_[1]]=k,x=void 0,k=_[0]):A=="-"?S=-1:x===void 0?n.hasOwnProperty(A)?(F+=n[A],x=parseInt(F,16)*S,S=1,F=""):F+=A:n.hasOwnProperty(A)?(J+=n[A],k[x]=parseInt(J,16)*S,S=1,x=void 0,J=""):J+=A;return w},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},p={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(v){var f=v.font,_=p.Unicode[f.postScriptName];_&&(f.metadata.Unicode={},f.metadata.Unicode.widths=_.widths,f.metadata.Unicode.kerning=_.kerning);var x=h.Unicode[f.postScriptName];x&&(f.metadata.Unicode.encoding=x,f.encoding=x.codePages[0])}])}(Ve.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(Bh(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])}(Ve),Ve.API.addSvgAsImage=function(t,e,r,n,i,s,a,o){if(isNaN(e)||isNaN(r))throw Wt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw Wt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(at.canvg?Promise.resolve(at.canvg):fp(()=>import("./index.es-Nck0_sSZ.js"),[])).catch(function(v){return Promise.reject(new Error("Could not load canvg: "+v))}).then(function(v){return v.default?v.default:v}).then(function(v){return v.fromString(u,t,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(h)}).then(function(){p.addImage(l.toDataURL("image/jpeg",1),e,r,n,i,a,o)})},Ve.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},Ve.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],u=0,h=0,p=0;function v(_,x){var A,w=!1;for(A=0;A<_.length;A+=1)_[A]===x&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=o.length;for(p=0;p<f;p+=1)r[o[p]].value=r[o[p]].defaultValue,r[o[p]].explicitSet=!1}if(Bt(t)==="object"){for(i in t)if(s=t[i],v(o,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&v(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(h=0;h<s[u].length;h+=1)typeof s[u][h]!="number"&&(n=!1);n===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var _,x=[];for(_ in r)r[_].explicitSet===!0&&(r[_].type==="name"?x.push("/"+_+" /"+r[_].value):x.push("/"+_+" "+r[_].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},Ve.API.addMetadata=function(t,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:t,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",KN),this.internal.events.subscribe("postPutResources",GN)),this},function(t){var e=t.API,r=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,u=["","0","00","000","0000"],h=[""],p=0,v=s.length;p<v;++p){if(o=a.metadata.characterToGlyph(s.charCodeAt(p)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(p),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return h.join("");o=o.toString(16),h.push(u[4-o.length],o)}return h.join("")},n=function(s){var a,o,l,u,h,p,v;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],p=0,v=(o=Object.keys(s).sort(function(f,_){return f-_})).length;p<v;p++)a=o[p],l.length>=100&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(u=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+u+">"));return l.length&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,h=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var p=o.metadata.Unicode.widths,v=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),f="",_=0;_<v.length;_++)f+=String.fromCharCode(v[_]);var x=u();h({data:f,addLength1:!0,objectId:x}),l("endobj");var A=u();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:A}),l("endobj");var w=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Fo(o.fontName)),l("/FontFile2 "+x+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var S=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Fo(o.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+t.API.PDFObject.convert(p)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+A+" 0 R"),l("/BaseFont /"+Fo(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+S+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,h=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var p=o.metadata.rawData,v="",f=0;f<p.length;f++)v+=String.fromCharCode(p[f]);var _=u();h({data:v,addLength1:!0,objectId:_}),l("endobj");var x=u();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var A=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+_+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Fo(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var w=0;w<o.metadata.hmtx.widths.length;w++)o.metadata.hmtx.widths[w]=parseInt(o.metadata.hmtx.widths[w]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+Fo(o.fontName)+"/FontDescriptor "+A+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,u=s.y,h=s.options||{},p=s.mutex||{},v=p.pdfEscape,f=p.activeFontKey,_=p.fonts,x=f,A="",w=0,S="",k=_[x].encoding;if(_[x].encoding!=="Identity-H")return{text:o,x:l,y:u,options:h,mutex:p};for(S=o,x=f,Array.isArray(o)&&(S=o[0]),w=0;w<S.length;w+=1)_[x].metadata.hasOwnProperty("cmap")&&(a=_[x].metadata.cmap.unicode.codeMap[S[w].charCodeAt(0)]),a||S[w].charCodeAt(0)<256&&_[x].metadata.hasOwnProperty("Unicode")?A+=S[w]:A+="";var E="";return parseInt(x.slice(1))<14||k==="WinAnsiEncoding"?E=v(A,x).split("").map(function(F){return F.charCodeAt(0).toString(16)}).join(""):k==="Identity-H"&&(E=r(A,_[x])),p.isHex=!0,{text:E,x:l,y:u,options:h,mutex:p}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?o.push([i(Object.assign({},l,{text:a[u][0]})).text,a[u][1],a[u][2]]):o.push(i(Object.assign({},l,{text:a[u]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(Ve),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Ve.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,s,a,o,l,u,h,p=e,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],_={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},A=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),S=!1,k=0;this.__bidiEngine__={};var E=function(T){var B=T.charCodeAt(),Y=B>>8,G=x[Y];return G!==void 0?p[256*G+(255&B)]:Y===252||Y===253?"AL":w.test(Y)?"L":Y===8?"R":"N"},F=function(T){for(var B,Y=0;Y<T.length;Y++){if((B=E(T.charAt(Y)))==="L")return!1;if(B==="R")return!0}return!1},J=function(T,B,Y,G){var ce,de,X,O,ie=B[G];switch(ie){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":S=!1;break;case"N":case"AN":break;case"EN":S&&(ie="AN");break;case"AL":S=!0,ie="R";break;case"WS":case"BN":ie="N";break;case"CS":G<1||G+1>=B.length||(ce=Y[G-1])!=="EN"&&ce!=="AN"||(de=B[G+1])!=="EN"&&de!=="AN"?ie="N":S&&(de="AN"),ie=de===ce?de:"N";break;case"ES":ie=(ce=G>0?Y[G-1]:"B")==="EN"&&G+1<B.length&&B[G+1]==="EN"?"EN":"N";break;case"ET":if(G>0&&Y[G-1]==="EN"){ie="EN";break}if(S){ie="N";break}for(X=G+1,O=B.length;X<O&&B[X]==="ET";)X++;ie=X<O&&B[X]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(O=B.length,X=G+1;X<O&&B[X]==="NSM";)X++;if(X<O){var fe=T[G],pe=fe>=1425&&fe<=2303||fe===64286;if(ce=B[X],pe&&(ce==="R"||ce==="AL")){ie="R";break}}}ie=G<1||(ce=B[G-1])==="B"?"N":Y[G-1];break;case"B":S=!1,i=!0,ie=k;break;case"S":s=!0,ie="N"}return ie},V=function(T,B,Y){var G=T.split("");return Y&&z(G,Y,{hiLevel:k}),G.reverse(),B&&B.reverse(),G.join("")},z=function(T,B,Y){var G,ce,de,X,O,ie=-1,fe=T.length,pe=0,C=[],W=k?f:v,H=[];for(S=!1,i=!1,s=!1,ce=0;ce<fe;ce++)H[ce]=E(T[ce]);for(de=0;de<fe;de++){if(O=pe,C[de]=J(T,H,C,de),G=240&(pe=W[O][_[C[de]]]),pe&=15,B[de]=X=W[pe][5],G>0)if(G===16){for(ce=ie;ce<de;ce++)B[ce]=1;ie=-1}else ie=-1;if(W[pe][6])ie===-1&&(ie=de);else if(ie>-1){for(ce=ie;ce<de;ce++)B[ce]=X;ie=-1}H[de]==="B"&&(B[de]=0),Y.hiLevel|=X}s&&function(Q,ne,re){for(var me=0;me<re;me++)if(Q[me]==="S"){ne[me]=k;for(var ge=me-1;ge>=0&&Q[ge]==="WS";ge--)ne[ge]=k}}(H,B,fe)},D=function(T,B,Y,G,ce){if(!(ce.hiLevel<T)){if(T===1&&k===1&&!i)return B.reverse(),void(Y&&Y.reverse());for(var de,X,O,ie,fe=B.length,pe=0;pe<fe;){if(G[pe]>=T){for(O=pe+1;O<fe&&G[O]>=T;)O++;for(ie=pe,X=O-1;ie<X;ie++,X--)de=B[ie],B[ie]=B[X],B[X]=de,Y&&(de=Y[ie],Y[ie]=Y[X],Y[X]=de);pe=O}pe++}}},ee=function(T,B,Y){var G=T.split(""),ce={hiLevel:k};return Y||(Y=[]),z(G,Y,ce),function(de,X,O){if(O.hiLevel!==0&&h)for(var ie,fe=0;fe<de.length;fe++)X[fe]===1&&(ie=A.indexOf(de[fe]))>=0&&(de[fe]=A[ie+1])}(G,Y,ce),D(2,G,B,Y,ce),D(1,G,B,Y,ce),G.join("")};return this.__bidiEngine__.doBidiReorder=function(T,B,Y){if(function(ce,de){if(de)for(var X=0;X<ce.length;X++)de[X]=X;o===void 0&&(o=F(ce)),u===void 0&&(u=F(ce))}(T,B),a||!l||u)if(a&&l&&o^u)k=o?1:0,T=V(T,B,Y);else if(!a&&l&&u)k=o?1:0,T=ee(T,B,Y),T=V(T,B);else if(!a||o||l||u){if(a&&!l&&o^u)T=V(T,B),o?(k=0,T=ee(T,B,Y)):(k=1,T=ee(T,B,Y),T=V(T,B));else if(a&&o&&!l&&u)k=1,T=ee(T,B,Y),T=V(T,B);else if(!a&&!l&&o^u){var G=h;o?(k=1,T=ee(T,B,Y),k=0,h=!1,T=ee(T,B,Y),h=G):(k=0,T=ee(T,B,Y),T=V(T,B),k=1,h=!1,T=ee(T,B,Y),h=G,T=V(T,B))}}else k=0,T=ee(T,B,Y);else k=o?1:0,T=ee(T,B,Y);return T},this.__bidiEngine__.setOptions=function(T){T&&(a=T.isInputVisual,l=T.isOutputVisual,o=T.isInputRtl,u=T.isOutputRtl,h=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([r.doBidiReorder(i[o])]);n.text=a}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(Ve),Ve.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new fa(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new u7(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new JN(this.contents),this.head=new XN(this),this.name=new r7(this),this.cmap=new zb(this),this.toUnicode={},this.hhea=new QN(this),this.maxp=new n7(this),this.hmtx=new i7(this),this.post=new e7(this),this.os2=new ZN(this),this.loca=new l7(this),this.glyf=new s7(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,u;for(u=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return a*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var Li,fa=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,s,a,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)r=e[n],s.push(this.writeByte(r));return s},t}(),JN=function(){var t;function e(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,s,a,o,l,u,h,p,v,f,_,x;for(x in f=Object.keys(r).length,l=Math.log(2),p=16*Math.floor(Math.log(f)/l),a=Math.floor(p/l),h=16*f-p,(i=new fa).writeInt(this.scalarType),i.writeShort(f),i.writeShort(p),i.writeShort(a),i.writeShort(h),s=16*f,u=i.pos+s,o=null,_=[],r)for(v=r[x],i.writeString(x),i.writeInt(t(v)),i.writeInt(u),i.writeInt(v.length),_=_.concat(v),x==="head"&&(o=u),u+=v.length;u%4;)_.push(0),u++;return i.write(_),n=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(n),i.data},t=function(r){var n,i,s,a;for(r=Ub.call(r);r.length%4;)r.push(0);for(s=new fa(r),i=0,n=0,a=r.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},e}(),YN={}.hasOwnProperty,Ki=function(t,e){for(var r in e)YN.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Li=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var XN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ki(t,Li),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new fa).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),Xv=function(){function t(e,r){var n,i,s,a,o,l,u,h,p,v,f,_,x,A,w,S,k;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),v=f/2,e.pos+=6,s=function(){var E,F;for(F=[],l=E=0;0<=v?E<v:E>v;l=0<=v?++E:--E)F.push(e.readUInt16());return F}(),e.pos+=2,x=function(){var E,F;for(F=[],l=E=0;0<=v?E<v:E>v;l=0<=v?++E:--E)F.push(e.readUInt16());return F}(),u=function(){var E,F;for(F=[],l=E=0;0<=v?E<v:E>v;l=0<=v?++E:--E)F.push(e.readUInt16());return F}(),h=function(){var E,F;for(F=[],l=E=0;0<=v?E<v:E>v;l=0<=v?++E:--E)F.push(e.readUInt16());return F}(),i=(this.length-e.pos+this.offset)/2,o=function(){var E,F;for(F=[],l=E=0;0<=i?E<i:E>i;l=0<=i?++E:--E)F.push(e.readUInt16());return F}(),l=w=0,k=s.length;w<k;l=++w)for(A=s[l],n=S=_=x[l];_<=A?S<=A:S>=A;n=_<=A?++S:--S)h[l]===0?a=n+u[l]:(a=o[h[l]/2+(n-_)-(v-l)]||0)!==0&&(a+=u[l]),this.codeMap[n]=65535&a}e.pos=p}return t.encode=function(e,r){var n,i,s,a,o,l,u,h,p,v,f,_,x,A,w,S,k,E,F,J,V,z,D,ee,T,B,Y,G,ce,de,X,O,ie,fe,pe,C,W,H,Q,ne,re,me,ge,xe,Ae,Te;switch(G=new fa,a=Object.keys(e).sort(function(Pe,$e){return Pe-$e}),r){case"macroman":for(x=0,A=function(){var Pe=[];for(_=0;_<256;++_)Pe.push(0);return Pe}(),S={0:0},s={},ce=0,ie=a.length;ce<ie;ce++)S[ge=e[i=a[ce]]]==null&&(S[ge]=++x),s[i]={old:e[i],new:S[e[i]]},A[i]=S[e[i]];return G.writeUInt16(1),G.writeUInt16(0),G.writeUInt32(12),G.writeUInt16(0),G.writeUInt16(262),G.writeUInt16(0),G.write(A),{charMap:s,subtable:G.data,maxGlyphID:x+1};case"unicode":for(B=[],p=[],k=0,S={},n={},w=u=null,de=0,fe=a.length;de<fe;de++)S[F=e[i=a[de]]]==null&&(S[F]=++k),n[i]={old:F,new:S[F]},o=S[F]-i,w!=null&&o===u||(w&&p.push(w),B.push(i),u=o),w=i;for(w&&p.push(w),p.push(65535),B.push(65535),ee=2*(D=B.length),z=2*Math.pow(Math.log(D)/Math.LN2,2),v=Math.log(z/2)/Math.LN2,V=2*D-z,l=[],J=[],f=[],_=X=0,pe=B.length;X<pe;_=++X){if(T=B[_],h=p[_],T===65535){l.push(0),J.push(0);break}if(T-(Y=n[T].new)>=32768)for(l.push(0),J.push(2*(f.length+D-_)),i=O=T;T<=h?O<=h:O>=h;i=T<=h?++O:--O)f.push(n[i].new);else l.push(Y-T),J.push(0)}for(G.writeUInt16(3),G.writeUInt16(1),G.writeUInt32(12),G.writeUInt16(4),G.writeUInt16(16+8*D+2*f.length),G.writeUInt16(0),G.writeUInt16(ee),G.writeUInt16(z),G.writeUInt16(v),G.writeUInt16(V),re=0,C=p.length;re<C;re++)i=p[re],G.writeUInt16(i);for(G.writeUInt16(0),me=0,W=B.length;me<W;me++)i=B[me],G.writeUInt16(i);for(xe=0,H=l.length;xe<H;xe++)o=l[xe],G.writeUInt16(o);for(Ae=0,Q=J.length;Ae<Q;Ae++)E=J[Ae],G.writeUInt16(E);for(Te=0,ne=f.length;Te<ne;Te++)x=f[Te],G.writeUInt16(x);return{charMap:n,subtable:G.data,maxGlyphID:k+1}}},t}(),zb=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ki(t,Li),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new Xv(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=Xv.encode(e,r),(i=new fa).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t}(),QN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ki(t,Li),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),ZN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ki(t,Li),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),e7=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ki(t,Li),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var a,o,l;for(l=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)l.push(e.readUInt32());return l}).call(this)}},t}(),t7=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},r7=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ki(t,Li),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,s,a,o,l,u,h,p,v;for(e.pos=this.offset,e.readShort(),r=e.readShort(),o=e.readShort(),n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},s=h=0,p=n.length;h<p;s=++h)i=n[s],e.pos=i.offset,u=e.readString(i.length),a=new t7(u,i),l[v=i.nameID]==null&&(l[v]=[]),l[i.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),n7=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ki(t,Li),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),i7=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ki(t,Li),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,s,a,o,l;for(e.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,h;for(h=[],r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u)h.push(e.readInt16());return h}(),this.widths=(function(){var u,h,p,v;for(v=[],u=0,h=(p=this.metrics).length;u<h;u++)s=p[u],v.push(s.advance);return v}).call(this),n=this.widths[this.widths.length-1],l=[],r=a=0;0<=i?a<i:a>i;r=0<=i?++a:--a)l.push(this.widths.push(n));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),Ub=[].slice,s7=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ki(t,Li),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,s,a,o,l,u,h,p;return e in this.cache?this.cache[e]:(s=this.file.loca,r=this.file.contents,n=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,a=(o=new fa(r.read(i))).readShort(),u=o.readShort(),p=o.readShort(),l=o.readShort(),h=o.readShort(),this.cache[e]=a===-1?new o7(o,u,p,l,h):new a7(o,a,u,p,l,h),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,s,a,o,l;for(a=[],s=[],o=0,l=r.length;o<l;o++)i=e[r[o]],s.push(a.length),i&&(a=a.concat(i.encode(n)));return s.push(a.length),{table:a,offsets:s}},t}(),a7=function(){function t(e,r,n,i,s,a){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),o7=function(){function t(e,r,n,i,s){var a,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new fa(Ub.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),l7=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ki(t,Li),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<n.length;++a)if(n[a]=i,s<r.length&&r[s]==a){++s,n[a]=i;var o=this.offsets[a],l=this.offsets[a+1]-o;l>0&&(i+=l)}for(var u=new Array(4*n.length),h=0;h<n.length;++h)u[4*h+3]=255&n[h],u[4*h+2]=(65280&n[h])>>8,u[4*h+1]=(16711680&n[h])>>16,u[4*h]=(4278190080&n[h])>>24;return u},t}(),u7=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in l=this.glyphsFor(r))n=l[s],i[s]=n;return i},t.prototype.encode=function(e,r){var n,i,s,a,o,l,u,h,p,v,f,_,x,A,w;for(i in n=zb.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),f={0:0},w=n.charMap)f[(l=w[i]).old]=l.new;for(_ in v=n.maxGlyphID,a)_ in f||(f[_]=v++);return h=function(S){var k,E;for(k in E={},S)E[S[k]]=k;return E}(f),p=Object.keys(h).sort(function(S,k){return S-k}),x=function(){var S,k,E;for(E=[],S=0,k=p.length;S<k;S++)o=p[S],E.push(h[o]);return E}(),s=this.font.glyf.encode(a,x,f),u=this.font.loca.encode(s.offsets,x),A={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(A["OS/2"]=this.font.os2.raw()),this.font.directory.encode(A)},t}();Ve.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,s,a;if(Array.isArray(r))return"["+function(){var o,l,u;for(u=[],o=0,l=r.length;o<l;o++)n=r[o],u.push(e.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)a=r[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+r},e}();function qb(t,e,r,n,i){n=n||{};var s=1.15,a=i.internal.scaleFactor,o=i.internal.getFontSize()/a,l=i.getLineHeightFactor?i.getLineHeightFactor():s,u=o*l,h=/\r\n|\r|\n/g,p="",v=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(p=typeof t=="string"?t.split(h):t,v=p.length||1),r+=o*(2-s),n.valign==="middle"?r-=v/2*u:n.valign==="bottom"&&(r-=v*u),n.halign==="center"||n.halign==="right"){var f=o;if(n.halign==="center"&&(f*=.5),p&&v>=1){for(var _=0;_<p.length;_++)i.text(p[_],e-i.getStringUnitWidth(p[_])*f,r),r+=u;return i}e-=i.getStringUnitWidth(t)*f}return n.halign==="justify"?i.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(t,e,r),i}var Qv={},ll=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:Qv=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,i,s;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var a=this.jsPDFDocument.internal.getFont(),o=a.fontStyle,l=a.fontName;if(e.font&&(l=e.font),e.fontStyle){o=e.fontStyle;var u=this.getFontList()[l];u&&u.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),o=u[0])}if(this.jsPDFDocument.setFont(l,o),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var h=t.unifyColor(e.fillColor);h&&(n=this.jsPDFDocument).setFillColor.apply(n,h),h=t.unifyColor(e.textColor),h&&(i=this.jsPDFDocument).setTextColor.apply(i,h),h=t.unifyColor(e.lineColor),h&&(s=this.jsPDFDocument).setDrawColor.apply(s,h),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,i,s){return this.jsPDFDocument.rect(e,r,n,i,s)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return Qv||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),n1=function(t,e){return n1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},n1(t,e)};function $b(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n1(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Wb=function(t){$b(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e}(Array);function c7(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function h7(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function Ad(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],i=n.map(function(s){return r.getTextWidth(s)}).reduce(function(s,a){return Math.max(s,a)},0);return i}function Hb(t,e,r,n){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:s});var a=Vb(i,!1);a&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,a)}function Vb(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function Qd(t,e){var r,n,i,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(s=t.bottom)!==null&&s!==void 0?s:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function Gb(t,e){var r=Qd(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function d7(t,e,r,n,i){var s={},a=1.3333333333333333,o=Op(e,function(k){return i.getComputedStyle(k).backgroundColor});o!=null&&(s.fillColor=o);var l=Op(e,function(k){return i.getComputedStyle(k).color});l!=null&&(s.textColor=l);var u=p7(n,r);u&&(s.cellPadding=u);var h="borderTopColor",p=a*r,v=n.borderTopWidth;if(n.borderBottomWidth===v&&n.borderRightWidth===v&&n.borderLeftWidth===v){var f=(parseFloat(v)||0)/p;f&&(s.lineWidth=f)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/p,right:(parseFloat(n.borderRightWidth)||0)/p,bottom:(parseFloat(n.borderBottomWidth)||0)/p,left:(parseFloat(n.borderLeftWidth)||0)/p},s.lineWidth.top||(s.lineWidth.right?h="borderRightColor":s.lineWidth.bottom?h="borderBottomColor":s.lineWidth.left&&(h="borderLeftColor"));var _=Op(e,function(k){return i.getComputedStyle(k)[h]});_!=null&&(s.lineColor=_);var x=["left","right","center","justify"];x.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),x=["middle","bottom","top"],x.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var A=parseInt(n.fontSize||"");isNaN(A)||(s.fontSize=A/a);var w=f7(n);w&&(s.fontStyle=w);var S=(n.fontFamily||"").toLowerCase();return t.indexOf(S)!==-1&&(s.font=S),s}function f7(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function Op(t,e){var r=Kb(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function Kb(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:Kb(t.parentElement,e):r}function p7(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=r.map(function(o){return parseInt(o||"0")/n}),a=Qd(s,0);return i>a.top&&(a.top=i),i>a.bottom&&(a.bottom=i),a}function Jb(t,e,r,n,i){var s,a;n===void 0&&(n=!1),i===void 0&&(i=!1);var o;typeof e=="string"?o=r.document.querySelector(e):o=e;var l=Object.keys(t.getFontList()),u=t.scaleFactor(),h=[],p=[],v=[];if(!o)return console.error("Html table could not be found with input: ",e),{head:h,body:p,foot:v};for(var f=0;f<o.rows.length;f++){var _=o.rows[f],x=(a=(s=_==null?void 0:_.parentElement)===null||s===void 0?void 0:s.tagName)===null||a===void 0?void 0:a.toLowerCase(),A=g7(l,u,r,_,n,i);A&&(x==="thead"?h.push(A):x==="tfoot"?v.push(A):p.push(A))}return{head:h,body:p,foot:v}}function g7(t,e,r,n,i,s){for(var a=new Wb(n),o=0;o<n.cells.length;o++){var l=n.cells[o],u=r.getComputedStyle(l);if(i||u.display!=="none"){var h=void 0;s&&(h=d7(t,l,e,u,r)),a.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:h,_element:l,content:m7(l)})}}var p=r.getComputedStyle(n);if(a.length>0&&(i||p.display!=="none"))return a}function m7(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function v7(t,e,r){for(var n=0,i=[t,e,r];n<i.length;n++){var s=i[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function ws(t,e,r,n,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),a=1;a<arguments.length;a++){var o=arguments[a];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])}return s}function Yb(t,e){var r=new ll(t),n=r.getDocumentOptions(),i=r.getGlobalOptions();v7(i,n,e);var s=ws({},i,n,e),a;typeof window<"u"&&(a=window);var o=y7(i,n,e),l=w7(i,n,e),u=b7(r,s),h=_7(r,s,a);return{id:e.tableId,content:h,hooks:l,styles:o,settings:u}}function y7(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var u=t[l],h=e[l],p=r[l];n.columnStyles=ws({},u,h,p)}else{var v=[t,e,r],f=v.map(function(_){return _[l]||{}});n[l]=ws({},f[0],f[1],f[2])}},s=0,a=Object.keys(n);s<a.length;s++){var o=a[s];i(o)}return n}function w7(t,e,r){for(var n=[t,e,r],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,a=n;s<a.length;s++){var o=a[s];o.didParseCell&&i.didParseCell.push(o.didParseCell),o.willDrawCell&&i.willDrawCell.push(o.willDrawCell),o.didDrawCell&&i.didDrawCell.push(o.didDrawCell),o.willDrawPage&&i.willDrawPage.push(o.willDrawPage),o.didDrawPage&&i.didDrawPage.push(o.didDrawPage)}return i}function b7(t,e){var r,n,i,s,a,o,l,u,h,p,v,f,_=Qd(e.margin,40/t.scaleFactor()),x=(r=x7(t,e.startY))!==null&&r!==void 0?r:_.top,A;e.showFoot===!0?A="everyPage":e.showFoot===!1?A="never":A=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var w;e.showHead===!0?w="everyPage":e.showHead===!1?w="never":w=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var S=(s=e.useCss)!==null&&s!==void 0?s:!1,k=e.theme||(S?"plain":"striped"),E=!!e.horizontalPageBreak,F=(a=e.horizontalPageBreakRepeat)!==null&&a!==void 0?a:null;return{includeHiddenHtml:(o=e.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:S,theme:k,startY:x,margin:_,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(h=e.tableWidth)!==null&&h!==void 0?h:"auto",showHead:w,showFoot:A,tableLineWidth:(p=e.tableLineWidth)!==null&&p!==void 0?p:0,tableLineColor:(v=e.tableLineColor)!==null&&v!==void 0?v:200,horizontalPageBreak:E,horizontalPageBreakRepeat:F,horizontalPageBreakBehaviour:(f=e.horizontalPageBreakBehaviour)!==null&&f!==void 0?f:"afterAllRows"}}function x7(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),i=t.pageNumber(),s=!1;if(r&&r.startPageNumber){var a=r.startPageNumber+r.pageNumber-1;s=a===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function _7(t,e,r){var n=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var a=e.includeHiddenHtml;if(r){var o=Jb(t,e.html,r,a,e.useCss)||{};n=o.head||n,i=o.body||n,s=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=e.columns||S7(n,i,s);return{columns:l,head:n,body:i,foot:s}}function S7(t,e,r){var n=t[0]||e[0]||r[0]||[],i=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var a=1,o;Array.isArray(n)?o=n[parseInt(s)]:o=n[s],typeof o=="object"&&!Array.isArray(o)&&(a=(o==null?void 0:o.colSpan)||1);for(var l=0;l<a;l++){var u=void 0;Array.isArray(n)?u=i.length:u=s+(l>0?"_".concat(l):"");var h={dataKey:u};i.push(h)}}),i}var i1=function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t}(),k7=function(t){$b(e,t);function e(r,n,i,s,a,o){var l=t.call(this,r,n,o)||this;return l.cell=i,l.row=s,l.column=a,l.section=s.section,l}return e}(i1),A7=function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,i,s,a){for(var o=0,l=r;o<l.length;o++){var u=l[o],h=new k7(e,this,n,i,s,a),p=u(h)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],p)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var s=i[n];s(new i1(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var s=i[n];s(new i1(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t}(),Xb=function(){function t(e,r,n,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof Wb&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=i,this.spansMultiplePages=s}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,i){var s;return Math.max(n,((s=r.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var i=r.cells[n.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(i,s){var a=n.cells[s.index];if(!a)return 0;var o=r.getLineHeight(a.styles.fontSize),l=a.padding("vertical"),u=l+o;return u>i?u:i},0)},t}(),Qb=function(){function t(e,r,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var a=s!=null?""+s:"",o=/\r\n|\r|\n/g;this.text=a.split(o)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*r,s=n*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=Qd(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t}(),N7=function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,i=e.allRows();n<i.length;n++){var s=i[n],a=s.cells[this.index];a&&typeof a.styles.cellWidth=="number"&&(r=Math.max(r,a.styles.cellWidth))}return r},t}();function j7(t,e){E7(t,e);var r=[],n=0;e.columns.forEach(function(s){var a=s.getMaxCustomCellWidth(e);a?s.width=a:(s.width=s.wrappedWidth,r.push(s)),n+=s.width});var i=e.getWidth(t.pageSize().width)-n;i&&(i=s1(r,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=s1(r,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.log("Of the table content, ".concat(i," units width could not fit page"))),L7(e),P7(e,t),C7(e)}function E7(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,i=Gb(t,e);e.allRows().forEach(function(s){for(var a=0,o=e.columns;a<o.length;a++){var l=o[a],u=s.cells[l.index];if(u){var h=e.hooks.didParseCell;e.callCellHooks(t,h,u,s,l,null);var p=u.padding("horizontal");u.contentWidth=Ad(u.text,u.styles,t)+p;var v=Ad(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=v+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var f=10/r;u.minWidth=u.styles.minCellWidth||f,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(s){for(var a=0,o=e.columns;a<o.length;a++){var l=o[a],u=s.cells[l.index];if(u&&u.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,u.wrappedWidth),l.minWidth=Math.max(l.minWidth,u.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,u.minReadableWidth);else{var h=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},p=h.cellWidth||h.minCellWidth;p&&typeof p=="number"&&(l.minWidth=p,l.wrappedWidth=p)}u&&(u.colSpan>1&&!l.minWidth&&(l.minWidth=u.minWidth),u.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=u.minWidth))}})}function s1(t,e,r){for(var n=e,i=t.reduce(function(f,_){return f+_.wrappedWidth},0),s=0;s<t.length;s++){var a=t[s],o=a.wrappedWidth/i,l=n*o,u=a.width+l,h=r(a),p=u<h?h:u;e-=p-a.width,a.width=p}if(e=Math.round(e*1e10)/1e10,e){var v=t.filter(function(f){return e<0?f.width>r(f):!0});v.length&&(e=s1(v,e,r))}return e}function C7(t){for(var e={},r=1,n=t.allRows(),i=0;i<n.length;i++)for(var s=n[i],a=0,o=t.columns;a<o.length;a++){var l=o[a],u=e[l.index];if(r>1)r--,delete s.cells[l.index];else if(u)u.cell.height+=s.height,r=u.cell.colSpan,delete s.cells[l.index],u.left--,u.left<=1&&delete e[l.index];else{var h=s.cells[l.index];if(!h)continue;if(h.height=s.height,h.rowSpan>1){var p=n.length-i,v=h.rowSpan>p?p:h.rowSpan;e[l.index]={cell:h,left:v,row:s}}}}}function L7(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],i=null,s=0,a=0,o=0;o<t.columns.length;o++){var l=t.columns[o];if(a-=1,a>1&&t.columns[o+1])s+=l.width,delete n.cells[l.index];else if(i){var u=i;delete n.cells[l.index],i=null,u.width=l.width+s}else{var u=n.cells[l.index];if(!u)continue;if(a=u.colSpan,s=0,u.colSpan>1){i=u,s+=l.width;continue}u.width=l.width+s}}}function P7(t,e){for(var r={count:0,height:0},n=0,i=t.allRows();n<i.length;n++){for(var s=i[n],a=0,o=t.columns;a<o.length;a++){var l=o[a],u=s.cells[l.index];if(u){e.applyStyles(u.styles,!0);var h=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,h+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=Zv(u.text,h,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=Zv(u.text,h,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var p=u.styles.overflow(u.text,h);typeof p=="string"?u.text=[p]:u.text=p}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var v=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<v*u.rowSpan?r={height:v,count:u.rowSpan}:r&&r.count>0&&r.height>v&&(v=r.height),v>s.height&&(s.height=v)}}r.count--}}function Zv(t,e,r,n,i){return t.map(function(s){return T7(s,e,r,n,i)})}function T7(t,e,r,n,i){var s=1e4*n.scaleFactor();if(e=Math.ceil(e*s)/s,e>=Ad(t,r,n))return t;for(;e<Ad(t+i,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function Zb(t,e){var r=new ll(t),n=R7(e,r.scaleFactor()),i=new A7(e,n);return j7(r,i),r.applyStyles(r.userStyles),i}function R7(t,e){var r=t.content,n=O7(r.columns);if(r.head.length===0){var i=e5(n,"head");i&&r.head.push(i)}if(r.foot.length===0){var i=e5(n,"foot");i&&r.foot.push(i)}var s=t.settings.theme,a=t.styles;return{columns:n,head:Fp("head",r.head,n,a,s,e),body:Fp("body",r.body,n,a,s,e),foot:Fp("foot",r.foot,n,a,s,e)}}function Fp(t,e,r,n,i,s){var a={},o=e.map(function(l,u){for(var h=0,p={},v=0,f=0,_=0,x=r;_<x.length;_++){var A=x[_];if(a[A.index]==null||a[A.index].left===0)if(f===0){var w=void 0;Array.isArray(l)?w=l[A.index-v-h]:w=l[A.dataKey];var S={};typeof w=="object"&&!Array.isArray(w)&&(S=(w==null?void 0:w.styles)||{});var k=F7(t,A,u,i,n,s,S),E=new Qb(w,k,t);p[A.dataKey]=E,p[A.index]=E,f=E.colSpan-1,a[A.index]={left:E.rowSpan-1,times:f}}else f--,v++;else a[A.index].left--,f=a[A.index].times,h++}return new Xb(l,u,t,p)});return o}function e5(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var i=I7(e,n.raw);i!=null&&(r[n.dataKey]=i)}}),Object.keys(r).length>0?r:null}function I7(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function O7(t){return t.map(function(e,r){var n,i;return typeof e=="object"?i=(n=e.dataKey)!==null&&n!==void 0?n:r:i=r,new N7(i,e,r)})}function F7(t,e,r,n,i,s,a){var o=h7(n),l;t==="head"?l=i.headStyles:t==="body"?l=i.bodyStyles:t==="foot"&&(l=i.footStyles);var u=ws({},o.table,o[t],i.styles,l),h=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},p=t==="body"?h:{},v=t==="body"&&r%2===0?ws({},o.alternateRow,i.alternateRowStyles):{},f=c7(s),_=ws({},f,u,v,p);return ws(_,a)}function D7(t,e,r){var n;r===void 0&&(r={});var i=Gb(t,e),s=new Map,a=[],o=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(v){var f=e.columns.find(function(_){return _.dataKey===v||_.index===v});f&&!s.has(f.index)&&(s.set(f.index,!0),a.push(f.index),o.push(e.columns[f.index]),i-=f.wrappedWidth)});for(var u=!0,h=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;h<e.columns.length;){if(s.has(h)){h++;continue}var p=e.columns[h].wrappedWidth;if(u||i>=p)u=!1,a.push(h),o.push(e.columns[h]),i-=p;else break;h++}return{colIndexes:a,columns:o,lastIndex:h-1}}function B7(t,e){for(var r=[],n=0;n<e.columns.length;n++){var i=D7(t,e,{start:n});i.columns.length&&(r.push(i),n=i.lastIndex)}return r}function ex(t,e){var r=e.settings,n=r.startY,i=r.margin,s={x:i.left,y:n},a=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),o=n+i.bottom+a;if(r.pageBreak==="avoid"){var l=e.body,u=l.reduce(function(v,f){return v+f.height},0);o+=u}var h=new ll(t);(r.pageBreak==="always"||r.startY!=null&&o>h.pageSize().height)&&(rx(h),s.y=i.top),e.callWillDrawPageHooks(h,s);var p=ws({},s);e.startPageNumber=h.pageNumber(),r.horizontalPageBreak?M7(h,e,p,s):(h.applyStyles(h.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(v){return As(h,e,v,s,e.columns)}),h.applyStyles(h.userStyles),e.body.forEach(function(v,f){var _=f===e.body.length-1;Nd(h,e,v,_,p,s,e.columns)}),h.applyStyles(h.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(v){return As(h,e,v,s,e.columns)})),Hb(h,e,p,s),e.callEndPageHooks(h,s),e.finalY=s.y,t.lastAutoTable=e,h.applyStyles(h.userStyles)}function M7(t,e,r,n){var i=B7(t,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,h){t.applyStyles(t.userStyles),h>0?Au(t,e,r,n,u.columns,!0):t5(t,e,n,u.columns),z7(t,e,r,n,u.columns),Dp(t,e,n,u.columns)});else for(var a=-1,o=i[0],l=function(){var u=a;if(o){t.applyStyles(t.userStyles);var h=o.columns;a>=0?Au(t,e,r,n,h,!0):t5(t,e,n,h),u=r5(t,e,a+1,n,h),Dp(t,e,n,h)}var p=u-a;i.slice(1).forEach(function(v){t.applyStyles(t.userStyles),Au(t,e,r,n,v.columns,!0),r5(t,e,a+1,n,v.columns,p),Dp(t,e,n,v.columns)}),a=u};a<e.body.length-1;)l()}function t5(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return As(t,e,s,r,n)})}function z7(t,e,r,n,i){t.applyStyles(t.userStyles),e.body.forEach(function(s,a){var o=a===e.body.length-1;Nd(t,e,s,o,r,n,i)})}function r5(t,e,r,n,i,s){t.applyStyles(t.userStyles),s=s??e.body.length;var a=Math.min(r+s,e.body.length),o=-1;return e.body.slice(r,a).forEach(function(l,u){var h=r+u===e.body.length-1,p=tx(t,e,h,n);l.canEntireRowFit(p,i)&&(As(t,e,l,n,i),o=r+u)}),o}function Dp(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return As(t,e,s,r,n)})}function U7(t,e,r){var n=r.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),s=Math.floor((e-i)/n);return Math.max(0,s)}function q7(t,e,r,n){var i={};t.spansMultiplePages=!0,t.height=0;for(var s=0,a=0,o=r.columns;a<o.length;a++){var l=o[a],u=t.cells[l.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var h=new Qb(u.raw,u.styles,u.section);h=ws(h,u),h.text=[];var p=U7(u,e,n);u.text.length>p&&(h.text=u.text.splice(p,u.text.length));var v=n.scaleFactor(),f=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(v,f),u.contentHeight>=e&&(u.contentHeight=e,h.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),h.contentHeight=h.getContentHeight(v,f),h.contentHeight>s&&(s=h.contentHeight),i[l.index]=h}}var _=new Xb(t.raw,-1,t.section,i,!0);_.height=s;for(var x=0,A=r.columns;x<A.length;x++){var l=A[x],h=_.cells[l.index];h&&(h.height=_.height);var u=t.cells[l.index];u&&(u.height=t.height)}return _}function $7(t,e,r,n){var i=t.pageSize().height,s=n.settings.margin,a=s.top+s.bottom,o=i-a;e.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=e.getMinimumRowHeight(n.columns,t),u=l<r;if(l>o)return console.log("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var h=e.hasRowSpan(n.columns),p=e.getMaxCellHeight(n.columns)>o;return p?(h&&console.log("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(h||n.settings.rowPageBreak==="avoid")}function Nd(t,e,r,n,i,s,a){var o=tx(t,e,n,s);if(r.canEntireRowFit(o,a))As(t,e,r,s,a);else if($7(t,r,o,e)){var l=q7(r,o,e,t);As(t,e,r,s,a),Au(t,e,i,s,a),Nd(t,e,l,n,i,s,a)}else Au(t,e,i,s,a),Nd(t,e,r,n,i,s,a)}function As(t,e,r,n,i){n.x=e.settings.margin.left;for(var s=0,a=i;s<a.length;s++){var o=a[s],l=r.cells[o.index];if(!l){n.x+=o.width;continue}t.applyStyles(l.styles),l.x=n.x,l.y=n.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,l,r,o,n);if(u===!1){n.x+=o.width;continue}W7(t,l,n);var h=l.getTextPos();qb(l.text,h.x,h.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,r,o,n),n.x+=o.width}n.y+=r.height}function W7(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=Vb(n.lineWidth,n.fillColor);i&&t.rect(e.x,r.y,e.width,e.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),H7(t,e,r,n.lineWidth))}function H7(t,e,r,n){var i,s,a,o;n.top&&(i=r.x,s=r.y,a=r.x+e.width,o=r.y,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),l(n.top,i,s,a,o)),n.bottom&&(i=r.x,s=r.y+e.height,a=r.x+e.width,o=r.y+e.height,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),l(n.bottom,i,s,a,o)),n.left&&(i=r.x,s=r.y,a=r.x,o=r.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,i,s,a,o)),n.right&&(i=r.x+e.width,s=r.y,a=r.x+e.width,o=r.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,i,s,a,o));function l(u,h,p,v,f){t.getDocument().setLineWidth(u),t.getDocument().line(h,p,v,f,"S")}}function tx(t,e,r,n){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&r)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-i}function Au(t,e,r,n,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(o){return As(t,e,o,n,i)}),e.callEndPageHooks(t,n);var a=e.settings.margin;Hb(t,e,r,n),rx(t),e.pageNumber++,n.x=a.left,n.y=a.top,r.y=a.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(o){return As(t,e,o,n,i)}),t.applyStyles(t.userStyles))}function rx(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function V7(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],i=Yb(this,n),s=Zb(this,i);return ex(this,s),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,i){qb(e,r,n,i,this)},t.API.autoTableSetDefaults=function(e){return ll.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){ll.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new ll(this),s=Jb(i,e,window,r,!1),a=s.head,o=s.body,l=((n=a[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:l,rows:o,data:o}}}var Bp;function jd(t,e){var r=Yb(t,e),n=Zb(t,r);ex(t,n)}try{if(typeof window<"u"&&window){var n5=window,i5=n5.jsPDF||((Bp=n5.jspdf)===null||Bp===void 0?void 0:Bp.jsPDF);i5&&V7(i5)}}catch(t){console.error("Could not apply autoTable plugin",t)}const G7=t=>{if(!t)return"-";const e=new Date(`${t}T00:00:00`);return Number.isNaN(e.getTime())?t:e.toLocaleDateString("pt-BR")},Mr=t=>{if(t==null)return 0;const e=typeof t=="string"?t.replace(",","."):t,r=Number(e);return Number.isFinite(r)?r:0},s5=t=>{if(!t)return null;const e=new Date(`${t}T00:00:00`);if(Number.isNaN(e.getTime()))return null;const r=new Date;r.setHours(0,0,0,0);const n=e.getTime()-r.getTime();return Math.ceil(n/(1e3*60*60*24))},a5=(t,e,r,n,i,s,a)=>{const o=Math.max(...s.map(v=>v.value),1),l=r+8,u=i-16,h=n,p=s.length?h/s.length:h;if(t.setFontSize(11),t.setTextColor(0),t.text(a,e,r+4),t.setDrawColor(226,232,240),t.rect(e,l,h,u),!s.length){t.setFontSize(9),t.setTextColor(120),t.text("Sem dados",e+6,l+u/2);return}s.forEach((v,f)=>{const _=v.value/o*(u-12),x=e+f*p+6,A=l+u-_-4,w=Math.max(6,p-12);t.setFillColor(v.color[0],v.color[1],v.color[2]),t.rect(x,A,w,_,"F"),t.setFontSize(8),t.setTextColor(60),t.text(String(v.value),x,A-2);const S=v.label.length>10?`${v.label.slice(0,10)}...`:v.label;t.text(S,x,l+u+6)})},K7=t=>{var E;const e=new Ve;e.setFontSize(20),e.setTextColor(0,156,59),e.text("Brasil Mais Distribuidora",105,20,{align:"center"}),e.setFontSize(16),e.setTextColor(0,0,0),e.text("Relatrio de Estoque",105,30,{align:"center"}),e.setFontSize(10),e.setTextColor(100);const r=new Date().toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"});e.text(`Gerado em: ${r}`,105,38,{align:"center"});const n=100,i=30,s=t.length,a=t.reduce((F,J)=>F+Mr(J.stock),0),o=t.reduce((F,J)=>F+Mr(J.price)*Mr(J.stock),0),l=t.filter(F=>Mr(F.stock)<n).length,u=t.filter(F=>{const J=s5(F.expiration_date);return J!==null&&J>=0&&J<=i}).length;e.setFontSize(11),e.setTextColor(0),e.text(`Total de Produtos: ${s}`,20,50),e.text(`Estoque Total: ${a} unidades`,20,57),e.text(`Valor Total: R$ ${o.toFixed(2)}`,20,64),e.text(`Produtos em Estoque Critico: ${l}`,20,71),e.text(`Vencendo em ${i} dias: ${u}`,20,78);let h=86;const p=e.internal.pageSize.getHeight(),v=F=>{h+F>p-20&&(e.addPage(),h=20)},f=[{label:"Baixo",value:t.filter(F=>Mr(F.stock)<n).length,color:[239,68,68]},{label:"Normal",value:t.filter(F=>Mr(F.stock)>=n&&Mr(F.stock)<500).length,color:[59,130,246]},{label:"Alto",value:t.filter(F=>Mr(F.stock)>=500).length,color:[16,185,129]}],_=t.reduce((F,J)=>{const V=wd(J.type);return F[V]=(F[V]||0)+Mr(J.stock),F},{}),x=Object.entries(_).sort((F,J)=>J[1]-F[1]).slice(0,5).map(([F,J],V)=>({label:F,value:J,color:[[0,156,59],[0,119,255],[245,158,11],[148,163,184],[124,58,237]][V%5]}));if(v(60),a5(e,20,h,80,50,f,"Status do estoque"),a5(e,115,h,80,50,x,"Estoque por categoria"),h+=60,typeof jd!="function")return e.setFontSize(10),e.setTextColor(120),e.text("Tabela nao disponivel (plugin autoTable nao carregado).",20,h),e;const A=t.map(F=>{const J=Mr(F.price),V=Mr(F.wholesale_price),z=Mr(F.stock);return[F.name,F.dosage,wd(F.type),z,G7(F.expiration_date),`${Mr(F.promo_percent).toFixed(0)}%`,`R$ ${J.toFixed(2)}`,`R$ ${V.toFixed(2)}`,`R$ ${(J*z).toFixed(2)}`,z>=500?"Alto":z>=n?"Normal":"Baixo"]});jd(e,{head:[["Produto","Dosagem","Categoria","Qtd","Validade","Promo","Preo Un.","Preo Atacado","Valor Total","Status"]],body:A,startY:h,styles:{fontSize:7,cellPadding:3},headStyles:{fillColor:[0,156,59],textColor:255,fontStyle:"bold"},columnStyles:{3:{halign:"center"},4:{halign:"center"},5:{halign:"center"},6:{halign:"right"},7:{halign:"right"},8:{halign:"right"},9:{halign:"center"}},didParseCell:function(F){if(F.section==="body"&&F.column.index===9){const J=F.cell.raw;J==="Baixo"?(F.cell.styles.textColor=[220,38,38],F.cell.styles.fontStyle="bold"):J==="Alto"&&(F.cell.styles.textColor=[16,185,129])}}}),h=(((E=e.lastAutoTable)==null?void 0:E.finalY)||h)+10,v(60),e.setFontSize(12),e.setTextColor(0),e.text("Sugestoes de reposicao",20,h),h+=6;const w=t.filter(F=>Mr(F.stock)<n);w.length===0?(e.setFontSize(10),e.setTextColor(90),e.text("- Nenhum produto abaixo do limite de estoque.",20,h),h+=6):(e.setFontSize(10),e.setTextColor(60),w.slice(0,8).forEach(F=>{const J=Math.max(0,n-Mr(F.stock));e.text(`- Repor ${F.name}: falta ${J} un. para atingir ${n}.`,20,h),h+=5}),w.length>8&&(e.text(`- ... e mais ${w.length-8} produtos.`,20,h),h+=5)),t.filter(F=>{const J=s5(F.expiration_date);return J!==null&&J>=0&&J<=i}).length>0&&(e.text(`- Produtos vencendo em ate ${i} dias: aplicar promocao e revisar estoque.`,20,h),h+=5);const k=e.internal.getNumberOfPages();e.setFontSize(8),e.setTextColor(150);for(let F=1;F<=k;F++)e.setPage(F),e.text(`Pgina ${F} de ${k}`,e.internal.pageSize.getWidth()/2,e.internal.pageSize.getHeight()-10,{align:"center"});return e},J7=t=>{const e=t.filter(s=>Mr(s.stock)<100),r=new Ve;r.setFontSize(20),r.setTextColor(220,38,38),r.text("Brasil Mais Distribuidora",105,20,{align:"center"}),r.setFontSize(16),r.setTextColor(0,0,0),r.text("Relatrio de Estoque Crtico",105,30,{align:"center"}),r.setFontSize(10),r.setTextColor(100);const n=new Date().toLocaleDateString("pt-BR");r.text(`Gerado em: ${n}`,105,38,{align:"center"}),r.setFontSize(12),r.setTextColor(220,38,38),r.text(` ${e.length} produtos precisam de reposio urgente`,20,50);const i=e.map(s=>{const a=Mr(s.price),o=Mr(s.stock);return[s.name,s.dosage,o,`R$ ${a.toFixed(2)}`,o<50?"CRTICO":"BAIXO"]});return typeof jd!="function"?(r.setFontSize(10),r.setTextColor(120),r.text("Tabela nao disponivel (plugin autoTable nao carregado).",20,60),r):(jd(r,{head:[["Produto","Dosagem","Qtd Atual","Preo","Prioridade"]],body:i,startY:60,headStyles:{fillColor:[220,38,38],textColor:255},didParseCell:function(s){s.section==="body"&&s.column.index===4&&s.cell.raw==="CRTICO"&&(s.cell.styles.fillColor=[254,226,226],s.cell.styles.textColor=[153,27,27],s.cell.styles.fontStyle="bold")}}),r)},Y7=()=>{console.log(" Renderizando AdminDashboard");const[t,e]=he.useState(null),[r,n]=he.useState(!0),[i,s]=he.useState([]),[a,o]=he.useState("stock"),[l,u]=he.useState([]),[h,p]=he.useState(!1),[v,f]=he.useState(""),[_,x]=he.useState(""),[A,w]=he.useState(""),[S,k]=he.useState(""),[E,F]=he.useState(""),[J,V]=he.useState(!1),[z,D]=he.useState(100),[ee,T]=he.useState(30),[B,Y]=he.useState([]),[G,ce]=he.useState(!1),[de,X]=he.useState(""),O=()=>({name:"",dosage:"",type:"",stock:"",price:"",wholesale_price:"",description:"",image_url:"",expiration_date:"",requires_prescription:!1}),[ie,fe]=he.useState(!1),[pe,C]=he.useState(!1),[W,H]=he.useState(""),[Q,ne]=he.useState(null),[re,me]=he.useState(O()),[ge,xe]=he.useState(null),[Ae,Te]=he.useState(""),Pe=he.useRef(null),$e="medicine-images",M=5*1024*1024,Ee={width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",fontSize:"0.95rem"},Ze={display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"};he.useEffect(()=>{st.auth.getSession().then(({data:{session:Ce}})=>{e(Ce),n(!1)});const{data:{subscription:K}}=st.auth.onAuthStateChange((Ce,Je)=>{e(Je)});return()=>K.unsubscribe()},[]),he.useEffect(()=>{t&&qe()},[t]),he.useEffect(()=>{t&&a==="customers"&&ke()},[t,a]),he.useEffect(()=>{t&&a==="orders"&&Ye()},[t,a]);const qe=async()=>{try{const{data:K,error:Ce}=await st.from("medicines").select("*").order("name");if(Ce)throw Ce;s(K||[])}catch(K){console.error("Erro ao buscar medicamentos:",K)}},ke=async()=>{f(""),p(!0);try{const{data:K,error:Ce}=await st.from("customers").select("id, name, email, cpf_cnpj, phone1, municipio, estado, created_at").order("created_at",{ascending:!1});if(Ce)throw Ce;u(K||[])}catch(K){console.error("Erro ao buscar clientes:",K);const Ce=K.message||"Erro ao buscar clientes.";Ce.toLowerCase().includes("permission")?f("Sem permissao para listar clientes. Verifique se o email esta cadastrado na tabela admins e se as politicas foram aplicadas."):f(Ce)}finally{p(!1)}},Ye=async()=>{X(""),ce(!0);try{const{data:K,error:Ce}=await st.from("orders").select(`
                    id, 
                    total, 
                    status, 
                    created_at,
                    user_id,
                    customers (name, email, phone1)
                `).order("created_at",{ascending:!1});if(Ce)throw Ce;Y(K||[])}catch(K){console.error("Erro ao buscar pedidos:",K),X(K.message||"Erro ao buscar pedidos.")}finally{ce(!1)}},Ie=async K=>{if(window.confirm("Deseja confirmar esta venda e finalizar a retirada do estoque?"))try{const{error:Ce}=await st.from("orders").update({status:"completed"}).eq("id",K);if(Ce)throw Ce;await Ye()}catch(Ce){console.error("Erro ao confirmar pedido:",Ce),alert("Erro ao confirmar pedido.")}},Qe=async K=>{if(window.confirm("Deseja cancelar este pedido?"))try{const{error:Ce}=await st.from("orders").update({status:"cancelled"}).eq("id",K);if(Ce)throw Ce;await Ye()}catch(Ce){console.error("Erro ao cancelar pedido:",Ce),alert("Erro ao cancelar pedido.")}},Ke=K=>{K&&K.startsWith("blob:")&&URL.revokeObjectURL(K)},Pt=()=>{Pe.current&&(Pe.current.value="")},ft=(K="")=>{Ke(Ae),Pt(),xe(null),Te(K||"")},lt=()=>{ne(null),H(""),me(O()),ft(""),fe(!0)},xt=K=>{ne(K),H(""),me({name:K.name||"",dosage:K.dosage||"",type:K.type||"",stock:K.stock??"",price:K.price??"",wholesale_price:K.wholesale_price??"",description:K.description||"",image_url:K.image_url||"",expiration_date:K.expiration_date||"",requires_prescription:!!K.requires_prescription}),ft(K.image_url||""),fe(!0)},bt=()=>{fe(!1),ne(null),H(""),ft("")},Re=(K,Ce)=>{me(Je=>({...Je,[K]:Ce}))},ct=K=>{H("");const Ce=K.target.files&&K.target.files[0];if(!Ce){ft((Q==null?void 0:Q.image_url)||re.image_url||"");return}if(!Ce.type.startsWith("image/")){H("Selecione um arquivo de imagem valido."),K.target.value="";return}if(Ce.size>M){H("Imagem muito grande. Maximo 5MB."),K.target.value="";return}Ke(Ae);const Je=URL.createObjectURL(Ce);xe(Ce),Te(Je)},Me=K=>Number(String(K).replace(",",".")),ir=async K=>{var Nt;if(K.preventDefault(),H(""),!re.name.trim()||!re.dosage.trim()||!re.type.trim()){H("Preencha nome, dosagem e tipo.");return}if(re.price===""||re.wholesale_price===""||re.stock===""){H("Preco, preco atacado e estoque sao obrigatorios.");return}const Ce=Me(re.price),Je=Me(re.wholesale_price),Gt=Me(re.stock);if(!Number.isFinite(Ce)||Ce<0){H("Preco invalido.");return}if(!Number.isFinite(Je)||Je<0){H("Preco atacado invalido.");return}if(!Number.isFinite(Gt)||Gt<0){H("Estoque invalido.");return}let $r=re.image_url.trim()?re.image_url.trim():null;C(!0);try{if(ge){const Yn=ge.name.includes(".")?ge.name.split(".").pop():"jpg",Pi=`${Date.now()}-${Math.random().toString(36).slice(2)}`,Ln=`${((Nt=t==null?void 0:t.user)==null?void 0:Nt.id)||"public"}/${Pi}.${Yn}`,{error:wn}=await st.storage.from($e).upload(Ln,ge,{cacheControl:"3600",upsert:!0,contentType:ge.type});if(wn)throw wn;const{data:en}=st.storage.from($e).getPublicUrl(Ln);if(!(en!=null&&en.publicUrl))throw new Error("Nao foi possivel obter a URL da imagem.");$r=en.publicUrl}const jt={name:re.name.trim(),dosage:re.dosage.trim(),type:re.type.trim(),stock:Math.trunc(Gt),price:Ce,wholesale_price:Je,description:re.description.trim()?re.description.trim():null,image_url:$r,expiration_date:re.expiration_date?re.expiration_date:null,requires_prescription:!!re.requires_prescription};let Ut;if(Q?{error:Ut}=await st.from("medicines").update(jt).eq("id",Q.id):{error:Ut}=await st.from("medicines").insert([jt]),Ut)throw Ut;await qe(),bt()}catch(jt){console.error("Erro ao salvar medicamento:",jt);let Ut=jt.message||"Erro ao salvar medicamento.";const Yn=Ut.toLowerCase();(Yn.includes("bucket")||Yn.includes("storage"))&&(Ut=`${Ut} Verifique o bucket ${$e} e as politicas no Supabase.`),H(Ut)}finally{C(!1)}},St=async K=>{K.preventDefault(),F(""),V(!0);try{console.log("Tentando login com Supabase Auth...");const{data:Ce,error:Je}=await st.auth.signInWithPassword({email:A,password:S});if(Je)throw console.error("Erro retornado pelo Supabase:",Je),Je;console.log("Login bem-sucedido!")}catch(Ce){console.error("Catch error no login:",Ce);let Je=Ce.message;Je==="Failed to fetch"&&(Je="Erro de conexo (Failed to fetch). Isso geralmente ocorre por bloqueio de VPN, Firewall ou se as chaves do Supabase no foram configuradas no Vercel."),F(Je||"Erro ao fazer login. Verifique suas credenciais.")}finally{V(!1)}},gt=async()=>{try{await st.auth.signOut()}catch(K){console.error("Erro ao fazer logout:",K)}},mt=()=>{try{K7(i).save(`Estoque_BrasilMais_${new Date().toLocaleDateString("pt-BR").replace(/\//g,"-")}.pdf`)}catch(K){console.error("Erro ao gerar relatrio completo:",K),alert("Nao foi possivel gerar o relatorio. Verifique os dados do estoque e tente novamente.")}},Ht=()=>{try{J7(i).save(`Estoque_Critico_${new Date().toLocaleDateString("pt-BR").replace(/\//g,"-")}.pdf`)}catch(K){console.error("Erro ao gerar relatrio crtico:",K),alert("Nao foi possivel gerar o relatorio crtico. Verifique os dados do estoque e tente novamente.")}},Xe=()=>{window.print()},It=K=>{if(!K)return"-";const Ce=new Date(`${K}T00:00:00`);return Number.isNaN(Ce.getTime())?K:Ce.toLocaleDateString("pt-BR")},et=K=>{if(!K)return null;const Ce=new Date(`${K}T00:00:00`);if(Number.isNaN(Ce.getTime()))return null;const Je=new Date;Je.setHours(0,0,0,0);const Gt=Ce.getTime()-Je.getTime();return Math.ceil(Gt/(1e3*60*60*24))},it=async(K,Ce)=>{const Je=Math.max(0,(K.stock??0)+Ce);try{const{error:Gt}=await st.from("medicines").update({stock:Je}).eq("id",K.id);if(Gt)throw Gt;await qe()}catch(Gt){console.error("Erro ao ajustar estoque:",Gt),alert(Gt.message||"Erro ao ajustar estoque.")}},Vt=async K=>{if(window.confirm(`Remover o produto "${K.name}"? Essa ao no pode ser desfeita.`))try{const{error:Je}=await st.from("medicines").delete().eq("id",K.id);if(Je)throw Je;await qe()}catch(Je){console.error("Erro ao remover produto:",Je),alert(Je.message||"Erro ao remover produto.")}},vt=async(K,Ce=10)=>{try{const{error:Je}=await st.from("medicines").update({promo_percent:Ce}).eq("id",K.id);if(Je)throw Je;await qe()}catch(Je){console.error("Erro ao aplicar promoo:",Je),alert(Je.message||"Erro ao aplicar promoo.")}},tt=async K=>{try{const{error:Ce}=await st.from("medicines").update({promo_percent:0}).eq("id",K.id);if(Ce)throw Ce;await qe()}catch(Ce){console.error("Erro ao remover promoo:",Ce),alert(Ce.message||"Erro ao remover promoo.")}},En=(()=>{const K=i.length,Ce=i.reduce((Nt,jt)=>Nt+jt.stock,0),Je=i.reduce((Nt,jt)=>Nt+jt.price*jt.stock,0),Gt=i.filter(Nt=>Nt.stock<z).length,$r=i.filter(Nt=>{const jt=et(Nt.expiration_date);return jt!==null&&jt>=0&&jt<=ee}).length;return{totalProducts:K,totalStock:Ce,totalValue:Je,criticalStock:Gt,expiringSoon:$r}})(),Cr=i.map(K=>{const Ce=et(K.expiration_date);return{...K,daysUntil:Ce}}).filter(K=>K.daysUntil!==null&&K.daysUntil>=0&&K.daysUntil<=ee).sort((K,Ce)=>(K.daysUntil??0)-(Ce.daysUntil??0)),Jn=i.filter(K=>K.stock<z),Cn=l.filter(K=>{const Ce=_.trim().toLowerCase();return Ce?[K.name,K.email,K.cpf_cnpj,K.phone1,K.municipio,K.estado].filter(Boolean).some(Je=>Je.toString().toLowerCase().includes(Ce)):!0});return r?g.jsx("div",{style:{display:"flex",minHeight:"calc(100vh - 80px)",alignItems:"center",justifyContent:"center"},children:g.jsx(ys,{size:48,color:"var(--color-primary)",style:{animation:"spin 1s linear infinite"}})}):t?g.jsxs("div",{className:"container",style:{display:"flex",gap:"2rem",marginTop:"2rem",flexWrap:"wrap"},children:[g.jsxs("aside",{className:"glass-card fade-in",style:{width:"250px",padding:"1.5rem",height:"fit-content"},children:[g.jsxs("div",{style:{marginBottom:"2rem"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"var(--color-primary)",fontWeight:"bold",marginBottom:"0.5rem"},children:[g.jsx(d2,{size:24}),g.jsx("span",{children:"Painel Admin"})]}),g.jsx("p",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)"},children:t.user.email})]}),g.jsxs("nav",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[g.jsxs("button",{className:`btn ${a==="stock"?"btn-primary":"btn-outline"}`,style:{justifyContent:"flex-start",width:"100%"},onClick:()=>o("stock"),children:[g.jsx(f2,{size:18})," Estoque"]}),g.jsxs("button",{className:`btn ${a==="customers"?"btn-primary":"btn-outline"}`,style:{justifyContent:"flex-start",width:"100%"},onClick:()=>o("customers"),children:[g.jsx(IS,{size:18})," Clientes"]}),g.jsxs("button",{className:`btn ${a==="orders"?"btn-primary":"btn-outline"}`,style:{justifyContent:"flex-start",width:"100%"},onClick:()=>o("orders"),children:[g.jsx(h2,{size:18})," Vendas"]}),g.jsxs("button",{className:`btn ${a==="settings"?"btn-primary":"btn-outline"}`,style:{justifyContent:"flex-start",width:"100%"},onClick:()=>o("settings"),children:[g.jsx(NS,{size:18})," Configuraes"]})]}),g.jsx("div",{style:{marginTop:"4rem",paddingTop:"1rem",borderTop:"1px solid var(--color-border)"},children:g.jsxs("button",{onClick:gt,className:"btn btn-outline",style:{width:"100%",color:"#dc2626",borderColor:"#dc2626"},children:[g.jsx(Rw,{size:18})," Sair"]})})]}),g.jsxs("main",{style:{flex:1,minWidth:"300px"},className:"slide-in",children:[a==="stock"&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[g.jsxs("div",{className:"glass-card",style:{padding:"1.5rem"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.75rem"},children:[g.jsx("span",{style:{fontSize:"0.875rem",color:"var(--color-text-muted)"},children:"Total de Produtos"}),g.jsx(f2,{size:20,color:"var(--color-primary)"})]}),g.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",color:"var(--color-primary)"},children:En.totalProducts})]}),g.jsxs("div",{className:"glass-card",style:{padding:"1.5rem"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.75rem"},children:[g.jsx("span",{style:{fontSize:"0.875rem",color:"var(--color-text-muted)"},children:"Unidades em Estoque"}),g.jsx(PS,{size:20,color:"#3b82f6"})]}),g.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#3b82f6"},children:En.totalStock.toLocaleString()})]}),g.jsxs("div",{className:"glass-card",style:{padding:"1.5rem"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.75rem"},children:[g.jsx("span",{style:{fontSize:"0.875rem",color:"var(--color-text-muted)"},children:"Valor Total"}),g.jsx(h2,{size:20,color:"#10b981"})]}),g.jsxs("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#10b981"},children:["R$ ",En.totalValue.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),g.jsxs("div",{className:"glass-card",style:{padding:"1.5rem"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.75rem"},children:[g.jsx("span",{style:{fontSize:"0.875rem",color:"var(--color-text-muted)"},children:"Estoque Crtico"}),g.jsx(sp,{size:20,color:"#ef4444"})]}),g.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#ef4444"},children:En.criticalStock})]}),g.jsxs("div",{className:"glass-card",style:{padding:"1.5rem"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"0.75rem"},children:[g.jsxs("span",{style:{fontSize:"0.875rem",color:"var(--color-text-muted)"},children:["Vencendo em ",ee," dias"]}),g.jsx(sp,{size:20,color:"#f59e0b"})]}),g.jsx("div",{style:{fontSize:"2rem",fontWeight:"700",color:"#f59e0b"},children:En.expiringSoon})]})]}),g.jsx("div",{className:"glass-card",style:{padding:"2rem",marginBottom:"2rem"},children:g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[g.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"700"},children:"Relatrios"}),g.jsxs("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap"},children:[g.jsxs("button",{onClick:mt,className:"btn btn-outline",style:{fontSize:"0.9rem"},children:[g.jsx(_S,{size:18})," Baixar Relatrio Completo"]}),g.jsxs("button",{onClick:Ht,className:"btn btn-outline",style:{fontSize:"0.9rem"},children:[g.jsx(sp,{size:18})," Produtos Crticos"]}),g.jsxs("button",{onClick:Xe,className:"btn btn-outline",style:{fontSize:"0.9rem"},children:[g.jsx(AS,{size:18})," Imprimir"]})]})]})}),g.jsxs("div",{className:"glass-card",style:{padding:"2rem",marginBottom:"2rem"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem",gap:"1rem",flexWrap:"wrap"},children:[g.jsxs("div",{children:[g.jsxs("h3",{style:{fontSize:"1.1rem",fontWeight:"700"},children:["Prximos do vencimento (",ee," dias)"]}),g.jsxs("p",{style:{color:"var(--color-text-muted)",fontSize:"0.85rem"},children:["Produtos que vencem em at ",ee," dias."]})]}),g.jsx("button",{type:"button",className:"btn btn-outline",onClick:qe,children:"Atualizar lista"})]}),Cr.length===0?g.jsx("p",{style:{color:"var(--color-text-muted)"},children:"Nenhum produto vencendo em breve."}):g.jsx("div",{style:{display:"grid",gap:"0.75rem"},children:Cr.map(K=>g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem 1rem",border:"1px solid var(--color-border)",borderRadius:"0.75rem",gap:"1rem",flexWrap:"wrap"},children:[g.jsxs("div",{children:[g.jsx("strong",{children:K.name}),g.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--color-text-muted)"},children:["Vence em ",K.daysUntil," dias - ",It(K.expiration_date)]})]}),g.jsx("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center",flexWrap:"wrap"},children:(K.promo_percent??0)>0?g.jsxs(g.Fragment,{children:[g.jsxs("span",{className:"badge badge-success",children:["Promoo ",K.promo_percent,"%"]}),g.jsx("button",{type:"button",className:"btn btn-outline",onClick:()=>tt(K),children:"Remover promo"})]}):g.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>vt(K,10),children:"Aplicar -10%"})})]},K.id))})]}),g.jsxs("div",{className:"glass-card",style:{padding:"2rem",marginBottom:"2rem"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem",gap:"1rem",flexWrap:"wrap"},children:[g.jsxs("div",{children:[g.jsxs("h3",{style:{fontSize:"1.1rem",fontWeight:"700"},children:["Estoque baixo (abaixo de ",z,")"]}),g.jsx("p",{style:{color:"var(--color-text-muted)",fontSize:"0.85rem"},children:"Produtos que precisam de reposio."})]}),g.jsx("button",{type:"button",className:"btn btn-outline",onClick:qe,children:"Atualizar lista"})]}),Jn.length===0?g.jsx("p",{style:{color:"var(--color-text-muted)"},children:"Nenhum produto com estoque baixo."}):g.jsx("div",{style:{display:"grid",gap:"0.75rem"},children:Jn.map(K=>g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem 1rem",border:"1px solid var(--color-border)",borderRadius:"0.75rem",gap:"1rem",flexWrap:"wrap"},children:[g.jsxs("div",{children:[g.jsx("strong",{children:K.name}),g.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--color-text-muted)"},children:["Estoque atual: ",K.stock]})]}),g.jsxs("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center",flexWrap:"wrap"},children:[g.jsx("button",{type:"button",className:"btn btn-outline",onClick:()=>it(K,10),children:"+10"}),g.jsx("button",{type:"button",className:"btn btn-outline",onClick:()=>it(K,50),children:"+50"}),g.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>xt(K),children:"Editar"})]})]},K.id))})]}),g.jsxs("div",{className:"glass-card",style:{padding:"2rem"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",gap:"1rem",flexWrap:"wrap"},children:[g.jsx("h2",{children:"Gesto de Estoque"}),g.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"center",flexWrap:"wrap"},children:[g.jsx("button",{type:"button",onClick:lt,className:"btn btn-primary",style:{fontSize:"0.9rem"},children:"Adicionar Produto"}),g.jsxs("span",{className:"badge badge-info",children:[i.length," produtos"]})]})]}),g.jsx("div",{style:{overflowX:"auto"},children:g.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",textAlign:"left"},children:[g.jsx("thead",{children:g.jsxs("tr",{style:{borderBottom:"2px solid var(--color-border)"},children:[g.jsx("th",{style:{padding:"1rem"},children:"Produto"}),g.jsx("th",{style:{padding:"1rem"},children:"Tipo"}),g.jsx("th",{style:{padding:"1rem"},children:"Qtd."}),g.jsx("th",{style:{padding:"1rem"},children:"Validade"}),g.jsx("th",{style:{padding:"1rem"},children:"Status"}),g.jsx("th",{style:{padding:"1rem"},children:"Promoo"}),g.jsx("th",{style:{padding:"1rem"},children:"Aes"})]})}),g.jsx("tbody",{children:i.map(K=>{const Ce=Number(K.promo_percent||0),Je=et(K.expiration_date);return g.jsxs("tr",{style:{borderBottom:"1px solid var(--color-border)"},children:[g.jsxs("td",{style:{padding:"1rem",fontWeight:"500"},children:[K.name," ",g.jsxs("span",{style:{fontSize:"0.8rem",color:"gray"},children:["(",K.dosage,")"]})]}),g.jsx("td",{style:{padding:"1rem"},children:wd(K.type)}),g.jsx("td",{style:{padding:"1rem"},children:K.stock}),g.jsx("td",{style:{padding:"1rem"},children:K.expiration_date?g.jsxs("div",{children:[g.jsx("div",{children:It(K.expiration_date)}),Je!==null&&g.jsx("div",{style:{fontSize:"0.75rem",color:Je<=ee?"#f59e0b":"var(--color-text-muted)"},children:Je<0?`Vencido h ${Math.abs(Je)} dias`:`Faltam ${Je} dias`})]}):"-"}),g.jsx("td",{style:{padding:"1rem"},children:g.jsx("span",{className:`badge ${K.stock>=500?"badge-success":K.stock>=z?"badge-info":"badge-warning"}`,children:K.stock>=500?"Alto":K.stock>=z?"Normal":"Baixo"})}),g.jsx("td",{style:{padding:"1rem"},children:Ce>0?g.jsxs("span",{className:"badge badge-success",children:[Ce,"%"]}):g.jsx("span",{className:"badge badge-info",children:"-"})}),g.jsx("td",{style:{padding:"1rem"},children:g.jsxs("div",{style:{display:"flex",gap:"0.4rem",flexWrap:"wrap"},children:[g.jsx("button",{type:"button",onClick:()=>xt(K),className:"btn btn-outline",style:{padding:"0.25rem 0.5rem",fontSize:"0.8rem"},children:"Editar"}),g.jsx("button",{type:"button",onClick:()=>it(K,10),className:"btn btn-outline",style:{padding:"0.25rem 0.5rem",fontSize:"0.8rem"},children:"+10"}),g.jsx("button",{type:"button",onClick:()=>it(K,-10),className:"btn btn-outline",style:{padding:"0.25rem 0.5rem",fontSize:"0.8rem"},children:"-10"}),Ce>0?g.jsx("button",{type:"button",onClick:()=>tt(K),className:"btn btn-outline",style:{padding:"0.25rem 0.5rem",fontSize:"0.8rem"},children:"Remover Promo"}):g.jsx("button",{type:"button",onClick:()=>vt(K,10),className:"btn btn-primary",style:{padding:"0.25rem 0.5rem",fontSize:"0.8rem"},children:"Promo -10%"}),g.jsx("button",{type:"button",onClick:()=>Vt(K),className:"btn btn-outline",style:{padding:"0.25rem 0.5rem",fontSize:"0.8rem",color:"#dc2626",borderColor:"#dc2626"},children:"Remover"})]})})]},K.id)})})]})})]})]}),a==="customers"&&g.jsxs("div",{className:"glass-card",style:{padding:"2rem"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",gap:"1rem",flexWrap:"wrap"},children:[g.jsxs("div",{children:[g.jsx("h2",{children:"Clientes Cadastrados"}),g.jsxs("p",{style:{color:"var(--color-text-muted)",fontSize:"0.9rem"},children:[l.length," clientes registrados."]})]}),g.jsxs("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap",alignItems:"center"},children:[g.jsx("input",{type:"text",value:_,onChange:K=>x(K.target.value),placeholder:"Buscar por nome, email, CPF...",style:{padding:"0.65rem 0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",minWidth:"220px"}}),g.jsx("button",{type:"button",className:"btn btn-outline",onClick:ke,children:"Atualizar"})]})]}),v&&g.jsx("div",{style:{padding:"0.75rem 1rem",background:"#fee2e2",color:"#991b1b",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.9rem"},children:v}),h?g.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"2rem"},children:g.jsx(ys,{size:32,color:"var(--color-primary)",style:{animation:"spin 1s linear infinite"}})}):g.jsx("div",{style:{overflowX:"auto"},children:g.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",textAlign:"left"},children:[g.jsx("thead",{children:g.jsxs("tr",{style:{borderBottom:"2px solid var(--color-border)"},children:[g.jsx("th",{style:{padding:"0.85rem"},children:"Nome"}),g.jsx("th",{style:{padding:"0.85rem"},children:"Email"}),g.jsx("th",{style:{padding:"0.85rem"},children:"CPF/CNPJ"}),g.jsx("th",{style:{padding:"0.85rem"},children:"Telefone"}),g.jsx("th",{style:{padding:"0.85rem"},children:"Cidade/UF"}),g.jsx("th",{style:{padding:"0.85rem"},children:"Cadastro"})]})}),g.jsxs("tbody",{children:[Cn.map(K=>g.jsxs("tr",{style:{borderBottom:"1px solid var(--color-border)"},children:[g.jsx("td",{style:{padding:"0.85rem",fontWeight:"600"},children:K.name}),g.jsx("td",{style:{padding:"0.85rem"},children:K.email}),g.jsx("td",{style:{padding:"0.85rem"},children:K.cpf_cnpj}),g.jsx("td",{style:{padding:"0.85rem"},children:K.phone1}),g.jsxs("td",{style:{padding:"0.85rem"},children:[K.municipio,"/",K.estado]}),g.jsx("td",{style:{padding:"0.85rem"},children:K.created_at?new Date(K.created_at).toLocaleDateString("pt-BR"):"-"})]},K.id)),!Cn.length&&g.jsx("tr",{children:g.jsx("td",{colSpan:"6",style:{padding:"1rem",textAlign:"center",color:"var(--color-text-muted)"},children:"Nenhum cliente encontrado."})})]})]})})]}),a==="orders"&&g.jsxs("div",{className:"glass-card",style:{padding:"2rem"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",gap:"1rem",flexWrap:"wrap"},children:[g.jsxs("div",{children:[g.jsx("h2",{children:"Gesto de Vendas"}),g.jsxs("p",{style:{color:"var(--color-text-muted)",fontSize:"0.9rem"},children:[B.length," pedidos registrados."]})]}),g.jsx("button",{type:"button",className:"btn btn-outline",onClick:Ye,children:"Atualizar lista"})]}),de&&g.jsx("div",{style:{padding:"0.75rem 1rem",background:"#fee2e2",color:"#991b1b",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.9rem"},children:de}),G?g.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"2rem"},children:g.jsx(ys,{size:32,color:"var(--color-primary)",style:{animation:"spin 1s linear infinite"}})}):g.jsx("div",{style:{overflowX:"auto"},children:g.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",textAlign:"left"},children:[g.jsx("thead",{children:g.jsxs("tr",{style:{borderBottom:"2px solid var(--color-border)"},children:[g.jsx("th",{style:{padding:"0.85rem"},children:"ID Pedido"}),g.jsx("th",{style:{padding:"0.85rem"},children:"Cliente"}),g.jsx("th",{style:{padding:"0.85rem"},children:"Data"}),g.jsx("th",{style:{padding:"0.85rem"},children:"Total"}),g.jsx("th",{style:{padding:"0.85rem"},children:"Status"}),g.jsx("th",{style:{padding:"0.85rem"},children:"Aes"})]})}),g.jsxs("tbody",{children:[B.map(K=>{var Ce,Je;return g.jsxs("tr",{style:{borderBottom:"1px solid var(--color-border)"},children:[g.jsxs("td",{style:{padding:"0.85rem",fontSize:"0.8rem",color:"var(--color-text-muted)"},children:["#",K.id.slice(0,8)]}),g.jsxs("td",{style:{padding:"0.85rem"},children:[g.jsx("div",{style:{fontWeight:"600"},children:((Ce=K.customers)==null?void 0:Ce.name)||"Cliente no identificado"}),g.jsx("div",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)"},children:(Je=K.customers)==null?void 0:Je.email})]}),g.jsx("td",{style:{padding:"0.85rem"},children:new Date(K.created_at).toLocaleString("pt-BR")}),g.jsxs("td",{style:{padding:"0.85rem",fontWeight:"bold",color:"var(--color-primary)"},children:["R$ ",Number(K.total).toFixed(2)]}),g.jsx("td",{style:{padding:"0.85rem"},children:g.jsx("span",{className:`badge ${K.status==="completed"?"badge-success":K.status==="pending"?"badge-info":"badge-warning"}`,children:K.status==="completed"?"Concludo":K.status==="pending"?"Pendente":K.status==="cancelled"?"Cancelado":K.status})}),g.jsx("td",{style:{padding:"0.85rem"},children:g.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:K.status==="pending"&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:()=>Ie(K.id),className:"btn btn-primary",style:{padding:"0.35rem 0.75rem",fontSize:"0.8rem"},children:"Confirmar Venda"}),g.jsx("button",{onClick:()=>Qe(K.id),className:"btn btn-outline",style:{padding:"0.35rem 0.75rem",fontSize:"0.8rem",color:"#dc2626",borderColor:"#dc2626"},children:"Cancelar"})]})})})]},K.id)}),!B.length&&g.jsx("tr",{children:g.jsx("td",{colSpan:"6",style:{padding:"1rem",textAlign:"center",color:"var(--color-text-muted)"},children:"Nenhum pedido encontrado."})})]})]})})]}),a==="settings"&&g.jsxs("div",{className:"glass-card",style:{padding:"2rem"},children:[g.jsx("h2",{style:{marginBottom:"1rem"},children:"Configuraes de Estoque"}),g.jsx("p",{style:{color:"var(--color-text-muted)",marginBottom:"1.5rem"},children:"Ajuste parmetros usados para alertas e validaes internas."}),g.jsxs("div",{style:{display:"grid",gap:"1rem",maxWidth:"420px"},children:[g.jsxs("div",{children:[g.jsx("label",{style:Ze,children:"Limite de estoque baixo"}),g.jsx("input",{type:"number",min:"1",value:z,onChange:K=>D(Number(K.target.value)||0),style:Ee})]}),g.jsxs("div",{children:[g.jsx("label",{style:Ze,children:"Dias para alerta de vencimento"}),g.jsx("input",{type:"number",min:"1",value:ee,onChange:K=>T(Number(K.target.value)||0),style:Ee})]}),g.jsx("div",{style:{fontSize:"0.85rem",color:"var(--color-text-muted)"},children:"Esses valores afetam as listas de estoque baixo e produtos prximos ao vencimento."})]})]})]}),ie&&g.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(15, 23, 42, 0.45)",display:"flex",alignItems:"center",justifyContent:"center",padding:"1.5rem",zIndex:50},children:g.jsxs("div",{className:"glass-card",style:{width:"100%",maxWidth:"760px",padding:"2rem"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"1rem",marginBottom:"1rem"},children:[g.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"700"},children:Q?"Editar Produto":"Adicionar Produto"}),g.jsx("button",{type:"button",onClick:bt,className:"btn btn-outline",style:{padding:"0.5rem 0.75rem"},children:"Fechar"})]}),W&&g.jsx("div",{style:{padding:"0.75rem 1rem",background:"#fee2e2",color:"#991b1b",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.9rem"},children:W}),g.jsxs("form",{onSubmit:ir,style:{display:"grid",gap:"1rem"},children:[g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[g.jsxs("div",{children:[g.jsx("label",{style:Ze,children:"Nome"}),g.jsx("input",{type:"text",value:re.name,onChange:K=>Re("name",K.target.value),style:Ee,required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{style:Ze,children:"Dosagem"}),g.jsx("input",{type:"text",value:re.dosage,onChange:K=>Re("dosage",K.target.value),style:Ee,required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{style:Ze,children:"Tipo"}),g.jsx("input",{type:"text",value:re.type,onChange:K=>Re("type",K.target.value),style:Ee,required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{style:Ze,children:"Estoque"}),g.jsx("input",{type:"number",min:"0",step:"1",value:re.stock,onChange:K=>Re("stock",K.target.value),style:Ee,required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{style:Ze,children:"Preco"}),g.jsx("input",{type:"number",min:"0",step:"0.01",value:re.price,onChange:K=>Re("price",K.target.value),style:Ee,required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{style:Ze,children:"Preco Atacado"}),g.jsx("input",{type:"number",min:"0",step:"0.01",value:re.wholesale_price,onChange:K=>Re("wholesale_price",K.target.value),style:Ee,required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{style:Ze,children:"Validade"}),g.jsx("input",{type:"date",value:re.expiration_date||"",onChange:K=>Re("expiration_date",K.target.value),style:Ee})]}),g.jsxs("div",{children:[g.jsx("label",{style:Ze,children:"Imagem local"}),g.jsx("input",{ref:Pe,type:"file",accept:"image/*",onChange:ct,style:Ee}),g.jsx("div",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)",marginTop:"0.35rem"},children:"JPG/PNG ate 5MB. Se selecionar arquivo, ele substitui a URL."})]}),g.jsxs("div",{children:[g.jsx("label",{style:Ze,children:"URL da Imagem (opcional)"}),g.jsx("input",{type:"url",value:re.image_url,onChange:K=>{Re("image_url",K.target.value),ge||Te(K.target.value)},style:Ee,placeholder:"https://"})]})]}),Ae&&g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",flexWrap:"wrap"},children:[g.jsx("img",{src:Ae,alt:"Preview da imagem",style:{width:"120px",height:"120px",objectFit:"cover",borderRadius:"0.75rem",border:"1px solid var(--color-border)"}}),ge&&g.jsx("button",{type:"button",className:"btn btn-outline",onClick:()=>ft(re.image_url||""),children:"Remover imagem local"})]}),g.jsxs("div",{children:[g.jsx("label",{style:Ze,children:"Descricao"}),g.jsx("textarea",{value:re.description,onChange:K=>Re("description",K.target.value),style:{...Ee,minHeight:"90px",resize:"vertical"}})]}),g.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.9rem"},children:[g.jsx("input",{type:"checkbox",checked:re.requires_prescription,onChange:K=>Re("requires_prescription",K.target.checked)}),"Requer receita"]}),g.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.75rem",flexWrap:"wrap"},children:[g.jsx("button",{type:"button",className:"btn btn-outline",onClick:bt,children:"Cancelar"}),g.jsx("button",{type:"submit",className:"btn btn-primary",disabled:pe,children:pe?"Salvando...":Q?"Salvar":"Adicionar"})]})]})]})})]}):g.jsx("div",{style:{display:"flex",minHeight:"calc(100vh - 80px)",alignItems:"center",justifyContent:"center"},children:g.jsxs("div",{className:"glass-card fade-in",style:{padding:"2.5rem",width:"100%",maxWidth:"420px"},children:[g.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[g.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #009c3b, #007a2d)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(0, 156, 59, 0.3)"},children:g.jsx(d2,{size:40,color:"white"})}),g.jsx("h2",{style:{fontSize:"1.75rem",color:"var(--color-primary)",marginBottom:"0.5rem"},children:"rea Administrativa"}),g.jsx("p",{style:{color:"var(--color-text-muted)"},children:"Brasil Mais Distribuidora"})]}),E&&g.jsxs("div",{style:{padding:"1rem",background:"#fee2e2",color:"#991b1b",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.9rem",border:"1px solid #f87171",textAlign:"left"},children:[g.jsx("strong",{children:"Erro:"})," ",E,g.jsx("div",{style:{marginTop:"0.5rem",fontSize:"0.8rem",opacity:.8},children:"Dica: Verifique se o VPN do seu navegador est desligado."})]}),g.jsxs("form",{onSubmit:St,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Email"}),g.jsx("input",{type:"email",value:A,onChange:K=>w(K.target.value),required:!0,style:{width:"100%",padding:"0.875rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",fontSize:"1rem"},placeholder:"seu@email.com"})]}),g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Senha"}),g.jsx("input",{type:"password",value:S,onChange:K=>k(K.target.value),required:!0,style:{width:"100%",padding:"0.875rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",fontSize:"1rem"},placeholder:""})]}),g.jsx("button",{type:"submit",className:"btn btn-primary",disabled:J,style:{marginTop:"1rem",padding:"1rem",fontSize:"1rem"},children:J?g.jsxs(g.Fragment,{children:[g.jsx(ys,{size:20,style:{animation:"spin 1s linear infinite"}}),"Entrando..."]}):"Entrar"})]}),g.jsx("div",{style:{marginTop:"1.5rem",textAlign:"center"},children:g.jsx(yr,{to:"/admin/forgot-password",style:{color:"var(--color-primary)",fontSize:"0.9rem",textDecoration:"underline"},children:"Esqueci minha senha"})})]})})},X7=()=>{const[t,e]=he.useState(""),[r,n]=he.useState(!1),[i,s]=he.useState(!1),[a,o]=he.useState(""),l=async u=>{u.preventDefault(),n(!0),o("");try{const{error:h}=await st.auth.resetPasswordForEmail(t,{redirectTo:`${window.location.origin}/admin/reset-password`});if(h)throw h;s(!0)}catch(h){console.error("Erro ao enviar email:",h),o(h.message||"Erro ao enviar email de recuperao.")}finally{n(!1)}};return i?g.jsx("div",{style:{display:"flex",minHeight:"calc(100vh - 80px)",alignItems:"center",justifyContent:"center"},children:g.jsxs("div",{className:"glass-card fade-in",style:{padding:"2.5rem",width:"100%",maxWidth:"420px",textAlign:"center"},children:[g.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #10b981, #059669)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(16, 185, 129, 0.3)"},children:g.jsx(oc,{size:40,color:"white"})}),g.jsx("h2",{style:{fontSize:"1.75rem",color:"var(--color-primary)",marginBottom:"0.75rem"},children:"Email Enviado!"}),g.jsxs("p",{style:{color:"var(--color-text-muted)",marginBottom:"2rem",lineHeight:"1.6"},children:["Verifique sua caixa de entrada em ",g.jsx("strong",{children:t})," e siga as instrues para redefinir sua senha."]}),g.jsx(yr,{to:"/admin",className:"btn btn-primary",style:{width:"100%"},children:"Voltar ao Login"})]})}):g.jsx("div",{style:{display:"flex",minHeight:"calc(100vh - 80px)",alignItems:"center",justifyContent:"center"},children:g.jsxs("div",{className:"glass-card fade-in",style:{padding:"2.5rem",width:"100%",maxWidth:"420px"},children:[g.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[g.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #3b82f6, #2563eb)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(59, 130, 246, 0.3)"},children:g.jsx(gd,{size:40,color:"white"})}),g.jsx("h2",{style:{fontSize:"1.75rem",color:"var(--color-primary)",marginBottom:"0.5rem"},children:"Esqueceu a Senha?"}),g.jsx("p",{style:{color:"var(--color-text-muted)"},children:"Enviaremos instrues para redefinir sua senha"})]}),a&&g.jsx("div",{style:{padding:"1rem",background:"#fee2e2",color:"#991b1b",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.9rem"},children:a}),g.jsxs("form",{onSubmit:l,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Email"}),g.jsx("input",{type:"email",value:t,onChange:u=>e(u.target.value),required:!0,style:{width:"100%",padding:"0.875rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",fontSize:"1rem"},placeholder:"seu@email.com"})]}),g.jsx("button",{type:"submit",className:"btn btn-primary",disabled:r,style:{marginTop:"1rem",padding:"1rem",fontSize:"1rem"},children:r?g.jsxs(g.Fragment,{children:[g.jsx(ys,{size:20,style:{animation:"spin 1s linear infinite"}}),"Enviando..."]}):g.jsxs(g.Fragment,{children:[g.jsx(gd,{size:20}),"Enviar Link de Recuperao"]})})]}),g.jsx("div",{style:{marginTop:"1.5rem",textAlign:"center"},children:g.jsxs(yr,{to:"/admin",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",color:"var(--color-primary)",fontSize:"0.9rem"},children:[g.jsx(Pw,{size:16}),"Voltar ao Login"]})})]})})},Q7=()=>{const t=ac(),[e,r]=he.useState(""),[n,i]=he.useState(""),[s,a]=he.useState(!1),[o,l]=he.useState(!1),[u,h]=he.useState(""),p=async v=>{if(v.preventDefault(),h(""),e!==n){h("As senhas no coincidem.");return}if(e.length<6){h("A senha deve ter pelo menos 6 caracteres.");return}a(!0);try{const{error:f}=await st.auth.updateUser({password:e});if(f)throw f;l(!0),setTimeout(()=>{t("/admin")},2e3)}catch(f){console.error("Erro ao redefinir senha:",f),h(f.message||"Erro ao redefinir senha.")}finally{a(!1)}};return o?g.jsx("div",{style:{display:"flex",minHeight:"calc(100vh - 80px)",alignItems:"center",justifyContent:"center"},children:g.jsxs("div",{className:"glass-card fade-in",style:{padding:"2.5rem",width:"100%",maxWidth:"420px",textAlign:"center"},children:[g.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #10b981, #059669)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(16, 185, 129, 0.3)"},children:g.jsx(oc,{size:40,color:"white"})}),g.jsx("h2",{style:{fontSize:"1.75rem",color:"var(--color-primary)",marginBottom:"0.75rem"},children:"Senha Atualizada!"}),g.jsx("p",{style:{color:"var(--color-text-muted)",lineHeight:"1.6"},children:"Sua senha foi redefinida com sucesso. Redirecionando para o login..."})]})}):g.jsx("div",{style:{display:"flex",minHeight:"calc(100vh - 80px)",alignItems:"center",justifyContent:"center"},children:g.jsxs("div",{className:"glass-card fade-in",style:{padding:"2.5rem",width:"100%",maxWidth:"420px"},children:[g.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[g.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #009c3b, #007a2d)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(0, 156, 59, 0.3)"},children:g.jsx(pd,{size:40,color:"white"})}),g.jsx("h2",{style:{fontSize:"1.75rem",color:"var(--color-primary)",marginBottom:"0.5rem"},children:"Nova Senha"}),g.jsx("p",{style:{color:"var(--color-text-muted)"},children:"Crie uma senha forte e segura"})]}),u&&g.jsx("div",{style:{padding:"1rem",background:"#fee2e2",color:"#991b1b",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.9rem"},children:u}),g.jsxs("form",{onSubmit:p,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Nova Senha"}),g.jsx("input",{type:"password",value:e,onChange:v=>r(v.target.value),required:!0,style:{width:"100%",padding:"0.875rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",fontSize:"1rem"},placeholder:""})]}),g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Confirmar Senha"}),g.jsx("input",{type:"password",value:n,onChange:v=>i(v.target.value),required:!0,style:{width:"100%",padding:"0.875rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",fontSize:"1rem"},placeholder:""})]}),g.jsx("button",{type:"submit",className:"btn btn-primary",disabled:s,style:{marginTop:"1rem",padding:"1rem",fontSize:"1rem"},children:s?g.jsxs(g.Fragment,{children:[g.jsx(ys,{size:20,style:{animation:"spin 1s linear infinite"}}),"Atualizando..."]}):g.jsxs(g.Fragment,{children:[g.jsx(pd,{size:20}),"Redefinir Senha"]})})]})]})})},kh=()=>({name:"",email:"",cpf_cnpj:"",phone1:"",phone2:"",cep:"",address:"",address_number:"",address_type:"Casa",municipio:"",estado:"",reference:""}),Z7=()=>{var ce,de;const[t,e]=he.useState(null),[r,n]=he.useState(!0),[i,s]=he.useState("login"),[a,o]=he.useState(""),[l,u]=he.useState(""),[h,p]=he.useState({...kh(),password:"",confirmPassword:""}),[v,f]=he.useState(kh()),[_,x]=he.useState(!1),[A,w]=he.useState(""),[S,k]=he.useState(""),[E,F]=he.useState(!1),J=ac(),V="/Antigravit_testes/";he.useEffect(()=>{st.auth.getSession().then(({data:{session:O}})=>{e(O),n(!1)});const{data:{subscription:X}}=st.auth.onAuthStateChange((O,ie)=>{e(ie)});return()=>X.unsubscribe()},[]),he.useEffect(()=>{t?z():(x(!1),f(kh()))},[t]);const z=async()=>{w("");try{const{data:X,error:O}=await st.from("customers").select("*").eq("user_id",t.user.id).single();if(O&&O.code!=="PGRST116")throw O;if(X){f({name:X.name||"",email:X.email||t.user.email||"",cpf_cnpj:X.cpf_cnpj||"",phone1:X.phone1||"",phone2:X.phone2||"",cep:X.cep||"",address:X.address||"",address_number:X.address_number||"",address_type:X.address_type||"Casa",municipio:X.municipio||"",estado:X.estado||"",reference:X.reference||""}),x(!0);return}f(ie=>({...ie,email:t.user.email||""})),x(!1)}catch(X){console.error("Erro ao buscar perfil:",X),w(X.message||"Erro ao buscar perfil.")}},D=X=>/^\d{6}$/.test(X),ee=async X=>{X.preventDefault(),w(""),k("");const O=a.trim();if(!O){w("Informe email ou CPF/CNPJ.");return}if(!D(l)){w("A senha deve ter 6 numeros.");return}try{let ie=O;if(!O.includes("@")){const{data:pe,error:C}=await st.rpc("get_email_by_cpf",{p_cpf:O});if(C)throw C;if(!pe){w("CPF/CNPJ nao encontrado.");return}ie=pe}const{error:fe}=await st.auth.signInWithPassword({email:ie,password:l});if(fe)throw fe;k("Login realizado com sucesso. Redirecionando para o catalogo..."),setTimeout(()=>{J("/catalog",{replace:!0})},700)}catch(ie){console.error("Erro no login:",ie),w(ie.message||"Erro ao entrar.")}},T=()=>[h.name,h.email,h.cpf_cnpj,h.phone1,h.cep,h.address,h.address_number,h.address_type,h.municipio,h.estado].some(O=>!O||!O.toString().trim())?"Preencha todos os campos obrigatorios.":D(h.password)?h.password!==h.confirmPassword?"As senhas nao coincidem.":"":"A senha deve ter exatamente 6 numeros.",B=async X=>{var ie,fe,pe;X.preventDefault(),w(""),k("");const O=T();if(O){w(O);return}F(!0);try{const C=h.email.trim(),W={name:h.name.trim(),cpf_cnpj:h.cpf_cnpj.trim(),phone1:h.phone1.trim(),phone2:h.phone2.trim()||null,cep:h.cep.trim(),address:h.address.trim(),address_number:h.address_number.trim(),address_type:h.address_type.trim(),municipio:h.municipio.trim(),estado:h.estado.trim(),reference:h.reference.trim()||null},{data:H,error:Q}=await st.auth.signUp({email:C,password:h.password,options:{emailRedirectTo:`${window.location.origin}${V}cliente`,data:W}});if(Q)throw Q;const ne=((fe=(ie=H.session)==null?void 0:ie.user)==null?void 0:fe.id)??((pe=H.user)==null?void 0:pe.id)??null;if(H.session&&ne){const{error:re}=await st.from("customers").upsert([{user_id:ne,email:C,...W}],{onConflict:"user_id"});if(re)throw re;k("Cadastro criado com sucesso! Redirecionando para o catlogo..."),s("login"),setTimeout(()=>{J("/catalog",{replace:!0})},1500),p({...kh(),password:"",confirmPassword:""})}else k("Cadastro criado. Confirme o email para entrar."),s("login")}catch(C){console.error("Erro ao cadastrar:",C),w(C.message||"Erro ao cadastrar.")}finally{F(!1)}},Y=async X=>{if(X.preventDefault(),w(""),k(""),[v.name,v.cpf_cnpj,v.phone1,v.cep,v.address,v.address_number,v.address_type,v.municipio,v.estado].some(ie=>!ie||!ie.toString().trim())){w("Preencha todos os campos obrigatorios.");return}F(!0);try{const ie={user_id:t.user.id,name:v.name.trim(),email:v.email.trim(),cpf_cnpj:v.cpf_cnpj.trim(),phone1:v.phone1.trim(),phone2:v.phone2.trim()||null,cep:v.cep.trim(),address:v.address.trim(),address_number:v.address_number.trim(),address_type:v.address_type.trim(),municipio:v.municipio.trim(),estado:v.estado.trim(),reference:v.reference.trim()||null},{error:fe}=await st.from("customers").upsert([ie],{onConflict:"user_id"});if(fe){const pe=(fe.message||"").toLowerCase();if(fe.code==="23505"||pe.includes("customers_cpf_cnpj_key")||pe.includes("customers_email_key")||pe.includes("duplicate key")){const{data:W,error:H}=await st.rpc("claim_customer_profile",{p_email:ie.email,p_cpf:ie.cpf_cnpj,p_payload:ie});if(H)throw H;if(W){k("Cadastro vinculado com sucesso."),x(!0);return}w("CPF/CNPJ ja cadastrado em outra conta. Use o email original do cadastro.");return}throw fe}k("Dados atualizados com sucesso."),x(!0)}catch(ie){console.error("Erro ao salvar perfil:",ie),w(ie.message||"Erro ao salvar perfil.")}finally{F(!1)}},G=async()=>{await st.auth.signOut()};return r?g.jsx("div",{style:{display:"flex",minHeight:"calc(100vh - 80px)",alignItems:"center",justifyContent:"center"},children:g.jsx(ys,{size:48,color:"var(--color-primary)",style:{animation:"spin 1s linear infinite"}})}):t?g.jsx("div",{style:{display:"flex",minHeight:"calc(100vh - 80px)",alignItems:"center",justifyContent:"center"},children:g.jsxs("div",{className:"glass-card fade-in",style:{padding:"2.5rem",width:"100%",maxWidth:"760px"},children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"1rem",marginBottom:"1.5rem"},children:[g.jsxs("div",{children:[g.jsx("h2",{style:{fontSize:"1.75rem",color:"var(--color-primary)",marginBottom:"0.25rem"},children:"Area do Cliente"}),g.jsx("p",{style:{color:"var(--color-text)"},children:((ce=v.name)==null?void 0:ce.trim())||((de=t.user.user_metadata)==null?void 0:de.name)||t.user.email}),g.jsx("p",{style:{color:"var(--color-text-muted)",fontSize:"0.85rem"},children:t.user.email})]}),g.jsxs("button",{onClick:G,className:"btn btn-outline",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem"},children:[g.jsx(Rw,{size:18})," Sair"]})]}),A&&g.jsx("div",{style:{padding:"1rem",background:"#fee2e2",color:"#991b1b",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.9rem"},children:A}),S&&g.jsx("div",{style:{padding:"1rem",background:"#dcfce7",color:"#166534",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.9rem"},children:S}),!_&&g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem",color:"var(--color-text-muted)"},children:[g.jsx(oc,{size:18}),"Complete seu cadastro para finalizar pedidos."]}),g.jsxs("form",{onSubmit:Y,style:{display:"grid",gap:"1rem"},children:[g.jsxs("div",{style:{display:"grid",gap:"1rem",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:[g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Nome"}),g.jsx("input",{type:"text",value:v.name,onChange:X=>f(O=>({...O,name:X.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Email"}),g.jsx("input",{type:"email",value:v.email,onChange:X=>f(O=>({...O,email:X.target.value})),required:!0,readOnly:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",background:"#f8fafc"}})]}),g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"CPF/CNPJ"}),g.jsx("input",{type:"text",value:v.cpf_cnpj,onChange:X=>f(O=>({...O,cpf_cnpj:X.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Telefone 1"}),g.jsx("input",{type:"text",value:v.phone1,onChange:X=>f(O=>({...O,phone1:X.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Telefone 2"}),g.jsx("input",{type:"text",value:v.phone2,onChange:X=>f(O=>({...O,phone2:X.target.value})),style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"CEP"}),g.jsx("input",{type:"text",value:v.cep,onChange:X=>f(O=>({...O,cep:X.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Endereco"}),g.jsx("input",{type:"text",value:v.address,onChange:X=>f(O=>({...O,address:X.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Numero"}),g.jsx("input",{type:"text",value:v.address_number,onChange:X=>f(O=>({...O,address_number:X.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Casa ou apartamento"}),g.jsxs("select",{value:v.address_type,onChange:X=>f(O=>({...O,address_type:X.target.value})),style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",background:"white"},children:[g.jsx("option",{value:"Casa",children:"Casa"}),g.jsx("option",{value:"Apartamento",children:"Apartamento"})]})]}),g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Municipio"}),g.jsx("input",{type:"text",value:v.municipio,onChange:X=>f(O=>({...O,municipio:X.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Estado"}),g.jsx("input",{type:"text",value:v.estado,onChange:X=>f(O=>({...O,estado:X.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Referencia"}),g.jsx("input",{type:"text",value:v.reference,onChange:X=>f(O=>({...O,reference:X.target.value})),style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]})]}),g.jsx("button",{type:"submit",className:"btn btn-primary",disabled:E,children:E?"Salvando...":"Salvar dados"})]})]})}):g.jsx("div",{style:{display:"flex",minHeight:"calc(100vh - 80px)",alignItems:"center",justifyContent:"center"},children:g.jsxs("div",{className:"glass-card fade-in",style:{padding:"2.5rem",width:"100%",maxWidth:"640px"},children:[g.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[g.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #009c3b, #007a2d)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(0, 156, 59, 0.3)"},children:g.jsx(O0,{size:40,color:"white"})}),g.jsx("h2",{style:{fontSize:"1.75rem",color:"var(--color-primary)",marginBottom:"0.5rem"},children:"Area do Cliente"}),g.jsx("p",{style:{color:"var(--color-text-muted)"},children:"Entre ou crie seu cadastro para finalizar pedidos."})]}),g.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem"},children:[g.jsx("button",{type:"button",className:`btn ${i==="login"?"btn-primary":"btn-outline"}`,style:{flex:1},onClick:()=>s("login"),children:"Entrar"}),g.jsx("button",{type:"button",className:`btn ${i==="register"?"btn-primary":"btn-outline"}`,style:{flex:1},onClick:()=>s("register"),children:"Cadastro"})]}),A&&g.jsx("div",{style:{padding:"1rem",background:"#fee2e2",color:"#991b1b",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.9rem"},children:A}),S&&g.jsx("div",{style:{padding:"1rem",background:"#dcfce7",color:"#166534",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.9rem"},children:S}),i==="login"?g.jsxs("form",{onSubmit:ee,style:{display:"grid",gap:"1rem"},children:[g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Email ou CPF/CNPJ"}),g.jsx("input",{type:"text",value:a,onChange:X=>o(X.target.value),required:!0,style:{width:"100%",padding:"0.875rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",fontSize:"1rem"},placeholder:"email@exemplo.com ou CPF"})]}),g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Senha (6 numeros)"}),g.jsx("input",{type:"password",value:l,onChange:X=>u(X.target.value),required:!0,style:{width:"100%",padding:"0.875rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",fontSize:"1rem"},placeholder:"******"})]}),g.jsx("button",{type:"submit",className:"btn btn-primary",style:{marginTop:"0.5rem"},children:"Entrar"}),g.jsx("div",{style:{textAlign:"center"},children:g.jsx(yr,{to:"/cliente/forgot-password",style:{color:"var(--color-primary)",fontSize:"0.9rem",textDecoration:"underline"},children:"Esqueci minha senha"})})]}):g.jsxs("form",{onSubmit:B,style:{display:"grid",gap:"1rem"},children:[g.jsxs("div",{style:{display:"grid",gap:"1rem",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:[g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Nome"}),g.jsx("input",{type:"text",value:h.name,onChange:X=>p(O=>({...O,name:X.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Email"}),g.jsx("input",{type:"email",value:h.email,onChange:X=>p(O=>({...O,email:X.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"CPF/CNPJ"}),g.jsx("input",{type:"text",value:h.cpf_cnpj,onChange:X=>p(O=>({...O,cpf_cnpj:X.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Telefone 1"}),g.jsx("input",{type:"text",value:h.phone1,onChange:X=>p(O=>({...O,phone1:X.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Telefone 2"}),g.jsx("input",{type:"text",value:h.phone2,onChange:X=>p(O=>({...O,phone2:X.target.value})),style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"CEP"}),g.jsx("input",{type:"text",value:h.cep,onChange:X=>p(O=>({...O,cep:X.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Endereco"}),g.jsx("input",{type:"text",value:h.address,onChange:X=>p(O=>({...O,address:X.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Numero"}),g.jsx("input",{type:"text",value:h.address_number,onChange:X=>p(O=>({...O,address_number:X.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Casa ou apartamento"}),g.jsxs("select",{value:h.address_type,onChange:X=>p(O=>({...O,address_type:X.target.value})),style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",background:"white"},children:[g.jsx("option",{value:"Casa",children:"Casa"}),g.jsx("option",{value:"Apartamento",children:"Apartamento"})]})]}),g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Municipio"}),g.jsx("input",{type:"text",value:h.municipio,onChange:X=>p(O=>({...O,municipio:X.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Estado"}),g.jsx("input",{type:"text",value:h.estado,onChange:X=>p(O=>({...O,estado:X.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Referencia"}),g.jsx("input",{type:"text",value:h.reference,onChange:X=>p(O=>({...O,reference:X.target.value})),style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]})]}),g.jsxs("div",{style:{display:"grid",gap:"1rem",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))"},children:[g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Senha (6 numeros)"}),g.jsx("input",{type:"password",value:h.password,onChange:X=>p(O=>({...O,password:X.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]}),g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Confirmar senha"}),g.jsx("input",{type:"password",value:h.confirmPassword,onChange:X=>p(O=>({...O,confirmPassword:X.target.value})),required:!0,style:{width:"100%",padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)"}})]})]}),g.jsx("button",{type:"submit",className:"btn btn-primary",disabled:E,children:E?"Salvando...":"Criar cadastro"})]})]})})},ej=()=>{const[t,e]=he.useState(""),[r,n]=he.useState(!1),[i,s]=he.useState(!1),[a,o]=he.useState(""),l="/Antigravit_testes/",u=async h=>{h.preventDefault(),n(!0),o("");try{const{error:p}=await st.auth.resetPasswordForEmail(t,{redirectTo:`${window.location.origin}${l}cliente/reset-password`});if(p)throw p;s(!0)}catch(p){console.error("Erro ao enviar email:",p),o(p.message||"Erro ao enviar email de recuperacao.")}finally{n(!1)}};return i?g.jsx("div",{style:{display:"flex",minHeight:"calc(100vh - 80px)",alignItems:"center",justifyContent:"center"},children:g.jsxs("div",{className:"glass-card fade-in",style:{padding:"2.5rem",width:"100%",maxWidth:"420px",textAlign:"center"},children:[g.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #10b981, #059669)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(16, 185, 129, 0.3)"},children:g.jsx(oc,{size:40,color:"white"})}),g.jsx("h2",{style:{fontSize:"1.75rem",color:"var(--color-primary)",marginBottom:"0.75rem"},children:"Email Enviado!"}),g.jsxs("p",{style:{color:"var(--color-text-muted)",marginBottom:"2rem",lineHeight:"1.6"},children:["Verifique sua caixa de entrada em ",g.jsx("strong",{children:t})," e siga as instrucoes para redefinir sua senha."]}),g.jsx(yr,{to:"/cliente",className:"btn btn-primary",style:{width:"100%"},children:"Voltar ao Login"})]})}):g.jsx("div",{style:{display:"flex",minHeight:"calc(100vh - 80px)",alignItems:"center",justifyContent:"center"},children:g.jsxs("div",{className:"glass-card fade-in",style:{padding:"2.5rem",width:"100%",maxWidth:"420px"},children:[g.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[g.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #3b82f6, #2563eb)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(59, 130, 246, 0.3)"},children:g.jsx(gd,{size:40,color:"white"})}),g.jsx("h2",{style:{fontSize:"1.75rem",color:"var(--color-primary)",marginBottom:"0.5rem"},children:"Esqueceu a senha?"}),g.jsx("p",{style:{color:"var(--color-text-muted)"},children:"Enviaremos instrucoes para redefinir sua senha"})]}),a&&g.jsx("div",{style:{padding:"1rem",background:"#fee2e2",color:"#991b1b",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.9rem"},children:a}),g.jsxs("form",{onSubmit:u,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Email"}),g.jsx("input",{type:"email",value:t,onChange:h=>e(h.target.value),required:!0,style:{width:"100%",padding:"0.875rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",fontSize:"1rem"},placeholder:"seu@email.com"})]}),g.jsx("button",{type:"submit",className:"btn btn-primary",disabled:r,style:{marginTop:"1rem",padding:"1rem",fontSize:"1rem"},children:r?g.jsxs(g.Fragment,{children:[g.jsx(ys,{size:20,style:{animation:"spin 1s linear infinite"}}),"Enviando..."]}):g.jsxs(g.Fragment,{children:[g.jsx(gd,{size:20}),"Enviar Link"]})})]}),g.jsx("div",{style:{marginTop:"1.5rem",textAlign:"center"},children:g.jsxs(yr,{to:"/cliente",style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",color:"var(--color-primary)",fontSize:"0.9rem"},children:[g.jsx(Pw,{size:16}),"Voltar ao Login"]})})]})})},tj=()=>{const t=ac(),[e,r]=he.useState(""),[n,i]=he.useState(""),[s,a]=he.useState(!1),[o,l]=he.useState(!1),[u,h]=he.useState(""),p=f=>/^\d{6}$/.test(f),v=async f=>{if(f.preventDefault(),h(""),e!==n){h("As senhas nao coincidem.");return}if(!p(e)){h("A senha deve ter exatamente 6 numeros.");return}a(!0);try{const{error:_}=await st.auth.updateUser({password:e});if(_)throw _;l(!0),setTimeout(()=>{t("/cliente")},2e3)}catch(_){console.error("Erro ao redefinir senha:",_),h(_.message||"Erro ao redefinir senha.")}finally{a(!1)}};return o?g.jsx("div",{style:{display:"flex",minHeight:"calc(100vh - 80px)",alignItems:"center",justifyContent:"center"},children:g.jsxs("div",{className:"glass-card fade-in",style:{padding:"2.5rem",width:"100%",maxWidth:"420px",textAlign:"center"},children:[g.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #10b981, #059669)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(16, 185, 129, 0.3)"},children:g.jsx(oc,{size:40,color:"white"})}),g.jsx("h2",{style:{fontSize:"1.75rem",color:"var(--color-primary)",marginBottom:"0.75rem"},children:"Senha Atualizada!"}),g.jsx("p",{style:{color:"var(--color-text-muted)",lineHeight:"1.6"},children:"Sua senha foi redefinida. Redirecionando para o login..."})]})}):g.jsx("div",{style:{display:"flex",minHeight:"calc(100vh - 80px)",alignItems:"center",justifyContent:"center"},children:g.jsxs("div",{className:"glass-card fade-in",style:{padding:"2.5rem",width:"100%",maxWidth:"420px"},children:[g.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[g.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #009c3b, #007a2d)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1.5rem",boxShadow:"0 8px 24px rgba(0, 156, 59, 0.3)"},children:g.jsx(pd,{size:40,color:"white"})}),g.jsx("h2",{style:{fontSize:"1.75rem",color:"var(--color-primary)",marginBottom:"0.5rem"},children:"Nova Senha"}),g.jsx("p",{style:{color:"var(--color-text-muted)"},children:"Crie uma senha de 6 numeros"})]}),u&&g.jsx("div",{style:{padding:"1rem",background:"#fee2e2",color:"#991b1b",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.9rem"},children:u}),g.jsxs("form",{onSubmit:v,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Nova senha"}),g.jsx("input",{type:"password",value:e,onChange:f=>r(f.target.value),required:!0,style:{width:"100%",padding:"0.875rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",fontSize:"1rem"},placeholder:"******"})]}),g.jsxs("div",{children:[g.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontSize:"0.875rem",fontWeight:"600"},children:"Confirmar senha"}),g.jsx("input",{type:"password",value:n,onChange:f=>i(f.target.value),required:!0,style:{width:"100%",padding:"0.875rem",borderRadius:"0.5rem",border:"1px solid var(--color-border)",fontSize:"1rem"},placeholder:"******"})]}),g.jsx("button",{type:"submit",className:"btn btn-primary",disabled:s,style:{marginTop:"1rem",padding:"1rem",fontSize:"1rem"},children:s?g.jsxs(g.Fragment,{children:[g.jsx(ys,{size:20,style:{animation:"spin 1s linear infinite"}}),"Atualizando..."]}):g.jsxs(g.Fragment,{children:[g.jsx(pd,{size:20}),"Redefinir Senha"]})})]})]})})},rj=({cartItems:t,setCartItems:e})=>{const[r,n]=he.useState(null),[i,s]=he.useState(null),[a,o]=he.useState(!0),[l,u]=he.useState(""),[h,p]=he.useState(""),[v,f]=he.useState(!1),_=ac(),x=V=>Number(V.promoPercent??V.promo_percent??0),A=(V,z)=>{const D=x(z);return!D||D<=0?V:V*(1-D/100)},w=V=>{let z;return V.priceType==="wholesale"?z=V.wholesalePrice:V.priceType==="retail"?z=V.price:z=V.quantity>=10?V.wholesalePrice:V.price,A(z,V)},S=V=>V.priceType==="wholesale"?"Atacado":V.priceType==="retail"?"Varejo":V.quantity>=10?"Atacado":"Varejo",E=t.reduce((V,z)=>{const D=w(z);return V+D*z.quantity},0),F=V=>{const z=[...t];z.splice(V,1),e(z)};he.useEffect(()=>{st.auth.getSession().then(({data:{session:z}})=>{n(z),o(!1)});const{data:{subscription:V}}=st.auth.onAuthStateChange((z,D)=>{n(D)});return()=>V.unsubscribe()},[]),he.useEffect(()=>{if(!r){s(null);return}(async()=>{const{data:z,error:D}=await st.from("customers").select("id").eq("user_id",r.user.id).single();if(D&&D.code!=="PGRST116"){console.error("Erro ao buscar perfil:",D);return}s(z||null)})()},[r]);const J=async()=>{if(u(""),p(""),!r){u("Faa login para finalizar a compra.");return}if(!i){u("Complete seu cadastro antes de finalizar a compra.");return}if(t.length!==0){f(!0);try{console.log("Validando estoque...");const V=t.map(G=>G.id),{data:z,error:D}=await st.from("medicines").select("id, name, stock").in("id",V);if(D)throw D;for(const G of t){const ce=z.find(de=>de.id===G.id);if(!ce)throw new Error(`Produto no encontrado: ${G.name}`);if(ce.stock<G.quantity)throw new Error(`Estoque insuficiente para ${G.name}. Disponvel: ${ce.stock}`)}const{data:ee,error:T}=await st.from("orders").insert([{user_id:r.user.id,total:E,status:"pending"}]).select("id").single();if(T)throw T;const B=t.map(G=>({order_id:ee.id,medicine_id:G.id,quantity:G.quantity,unit_price:w(G)})),{error:Y}=await st.from("order_items").insert(B);if(Y)throw Y;console.log("Deduzindo do estoque...");for(const G of t){const de=z.find(O=>O.id===G.id).stock-G.quantity,{error:X}=await st.from("medicines").update({stock:de}).eq("id",G.id);X&&console.error(`Erro ao atualizar estoque de ${G.name}:`,X)}try{const{error:G}=await st.functions.invoke("send-order-email",{body:{order_id:ee.id}});G?(console.warn("Erro ao enviar email do pedido:",G),p("Pedido registrado! O email de confirmacao sera enviado em instantes.")):p("Pedido registrado! Enviamos a confirmacao para seu email.")}catch(G){console.warn("Falha ao chamar funcao de email:",G),p("Pedido registrado! O email de confirmacao sera enviado em instantes.")}e([]),p("Pedido confirmado! Redirecionando para o catlogo..."),setTimeout(()=>{_("/catalog",{replace:!0})},500)}catch(V){console.error("Erro ao finalizar compra:",V),u(V.message||"Erro ao finalizar a compra.")}finally{f(!1)}}};return g.jsxs("div",{className:"container",style:{marginTop:"2rem"},children:[g.jsx("h1",{style:{marginBottom:"2rem",fontSize:"2rem",color:"var(--color-primary-dark)"},children:"Seu Carrinho"}),g.jsxs("div",{style:{display:"flex",gap:"2rem",flexWrap:"wrap"},children:[g.jsx("div",{style:{flex:2,minWidth:"300px"},children:t.length===0?g.jsx("div",{className:"glass-card",style:{padding:"3rem",textAlign:"center",color:"var(--color-text-muted)"},children:g.jsx("p",{children:"Seu carrinho est vazio."})}):g.jsx("div",{className:"glass-card",style:{padding:"1.5rem"},children:t.map((V,z)=>{const D=w(V),ee=S(V),T=x(V);return g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"1rem",borderBottom:z<t.length-1?"1px solid var(--color-border)":"none"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[g.jsx("img",{src:V.image,alt:V.name,style:{width:"60px",height:"60px",objectFit:"cover",borderRadius:"0.5rem"}}),g.jsxs("div",{children:[g.jsx("h3",{style:{fontSize:"1.1rem"},children:V.name}),g.jsx("p",{style:{color:"var(--color-text-muted)",fontSize:"0.9rem"},children:V.dosage}),T>0&&g.jsxs("span",{style:{fontSize:"0.75rem",color:"#f59e0b",fontWeight:"bold"},children:["Promoo -",T,"%"]}),ee==="Atacado"&&g.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-primary)",fontWeight:"bold"},children:"Preo de Atacado aplicado!"}),ee==="Varejo"&&g.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)"},children:"Preo de Varejo"})]})]}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1.5rem"},children:[g.jsxs("div",{style:{textAlign:"right"},children:[g.jsxs("div",{style:{fontWeight:"bold"},children:["R$ ",D.toFixed(2)]}),g.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--color-text-muted)"},children:["x ",V.quantity," un."]})]}),g.jsx("button",{onClick:()=>F(z),style:{background:"none",border:"none",color:"#dc2626",cursor:"pointer"},children:g.jsx(LS,{size:20})})]})]},z)})})}),g.jsx("div",{style:{flex:1,minWidth:"250px"},children:g.jsxs("div",{className:"glass-card",style:{padding:"1.5rem",position:"sticky",top:"6rem"},children:[g.jsx("h3",{style:{fontSize:"1.25rem",marginBottom:"1.5rem"},children:"Resumo do Pedido"}),!a&&!r&&g.jsxs("div",{style:{padding:"0.75rem 1rem",background:"#fff7ed",border:"1px solid #fed7aa",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.85rem"},children:["Para finalizar, faca login na ",g.jsx(yr,{to:"/cliente",style:{color:"var(--color-primary)",textDecoration:"underline"},children:"Area do Cliente"}),"."]}),!a&&r&&!i&&g.jsxs("div",{style:{padding:"0.75rem 1rem",background:"#fef9c3",border:"1px solid #fde68a",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.85rem"},children:["Complete seu cadastro na ",g.jsx(yr,{to:"/cliente",style:{color:"var(--color-primary)",textDecoration:"underline"},children:"Area do Cliente"})," para finalizar."]}),l&&g.jsx("div",{style:{padding:"0.75rem 1rem",background:"#fee2e2",color:"#991b1b",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.85rem"},children:l}),h&&g.jsx("div",{style:{padding:"0.75rem 1rem",background:"#dcfce7",color:"#166534",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.85rem"},children:h}),g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",color:"var(--color-text-muted)"},children:[g.jsx("span",{children:"Subtotal"}),g.jsxs("span",{children:["R$ ",E.toFixed(2)]})]}),g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1.5rem",color:"var(--color-text-muted)"},children:[g.jsx("span",{children:"Frete"}),g.jsx("span",{children:"Grtis"})]}),g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1.5rem",fontSize:"1.25rem",fontWeight:"bold"},children:[g.jsx("span",{children:"Total"}),g.jsxs("span",{children:["R$ ",E.toFixed(2)]})]}),g.jsx("button",{onClick:J,disabled:t.length===0||!r||!i||v,className:"btn btn-primary",style:{width:"100%",opacity:t.length===0||!r||!i||v?.5:1},children:v?"Finalizando...":g.jsxs(g.Fragment,{children:["Finalizar Compra ",g.jsx(Tw,{size:20})]})})]})})]})]})};function nj(){const[t,e]=he.useState([]),r=(n,i=1,s="retail")=>{const a=s==="wholesale"?"wholesale":"retail",o=t.findIndex(l=>l.id===n.id&&l.priceType===a);if(o>-1){const l=[...t];l[o].quantity+=i,e(l),alert(`Quantidade atualizada: ${l[o].quantity} un. de ${n.name} (${a==="wholesale"?"atacado":"varejo"})`)}else e([...t,{...n,quantity:i,priceType:a}]),alert(`${i}x ${n.name} adicionado ao carrinho (${a==="wholesale"?"atacado":"varejo"})!`)};return g.jsx(gS,{basename:"/Antigravit_testes/",children:g.jsxs("div",{style:{minHeight:"100vh",paddingBottom:"2rem"},children:[g.jsx(p8,{cartCount:t.length}),g.jsxs(lS,{children:[g.jsx(Ui,{path:"/",element:g.jsx(g8,{})}),g.jsx(Ui,{path:"/catalog",element:g.jsx(v8,{addToCart:r})}),g.jsx(Ui,{path:"/cart",element:g.jsx(rj,{cartItems:t,setCartItems:e})}),g.jsx(Ui,{path:"/admin",element:g.jsx(Y7,{})}),g.jsx(Ui,{path:"/admin/forgot-password",element:g.jsx(X7,{})}),g.jsx(Ui,{path:"/admin/reset-password",element:g.jsx(Q7,{})}),g.jsx(Ui,{path:"/cliente",element:g.jsx(Z7,{})}),g.jsx(Ui,{path:"/cliente/forgot-password",element:g.jsx(ej,{})}),g.jsx(Ui,{path:"/cliente/reset-password",element:g.jsx(tj,{})})]})]})})}Mp.createRoot(document.getElementById("root")).render(g.jsx(v5.StrictMode,{children:g.jsx(nj,{})}));export{Bt as _,sj as c,$x as g};
